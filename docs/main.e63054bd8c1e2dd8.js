(self.webpackChunkresume=self.webpackChunkresume||[]).push([[792],{76:(Ns,zn,at)=>{"use strict";at.d(zn,{Am:()=>an,Bd:()=>pe,FA:()=>At,Fy:()=>on,I9:()=>tr,Im:()=>To,Ku:()=>Ki,Ll:()=>rt,T9:()=>dn,Uj:()=>Xt,XA:()=>Bt,ZQ:()=>Ke,bD:()=>dr,c1:()=>cr,cY:()=>zt,eX:()=>le,g:()=>Ne,gR:()=>kr,hp:()=>Vr,jZ:()=>jt,lT:()=>Hi,lV:()=>zi,mS:()=>kt,nr:()=>ne,p7:()=>qn,sr:()=>Or,tD:()=>Vn,u:()=>x,yU:()=>Hn,zW:()=>he,zw:()=>$e});const ie=function(F){const O=[];let $=0;for(let ce=0;ce<F.length;ce++){let H=F.charCodeAt(ce);H<128?O[$++]=H:H<2048?(O[$++]=H>>6|192,O[$++]=63&H|128):55296==(64512&H)&&ce+1<F.length&&56320==(64512&F.charCodeAt(ce+1))?(H=65536+((1023&H)<<10)+(1023&F.charCodeAt(++ce)),O[$++]=H>>18|240,O[$++]=H>>12&63|128,O[$++]=H>>6&63|128,O[$++]=63&H|128):(O[$++]=H>>12|224,O[$++]=H>>6&63|128,O[$++]=63&H|128)}return O},sn={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(F,O){if(!Array.isArray(F))throw Error("encodeByteArray takes an array as a parameter");this.init_();const $=O?this.byteToCharMapWebSafe_:this.byteToCharMap_,ce=[];for(let H=0;H<F.length;H+=3){const Se=F[H],Je=H+1<F.length,je=Je?F[H+1]:0,ft=H+2<F.length,vn=ft?F[H+2]:0;let Ar=(15&je)<<2|vn>>6,ps=63&vn;ft||(ps=64,Je||(Ar=64)),ce.push($[Se>>2],$[(3&Se)<<4|je>>4],$[Ar],$[ps])}return ce.join("")},encodeString(F,O){return this.HAS_NATIVE_SUPPORT&&!O?btoa(F):this.encodeByteArray(ie(F),O)},decodeString(F,O){return this.HAS_NATIVE_SUPPORT&&!O?atob(F):function(F){const O=[];let $=0,ce=0;for(;$<F.length;){const H=F[$++];if(H<128)O[ce++]=String.fromCharCode(H);else if(H>191&&H<224){const Se=F[$++];O[ce++]=String.fromCharCode((31&H)<<6|63&Se)}else if(H>239&&H<365){const ft=((7&H)<<18|(63&F[$++])<<12|(63&F[$++])<<6|63&F[$++])-65536;O[ce++]=String.fromCharCode(55296+(ft>>10)),O[ce++]=String.fromCharCode(56320+(1023&ft))}else{const Se=F[$++],Je=F[$++];O[ce++]=String.fromCharCode((15&H)<<12|(63&Se)<<6|63&Je)}}return O.join("")}(this.decodeStringToByteArray(F,O))},decodeStringToByteArray(F,O){this.init_();const $=O?this.charToByteMapWebSafe_:this.charToByteMap_,ce=[];for(let H=0;H<F.length;){const Se=$[F.charAt(H++)],je=H<F.length?$[F.charAt(H)]:0;++H;const vn=H<F.length?$[F.charAt(H)]:64;++H;const Ct=H<F.length?$[F.charAt(H)]:64;if(++H,null==Se||null==je||null==vn||null==Ct)throw new Ge;ce.push(Se<<2|je>>4),64!==vn&&(ce.push(je<<4&240|vn>>2),64!==Ct&&ce.push(vn<<6&192|Ct))}return ce},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let F=0;F<this.ENCODED_VALS.length;F++)this.byteToCharMap_[F]=this.ENCODED_VALS.charAt(F),this.charToByteMap_[this.byteToCharMap_[F]]=F,this.byteToCharMapWebSafe_[F]=this.ENCODED_VALS_WEBSAFE.charAt(F),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[F]]=F,F>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(F)]=F,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(F)]=F)}}};class Ge extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Xt=function(F){return function(F){const O=ie(F);return sn.encodeByteArray(O,!0)}(F).replace(/\./g,"")},x=function(F){try{return sn.decodeString(F,!0)}catch(O){console.error("base64Decode failed: ",O)}return null};function $e(F,O){if(!(O instanceof Object))return O;switch(O.constructor){case Date:return new Date(O.getTime());case Object:void 0===F&&(F={});break;case Array:F=[];break;default:return O}for(const $ in O)!O.hasOwnProperty($)||!bt($)||(F[$]=$e(F[$],O[$]));return F}function bt(F){return"__proto__"!==F}function kt(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const Dt=()=>{try{return kt().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const F=process.env.__FIREBASE_DEFAULTS__;return F?JSON.parse(F):void 0})()||(()=>{if(typeof document>"u")return;let F;try{F=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const O=F&&x(F[1]);return O&&JSON.parse(O)})()}catch(F){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${F}`)}},Hn=F=>{const O=(F=>{var O,$;return null===($=null===(O=Dt())||void 0===O?void 0:O.emulatorHosts)||void 0===$?void 0:$[F]})(F);if(!O)return;const $=O.lastIndexOf(":");if($<=0||$+1===O.length)throw new Error(`Invalid host ${O} with no separate hostname and port!`);const ce=parseInt(O.substring($+1),10);return"["===O[0]?[O.substring(1,$-1),ce]:[O.substring(0,$),ce]},dn=()=>{var F;return null===(F=Dt())||void 0===F?void 0:F.config},Bt=F=>{var O;return null===(O=Dt())||void 0===O?void 0:O[`_${F}`]};class zt{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((O,$)=>{this.resolve=O,this.reject=$})}wrapCallback(O){return($,ce)=>{$?this.reject($):this.resolve(ce),"function"==typeof O&&(this.promise.catch(()=>{}),1===O.length?O($):O($,ce))}}}function on(F,O){if(F.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const ce=O||"demo-project",H=F.iat||0,Se=F.sub||F.user_id;if(!Se)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const Je=Object.assign({iss:`https://securetoken.google.com/${ce}`,aud:ce,iat:H,exp:H+3600,auth_time:H,sub:Se,user_id:Se,firebase:{sign_in_provider:"custom",identities:{}}},F);return[Xt(JSON.stringify({alg:"none",type:"JWT"})),Xt(JSON.stringify(Je)),""].join(".")}function Ke(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function jt(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Ke())}function rt(){var F;const O=null===(F=Dt())||void 0===F?void 0:F.forceEnvironment;if("node"===O)return!0;if("browser"===O)return!1;try{return"[object process]"===Object.prototype.toString.call(global.process)}catch{return!1}}function pe(){return typeof window<"u"||qn()}function qn(){return typeof WorkerGlobalScope<"u"&&typeof self<"u"&&self instanceof WorkerGlobalScope}function cr(){return typeof navigator<"u"&&"Cloudflare-Workers"===navigator.userAgent}function Or(){const F="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof F&&void 0!==F.id}function zi(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function Hi(){const F=Ke();return F.indexOf("MSIE ")>=0||F.indexOf("Trident/")>=0}function ne(){return!rt()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function he(){try{return"object"==typeof indexedDB}catch{return!1}}function le(){return new Promise((F,O)=>{try{let $=!0;const ce="validate-browser-context-for-indexeddb-analytics-module",H=self.indexedDB.open(ce);H.onsuccess=()=>{H.result.close(),$||self.indexedDB.deleteDatabase(ce),F(!0)},H.onupgradeneeded=()=>{$=!1},H.onerror=()=>{var Se;O((null===(Se=H.error)||void 0===Se?void 0:Se.message)||"")}}catch($){O($)}})}class Ne extends Error{constructor(O,$,ce){super($),this.code=O,this.customData=ce,this.name="FirebaseError",Object.setPrototypeOf(this,Ne.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,At.prototype.create)}}class At{constructor(O,$,ce){this.service=O,this.serviceName=$,this.errors=ce}create(O,...$){const ce=$[0]||{},H=`${this.service}/${O}`,Se=this.errors[O],Je=Se?function gr(F,O){return F.replace(tt,($,ce)=>{const H=O[ce];return null!=H?String(H):`<${ce}?>`})}(Se,ce):"Error";return new Ne(H,`${this.serviceName}: ${Je} (${H}).`,ce)}}const tt=/\{\$([^}]+)}/g;function kr(F,O){return Object.prototype.hasOwnProperty.call(F,O)}function To(F){for(const O in F)if(Object.prototype.hasOwnProperty.call(F,O))return!1;return!0}function dr(F,O){if(F===O)return!0;const $=Object.keys(F),ce=Object.keys(O);for(const H of $){if(!ce.includes(H))return!1;const Se=F[H],Je=O[H];if(Fr(Se)&&Fr(Je)){if(!dr(Se,Je))return!1}else if(Se!==Je)return!1}for(const H of ce)if(!$.includes(H))return!1;return!0}function Fr(F){return null!==F&&"object"==typeof F}function an(F){const O=[];for(const[$,ce]of Object.entries(F))Array.isArray(ce)?ce.forEach(H=>{O.push(encodeURIComponent($)+"="+encodeURIComponent(H))}):O.push(encodeURIComponent($)+"="+encodeURIComponent(ce));return O.length?"&"+O.join("&"):""}function tr(F){const O={};return F.replace(/^\?/,"").split("&").forEach(ce=>{if(ce){const[H,Se]=ce.split("=");O[decodeURIComponent(H)]=decodeURIComponent(Se)}}),O}function Vr(F){const O=F.indexOf("?");if(!O)return"";const $=F.indexOf("#",O);return F.substring(O,$>0?$:void 0)}function Vn(F,O){const $=new hn(F,O);return $.subscribe.bind($)}class hn{constructor(O,$){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=$,this.task.then(()=>{O(this)}).catch(ce=>{this.error(ce)})}next(O){this.forEachObserver($=>{$.next(O)})}error(O){this.forEachObserver($=>{$.error(O)}),this.close(O)}complete(){this.forEachObserver(O=>{O.complete()}),this.close()}subscribe(O,$,ce){let H;if(void 0===O&&void 0===$&&void 0===ce)throw new Error("Missing Observer.");H=function qi(F,O){if("object"!=typeof F||null===F)return!1;for(const $ of O)if($ in F&&"function"==typeof F[$])return!0;return!1}(O,["next","error","complete"])?O:{next:O,error:$,complete:ce},void 0===H.next&&(H.next=Gi),void 0===H.error&&(H.error=Gi),void 0===H.complete&&(H.complete=Gi);const Se=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?H.error(this.finalError):H.complete()}catch{}}),this.observers.push(H),Se}unsubscribeOne(O){void 0===this.observers||void 0===this.observers[O]||(delete this.observers[O],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(O){if(!this.finalized)for(let $=0;$<this.observers.length;$++)this.sendOne($,O)}sendOne(O,$){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[O])try{$(this.observers[O])}catch(ce){typeof console<"u"&&console.error&&console.error(ce)}})}close(O){this.finalized||(this.finalized=!0,void 0!==O&&(this.finalError=O),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Gi(){}function Ki(F){return F&&F._delegate?F._delegate:F}},576:(Ns,zn,at)=>{"use strict";var T=at(467);let Re=null,Le=1;const sn=Symbol("SIGNAL");function Ge(n){const e=Re;return Re=n,e}function kt(n){if((!on(n)||n.dirty)&&(n.dirty||n.lastCleanEpoch!==Le)){if(!n.producerMustRecompute(n)&&!Hn(n))return n.dirty=!1,void(n.lastCleanEpoch=Le);n.producerRecomputeValue(n),n.dirty=!1,n.lastCleanEpoch=Le}}function Hn(n){Ke(n);for(let e=0;e<n.producerNode.length;e++){const t=n.producerNode[e],r=n.producerLastReadVersion[e];if(r!==t.version||(kt(t),r!==t.version))return!0}return!1}function zt(n,e){if(function jt(n){n.liveConsumerNode??=[],n.liveConsumerIndexOfThis??=[]}(n),Ke(n),1===n.liveConsumerNode.length)for(let r=0;r<n.producerNode.length;r++)zt(n.producerNode[r],n.producerIndexOfThis[r]);const t=n.liveConsumerNode.length-1;if(n.liveConsumerNode[e]=n.liveConsumerNode[t],n.liveConsumerIndexOfThis[e]=n.liveConsumerIndexOfThis[t],n.liveConsumerNode.length--,n.liveConsumerIndexOfThis.length--,e<n.liveConsumerNode.length){const r=n.liveConsumerIndexOfThis[e],i=n.liveConsumerNode[e];Ke(i),i.producerIndexOfThis[r]=e}}function on(n){return n.consumerIsAlwaysLive||(n?.liveConsumerNode?.length??0)>0}function Ke(n){n.producerNode??=[],n.producerIndexOfThis??=[],n.producerLastReadVersion??=[]}let pr=null;function et(n){return"function"==typeof n}function tn(n){const t=n(r=>{Error.call(r),r.stack=(new Error).stack});return t.prototype=Object.create(Error.prototype),t.prototype.constructor=t,t}const Rn=tn(n=>function(t){n(this),this.message=t?`${t.length} errors occurred during unsubscription:\n${t.map((r,i)=>`${i+1}) ${r.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=t});function er(n,e){if(n){const t=n.indexOf(e);0<=t&&n.splice(t,1)}}class Tt{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;const{_parentage:t}=this;if(t)if(this._parentage=null,Array.isArray(t))for(const s of t)s.remove(this);else t.remove(this);const{initialTeardown:r}=this;if(et(r))try{r()}catch(s){e=s instanceof Rn?s.errors:[s]}const{_finalizers:i}=this;if(i){this._finalizers=null;for(const s of i)try{To(s)}catch(o){e=e??[],o instanceof Rn?e=[...e,...o.errors]:e.push(o)}}if(e)throw new Rn(e)}}add(e){var t;if(e&&e!==this)if(this.closed)To(e);else{if(e instanceof Tt){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=null!==(t=this._finalizers)&&void 0!==t?t:[]).push(e)}}_hasParent(e){const{_parentage:t}=this;return t===e||Array.isArray(t)&&t.includes(e)}_addParent(e){const{_parentage:t}=this;this._parentage=Array.isArray(t)?(t.push(e),t):t?[t,e]:e}_removeParent(e){const{_parentage:t}=this;t===e?this._parentage=null:Array.isArray(t)&&er(t,e)}remove(e){const{_finalizers:t}=this;t&&er(t,e),e instanceof Tt&&e._removeParent(this)}}Tt.EMPTY=(()=>{const n=new Tt;return n.closed=!0,n})();const kr=Tt.EMPTY;function Ao(n){return n instanceof Tt||n&&"closed"in n&&et(n.remove)&&et(n.add)&&et(n.unsubscribe)}function To(n){et(n)?n():n.unsubscribe()}const wt={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},dr={setTimeout(n,e,...t){const{delegate:r}=dr;return r?.setTimeout?r.setTimeout(n,e,...t):setTimeout(n,e,...t)},clearTimeout(n){const{delegate:e}=dr;return(e?.clearTimeout||clearTimeout)(n)},delegate:void 0};function Fr(n){dr.setTimeout(()=>{const{onUnhandledError:e}=wt;if(!e)throw n;e(n)})}function Si(){}const an=pi("C",void 0,void 0);function pi(n,e,t){return{kind:n,value:e,error:t}}let Vn=null;function hn(n){if(wt.useDeprecatedSynchronousErrorHandling){const e=!Vn;if(e&&(Vn={errorThrown:!1,error:null}),n(),e){const{errorThrown:t,error:r}=Vn;if(Vn=null,t)throw r}}else n()}class qi extends Tt{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,Ao(e)&&e.add(this)):this.destination=ka}static create(e,t,r){return new fs(e,t,r)}next(e){this.isStopped?Pn(function Vr(n){return pi("N",n,void 0)}(e),this):this._next(e)}error(e){this.isStopped?Pn(function tr(n){return pi("E",void 0,n)}(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?Pn(an,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const Gi=Function.prototype.bind;function hs(n,e){return Gi.call(n,e)}class Wi{constructor(e){this.partialObserver=e}next(e){const{partialObserver:t}=this;if(t.next)try{t.next(e)}catch(r){Kr(r)}}error(e){const{partialObserver:t}=this;if(t.error)try{t.error(e)}catch(r){Kr(r)}else Kr(e)}complete(){const{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(t){Kr(t)}}}class fs extends qi{constructor(e,t,r){let i;if(super(),et(e)||!e)i={next:e??void 0,error:t??void 0,complete:r??void 0};else{let s;this&&wt.useDeprecatedNextContext?(s=Object.create(e),s.unsubscribe=()=>this.unsubscribe(),i={next:e.next&&hs(e.next,s),error:e.error&&hs(e.error,s),complete:e.complete&&hs(e.complete,s)}):i=e}this.destination=new Wi(i)}}function Kr(n){wt.useDeprecatedSynchronousErrorHandling?function cc(n){wt.useDeprecatedSynchronousErrorHandling&&Vn&&(Vn.errorThrown=!0,Vn.error=n)}(n):Fr(n)}function Pn(n,e){const{onStoppedNotification:t}=wt;t&&dr.setTimeout(()=>t(n,e))}const ka={closed:!0,next:Si,error:function Ho(n){throw n},complete:Si},Zs="function"==typeof Symbol&&Symbol.observable||"@@observable";function Lr(n){return n}function qo(n){return 0===n.length?Lr:1===n.length?n[0]:function(t){return n.reduce((r,i)=>i(r),t)}}let Ht=(()=>{class n{constructor(t){t&&(this._subscribe=t)}lift(t){const r=new n;return r.source=this,r.operator=t,r}subscribe(t,r,i){const s=function gi(n){return n&&n instanceof qi||function Go(n){return n&&et(n.next)&&et(n.error)&&et(n.complete)}(n)&&Ao(n)}(t)?t:new fs(t,r,i);return hn(()=>{const{operator:o,source:a}=this;s.add(o?o.call(s,a):a?this._subscribe(s):this._trySubscribe(s))}),s}_trySubscribe(t){try{return this._subscribe(t)}catch(r){t.error(r)}}forEach(t,r){return new(r=Fa(r))((i,s)=>{const o=new fs({next:a=>{try{t(a)}catch(l){s(l),o.unsubscribe()}},error:s,complete:i});this.subscribe(o)})}_subscribe(t){var r;return null===(r=this.source)||void 0===r?void 0:r.subscribe(t)}[Zs](){return this}pipe(...t){return qo(t)(this)}toPromise(t){return new(t=Fa(t))((r,i)=>{let s;this.subscribe(o=>s=o,o=>i(o),()=>r(s))})}}return n.create=e=>new n(e),n})();function Fa(n){var e;return null!==(e=n??wt.Promise)&&void 0!==e?e:Promise}const Ki=tn(n=>function(){n(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});let F=(()=>{class n extends Ht{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(t){const r=new O(this,this);return r.operator=t,r}_throwIfClosed(){if(this.closed)throw new Ki}next(t){hn(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const r of this.currentObservers)r.next(t)}})}error(t){hn(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=t;const{observers:r}=this;for(;r.length;)r.shift().error(t)}})}complete(){hn(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:t}=this;for(;t.length;)t.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var t;return(null===(t=this.observers)||void 0===t?void 0:t.length)>0}_trySubscribe(t){return this._throwIfClosed(),super._trySubscribe(t)}_subscribe(t){return this._throwIfClosed(),this._checkFinalizedStatuses(t),this._innerSubscribe(t)}_innerSubscribe(t){const{hasError:r,isStopped:i,observers:s}=this;return r||i?kr:(this.currentObservers=null,s.push(t),new Tt(()=>{this.currentObservers=null,er(s,t)}))}_checkFinalizedStatuses(t){const{hasError:r,thrownError:i,isStopped:s}=this;r?t.error(i):s&&t.complete()}asObservable(){const t=new Ht;return t.source=this,t}}return n.create=(e,t)=>new O(e,t),n})();class O extends F{constructor(e,t){super(),this.destination=e,this.source=t}next(e){var t,r;null===(r=null===(t=this.destination)||void 0===t?void 0:t.next)||void 0===r||r.call(t,e)}error(e){var t,r;null===(r=null===(t=this.destination)||void 0===t?void 0:t.error)||void 0===r||r.call(t,e)}complete(){var e,t;null===(t=null===(e=this.destination)||void 0===e?void 0:e.complete)||void 0===t||t.call(e)}_subscribe(e){var t,r;return null!==(r=null===(t=this.source)||void 0===t?void 0:t.subscribe(e))&&void 0!==r?r:kr}}class $ extends F{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){const t=super._subscribe(e);return!t.closed&&e.next(this._value),t}getValue(){const{hasError:e,thrownError:t,_value:r}=this;if(e)throw t;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}}function ce(n){return et(n?.lift)}function H(n){return e=>{if(ce(e))return e.lift(function(t){try{return n(t,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function Se(n,e,t,r,i){return new Je(n,e,t,r,i)}class Je extends qi{constructor(e,t,r,i,s,o){super(e),this.onFinalize=s,this.shouldUnsubscribe=o,this._next=t?function(a){try{t(a)}catch(l){e.error(l)}}:super._next,this._error=i?function(a){try{i(a)}catch(l){e.error(l)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:t}=this;super.unsubscribe(),!t&&(null===(e=this.onFinalize)||void 0===e||e.call(this))}}}function je(n,e){return H((t,r)=>{let i=0;t.subscribe(Se(r,s=>{r.next(n.call(e,s,i++))}))})}class J extends Error{constructor(e,t){super(function Ct(n,e){return`NG0${Math.abs(n)}${e?": "+e:""}`}(e,t)),this.code=e}}function mi(n){return{toString:n}.toString()}const Gt="__parameters__";function Pe(n,e,t){return mi(()=>{const r=function de(n){return function(...t){if(n){const r=n(...t);for(const i in r)this[i]=r[i]}}}(e);function i(...s){if(this instanceof i)return r.apply(this,s),this;const o=new i(...s);return a.annotation=o,a;function a(l,c,p){const m=l.hasOwnProperty(Gt)?l[Gt]:Object.defineProperty(l,Gt,{value:[]})[Gt];for(;m.length<=p;)m.push(null);return(m[p]=m[p]||[]).push(o),l}}return t&&(i.prototype=Object.create(t.prototype)),i.prototype.ngMetadataName=n,i.annotationCls=i,i})}const Ve=globalThis;function nt(n){for(let e in n)if(n[e]===nt)return e;throw Error("Could not find renamed property on target object.")}function si(n,e){for(const t in e)e.hasOwnProperty(t)&&!n.hasOwnProperty(t)&&(n[t]=e[t])}function wn(n){if("string"==typeof n)return n;if(Array.isArray(n))return"["+n.map(wn).join(", ")+"]";if(null==n)return""+n;if(n.overriddenName)return`${n.overriddenName}`;if(n.name)return`${n.name}`;const e=n.toString();if(null==e)return""+e;const t=e.indexOf("\n");return-1===t?e:e.substring(0,t)}function nn(n,e){return null==n||""===n?null===e?"":e:null==e||""===e?n:n+" "+e}const La=nt({__forward_ref__:nt});function mn(n){return n.__forward_ref__=mn,n.toString=function(){return wn(this())},n}function it(n){return Ul(n)?n():n}function Ul(n){return"function"==typeof n&&n.hasOwnProperty(La)&&n.__forward_ref__===mn}function Ue(n){return{token:n.token,providedIn:n.providedIn||null,factory:n.factory,value:void 0}}function Qr(n){return{providers:n.providers||[],imports:n.imports||[]}}function Jo(n){return jl(n,$l)||jl(n,Zo)}function jl(n,e){return n.hasOwnProperty(e)?n[e]:null}function Qi(n){return n&&(n.hasOwnProperty(Ba)||n.hasOwnProperty(fc))?n[Ba]:null}const $l=nt({\u0275prov:nt}),Ba=nt({\u0275inj:nt}),Zo=nt({ngInjectableDef:nt}),fc=nt({ngInjectorDef:nt});class Ee{constructor(e,t){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof t?this.__NG_ELEMENT_ID__=t:void 0!==t&&(this.\u0275prov=Ue({token:this,providedIn:t.providedIn||"root",factory:t.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}function za(n){return n&&!!n.\u0275providers}const xs=nt({\u0275cmp:nt}),Yi=nt({\u0275dir:nt}),Ha=nt({\u0275pipe:nt}),Qd=nt({\u0275mod:nt}),mr=nt({\u0275fac:nt}),qa=nt({__NG_ELEMENT_ID__:nt}),Hl=nt({__NG_ENV_ID__:nt});function ct(n){return"string"==typeof n?n:null==n?"":String(n)}function Ji(n,e){throw new J(-201,!1)}var Pt=function(n){return n[n.Default=0]="Default",n[n.Host=1]="Host",n[n.Self=2]="Self",n[n.SkipSelf=4]="SkipSelf",n[n.Optional=8]="Optional",n}(Pt||{});let ql;function no(){return ql}function Ur(n){const e=ql;return ql=n,e}function Gl(n,e,t){const r=Jo(n);return r&&"root"==r.providedIn?void 0===r.value?r.value=r.factory():r.value:t&Pt.Optional?null:void 0!==e?e:void Ji()}const Zi={},Ga="__NG_DI_FLAG__",ea="ngTempTokenPath",Yd=/\n/gm,Ec="__source";let ai;function ks(n){const e=ai;return ai=n,e}function Ic(n,e=Pt.Default){if(void 0===ai)throw new J(-203,!1);return null===ai?Gl(n,void 0,e):ai.get(n,e&Pt.Optional?null:void 0,e)}function ve(n,e=Pt.Default){return(no()||Ic)(it(n),e)}function ye(n,e=Pt.Default){return ve(n,ta(e))}function ta(n){return typeof n>"u"||"number"==typeof n?n:(n.optional&&8)|(n.host&&1)|(n.self&&2)|(n.skipSelf&&4)}function na(n){const e=[];for(let t=0;t<n.length;t++){const r=it(n[t]);if(Array.isArray(r)){if(0===r.length)throw new J(900,!1);let i,s=Pt.Default;for(let o=0;o<r.length;o++){const a=r[o],l=Zd(a);"number"==typeof l?-1===l?i=a.token:s|=l:i=a}e.push(ve(i,s))}else e.push(ve(r))}return e}function ra(n,e){return n[Ga]=e,n.prototype[Ga]=e,n}function Zd(n){return n[Ga]}const Xi=ra(Pe("Optional"),8),ro=ra(Pe("SkipSelf"),4);function Fs(n,e){return n.hasOwnProperty(mr)?n[mr]:null}function Pi(n,e){n.forEach(t=>Array.isArray(t)?Pi(t,e):e(t))}function Ql(n,e,t){e>=n.length?n.push(t):n.splice(e,0,t)}function Ka(n,e){return e>=n.length-1?n.pop():n.splice(e,1)[0]}function vi(n,e,t){let r=es(n,e);return r>=0?n[1|r]=t:(r=~r,function nh(n,e,t,r){let i=n.length;if(i==e)n.push(t,r);else if(1===i)n.push(r,n[0]),n[0]=t;else{for(i--,n.push(n[i-1],n[i]);i>e;)n[i]=n[i-2],i--;n[e]=t,n[e+1]=r}}(n,r,e,t)),r}function Qa(n,e){const t=es(n,e);if(t>=0)return n[1|t]}function es(n,e){return function Jl(n,e,t){let r=0,i=n.length>>t;for(;i!==r;){const s=r+(i-r>>1),o=n[s<<t];if(e===o)return s<<t;o>e?i=s:r=s+1}return~(i<<t)}(n,e,1)}const wi={},Ft=[],gs=new Ee(""),Zl=new Ee("",-1),Ya=new Ee("");class Xl{get(e,t=Zi){if(t===Zi){const r=new Error(`NullInjectorError: No provider for ${wn(e)}!`);throw r.name="NullInjectorError",r}return t}}var sa=function(n){return n[n.OnPush=0]="OnPush",n[n.Default=1]="Default",n}(sa||{}),ms=function(n){return n[n.Emulated=0]="Emulated",n[n.None=2]="None",n[n.ShadowDom=3]="ShadowDom",n}(ms||{}),yn=function(n){return n[n.None=0]="None",n[n.SignalBased=1]="SignalBased",n[n.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",n}(yn||{});function zp(n,e,t){let r=n.length;for(;;){const i=n.indexOf(e,t);if(-1===i)return i;if(0===i||n.charCodeAt(i-1)<=32){const s=e.length;if(i+s===r||n.charCodeAt(i+s)<=32)return i}t=i+1}}function Ja(n,e,t){let r=0;for(;r<t.length;){const i=t[r];if("number"==typeof i){if(0!==i)break;r++;const s=t[r++],o=t[r++],a=t[r++];n.setAttribute(e,o,a,s)}else{const s=i,o=t[++r];Za(s)?n.setProperty(e,s,o):n.setAttribute(e,s,o),r++}}return r}function ih(n){return 3===n||4===n||6===n}function Za(n){return 64===n.charCodeAt(0)}function Xa(n,e){if(null!==e&&0!==e.length)if(null===n||0===n.length)n=e.slice();else{let t=-1;for(let r=0;r<e.length;r++){const i=e[r];"number"==typeof i?t=i:0===t||eu(n,t,i,null,-1===t||2===t?e[++r]:null)}}return n}function eu(n,e,t,r,i){let s=0,o=n.length;if(-1===e)o=-1;else for(;s<n.length;){const a=n[s++];if("number"==typeof a){if(a===e){o=-1;break}if(a>e){o=s-1;break}}}for(;s<n.length;){const a=n[s];if("number"==typeof a)break;if(a===t){if(null===r)return void(null!==i&&(n[s+1]=i));if(r===n[s+1])return void(n[s+2]=i)}s++,null!==r&&s++,null!==i&&s++}-1!==o&&(n.splice(o,0,e),s=o+1),n.splice(s++,0,t),null!==r&&n.splice(s++,0,r),null!==i&&n.splice(s++,0,i)}const sh="ng-template";function Hp(n,e,t,r){let i=0;if(r){for(;i<e.length&&"string"==typeof e[i];i+=2)if("class"===e[i]&&-1!==zp(e[i+1].toLowerCase(),t,0))return!0}else if(el(n))return!1;if(i=e.indexOf(1,i),i>-1){let s;for(;++i<e.length&&"string"==typeof(s=e[i]);)if(s.toLowerCase()===t)return!0}return!1}function el(n){return 4===n.type&&n.value!==sh}function qp(n,e,t){return e===(4!==n.type||t?n.value:sh)}function Gp(n,e,t){let r=4;const i=n.attrs,s=null!==i?function Cc(n){for(let e=0;e<n.length;e++)if(ih(n[e]))return e;return n.length}(i):0;let o=!1;for(let a=0;a<e.length;a++){const l=e[a];if("number"!=typeof l){if(!o)if(4&r){if(r=2|1&r,""!==l&&!qp(n,l,t)||""===l&&1===e.length){if(Ei(r))return!1;o=!0}}else if(8&r){if(null===i||!Hp(n,i,l,t)){if(Ei(r))return!1;o=!0}}else{const c=e[++a],p=Wp(l,i,el(n),t);if(-1===p){if(Ei(r))return!1;o=!0;continue}if(""!==c){let m;if(m=p>s?"":i[p+1].toLowerCase(),2&r&&c!==m){if(Ei(r))return!1;o=!0}}}}else{if(!o&&!Ei(r)&&!Ei(l))return!1;if(o&&Ei(l))continue;o=!1,r=l|1&r}}return Ei(r)||o}function Ei(n){return!(1&n)}function Wp(n,e,t,r){if(null===e)return-1;let i=0;if(r||!t){let s=!1;for(;i<e.length;){const o=e[i];if(o===n)return i;if(3===o||6===o)s=!0;else{if(1===o||2===o){let a=e[++i];for(;"string"==typeof a;)a=e[++i];continue}if(4===o)break;if(0===o){i+=4;continue}}i+=s?1:2}return-1}return function ah(n,e){let t=n.indexOf(4);if(t>-1)for(t++;t<n.length;){const r=n[t];if("number"==typeof r)return-1;if(r===e)return t;t++}return-1}(e,n)}function ys(n,e,t=!1){for(let r=0;r<e.length;r++)if(Gp(n,e[r],t))return!0;return!1}function lh(n,e){return n?":not("+e.trim()+")":e}function Sc(n){let e=n[0],t=1,r=2,i="",s=!1;for(;t<n.length;){let o=n[t];if("string"==typeof o)if(2&r){const a=n[++t];i+="["+o+(a.length>0?'="'+a+'"':"")+"]"}else 8&r?i+="."+o:4&r&&(i+=" "+o);else""!==i&&!Ei(o)&&(e+=lh(s,i),i=""),r=o,s=s||!Ei(r);t++}return""!==i&&(e+=lh(s,i)),e}function Mi(n){return mi(()=>{const e=ch(n),t={...e,decls:n.decls,vars:n.vars,template:n.template,consts:n.consts||null,ngContentSelectors:n.ngContentSelectors,onPush:n.changeDetection===sa.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&n.dependencies||null,getStandaloneInjector:null,signals:n.signals??!1,data:n.data||{},encapsulation:n.encapsulation||ms.Emulated,styles:n.styles||Ft,_:null,schemas:n.schemas||null,tView:null,id:""};tl(t);const r=n.dependencies;return t.directiveDefs=y(r,!1),t.pipeDefs=y(r,!0),t.id=function A(n){let e=0;const t=[n.selectors,n.ngContentSelectors,n.hostVars,n.hostAttrs,n.consts,n.vars,n.decls,n.encapsulation,n.standalone,n.signals,n.exportAs,JSON.stringify(n.inputs),JSON.stringify(n.outputs),Object.getOwnPropertyNames(n.type.prototype),!!n.contentQueries,!!n.viewQuery].join("|");for(const i of t)e=Math.imul(31,e)+i.charCodeAt(0)|0;return e+=2147483648,"c"+e}(t),t})}function Pc(n){return yt(n)||nr(n)}function _s(n){return null!==n}function Tr(n){return mi(()=>({type:n.type,bootstrap:n.bootstrap||Ft,declarations:n.declarations||Ft,imports:n.imports||Ft,exports:n.exports||Ft,transitiveCompileScopes:null,schemas:n.schemas||null,id:n.id||null}))}function Mn(n,e){if(null==n)return wi;const t={};for(const r in n)if(n.hasOwnProperty(r)){const i=n[r];let s,o,a=yn.None;Array.isArray(i)?(a=i[0],s=i[1],o=i[2]??s):(s=i,o=i),e?(t[s]=a!==yn.None?[r,a]:r,e[s]=o):t[s]=r}return t}function ut(n){return mi(()=>{const e=ch(n);return tl(e),e})}function yt(n){return n[xs]||null}function nr(n){return n[Yi]||null}function Cr(n){return n[Ha]||null}function jr(n,e){const t=n[Qd]||null;if(!t&&!0===e)throw new Error(`Type ${wn(n)} does not have '\u0275mod' property.`);return t}function ch(n){const e={};return{type:n.type,providersResolver:null,factory:null,hostBindings:n.hostBindings||null,hostVars:n.hostVars||0,hostAttrs:n.hostAttrs||null,contentQueries:n.contentQueries||null,declaredInputs:e,inputTransforms:null,inputConfig:n.inputs||wi,exportAs:n.exportAs||null,standalone:!0===n.standalone,signals:!0===n.signals,selectors:n.selectors||Ft,viewQuery:n.viewQuery||null,features:n.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:Mn(n.inputs,e),outputs:Mn(n.outputs),debugInfo:null}}function tl(n){n.features?.forEach(e=>e(n))}function y(n,e){if(!n)return null;const t=e?Cr:Pc;return()=>("function"==typeof n?n():n).map(r=>t(r)).filter(_s)}function te(...n){return{\u0275providers:Be(0,n),\u0275fromNgModule:!0}}function Be(n,...e){const t=[],r=new Set;let i;const s=o=>{t.push(o)};return Pi(e,o=>{const a=o;Wt(a,s,[],r)&&(i||=[],i.push(a))}),void 0!==i&&Mt(i,s),t}function Mt(n,e){for(let t=0;t<n.length;t++){const{ngModule:r,providers:i}=n[t];Do(i,s=>{e(s,r)})}}function Wt(n,e,t,r){if(!(n=it(n)))return!1;let i=null,s=Qi(n);const o=!s&&yt(n);if(s||o){if(o&&!o.standalone)return!1;i=n}else{const l=n.ngModule;if(s=Qi(l),!s)return!1;i=l}const a=r.has(i);if(o){if(a)return!1;if(r.add(i),o.dependencies){const l="function"==typeof o.dependencies?o.dependencies():o.dependencies;for(const c of l)Wt(c,e,t,r)}}else{if(!s)return!1;{if(null!=s.imports&&!a){let c;r.add(i);try{Pi(s.imports,p=>{Wt(p,e,t,r)&&(c||=[],c.push(p))})}finally{}void 0!==c&&Mt(c,e)}if(!a){const c=Fs(i)||(()=>new i);e({provide:i,useFactory:c,deps:Ft},i),e({provide:Ya,useValue:i,multi:!0},i),e({provide:gs,useValue:()=>ve(i),multi:!0},i)}const l=s.providers;if(null!=l&&!a){const c=n;Do(l,p=>{e(p,c)})}}}return i!==n&&void 0!==n.providers}function Do(n,e){for(let t of n)za(t)&&(t=t.\u0275providers),Array.isArray(t)?Do(t,e):e(t)}const dh=nt({provide:String,useValue:nt});function g_(n){return null!==n&&"object"==typeof n&&dh in n}function So(n){return"function"==typeof n}const Kp=new Ee(""),fh={},lP={};let Qp;function ph(){return void 0===Qp&&(Qp=new Xl),Qp}class Yr{}class aa extends Yr{get destroyed(){return this._destroyed}constructor(e,t,r,i){super(),this.parent=t,this.source=r,this.scopes=i,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,so(e,o=>this.processProvider(o)),this.records.set(Zl,tu(void 0,this)),i.has("environment")&&this.records.set(Yr,tu(void 0,this));const s=this.records.get(Kp);null!=s&&"string"==typeof s.value&&this.scopes.add(s.value),this.injectorDefTypes=new Set(this.get(Ya,Ft,Pt.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;const e=Ge(null);try{for(const r of this._ngOnDestroyHooks)r.ngOnDestroy();const t=this._onDestroyHooks;this._onDestroyHooks=[];for(const r of t)r()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),Ge(e)}}onDestroy(e){return this.assertNotDestroyed(),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){this.assertNotDestroyed();const t=ks(this),r=Ur(void 0);try{return e()}finally{ks(t),Ur(r)}}get(e,t=Zi,r=Pt.Default){if(this.assertNotDestroyed(),e.hasOwnProperty(Hl))return e[Hl](this);r=ta(r);const s=ks(this),o=Ur(void 0);try{if(!(r&Pt.SkipSelf)){let l=this.records.get(e);if(void 0===l){const c=function cP(n){return"function"==typeof n||"object"==typeof n&&n instanceof Ee}(e)&&Jo(e);l=c&&this.injectableDefInScope(c)?tu(Yp(e),fh):null,this.records.set(e,l)}if(null!=l)return this.hydrate(e,l)}return(r&Pt.Self?ph():this.parent).get(e,t=r&Pt.Optional&&t===Zi?null:t)}catch(a){if("NullInjectorError"===a.name){if((a[ea]=a[ea]||[]).unshift(wn(e)),s)throw a;return function Xd(n,e,t,r){const i=n[ea];throw e[Ec]&&i.unshift(e[Ec]),n.message=function bc(n,e,t,r=null){n=n&&"\n"===n.charAt(0)&&"\u0275"==n.charAt(1)?n.slice(2):n;let i=wn(e);if(Array.isArray(e))i=e.map(wn).join(" -> ");else if("object"==typeof e){let s=[];for(let o in e)if(e.hasOwnProperty(o)){let a=e[o];s.push(o+":"+("string"==typeof a?JSON.stringify(a):wn(a)))}i=`{${s.join(", ")}}`}return`${t}${r?"("+r+")":""}[${i}]: ${n.replace(Yd,"\n  ")}`}("\n"+n.message,i,t,r),n.ngTokenPath=i,n[ea]=null,n}(a,e,"R3InjectorError",this.source)}throw a}finally{Ur(o),ks(s)}}resolveInjectorInitializers(){const e=Ge(null),t=ks(this),r=Ur(void 0);try{const s=this.get(gs,Ft,Pt.Self);for(const o of s)o()}finally{ks(t),Ur(r),Ge(e)}}toString(){const e=[],t=this.records;for(const r of t.keys())e.push(wn(r));return`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new J(205,!1)}processProvider(e){let t=So(e=it(e))?e:it(e&&e.provide);const r=function m_(n){return g_(n)?tu(void 0,n.useValue):tu(y_(n),fh)}(e);if(!So(e)&&!0===e.multi){let i=this.records.get(t);i||(i=tu(void 0,fh,!0),i.factory=()=>na(i.multi),this.records.set(t,i)),t=e,i.multi.push(e)}this.records.set(t,r)}hydrate(e,t){const r=Ge(null);try{return t.value===fh&&(t.value=lP,t.value=t.factory()),"object"==typeof t.value&&t.value&&function mh(n){return null!==n&&"object"==typeof n&&"function"==typeof n.ngOnDestroy}(t.value)&&this._ngOnDestroyHooks.add(t.value),t.value}finally{Ge(r)}}injectableDefInScope(e){if(!e.providedIn)return!1;const t=it(e.providedIn);return"string"==typeof t?"any"===t||this.scopes.has(t):this.injectorDefTypes.has(t)}removeOnDestroy(e){const t=this._onDestroyHooks.indexOf(e);-1!==t&&this._onDestroyHooks.splice(t,1)}}function Yp(n){const e=Jo(n),t=null!==e?e.factory:Fs(n);if(null!==t)return t;if(n instanceof Ee)throw new J(204,!1);if(n instanceof Function)return function gh(n){if(n.length>0)throw new J(204,!1);const t=function Bp(n){return n&&(n[$l]||n[Zo])||null}(n);return null!==t?()=>t.factory(n):()=>new n}(n);throw new J(204,!1)}function y_(n,e,t){let r;if(So(n)){const i=it(n);return Fs(i)||Yp(i)}if(g_(n))r=()=>it(n.useValue);else if(function oa(n){return!(!n||!n.useFactory)}(n))r=()=>n.useFactory(...na(n.deps||[]));else if(function hh(n){return!(!n||!n.useExisting)}(n))r=()=>ve(it(n.useExisting));else{const i=it(n&&(n.useClass||n.provide));if(!function uP(n){return!!n.deps}(n))return Fs(i)||Yp(i);r=()=>new i(...na(n.deps))}return r}function tu(n,e,t=!1){return{factory:n,value:e,multi:t?[]:void 0}}function so(n,e){for(const t of n)Array.isArray(t)?so(t,e):t&&za(t)?so(t.\u0275providers,e):e(t)}function oo(n,e){n instanceof aa&&n.assertNotDestroyed();const r=ks(n),i=Ur(void 0);try{return e()}finally{ks(r),Ur(i)}}function __(){return void 0!==no()||null!=function Jd(){return ai}()}const bn=0,Ce=1,Ye=2,fr=3,ts=4,Jr=5,ns=6,iu=7,Nn=8,xn=9,Vs=10,pt=11,xc=12,I_=13,su=14,An=15,Oc=16,ou=17,Ro=18,nl=19,b_=20,ua=21,vh=22,rl=23,_t=25,Zp=1,ao=7,lu=9,Wn=10;var Xp=function(n){return n[n.None=0]="None",n[n.HasTransplantedViews=2]="HasTransplantedViews",n}(Xp||{});function $r(n){return Array.isArray(n)&&"object"==typeof n[Zp]}function ui(n){return Array.isArray(n)&&!0===n[Zp]}function Fc(n){return!!(4&n.flags)}function lo(n){return n.componentOffset>-1}function uu(n){return!(1&~n.flags)}function Ls(n){return!!n.template}function Vc(n){return!!(512&n[Ye])}class tg{constructor(e,t,r){this.previousValue=e,this.currentValue=t,this.firstChange=r}isFirstChange(){return this.firstChange}}function ng(n,e,t,r){null!==e?e.applyValueToInputSignal(e,r):n[t]=r}function rs(){return k_}function k_(n){return n.type.prototype.ngOnChanges&&(n.setInput=rg),ob}function ob(){const n=V_(this),e=n?.current;if(e){const t=n.previous;if(t===wi)n.previous=e;else for(let r in e)t[r]=e[r];n.current=null,this.ngOnChanges(e)}}function rg(n,e,t,r,i){const s=this.declaredInputs[r],o=V_(n)||function ig(n,e){return n[F_]=e}(n,{previous:wi,current:null}),a=o.current||(o.current={}),l=o.previous,c=l[s];a[s]=new tg(c&&c.currentValue,t,l===wi),ng(n,e,i,t)}rs.ngInherit=!0;const F_="__ngSimpleChanges__";function V_(n){return n[F_]||null}const vs=function(n,e,t){};let Bc=!1;function ln(n){for(;Array.isArray(n);)n=n[bn];return n}function ci(n,e){return ln(e[n.index])}function jc(n,e){return n.data[e]}function Ii(n,e){const t=e[n];return $r(t)?t:t[bn]}function lg(n){return!(128&~n[Ye])}function ws(n,e){return null==e?null:n[e]}function B_(n){n[ou]=0}function db(n){1024&n[Ye]||(n[Ye]|=1024,lg(n)&&$c(n))}function cg(n){return!!(9216&n[Ye]||n[rl]?.dirty)}function du(n){n[Vs].changeDetectionScheduler?.notify(1),cg(n)?$c(n):64&n[Ye]&&(function og(){return Bc}()?(n[Ye]|=1024,$c(n)):n[Vs].changeDetectionScheduler?.notify())}function $c(n){n[Vs].changeDetectionScheduler?.notify();let e=ol(n);for(;null!==e&&!(8192&e[Ye])&&(e[Ye]|=8192,lg(e));)e=ol(e)}function Ih(n,e){if(!(256&~n[Ye]))throw new J(911,!1);null===n[ua]&&(n[ua]=[]),n[ua].push(e)}function ol(n){const e=n[fr];return ui(e)?e[fr]:e}const gt={lFrame:Dh(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function $_(){return gt.bindingsEnabled}function oe(){return gt.lFrame.lView}function Vt(){return gt.lFrame.tView}function rn(){let n=q_();for(;null!==n&&64===n.type;)n=n.parent;return n}function q_(){return gt.lFrame.currentTNode}function uo(n,e){const t=gt.lFrame;t.currentTNode=n,t.isParent=e}function Ah(){return gt.lFrame.isParent}function Es(){return gt.lFrame.bindingIndex++}function wb(n,e){const t=gt.lFrame;t.bindingIndex=t.bindingRootIndex=n,pg(e)}function pg(n){gt.lFrame.currentDirectiveIndex=n}function gg(){return gt.lFrame.currentQueryIndex}function mg(n){gt.lFrame.currentQueryIndex=n}function Ib(n){const e=n[Ce];return 2===e.type?e.declTNode:1===e.type?n[Jr]:null}function ca(n,e,t){if(t&Pt.SkipSelf){let i=e,s=n;for(;!(i=i.parent,null!==i||t&Pt.Host||(i=Ib(s),null===i||(s=s[su],10&i.type))););if(null===i)return!1;e=i,n=s}const r=gt.lFrame=W_();return r.currentTNode=e,r.lView=n,!0}function yg(n){const e=W_(),t=n[Ce];gt.lFrame=e,e.currentTNode=t.firstChild,e.lView=n,e.tView=t,e.contextLView=n,e.bindingIndex=t.bindingStartIndex,e.inI18n=!1}function W_(){const n=gt.lFrame,e=null===n?null:n.child;return null===e?Dh(n):e}function Dh(n){const e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:n,child:null,inI18n:!1};return null!==n&&(n.child=e),e}function K_(){const n=gt.lFrame;return gt.lFrame=n.parent,n.currentTNode=null,n.lView=null,n}const Sh=K_;function _g(){const n=K_();n.isParent=!0,n.tView=null,n.selectedIndex=-1,n.contextLView=null,n.elementDepthCount=0,n.currentDirectiveIndex=-1,n.currentNamespace=null,n.bindingRootIndex=-1,n.bindingIndex=-1,n.currentQueryIndex=0}function zr(){return gt.lFrame.selectedIndex}function ll(n){gt.lFrame.selectedIndex=n}function Tn(){const n=gt.lFrame;return jc(n.tView,n.selectedIndex)}let Y_=!0;function fu(){return Y_}function Is(n){Y_=n}function Rh(n,e){for(let t=e.directiveStart,r=e.directiveEnd;t<r;t++){const s=n.data[t].type.prototype,{ngAfterContentInit:o,ngAfterContentChecked:a,ngAfterViewInit:l,ngAfterViewChecked:c,ngOnDestroy:p}=s;o&&(n.contentHooks??=[]).push(-t,o),a&&((n.contentHooks??=[]).push(t,a),(n.contentCheckHooks??=[]).push(t,a)),l&&(n.viewHooks??=[]).push(-t,l),c&&((n.viewHooks??=[]).push(t,c),(n.viewCheckHooks??=[]).push(t,c)),null!=p&&(n.destroyHooks??=[]).push(t,p)}}function pu(n,e,t){J_(n,e,3,t)}function gu(n,e,t,r){(3&n[Ye])===t&&J_(n,e,t,r)}function wg(n,e){let t=n[Ye];(3&t)===e&&(t&=16383,t+=1,n[Ye]=t)}function J_(n,e,t,r){const s=r??-1,o=e.length-1;let a=0;for(let l=void 0!==r?65535&n[ou]:0;l<o;l++)if("number"==typeof e[l+1]){if(a=e[l],null!=r&&a>=r)break}else e[l]<0&&(n[ou]+=65536),(a<s||-1==s)&&(Sb(n,t,e,l),n[ou]=(4294901760&n[ou])+l+2),l++}function Hc(n,e){vs(4,n,e);const t=Ge(null);try{e.call(n)}finally{Ge(t),vs(5,n,e)}}function Sb(n,e,t,r){const i=t[r]<0,s=t[r+1],a=n[i?-t[r]:t[r]];i?n[Ye]>>14<n[ou]>>16&&(3&n[Ye])===e&&(n[Ye]+=16384,Hc(a,s)):Hc(a,s)}const mu=-1;class qc{constructor(e,t,r){this.factory=e,this.resolving=!1,this.canSeeViewProviders=t,this.injectImpl=r}}function Mh(n){return n!==mu}function Gc(n){return 32767&n}function Wc(n,e){let t=function Nb(n){return n>>16}(n),r=e;for(;t>0;)r=r[su],t--;return r}let Ig=!0;function Kc(n){const e=Ig;return Ig=n,e}const Nh=255,bg=5;let xb=0;const bs={};function di(n,e){const t=Ag(n,e);if(-1!==t)return t;const r=e[Ce];r.firstCreatePass&&(n.injectorIndex=e.length,ul(r.data,n),ul(e,null),ul(r.blueprint,null));const i=xh(n,e),s=n.injectorIndex;if(Mh(i)){const o=Gc(i),a=Wc(i,e),l=a[Ce].data;for(let c=0;c<8;c++)e[s+c]=a[o+c]|l[o+c]}return e[s+8]=i,s}function ul(n,e){n.push(0,0,0,0,0,0,0,0,e)}function Ag(n,e){return-1===n.injectorIndex||n.parent&&n.parent.injectorIndex===n.injectorIndex||null===e[n.injectorIndex+8]?-1:n.injectorIndex}function xh(n,e){if(n.parent&&-1!==n.parent.injectorIndex)return n.parent.injectorIndex;let t=0,r=null,i=e;for(;null!==i;){if(r=iv(i),null===r)return mu;if(t++,i=i[su],-1!==r.injectorIndex)return r.injectorIndex|t<<16}return mu}function Qc(n,e,t){!function Ob(n,e,t){let r;"string"==typeof t?r=t.charCodeAt(0)||0:t.hasOwnProperty(qa)&&(r=t[qa]),null==r&&(r=t[qa]=xb++);const i=r&Nh;e.data[n+(i>>bg)]|=1<<i}(n,e,t)}function ev(n,e,t){if(t&Pt.Optional||void 0!==n)return n;Ji()}function Cg(n,e,t,r){if(t&Pt.Optional&&void 0===r&&(r=null),!(t&(Pt.Self|Pt.Host))){const i=n[xn],s=Ur(void 0);try{return i?i.get(e,r,t&Pt.Optional):Gl(e,r,t&Pt.Optional)}finally{Ur(s)}}return ev(r,0,t)}function tv(n,e,t,r=Pt.Default,i){if(null!==n){if(2048&e[Ye]&&!(r&Pt.Self)){const o=function rv(n,e,t,r,i){let s=n,o=e;for(;null!==s&&null!==o&&2048&o[Ye]&&!(512&o[Ye]);){const a=Po(s,o,t,r|Pt.Self,bs);if(a!==bs)return a;let l=s.parent;if(!l){const c=o[b_];if(c){const p=c.get(t,bs,r);if(p!==bs)return p}l=iv(o),o=o[su]}s=l}return i}(n,e,t,r,bs);if(o!==bs)return o}const s=Po(n,e,t,r,bs);if(s!==bs)return s}return Cg(e,t,r,i)}function Po(n,e,t,r,i){const s=function kb(n){if("string"==typeof n)return n.charCodeAt(0)||0;const e=n.hasOwnProperty(qa)?n[qa]:void 0;return"number"==typeof e?e>=0?e&Nh:Mo:e}(t);if("function"==typeof s){if(!ca(e,n,r))return r&Pt.Host?ev(i,0,r):Cg(e,t,r,i);try{let o;if(o=s(r),null!=o||r&Pt.Optional)return o;Ji()}finally{Sh()}}else if("number"==typeof s){let o=null,a=Ag(n,e),l=mu,c=r&Pt.Host?e[An][Jr]:null;for((-1===a||r&Pt.SkipSelf)&&(l=-1===a?xh(n,e):e[a+8],l!==mu&&bi(r,!1)?(o=e[Ce],a=Gc(l),e=Wc(l,e)):a=-1);-1!==a;){const p=e[Ce];if(Dg(s,a,p.data)){const m=nv(a,e,t,o,r,c);if(m!==bs)return m}l=e[a+8],l!==mu&&bi(r,e[Ce].data[a+8]===c)&&Dg(s,a,e)?(o=p,a=Gc(l),e=Wc(l,e)):a=-1}}return i}function nv(n,e,t,r,i,s){const o=e[Ce],a=o.data[n+8],p=Oh(a,o,t,null==r?lo(a)&&Ig:r!=o&&!!(3&a.type),i&Pt.Host&&s===a);return null!==p?cl(e,o,p,a):bs}function Oh(n,e,t,r,i){const s=n.providerIndexes,o=e.data,a=1048575&s,l=n.directiveStart,p=s>>20,w=i?a+p:n.directiveEnd;for(let b=r?a:a+p;b<w;b++){const C=o[b];if(b<l&&t===C||b>=l&&C.type===t)return b}if(i){const b=o[l];if(b&&Ls(b)&&b.type===t)return l}return null}function cl(n,e,t,r){let i=n[t];const s=e.data;if(function Z_(n){return n instanceof qc}(i)){const o=i;o.resolving&&function jp(n,e){throw e&&e.join(" > "),new J(-200,n)}(function $t(n){return"function"==typeof n?n.name||n.toString():"object"==typeof n&&null!=n&&"function"==typeof n.type?n.type.name||n.type.toString():ct(n)}(s[t]));const a=Kc(o.canSeeViewProviders);o.resolving=!0;const c=o.injectImpl?Ur(o.injectImpl):null;ca(n,r,Pt.Default);try{i=n[t]=o.factory(void 0,s,n,r),e.firstCreatePass&&t>=r.directiveStart&&function Db(n,e,t){const{ngOnChanges:r,ngOnInit:i,ngDoCheck:s}=e.type.prototype;if(r){const o=k_(e);(t.preOrderHooks??=[]).push(n,o),(t.preOrderCheckHooks??=[]).push(n,o)}i&&(t.preOrderHooks??=[]).push(0-n,i),s&&((t.preOrderHooks??=[]).push(n,s),(t.preOrderCheckHooks??=[]).push(n,s))}(t,s[t],e)}finally{null!==c&&Ur(c),Kc(a),o.resolving=!1,Sh()}}return i}function Dg(n,e,t){return!!(t[e+(n>>bg)]&1<<n)}function bi(n,e){return!(n&Pt.Self||n&Pt.Host&&e)}class Dr{constructor(e,t){this._tNode=e,this._lView=t}get(e,t,r){return tv(this._tNode,this._lView,e,ta(r),t)}}function Mo(){return new Dr(rn(),oe())}function rr(n){return mi(()=>{const e=n.prototype.constructor,t=e[mr]||kh(e),r=Object.prototype;let i=Object.getPrototypeOf(n.prototype).constructor;for(;i&&i!==r;){const s=i[mr]||kh(i);if(s&&s!==t)return s;i=Object.getPrototypeOf(i)}return s=>new s})}function kh(n){return Ul(n)?()=>{const e=kh(it(n));return e&&e()}:Fs(n)}function iv(n){const e=n[Ce],t=e.type;return 2===t?e.declTNode:1===t?n[Jr]:null}function ze(n,e=null,t=null,r){const i=He(n,e,t,r);return i.resolveInjectorInitializers(),i}function He(n,e=null,t=null,r,i=new Set){const s=[t||Ft,te(n)];return r=r||("object"==typeof n?void 0:wn(n)),new aa(s,e||ph(),r||null,i)}let Lt=(()=>{class n{static#e=this.THROW_IF_NOT_FOUND=Zi;static#t=this.NULL=new Xl;static create(t,r){if(Array.isArray(t))return ze({name:""},r,t,"");{const i=t.name??"";return ze({name:i},t.parent,t.providers,i)}}static#n=this.\u0275prov=Ue({token:n,providedIn:"any",factory:()=>ve(Zl)});static#r=this.__NG_ELEMENT_ID__=-1}return n})();function Jc(n){return n.ngOriginalError}class Us{constructor(){this._console=console}handleError(e){const t=this._findOriginalError(e);this._console.error("ERROR",e),t&&this._console.error("ORIGINAL ERROR",t)}_findOriginalError(e){let t=e&&Jc(e);for(;t&&Jc(t);)t=Jc(t);return t||null}}const Rg=new Ee("",{providedIn:"root",factory:()=>ye(Us).handleError.bind(void 0)});let fa=(()=>{class n{static#e=this.__NG_ELEMENT_ID__=av;static#t=this.__NG_ENV_ID__=t=>t}return n})();class ov extends fa{constructor(e){super(),this._lView=e}onDestroy(e){return Ih(this._lView,e),()=>function dg(n,e){if(null===n[ua])return;const t=n[ua].indexOf(e);-1!==t&&n[ua].splice(t,1)}(this._lView,e)}}function av(){return new ov(oe())}function MH(){return Lh(rn(),oe())}function Lh(n,e){return new Bs(ci(n,e))}let Bs=(()=>{class n{constructor(t){this.nativeElement=t}static#e=this.__NG_ELEMENT_ID__=MH}return n})();function IP(n){return n instanceof Bs?n.nativeElement:n}function Ub(n){return e=>{setTimeout(n,void 0,e)}}const _r=class NH extends F{constructor(e=!1){super(),this.destroyRef=void 0,this.__isAsync=e,__()&&(this.destroyRef=ye(fa,{optional:!0})??void 0)}emit(e){const t=Ge(null);try{super.next(e)}finally{Ge(t)}}subscribe(e,t,r){let i=e,s=t||(()=>null),o=r;if(e&&"object"==typeof e){const l=e;i=l.next?.bind(l),s=l.error?.bind(l),o=l.complete?.bind(l)}this.__isAsync&&(s=Ub(s),i&&(i=Ub(i)),o&&(o=Ub(o)));const a=super.subscribe({next:i,error:s,complete:o});return e instanceof Tt&&e.add(a),a}};function xH(){return this._results[Symbol.iterator]()}class Bb{static#e=Symbol.iterator;get changes(){return this._changes??=new _r}constructor(e=!1){this._emitDistinctChangesOnly=e,this.dirty=!0,this._onDirty=void 0,this._results=[],this._changesDetected=!1,this._changes=void 0,this.length=0,this.first=void 0,this.last=void 0;const t=Bb.prototype;t[Symbol.iterator]||(t[Symbol.iterator]=xH)}get(e){return this._results[e]}map(e){return this._results.map(e)}filter(e){return this._results.filter(e)}find(e){return this._results.find(e)}reduce(e,t){return this._results.reduce(e,t)}forEach(e){this._results.forEach(e)}some(e){return this._results.some(e)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(e,t){this.dirty=!1;const r=function Br(n){return n.flat(Number.POSITIVE_INFINITY)}(e);(this._changesDetected=!function th(n,e,t){if(n.length!==e.length)return!1;for(let r=0;r<n.length;r++){let i=n[r],s=e[r];if(t&&(i=t(i),s=t(s)),s!==i)return!1}return!0}(this._results,r,t))&&(this._results=r,this.length=r.length,this.last=r[this.length-1],this.first=r[0])}notifyOnChanges(){void 0!==this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}onDirty(e){this._onDirty=e}setDirty(){this.dirty=!0,this._onDirty?.()}destroy(){void 0!==this._changes&&(this._changes.complete(),this._changes.unsubscribe())}}function uv(n){return!(128&~n.flags)}const jb=new Map;let kH=0;const zb="__ngContext__";function Ni(n,e){$r(e)?(n[zb]=e[nl],function VH(n){jb.set(n[nl],n)}(e)):n[zb]=e}function NP(n){return OP(n[xc])}function xP(n){return OP(n[ts])}function OP(n){for(;null!==n&&!ui(n);)n=n[ts];return n}let Hb;const hv=new Ee("",{providedIn:"root",factory:()=>t4}),t4="ng",$P=new Ee(""),No=new Ee("",{providedIn:"platform",factory:()=>"unknown"}),zP=new Ee(""),HP=new Ee("",{providedIn:"root",factory:()=>function yu(){if(void 0!==Hb)return Hb;if(typeof document<"u")return document;throw new J(210,!1)}().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});let qP=()=>null;function Zb(n,e,t=!1){return qP(n,e,t)}const YP=new Ee("",{providedIn:"root",factory:()=>!1});class tM{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}function Av(n){return n.ownerDocument.defaultView}function js(n){return n instanceof Function?n():n}var vu=function(n){return n[n.Important=1]="Important",n[n.DashCase=2]="DashCase",n}(vu||{});let h0;function f0(n,e){return h0(n,e)}function Hh(n,e,t,r,i){if(null!=r){let s,o=!1;ui(r)?s=r:$r(r)&&(o=!0,r=r[bn]);const a=ln(r);0===n&&null!==t?null==i?AM(e,t,a):Zc(e,t,a,i||null,!0):1===n&&null!==t?Zc(e,t,a,i||null,!0):2===n?function jg(n,e,t){const r=Dv(n,e);r&&function o3(n,e,t,r){n.removeChild(e,t,r)}(n,r,e,t)}(e,a,o):3===n&&e.destroyNode(a),null!=s&&function u3(n,e,t,r,i){const s=t[ao];s!==ln(t)&&Hh(e,n,r,s,i);for(let a=Wn;a<t.length;a++){const l=t[a];Rv(l[Ce],l,n,e,r,s)}}(e,n,s,t,i)}}function Tv(n,e,t){return n.createElement(e,t)}function EM(n,e){e[Vs].changeDetectionScheduler?.notify(1),Rv(n,e,e[pt],2,null,null)}function IM(n,e){const t=n[lu],r=t.indexOf(e);t.splice(r,1)}function Ug(n,e){if(n.length<=Wn)return;const t=Wn+e,r=n[t];if(r){const i=r[Oc];null!==i&&i!==n&&IM(i,r),e>0&&(n[t-1][ts]=r[ts]);const s=Ka(n,Wn+e);!function X4(n,e){EM(n,e),e[bn]=null,e[Jr]=null}(r[Ce],r);const o=s[Ro];null!==o&&o.detachView(s[Ce]),r[fr]=null,r[ts]=null,r[Ye]&=-129}return r}function Cv(n,e){if(!(256&e[Ye])){const t=e[pt];t.destroyNode&&Rv(n,e,t,3,null,null),function t3(n){let e=n[xc];if(!e)return m0(n[Ce],n);for(;e;){let t=null;if($r(e))t=e[xc];else{const r=e[Wn];r&&(t=r)}if(!t){for(;e&&!e[ts]&&e!==n;)$r(e)&&m0(e[Ce],e),e=e[fr];null===e&&(e=n),$r(e)&&m0(e[Ce],e),t=e&&e[ts]}e=t}}(e)}}function m0(n,e){if(256&e[Ye])return;const t=Ge(null);try{e[Ye]&=-129,e[Ye]|=256,e[rl]&&function dn(n){if(Ke(n),on(n))for(let e=0;e<n.producerNode.length;e++)zt(n.producerNode[e],n.producerIndexOfThis[e]);n.producerNode.length=n.producerLastReadVersion.length=n.producerIndexOfThis.length=0,n.liveConsumerNode&&(n.liveConsumerNode.length=n.liveConsumerIndexOfThis.length=0)}(e[rl]),function s3(n,e){let t;if(null!=n&&null!=(t=n.destroyHooks))for(let r=0;r<t.length;r+=2){const i=e[t[r]];if(!(i instanceof qc)){const s=t[r+1];if(Array.isArray(s))for(let o=0;o<s.length;o+=2){const a=i[s[o]],l=s[o+1];vs(4,a,l);try{l.call(a)}finally{vs(5,a,l)}}else{vs(4,i,s);try{s.call(i)}finally{vs(5,i,s)}}}}}(n,e),function i3(n,e){const t=n.cleanup,r=e[iu];if(null!==t)for(let s=0;s<t.length-1;s+=2)if("string"==typeof t[s]){const o=t[s+3];o>=0?r[o]():r[-o].unsubscribe(),s+=2}else t[s].call(r[t[s+1]]);null!==r&&(e[iu]=null);const i=e[ua];if(null!==i){e[ua]=null;for(let s=0;s<i.length;s++)(0,i[s])()}}(n,e),1===e[Ce].type&&e[pt].destroy();const r=e[Oc];if(null!==r&&ui(e[fr])){r!==e[fr]&&IM(r,e);const i=e[Ro];null!==i&&i.detachView(n)}!function LH(n){jb.delete(n[nl])}(e)}finally{Ge(t)}}function y0(n,e,t){return function bM(n,e,t){let r=e;for(;null!==r&&40&r.type;)r=(e=r).parent;if(null===r)return t[bn];{const{componentOffset:i}=r;if(i>-1){const{encapsulation:s}=n.data[r.directiveStart+i];if(s===ms.None||s===ms.Emulated)return null}return ci(r,t)}}(n,e.parent,t)}function Zc(n,e,t,r,i){n.insertBefore(e,t,r,i)}function AM(n,e,t){n.appendChild(e,t)}function TM(n,e,t,r,i){null!==r?Zc(n,e,t,r,i):AM(n,e,t)}function Dv(n,e){return n.parentNode(e)}let _0,SM=function DM(n,e,t){return 40&n.type?ci(n,t):null};function Sv(n,e,t,r){const i=y0(n,r,e),s=e[pt],a=function CM(n,e,t){return SM(n,e,t)}(r.parent||e[Jr],r,e);if(null!=i)if(Array.isArray(t))for(let l=0;l<t.length;l++)TM(s,i,t[l],a,!1);else TM(s,i,t,a,!1);void 0!==_0&&_0(s,r,e,t,i)}function Bg(n,e){if(null!==e){const t=e.type;if(3&t)return ci(e,n);if(4&t)return v0(-1,n[e.index]);if(8&t){const r=e.child;if(null!==r)return Bg(n,r);{const i=n[e.index];return ui(i)?v0(-1,i):ln(i)}}if(32&t)return f0(e,n)()||ln(n[e.index]);{const r=PM(n,e);return null!==r?Array.isArray(r)?r[0]:Bg(ol(n[An]),r):Bg(n,e.next)}}return null}function PM(n,e){return null!==e?n[An][Jr].projection[e.projection]:null}function v0(n,e){const t=Wn+n+1;if(t<e.length){const r=e[t],i=r[Ce].firstChild;if(null!==i)return Bg(r,i)}return e[ao]}function w0(n,e,t,r,i,s,o){for(;null!=t;){const a=r[t.index],l=t.type;if(o&&0===e&&(a&&Ni(ln(a),r),t.flags|=2),32&~t.flags)if(8&l)w0(n,e,t.child,r,i,s,!1),Hh(e,n,i,a,s);else if(32&l){const c=f0(t,r);let p;for(;p=c();)Hh(e,n,i,p,s);Hh(e,n,i,a,s)}else 16&l?NM(n,e,r,t,i,s):Hh(e,n,i,a,s);t=o?t.projectionNext:t.next}}function Rv(n,e,t,r,i,s){w0(t,r,n.firstChild,e,i,s,!1)}function NM(n,e,t,r,i,s){const o=t[An],l=o[Jr].projection[r.projection];if(Array.isArray(l))for(let c=0;c<l.length;c++)Hh(e,n,i,l[c],s);else{let c=l;const p=o[fr];uv(r)&&(c.flags|=128),w0(n,e,c,p,i,s,!0)}}function xM(n,e,t){""===t?n.removeAttribute(e,"class"):n.setAttribute(e,"class",t)}function OM(n,e,t){const{mergedAttrs:r,classes:i,styles:s}=t;null!==r&&Ja(n,e,r),null!==i&&xM(n,e,i),null!==s&&function d3(n,e,t){n.setAttribute(e,"style",t)}(n,e,s)}const It={};function pa(n=1){kM(Vt(),oe(),zr()+n,!1)}function kM(n,e,t,r){if(!r)if(3&~e[Ye]){const s=n.preOrderHooks;null!==s&&gu(e,s,0,t)}else{const s=n.preOrderCheckHooks;null!==s&&pu(e,s,t)}ll(t)}function be(n,e=Pt.Default){const t=oe();return null===t?ve(n,e):tv(rn(),t,it(n),e)}function VM(n,e,t,r,i,s){const o=Ge(null);try{let a=null;i&yn.SignalBased&&(a=e[r][sn]),null!==a&&void 0!==a.transformFn&&(s=a.transformFn(s)),i&yn.HasDecoratorInputTransform&&(s=n.inputTransforms[r].call(e,s)),null!==n.setInput?n.setInput(e,a,s,t,r):ng(e,a,r,s)}finally{Ge(o)}}function Pv(n,e,t,r,i,s,o,a,l,c,p){const m=e.blueprint.slice();return m[bn]=i,m[Ye]=204|r,(null!==c||n&&2048&n[Ye])&&(m[Ye]|=2048),B_(m),m[fr]=m[su]=n,m[Nn]=t,m[Vs]=o||n&&n[Vs],m[pt]=a||n&&n[pt],m[xn]=l||n&&n[xn]||null,m[Jr]=s,m[nl]=function FH(){return kH++}(),m[ns]=p,m[b_]=c,m[An]=2==e.type?n[An]:m,m}function qh(n,e,t,r,i){let s=n.data[e];if(null===s)s=function E0(n,e,t,r,i){const s=q_(),o=Ah(),l=n.data[e]=function v3(n,e,t,r,i,s){let o=e?e.injectorIndex:-1,a=0;return function hu(){return null!==gt.skipHydrationRootTNode}()&&(a|=128),{type:t,index:r,insertBeforeIndex:null,injectorIndex:o,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:i,attrs:s,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,o?s:s&&s.parent,t,e,r,i);return null===n.firstChild&&(n.firstChild=l),null!==s&&(o?null==s.child&&null!==l.parent&&(s.child=l):null===s.next&&(s.next=l,l.prev=s)),l}(n,e,t,r,i),function vb(){return gt.lFrame.inI18n}()&&(s.flags|=32);else if(64&s.type){s.type=t,s.value=r,s.attrs=i;const o=function al(){const n=gt.lFrame,e=n.currentTNode;return n.isParent?e:e.parent}();s.injectorIndex=null===o?-1:o.injectorIndex}return uo(s,!0),s}function $g(n,e,t,r){if(0===t)return-1;const i=e.length;for(let s=0;s<t;s++)e.push(r),n.blueprint.push(r),n.data.push(null);return i}function LM(n,e,t,r,i){const s=zr(),o=2&r;try{ll(-1),o&&e.length>_t&&kM(n,e,_t,!1),vs(o?2:0,i),t(r,i)}finally{ll(s),vs(o?3:1,i)}}function I0(n,e,t){if(Fc(e)){const r=Ge(null);try{const s=e.directiveEnd;for(let o=e.directiveStart;o<s;o++){const a=n.data[o];a.contentQueries&&a.contentQueries(1,t[o],o)}}finally{Ge(r)}}}function b0(n,e,t){$_()&&(function C3(n,e,t,r){const i=t.directiveStart,s=t.directiveEnd;lo(t)&&function x3(n,e,t){const r=ci(e,n),i=UM(t);let o=16;t.signals?o=4096:t.onPush&&(o=64);const a=Mv(n,Pv(n,i,null,o,r,e,null,n[Vs].rendererFactory.createRenderer(r,t),null,null,null));n[e.index]=a}(e,t,n.data[i+t.componentOffset]),n.firstCreatePass||di(t,e),Ni(r,e);const o=t.initialInputs;for(let a=i;a<s;a++){const l=n.data[a],c=cl(e,n,a,t);Ni(c,e),null!==o&&O3(0,a-i,c,l,0,o),Ls(l)&&(Ii(t.index,e)[Nn]=cl(e,n,a,t))}}(n,e,t,ci(t,e)),!(64&~t.flags)&&HM(n,e,t))}function A0(n,e,t=ci){const r=e.localNames;if(null!==r){let i=e.index+1;for(let s=0;s<r.length;s+=2){const o=r[s+1],a=-1===o?t(e,n):n[o];n[i++]=a}}}function UM(n){const e=n.tView;return null===e||e.incompleteFirstPass?n.tView=T0(1,null,n.template,n.decls,n.vars,n.directiveDefs,n.pipeDefs,n.viewQuery,n.schemas,n.consts,n.id):e}function T0(n,e,t,r,i,s,o,a,l,c,p){const m=_t+r,w=m+i,b=function f3(n,e){const t=[];for(let r=0;r<e;r++)t.push(r<n?null:It);return t}(m,w),C="function"==typeof c?c():c;return b[Ce]={type:n,blueprint:b,template:t,queries:null,viewQuery:a,declTNode:e,data:b.slice().fill(null,m),bindingStartIndex:m,expandoStartIndex:w,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof s?s():s,pipeRegistry:"function"==typeof o?o():o,firstChild:null,schemas:l,consts:C,incompleteFirstPass:!1,ssrId:p}}let BM=()=>null;function jM(n,e,t,r,i){for(let s in e){if(!e.hasOwnProperty(s))continue;const o=e[s];if(void 0===o)continue;r??={};let a,l=yn.None;Array.isArray(o)?(a=o[0],l=o[1]):a=o;let c=s;if(null!==i){if(!i.hasOwnProperty(s))continue;c=i[s]}0===n?$M(r,t,c,a,l):$M(r,t,c,a)}return r}function $M(n,e,t,r,i){let s;n.hasOwnProperty(t)?(s=n[t]).push(e,r):s=n[t]=[e,r],void 0!==i&&s.push(i)}function C0(n,e,t,r){if($_()){const i=null===r?null:{"":-1},s=function S3(n,e){const t=n.directiveRegistry;let r=null,i=null;if(t)for(let s=0;s<t.length;s++){const o=t[s];if(ys(e,o.selectors,!1))if(r||(r=[]),Ls(o))if(null!==o.findHostDirectiveDefs){const a=[];i=i||new Map,o.findHostDirectiveDefs(o,a,i),r.unshift(...a,o),D0(n,e,a.length)}else r.unshift(o),D0(n,e,0);else i=i||new Map,o.findHostDirectiveDefs?.(o,r,i),r.push(o)}return null===r?null:[r,i]}(n,t);let o,a;null===s?o=a=null:[o,a]=s,null!==o&&zM(n,e,t,o,i,a),i&&function R3(n,e,t){if(e){const r=n.localNames=[];for(let i=0;i<e.length;i+=2){const s=t[e[i+1]];if(null==s)throw new J(-301,!1);r.push(e[i],s)}}}(t,r,i)}t.mergedAttrs=Xa(t.mergedAttrs,t.attrs)}function zM(n,e,t,r,i,s){for(let c=0;c<r.length;c++)Qc(di(t,e),n,r[c].type);!function M3(n,e,t){n.flags|=1,n.directiveStart=e,n.directiveEnd=e+t,n.providerIndexes=e}(t,n.data.length,r.length);for(let c=0;c<r.length;c++){const p=r[c];p.providersResolver&&p.providersResolver(p)}let o=!1,a=!1,l=$g(n,e,r.length,null);for(let c=0;c<r.length;c++){const p=r[c];t.mergedAttrs=Xa(t.mergedAttrs,p.hostAttrs),N3(n,t,e,l,p),P3(l,p,i),null!==p.contentQueries&&(t.flags|=4),(null!==p.hostBindings||null!==p.hostAttrs||0!==p.hostVars)&&(t.flags|=64);const m=p.type.prototype;!o&&(m.ngOnChanges||m.ngOnInit||m.ngDoCheck)&&((n.preOrderHooks??=[]).push(t.index),o=!0),!a&&(m.ngOnChanges||m.ngDoCheck)&&((n.preOrderCheckHooks??=[]).push(t.index),a=!0),l++}!function w3(n,e,t){const i=e.directiveEnd,s=n.data,o=e.attrs,a=[];let l=null,c=null;for(let p=e.directiveStart;p<i;p++){const m=s[p],w=t?t.get(m):null,C=w?w.outputs:null;l=jM(0,m.inputs,p,l,w?w.inputs:null),c=jM(1,m.outputs,p,c,C);const S=null===l||null===o||el(e)?null:k3(l,p,o);a.push(S)}null!==l&&(l.hasOwnProperty("class")&&(e.flags|=8),l.hasOwnProperty("style")&&(e.flags|=16)),e.initialInputs=a,e.inputs=l,e.outputs=c}(n,t,s)}function HM(n,e,t){const r=t.directiveStart,i=t.directiveEnd,s=t.index,o=function Eb(){return gt.lFrame.currentDirectiveIndex}();try{ll(s);for(let a=r;a<i;a++){const l=n.data[a],c=e[a];pg(a),(null!==l.hostBindings||0!==l.hostVars||null!==l.hostAttrs)&&D3(l,c)}}finally{ll(-1),pg(o)}}function D3(n,e){null!==n.hostBindings&&n.hostBindings(1,e)}function D0(n,e,t){e.componentOffset=t,(n.components??=[]).push(e.index)}function P3(n,e,t){if(t){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)t[e.exportAs[r]]=n;Ls(e)&&(t[""]=n)}}function N3(n,e,t,r,i){n.data[r]=i;const s=i.factory||(i.factory=Fs(i.type)),o=new qc(s,Ls(i),be);n.blueprint[r]=o,t[r]=o,function A3(n,e,t,r,i){const s=i.hostBindings;if(s){let o=n.hostBindingOpCodes;null===o&&(o=n.hostBindingOpCodes=[]);const a=~e.index;(function T3(n){let e=n.length;for(;e>0;){const t=n[--e];if("number"==typeof t&&t<0)return t}return 0})(o)!=a&&o.push(a),o.push(t,r,s)}}(n,e,r,$g(n,t,i.hostVars,It),i)}function ga(n,e,t,r,i,s){const o=ci(n,e);!function S0(n,e,t,r,i,s,o){if(null==s)n.removeAttribute(e,i,t);else{const a=null==o?ct(s):o(s,r||"",i);n.setAttribute(e,i,a,t)}}(e[pt],o,s,n.value,t,r,i)}function O3(n,e,t,r,i,s){const o=s[e];if(null!==o)for(let a=0;a<o.length;)VM(r,t,o[a++],o[a++],o[a++],o[a++])}function k3(n,e,t){let r=null,i=0;for(;i<t.length;){const s=t[i];if(0!==s)if(5!==s){if("number"==typeof s)break;if(n.hasOwnProperty(s)){null===r&&(r=[]);const o=n[s];for(let a=0;a<o.length;a+=3)if(o[a]===e){r.push(s,o[a+1],o[a+2],t[i+1]);break}}i+=2}else i+=2;else i+=4}return r}function qM(n,e,t,r){return[n,!0,0,e,null,r,null,t,null,null]}function GM(n,e){const t=n.contentQueries;if(null!==t){const r=Ge(null);try{for(let i=0;i<t.length;i+=2){const o=t[i+1];if(-1!==o){const a=n.data[o];mg(t[i]),a.contentQueries(2,e[o],o)}}}finally{Ge(r)}}}function Mv(n,e){return n[xc]?n[I_][ts]=e:n[xc]=e,n[I_]=e,e}function R0(n,e,t){mg(0);const r=Ge(null);try{e(n,t)}finally{Ge(r)}}function WM(n){return n[iu]||(n[iu]=[])}function KM(n){return n.cleanup||(n.cleanup=[])}function Nv(n,e){const t=n[xn],r=t?t.get(Us,null):null;r&&r.handleError(e)}function P0(n,e,t,r,i){for(let s=0;s<t.length;){const o=t[s++],a=t[s++],l=t[s++];VM(n.data[o],e[o],r,a,l,i)}}function F3(n,e){const t=Ii(e,n),r=t[Ce];!function V3(n,e){for(let t=e.length;t<n.blueprint.length;t++)e.push(n.blueprint[t])}(r,t);const i=t[bn];null!==i&&null===t[ns]&&(t[ns]=Zb(i,t[xn])),M0(r,t,t[Nn])}function M0(n,e,t){yg(e);try{const r=n.viewQuery;null!==r&&R0(1,r,t);const i=n.template;null!==i&&LM(n,e,i,1,t),n.firstCreatePass&&(n.firstCreatePass=!1),e[Ro]?.finishViewCreation(n),n.staticContentQueries&&GM(n,e),n.staticViewQueries&&R0(2,n.viewQuery,t);const s=n.components;null!==s&&function L3(n,e){for(let t=0;t<e.length;t++)F3(n,e[t])}(e,s)}catch(r){throw n.firstCreatePass&&(n.incompleteFirstPass=!0,n.firstCreatePass=!1),r}finally{e[Ye]&=-5,_g()}}function Gh(n,e){return!e||null===e.firstChild||uv(n)}function Hg(n,e,t,r=!0){const i=e[Ce];if(function n3(n,e,t,r){const i=Wn+r,s=t.length;r>0&&(t[i-1][ts]=e),r<s-Wn?(e[ts]=t[i],Ql(t,Wn+r,e)):(t.push(e),e[ts]=null),e[fr]=t;const o=e[Oc];null!==o&&t!==o&&function r3(n,e){const t=n[lu];e[An]!==e[fr][fr][An]&&(n[Ye]|=Xp.HasTransplantedViews),null===t?n[lu]=[e]:t.push(e)}(o,e);const a=e[Ro];null!==a&&a.insertView(n),du(e),e[Ye]|=128}(i,e,n,t),r){const o=v0(t,n),a=e[pt],l=Dv(a,n[ao]);null!==l&&function e3(n,e,t,r,i,s){r[bn]=i,r[Jr]=e,Rv(n,r,t,1,i,s)}(i,n[Jr],a,e,l,o)}const s=e[ns];null!==s&&null!==s.firstChild&&(s.firstChild=null)}function qg(n,e,t,r,i=!1){for(;null!==t;){const s=e[t.index];null!==s&&r.push(ln(s)),ui(s)&&JM(s,r);const o=t.type;if(8&o)qg(n,e,t.child,r);else if(32&o){const a=f0(t,e);let l;for(;l=a();)r.push(l)}else if(16&o){const a=PM(e,t);if(Array.isArray(a))r.push(...a);else{const l=ol(e[An]);qg(l[Ce],l,a,r,!0)}}t=i?t.projectionNext:t.next}return r}function JM(n,e){for(let t=Wn;t<n.length;t++){const r=n[t],i=r[Ce].firstChild;null!==i&&qg(r[Ce],r,i,e)}n[ao]!==n[bn]&&e.push(n[ao])}let ZM=[];const $3={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{},consumerIsAlwaysLive:!0,consumerMarkedDirty:n=>{$c(n.lView)},consumerOnSignalRead(){this.lView[rl]=this}},XM=100;function xv(n,e=!0,t=0){const r=n[Vs],i=r.rendererFactory;i.begin?.();try{!function z3(n,e){x0(n,e);let t=0;for(;cg(n);){if(t===XM)throw new J(103,!1);t++,x0(n,1)}}(n,t)}catch(o){throw e&&Nv(n,o),o}finally{i.end?.(),r.inlineEffectRunner?.flush()}}function H3(n,e,t,r){const i=e[Ye];if(!(256&~i))return;e[Vs].inlineEffectRunner?.flush(),yg(e);let o=null,a=null;(function q3(n){return 2!==n.type})(n)&&(a=function U3(n){return n[rl]??function B3(n){const e=ZM.pop()??Object.create($3);return e.lView=n,e}(n)}(e),o=function Dt(n){return n&&(n.nextProducerIndex=0),Ge(n)}(a));try{B_(e),function zc(n){return gt.lFrame.bindingIndex=n}(n.bindingStartIndex),null!==t&&LM(n,e,t,2,r);const l=!(3&~i);if(l){const m=n.preOrderCheckHooks;null!==m&&pu(e,m,null)}else{const m=n.preOrderHooks;null!==m&&gu(e,m,0,null),wg(e,0)}if(function G3(n){for(let e=NP(n);null!==e;e=xP(e)){if(!(e[Ye]&Xp.HasTransplantedViews))continue;const t=e[lu];for(let r=0;r<t.length;r++){db(t[r])}}}(e),eN(e,0),null!==n.contentQueries&&GM(n,e),l){const m=n.contentCheckHooks;null!==m&&pu(e,m)}else{const m=n.contentHooks;null!==m&&gu(e,m,1),wg(e,1)}!function h3(n,e){const t=n.hostBindingOpCodes;if(null!==t)try{for(let r=0;r<t.length;r++){const i=t[r];if(i<0)ll(~i);else{const s=i,o=t[++r],a=t[++r];wb(o,s),a(2,e[s])}}}finally{ll(-1)}}(n,e);const c=n.components;null!==c&&nN(e,c,0);const p=n.viewQuery;if(null!==p&&R0(2,p,r),l){const m=n.viewCheckHooks;null!==m&&pu(e,m)}else{const m=n.viewHooks;null!==m&&gu(e,m,2),wg(e,2)}if(!0===n.firstUpdatePass&&(n.firstUpdatePass=!1),e[vh]){for(const m of e[vh])m();e[vh]=null}e[Ye]&=-73}catch(l){throw $c(e),l}finally{null!==a&&(function ur(n,e){if(Ge(e),n&&void 0!==n.producerNode&&void 0!==n.producerIndexOfThis&&void 0!==n.producerLastReadVersion){if(on(n))for(let t=n.nextProducerIndex;t<n.producerNode.length;t++)zt(n.producerNode[t],n.producerIndexOfThis[t]);for(;n.producerNode.length>n.nextProducerIndex;)n.producerNode.pop(),n.producerLastReadVersion.pop(),n.producerIndexOfThis.pop()}}(a,o),function j3(n){n.lView[rl]!==n&&(n.lView=null,ZM.push(n))}(a)),_g()}}function eN(n,e){for(let t=NP(n);null!==t;t=xP(t))for(let r=Wn;r<t.length;r++)tN(t[r],e)}function W3(n,e,t){tN(Ii(e,n),t)}function tN(n,e){lg(n)&&x0(n,e)}function x0(n,e){const r=n[Ce],i=n[Ye],s=n[rl];let o=!!(0===e&&16&i);if(o||=!!(64&i&&0===e),o||=!!(1024&i),o||=!(!s?.dirty||!Hn(s)),s&&(s.dirty=!1),n[Ye]&=-9217,o)H3(r,n,r.template,n[Nn]);else if(8192&i){eN(n,1);const a=r.components;null!==a&&nN(n,a,1)}}function nN(n,e,t){for(let r=0;r<e.length;r++)W3(n,e[r],t)}function Gg(n){for(n[Vs].changeDetectionScheduler?.notify();n;){n[Ye]|=64;const e=ol(n);if(Vc(n)&&!e)return n;n=e}return null}class Wg{get rootNodes(){const e=this._lView,t=e[Ce];return qg(t,e,t.firstChild,[])}constructor(e,t,r=!0){this._lView=e,this._cdRefInjectingView=t,this.notifyErrorHandler=r,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[Nn]}set context(e){this._lView[Nn]=e}get destroyed(){return!(256&~this._lView[Ye])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const e=this._lView[fr];if(ui(e)){const t=e[8],r=t?t.indexOf(this):-1;r>-1&&(Ug(e,r),Ka(t,r))}this._attachedToViewContainer=!1}Cv(this._lView[Ce],this._lView)}onDestroy(e){Ih(this._lView,e)}markForCheck(){Gg(this._cdRefInjectingView||this._lView)}detach(){this._lView[Ye]&=-129}reattach(){du(this._lView),this._lView[Ye]|=128}detectChanges(){this._lView[Ye]|=1024,xv(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new J(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,EM(this._lView[Ce],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new J(902,!1);this._appRef=e,du(this._lView)}}let pl=(()=>{class n{static#e=this.__NG_ELEMENT_ID__=Y3}return n})();const K3=pl,Q3=class extends K3{constructor(e,t,r){super(),this._declarationLView=e,this._declarationTContainer=t,this.elementRef=r}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(e,t){return this.createEmbeddedViewImpl(e,t)}createEmbeddedViewImpl(e,t,r){const i=function zg(n,e,t,r){const i=Ge(null);try{const s=e.tView,l=Pv(n,s,t,4096&n[Ye]?4096:16,null,e,null,null,r?.injector??null,r?.embeddedViewInjector??null,r?.dehydratedView??null);l[Oc]=n[e.index];const p=n[Ro];return null!==p&&(l[Ro]=p.createEmbeddedView(s)),M0(s,l,t),l}finally{Ge(i)}}(this._declarationLView,this._declarationTContainer,e,{embeddedViewInjector:t,dehydratedView:r});return new Wg(i)}};function Y3(){return Ov(rn(),oe())}function Ov(n,e){return 4&n.type?new Q3(e,n,Lh(n,e)):null}class Uv{}class w5{}class uN{}class I5{resolveComponentFactory(e){throw function E5(n){const e=Error(`No component factory found for ${wn(n)}.`);return e.ngComponent=n,e}(e)}}let Bv=(()=>{class n{static#e=this.NULL=new I5}return n})();class U0{}let gl=(()=>{class n{constructor(){this.destroyNode=null}static#e=this.__NG_ELEMENT_ID__=()=>function b5(){const n=oe(),t=Ii(rn().index,n);return($r(t)?t:n)[pt]}()}return n})(),A5=(()=>{class n{static#e=this.\u0275prov=Ue({token:n,providedIn:"root",factory:()=>null})}return n})();const B0={},dN=new Set;function ma(n){dN.has(n)||(dN.add(n),performance?.mark?.("mark_feature_usage",{detail:{feature:n}}))}function hN(...n){}class Jt{constructor({enableLongStackTrace:e=!1,shouldCoalesceEventChangeDetection:t=!1,shouldCoalesceRunChangeDetection:r=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new _r(!1),this.onMicrotaskEmpty=new _r(!1),this.onStable=new _r(!1),this.onError=new _r(!1),typeof Zone>"u")throw new J(908,!1);Zone.assertZonePatched();const i=this;i._nesting=0,i._outer=i._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(i._inner=i._inner.fork(new Zone.TaskTrackingZoneSpec)),e&&Zone.longStackTraceZoneSpec&&(i._inner=i._inner.fork(Zone.longStackTraceZoneSpec)),i.shouldCoalesceEventChangeDetection=!r&&t,i.shouldCoalesceRunChangeDetection=r,i.lastRequestAnimationFrameId=-1,i.nativeRequestAnimationFrame=function T5(){const n="function"==typeof Ve.requestAnimationFrame;let e=Ve[n?"requestAnimationFrame":"setTimeout"],t=Ve[n?"cancelAnimationFrame":"clearTimeout"];if(typeof Zone<"u"&&e&&t){const r=e[Zone.__symbol__("OriginalDelegate")];r&&(e=r);const i=t[Zone.__symbol__("OriginalDelegate")];i&&(t=i)}return{nativeRequestAnimationFrame:e,nativeCancelAnimationFrame:t}}().nativeRequestAnimationFrame,function S5(n){const e=()=>{!function D5(n){n.isCheckStableRunning||-1!==n.lastRequestAnimationFrameId||(n.lastRequestAnimationFrameId=n.nativeRequestAnimationFrame.call(Ve,()=>{n.fakeTopEventTask||(n.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{n.lastRequestAnimationFrameId=-1,$0(n),n.isCheckStableRunning=!0,j0(n),n.isCheckStableRunning=!1},void 0,()=>{},()=>{})),n.fakeTopEventTask.invoke()}),$0(n))}(n)};n._inner=n._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(t,r,i,s,o,a)=>{if(function R5(n){return!(!Array.isArray(n)||1!==n.length)&&!0===n[0].data?.__ignore_ng_zone__}(a))return t.invokeTask(i,s,o,a);try{return fN(n),t.invokeTask(i,s,o,a)}finally{(n.shouldCoalesceEventChangeDetection&&"eventTask"===s.type||n.shouldCoalesceRunChangeDetection)&&e(),pN(n)}},onInvoke:(t,r,i,s,o,a,l)=>{try{return fN(n),t.invoke(i,s,o,a,l)}finally{n.shouldCoalesceRunChangeDetection&&e(),pN(n)}},onHasTask:(t,r,i,s)=>{t.hasTask(i,s),r===i&&("microTask"==s.change?(n._hasPendingMicrotasks=s.microTask,$0(n),j0(n)):"macroTask"==s.change&&(n.hasPendingMacrotasks=s.macroTask))},onHandleError:(t,r,i,s)=>(t.handleError(i,s),n.runOutsideAngular(()=>n.onError.emit(s)),!1)})}(i)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Jt.isInAngularZone())throw new J(909,!1)}static assertNotInAngularZone(){if(Jt.isInAngularZone())throw new J(909,!1)}run(e,t,r){return this._inner.run(e,t,r)}runTask(e,t,r,i){const s=this._inner,o=s.scheduleEventTask("NgZoneEvent: "+i,e,C5,hN,hN);try{return s.runTask(o,t,r)}finally{s.cancelTask(o)}}runGuarded(e,t,r){return this._inner.runGuarded(e,t,r)}runOutsideAngular(e){return this._outer.run(e)}}const C5={};function j0(n){if(0==n._nesting&&!n.hasPendingMicrotasks&&!n.isStable)try{n._nesting++,n.onMicrotaskEmpty.emit(null)}finally{if(n._nesting--,!n.hasPendingMicrotasks)try{n.runOutsideAngular(()=>n.onStable.emit(null))}finally{n.isStable=!0}}}function $0(n){n.hasPendingMicrotasks=!!(n._hasPendingMicrotasks||(n.shouldCoalesceEventChangeDetection||n.shouldCoalesceRunChangeDetection)&&-1!==n.lastRequestAnimationFrameId)}function fN(n){n._nesting++,n.isStable&&(n.isStable=!1,n.onUnstable.emit(null))}function pN(n){n._nesting--,j0(n)}class gN{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new _r,this.onMicrotaskEmpty=new _r,this.onStable=new _r,this.onError=new _r}run(e,t,r){return e.apply(t,r)}runGuarded(e,t,r){return e.apply(t,r)}runOutsideAngular(e){return e()}runTask(e,t,r,i){return e.apply(t,r)}}var Xc=function(n){return n[n.EarlyRead=0]="EarlyRead",n[n.Write=1]="Write",n[n.MixedReadWrite=2]="MixedReadWrite",n[n.Read=3]="Read",n}(Xc||{});const mN={destroy(){}};function H0(n,e){!e&&function la(n){if(!__())throw new J(-203,!1)}();const t=e?.injector??ye(Lt);if(!function xo(n){return"browser"===(n??ye(Lt)).get(No)}(t))return mN;ma("NgAfterNextRender");const r=t.get(Zg),i=r.handler??=new _N,s=e?.phase??Xc.MixedReadWrite,o=()=>{i.unregister(l),a()},a=t.get(fa).onDestroy(o),l=oo(t,()=>new yN(s,()=>{o(),n()}));return i.register(l),{destroy:o}}class yN{constructor(e,t){this.phase=e,this.callbackFn=t,this.zone=ye(Jt),this.errorHandler=ye(Us,{optional:!0}),ye(Uv,{optional:!0})?.notify(1)}invoke(){try{this.zone.runOutsideAngular(this.callbackFn)}catch(e){this.errorHandler?.handleError(e)}}}class _N{constructor(){this.executingCallbacks=!1,this.buckets={[Xc.EarlyRead]:new Set,[Xc.Write]:new Set,[Xc.MixedReadWrite]:new Set,[Xc.Read]:new Set},this.deferredCallbacks=new Set}register(e){(this.executingCallbacks?this.deferredCallbacks:this.buckets[e.phase]).add(e)}unregister(e){this.buckets[e.phase].delete(e),this.deferredCallbacks.delete(e)}execute(){this.executingCallbacks=!0;for(const e of Object.values(this.buckets))for(const t of e)t.invoke();this.executingCallbacks=!1;for(const e of this.deferredCallbacks)this.buckets[e.phase].add(e);this.deferredCallbacks.clear()}destroy(){for(const e of Object.values(this.buckets))e.clear();this.deferredCallbacks.clear()}}let Zg=(()=>{class n{constructor(){this.handler=null,this.internalCallbacks=[]}execute(){this.executeInternalCallbacks(),this.handler?.execute()}executeInternalCallbacks(){const t=[...this.internalCallbacks];this.internalCallbacks.length=0;for(const r of t)r()}ngOnDestroy(){this.handler?.destroy(),this.handler=null,this.internalCallbacks.length=0}static#e=this.\u0275prov=Ue({token:n,providedIn:"root",factory:()=>new n})}return n})();function $v(n,e,t){let r=t?n.styles:null,i=t?n.classes:null,s=0;if(null!==e)for(let o=0;o<e.length;o++){const a=e[o];"number"==typeof a?s=a:1==s?i=nn(i,a):2==s&&(r=nn(r,a+": "+e[++o]+";"))}t?n.styles=r:n.stylesWithoutHost=r,t?n.classes=i:n.classesWithoutHost=i}class EN extends Bv{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){const t=yt(e);return new tm(t,this.ngModule)}}function IN(n){const e=[];for(const t in n){if(!n.hasOwnProperty(t))continue;const r=n[t];void 0!==r&&e.push({propName:Array.isArray(r)?r[0]:r,templateName:t})}return e}class zv{constructor(e,t){this.injector=e,this.parentInjector=t}get(e,t,r){r=ta(r);const i=this.injector.get(e,B0,r);return i!==B0||t===B0?i:this.parentInjector.get(e,t,r)}}class tm extends uN{get inputs(){const e=this.componentDef,t=e.inputTransforms,r=IN(e.inputs);if(null!==t)for(const i of r)t.hasOwnProperty(i.propName)&&(i.transform=t[i.propName]);return r}get outputs(){return IN(this.componentDef.outputs)}constructor(e,t){super(),this.componentDef=e,this.ngModule=t,this.componentType=e.type,this.selector=function uh(n){return n.map(Sc).join(",")}(e.selectors),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!t}create(e,t,r,i){const s=Ge(null);try{let o=(i=i||this.ngModule)instanceof Yr?i:i?.injector;o&&null!==this.componentDef.getStandaloneInjector&&(o=this.componentDef.getStandaloneInjector(o)||o);const a=o?new zv(e,o):e,l=a.get(U0,null);if(null===l)throw new J(407,!1);const c=a.get(A5,null),w={rendererFactory:l,sanitizer:c,inlineEffectRunner:null,afterRenderEventManager:a.get(Zg,null),changeDetectionScheduler:a.get(Uv,null)},b=l.createRenderer(null,this.componentDef),C=this.componentDef.selectors[0][0]||"div",S=r?function p3(n,e,t,r){const s=r.get(YP,!1)||t===ms.ShadowDom,o=n.selectRootElement(e,s);return function g3(n){BM(n)}(o),o}(b,r,this.componentDef.encapsulation,a):Tv(b,C,function O5(n){const e=n.toLowerCase();return"svg"===e?"svg":"math"===e?"math":null}(C));let P=512;this.componentDef.signals?P|=4096:this.componentDef.onPush||(P|=16);let L=null;null!==S&&(L=Zb(S,a,!0));const j=T0(0,null,null,1,0,null,null,null,null,null,null),G=Pv(null,j,null,P,null,null,w,b,a,null,L);let ue,Te;yg(G);try{const Me=this.componentDef;let V,N=null;Me.findHostDirectiveDefs?(V=[],N=new Map,Me.findHostDirectiveDefs(Me,V,N),V.push(Me)):V=[Me];const U=function F5(n,e){const t=n[Ce],r=_t;return n[r]=e,qh(t,r,2,"#host",null)}(G,S),z=function V5(n,e,t,r,i,s,o){const a=i[Ce];!function L5(n,e,t,r){for(const i of n)e.mergedAttrs=Xa(e.mergedAttrs,i.hostAttrs);null!==e.mergedAttrs&&($v(e,e.mergedAttrs,!0),null!==t&&OM(r,t,e))}(r,n,e,o);let l=null;null!==e&&(l=Zb(e,i[xn]));const c=s.rendererFactory.createRenderer(e,t);let p=16;t.signals?p=4096:t.onPush&&(p=64);const m=Pv(i,UM(t),null,p,i[n.index],n,s,c,null,null,l);return a.firstCreatePass&&D0(a,n,r.length-1),Mv(i,m),i[n.index]=m}(U,S,Me,V,G,w,b);Te=jc(j,_t),S&&function B5(n,e,t,r){if(r)Ja(n,t,["ng-version","17.3.12"]);else{const{attrs:i,classes:s}=function Rc(n){const e=[],t=[];let r=1,i=2;for(;r<n.length;){let s=n[r];if("string"==typeof s)2===i?""!==s&&e.push(s,n[++r]):8===i&&t.push(s);else{if(!Ei(i))break;i=s}r++}return{attrs:e,classes:t}}(e.selectors[0]);i&&Ja(n,t,i),s&&s.length>0&&xM(n,t,s.join(" "))}}(b,Me,S,r),void 0!==t&&function j5(n,e,t){const r=n.projection=[];for(let i=0;i<e.length;i++){const s=t[i];r.push(null!=s?Array.from(s):null)}}(Te,this.ngContentSelectors,t),ue=function U5(n,e,t,r,i,s){const o=rn(),a=i[Ce],l=ci(o,i);zM(a,i,o,t,null,r);for(let p=0;p<t.length;p++)Ni(cl(i,a,o.directiveStart+p,o),i);HM(a,i,o),l&&Ni(l,i);const c=cl(i,a,o.directiveStart+o.componentOffset,o);if(n[Nn]=i[Nn]=c,null!==s)for(const p of s)p(c,e);return I0(a,o,i),c}(z,Me,V,N,G,[$5]),M0(j,G,null)}finally{_g()}return new k5(this.componentType,ue,Lh(Te,G),G,Te)}finally{Ge(s)}}}class k5 extends w5{constructor(e,t,r,i,s){super(),this.location=r,this._rootLView=i,this._tNode=s,this.previousInputValues=null,this.instance=t,this.hostView=this.changeDetectorRef=new Wg(i,void 0,!1),this.componentType=e}setInput(e,t){const r=this._tNode.inputs;let i;if(null!==r&&(i=r[e])){if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),t))return;const s=this._rootLView;P0(s[Ce],s,i,e,t),this.previousInputValues.set(e,t),Gg(Ii(this._tNode.index,s))}}get injector(){return new Dr(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}}function $5(){const n=rn();Rh(oe()[Ce],n)}let Oo=(()=>{class n{static#e=this.__NG_ELEMENT_ID__=z5}return n})();function z5(){return TN(rn(),oe())}const H5=Oo,bN=class extends H5{constructor(e,t,r){super(),this._lContainer=e,this._hostTNode=t,this._hostLView=r}get element(){return Lh(this._hostTNode,this._hostLView)}get injector(){return new Dr(this._hostTNode,this._hostLView)}get parentInjector(){const e=xh(this._hostTNode,this._hostLView);if(Mh(e)){const t=Wc(e,this._hostLView),r=Gc(e);return new Dr(t[Ce].data[r+8],t)}return new Dr(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){const t=AN(this._lContainer);return null!==t&&t[e]||null}get length(){return this._lContainer.length-Wn}createEmbeddedView(e,t,r){let i,s;"number"==typeof r?i=r:null!=r&&(i=r.index,s=r.injector);const a=e.createEmbeddedViewImpl(t||{},s,null);return this.insertImpl(a,i,Gh(this._hostTNode,null)),a}createComponent(e,t,r,i,s){const o=e&&!function Mc(n){return"function"==typeof n}(e);let a;if(o)a=t;else{const C=t||{};a=C.index,r=C.injector,i=C.projectableNodes,s=C.environmentInjector||C.ngModuleRef}const l=o?e:new tm(yt(e)),c=r||this.parentInjector;if(!s&&null==l.ngModule){const S=(o?c:this.parentInjector).get(Yr,null);S&&(s=S)}yt(l.componentType??{});const b=l.create(c,i,null,s);return this.insertImpl(b.hostView,a,Gh(this._hostTNode,null)),b}insert(e,t){return this.insertImpl(e,t,!0)}insertImpl(e,t,r){const i=e._lView;if(function cb(n){return ui(n[fr])}(i)){const a=this.indexOf(e);if(-1!==a)this.detach(a);else{const l=i[fr],c=new bN(l,l[Jr],l[fr]);c.detach(c.indexOf(e))}}const s=this._adjustIndex(t),o=this._lContainer;return Hg(o,i,s,r),e.attachToViewContainerRef(),Ql(W0(o),s,e),e}move(e,t){return this.insert(e,t)}indexOf(e){const t=AN(this._lContainer);return null!==t?t.indexOf(e):-1}remove(e){const t=this._adjustIndex(e,-1),r=Ug(this._lContainer,t);r&&(Ka(W0(this._lContainer),t),Cv(r[Ce],r))}detach(e){const t=this._adjustIndex(e,-1),r=Ug(this._lContainer,t);return r&&null!=Ka(W0(this._lContainer),t)?new Wg(r):null}_adjustIndex(e,t=0){return e??this.length+t}};function AN(n){return n[8]}function W0(n){return n[8]||(n[8]=[])}function TN(n,e){let t;const r=e[n.index];return ui(r)?t=r:(t=qM(r,e,null,n),e[n.index]=t,Mv(e,t)),CN(t,e,n,r),new bN(t,n,e)}let CN=function SN(n,e,t,r){if(n[ao])return;let i;i=8&t.type?ln(r):function q5(n,e){const t=n[pt],r=t.createComment(""),i=ci(e,n);return Zc(t,Dv(t,i),r,function a3(n,e){return n.nextSibling(e)}(t,i),!1),r}(e,t),n[ao]=i},K0=()=>!1;class Q0{constructor(e){this.queryList=e,this.matches=null}clone(){return new Q0(this.queryList)}setDirty(){this.queryList.setDirty()}}class Y0{constructor(e=[]){this.queries=e}createEmbeddedView(e){const t=e.queries;if(null!==t){const r=null!==e.contentQueries?e.contentQueries[0]:t.length,i=[];for(let s=0;s<r;s++){const o=t.getByIndex(s);i.push(this.queries[o.indexInDeclarationView].clone())}return new Y0(i)}return null}insertView(e){this.dirtyQueriesWithMatches(e)}detachView(e){this.dirtyQueriesWithMatches(e)}finishViewCreation(e){this.dirtyQueriesWithMatches(e)}dirtyQueriesWithMatches(e){for(let t=0;t<this.queries.length;t++)null!==tA(e,t).matches&&this.queries[t].setDirty()}}class RN{constructor(e,t,r=null){this.flags=t,this.read=r,this.predicate="string"==typeof e?function X5(n){return n.split(",").map(e=>e.trim())}(e):e}}class J0{constructor(e=[]){this.queries=e}elementStart(e,t){for(let r=0;r<this.queries.length;r++)this.queries[r].elementStart(e,t)}elementEnd(e){for(let t=0;t<this.queries.length;t++)this.queries[t].elementEnd(e)}embeddedTView(e){let t=null;for(let r=0;r<this.length;r++){const i=null!==t?t.length:0,s=this.getByIndex(r).embeddedTView(e,i);s&&(s.indexInDeclarationView=r,null!==t?t.push(s):t=[s])}return null!==t?new J0(t):null}template(e,t){for(let r=0;r<this.queries.length;r++)this.queries[r].template(e,t)}getByIndex(e){return this.queries[e]}get length(){return this.queries.length}track(e){this.queries.push(e)}}class Z0{constructor(e,t=-1){this.metadata=e,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=t}elementStart(e,t){this.isApplyingToNode(t)&&this.matchTNode(e,t)}elementEnd(e){this._declarationNodeIndex===e.index&&(this._appliesToNextNode=!1)}template(e,t){this.elementStart(e,t)}embeddedTView(e,t){return this.isApplyingToNode(e)?(this.crossesNgTemplate=!0,this.addMatch(-e.index,t),new Z0(this.metadata)):null}isApplyingToNode(e){if(this._appliesToNextNode&&1&~this.metadata.flags){const t=this._declarationNodeIndex;let r=e.parent;for(;null!==r&&8&r.type&&r.index!==t;)r=r.parent;return t===(null!==r?r.index:-1)}return this._appliesToNextNode}matchTNode(e,t){const r=this.metadata.predicate;if(Array.isArray(r))for(let i=0;i<r.length;i++){const s=r[i];this.matchTNodeWithReadOption(e,t,Q5(t,s)),this.matchTNodeWithReadOption(e,t,Oh(t,e,s,!1,!1))}else r===pl?4&t.type&&this.matchTNodeWithReadOption(e,t,-1):this.matchTNodeWithReadOption(e,t,Oh(t,e,r,!1,!1))}matchTNodeWithReadOption(e,t,r){if(null!==r){const i=this.metadata.read;if(null!==i)if(i===Bs||i===Oo||i===pl&&4&t.type)this.addMatch(t.index,-2);else{const s=Oh(t,e,i,!1,!1);null!==s&&this.addMatch(t.index,s)}else this.addMatch(t.index,r)}}addMatch(e,t){null===this.matches?this.matches=[e,t]:this.matches.push(e,t)}}function Q5(n,e){const t=n.localNames;if(null!==t)for(let r=0;r<t.length;r+=2)if(t[r]===e)return t[r+1];return null}function J5(n,e,t,r){return-1===t?function Y5(n,e){return 11&n.type?Lh(n,e):4&n.type?Ov(n,e):null}(e,n):-2===t?function Z5(n,e,t){return t===Bs?Lh(e,n):t===pl?Ov(e,n):t===Oo?TN(e,n):void 0}(n,e,r):cl(n,n[Ce],t,e)}function PN(n,e,t,r){const i=e[Ro].queries[r];if(null===i.matches){const s=n.data,o=t.matches,a=[];for(let l=0;null!==o&&l<o.length;l+=2){const c=o[l];a.push(c<0?null:J5(e,s[c],o[l+1],t.metadata.read))}i.matches=a}return i.matches}function X0(n,e,t,r){const i=n.queries.getByIndex(t),s=i.matches;if(null!==s){const o=PN(n,e,i,t);for(let a=0;a<s.length;a+=2){const l=s[a];if(l>0)r.push(o[a/2]);else{const c=s[a+1],p=e[-l];for(let m=Wn;m<p.length;m++){const w=p[m];w[Oc]===w[fr]&&X0(w[Ce],w,c,r)}if(null!==p[lu]){const m=p[lu];for(let w=0;w<m.length;w++){const b=m[w];X0(b[Ce],b,c,r)}}}}}return r}function NN(n,e,t){const r=Vt();return r.firstCreatePass&&(function ON(n,e,t){null===n.queries&&(n.queries=new J0),n.queries.track(new Z0(e,t))}(r,new RN(n,e,t),-1),!(2&~e)&&(r.staticViewQueries=!0)),function MN(n,e,t){const r=new Bb(!(4&~t));return function _3(n,e,t,r){const i=WM(e);i.push(t),n.firstCreatePass&&KM(n).push(r,i.length-1)}(n,e,r,r.destroy),(e[Ro]??=new Y0).queries.push(new Q0(r))-1}(r,oe(),e)}function tA(n,e){return n.queries.getByIndex(e)}function kN(n,e){const t=n[Ce],r=tA(t,e);return r.crossesNgTemplate?X0(t,n,e,[]):PN(t,n,r,e)}function En(n){let e=function QN(n){return Object.getPrototypeOf(n.prototype).constructor}(n.type),t=!0;const r=[n];for(;e;){let i;if(Ls(n))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new J(903,!1);i=e.\u0275dir}if(i){if(t){r.push(i);const o=n;o.inputs=qv(n.inputs),o.inputTransforms=qv(n.inputTransforms),o.declaredInputs=qv(n.declaredInputs),o.outputs=qv(n.outputs);const a=i.hostBindings;a&&gq(n,a);const l=i.viewQuery,c=i.contentQueries;if(l&&fq(n,l),c&&pq(n,c),dq(n,i),si(n.outputs,i.outputs),Ls(i)&&i.data.animation){const p=n.data;p.animation=(p.animation||[]).concat(i.data.animation)}}const s=i.features;if(s)for(let o=0;o<s.length;o++){const a=s[o];a&&a.ngInherit&&a(n),a===En&&(t=!1)}}e=Object.getPrototypeOf(e)}!function hq(n){let e=0,t=null;for(let r=n.length-1;r>=0;r--){const i=n[r];i.hostVars=e+=i.hostVars,i.hostAttrs=Xa(i.hostAttrs,t=Xa(t,i.hostAttrs))}}(r)}function dq(n,e){for(const t in e.inputs){if(!e.inputs.hasOwnProperty(t)||n.inputs.hasOwnProperty(t))continue;const r=e.inputs[t];if(void 0!==r&&(n.inputs[t]=r,n.declaredInputs[t]=e.declaredInputs[t],null!==e.inputTransforms)){const i=Array.isArray(r)?r[0]:r;if(!e.inputTransforms.hasOwnProperty(i))continue;n.inputTransforms??={},n.inputTransforms[i]=e.inputTransforms[i]}}}function qv(n){return n===wi?{}:n===Ft?[]:n}function fq(n,e){const t=n.viewQuery;n.viewQuery=t?(r,i)=>{e(r,i),t(r,i)}:e}function pq(n,e){const t=n.contentQueries;n.contentQueries=t?(r,i,s)=>{e(r,i,s),t(r,i,s)}:e}function gq(n,e){const t=n.hostBindings;n.hostBindings=t?(r,i)=>{e(r,i),t(r,i)}:e}class ed{}class ex{}class rA extends ed{constructor(e,t,r){super(),this._parent=t,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new EN(this);const i=jr(e);this._bootstrapComponents=js(i.bootstrap),this._r3Injector=He(e,t,[{provide:ed,useValue:this},{provide:Bv,useValue:this.componentFactoryResolver},...r],wn(e),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(e)}get injector(){return this._r3Injector}destroy(){const e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(t=>t()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}}class iA extends ex{constructor(e){super(),this.moduleType=e}create(e){return new rA(this.moduleType,e,[])}}class tx extends ed{constructor(e){super(),this.componentFactoryResolver=new EN(this),this.instance=null;const t=new aa([...e.providers,{provide:ed,useValue:this},{provide:Bv,useValue:this.componentFactoryResolver}],e.parent||ph(),e.debugName,new Set(["environment"]));this.injector=t,e.runEnvironmentInitializers&&t.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}}function Gv(n,e,t=null){return new tx({providers:n,parent:e,debugName:t,runEnvironmentInitializers:!0}).injector}let Iu=(()=>{class n{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new $(!1)}get _hasPendingTasks(){return this.hasPendingTasks.value}add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);const t=this.taskId++;return this.pendingTasks.add(t),t}remove(t){this.pendingTasks.delete(t),0===this.pendingTasks.size&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=Ue({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function Sr(n,e,t){return!Object.is(n[e],t)&&(n[e]=t,!0)}function Qh(n,e,t,r,i,s,o,a){const l=oe(),c=Vt(),p=n+_t,m=c.firstCreatePass?function Sq(n,e,t,r,i,s,o,a,l){const c=e.consts,p=qh(e,n,4,o||null,ws(c,a));C0(e,t,p,ws(c,l)),Rh(e,p);const m=p.tView=T0(2,p,r,i,s,e.directiveRegistry,e.pipeRegistry,null,e.schemas,c,null);return null!==e.queries&&(e.queries.template(e,p),m.queries=e.queries.embeddedTView(p)),p}(p,c,l,e,t,r,i,s,o):c.data[p];uo(m,!1);const w=nx(c,l,m,n);fu()&&Sv(c,l,w,m),Ni(w,l);const b=qM(w,l,w,m);return l[p]=b,Mv(l,b),function DN(n,e,t){return K0(n,e,t)}(b,m,l),uu(m)&&b0(c,l,m),null!=o&&A0(l,m,a),Qh}let nx=function rx(n,e,t,r){return Is(!0),e[pt].createComment("")};function _a(n,e,t,r){const i=oe();return Sr(i,Es(),e)&&(Vt(),ga(Tn(),i,n,e,t,r)),_a}function tw(n,e){return n<<17|e<<2}function Au(n){return n>>17&32767}function gA(n){return 2|n}function rd(n){return(131068&n)>>2}function mA(n,e){return-131069&n|e<<2}function yA(n){return 1|n}function Ox(n,e,t,r){const i=n[t+1],s=null===e;let o=r?Au(i):rd(i),a=!1;for(;0!==o&&(!1===a||s);){const c=n[o+1];pG(n[o],e)&&(a=!0,n[o+1]=r?yA(c):gA(c)),o=r?Au(c):rd(c)}a&&(n[t+1]=r?gA(i):yA(i))}function pG(n,e){return null===n||null==e||(Array.isArray(n)?n[1]:n)===e||!(!Array.isArray(n)||"string"!=typeof e)&&es(n,e)>=0}function id(n,e,t){const r=oe();return Sr(r,Es(),e)&&function Ts(n,e,t,r,i,s,o,a){const l=ci(e,t);let p,c=e.inputs;!a&&null!=c&&(p=c[r])?(P0(n,t,p,r,i),lo(e)&&function I3(n,e){const t=Ii(e,n);16&t[Ye]||(t[Ye]|=64)}(t,e.index)):3&e.type&&(r=function E3(n){return"class"===n?"className":"for"===n?"htmlFor":"formaction"===n?"formAction":"innerHtml"===n?"innerHTML":"readonly"===n?"readOnly":"tabindex"===n?"tabIndex":n}(r),i=null!=o?o(i,e.value||"",r):i,s.setProperty(l,r,i))}(Vt(),Tn(),r,n,e,r[pt],t,!1),id}function _A(n,e,t,r,i){const o=i?"class":"style";P0(n,t,e.inputs[o],o,r)}function ml(n,e){return function ko(n,e,t,r){const i=oe(),s=Vt(),o=function ho(n){const e=gt.lFrame,t=e.bindingIndex;return e.bindingIndex=e.bindingIndex+n,t}(2);s.firstUpdatePass&&function zx(n,e,t,r){const i=n.data;if(null===i[t+1]){const s=i[zr()],o=function $x(n,e){return e>=n.expandoStartIndex}(n,t);(function Wx(n,e){return!!(n.flags&(e?8:16))})(s,r)&&null===e&&!o&&(e=!1),e=function bG(n,e,t,r){const i=function Ch(n){const e=gt.lFrame.currentDirectiveIndex;return-1===e?null:n[e]}(n);let s=r?e.residualClasses:e.residualStyles;if(null===i)0===(r?e.classBindings:e.styleBindings)&&(t=lm(t=vA(null,n,e,t,r),e.attrs,r),s=null);else{const o=e.directiveStylingLast;if(-1===o||n[o]!==i)if(t=vA(i,n,e,t,r),null===s){let l=function AG(n,e,t){const r=t?e.classBindings:e.styleBindings;if(0!==rd(r))return n[Au(r)]}(n,e,r);void 0!==l&&Array.isArray(l)&&(l=vA(null,n,e,l[1],r),l=lm(l,e.attrs,r),function TG(n,e,t,r){n[Au(t?e.classBindings:e.styleBindings)]=r}(n,e,r,l))}else s=function CG(n,e,t){let r;const i=e.directiveEnd;for(let s=1+e.directiveStylingLast;s<i;s++)r=lm(r,n[s].hostAttrs,t);return lm(r,e.attrs,t)}(n,e,r)}return void 0!==s&&(r?e.residualClasses=s:e.residualStyles=s),t}(i,s,e,r),function hG(n,e,t,r,i,s){let o=s?e.classBindings:e.styleBindings,a=Au(o),l=rd(o);n[r]=t;let p,c=!1;if(Array.isArray(t)?(p=t[1],(null===p||es(t,p)>0)&&(c=!0)):p=t,i)if(0!==l){const w=Au(n[a+1]);n[r+1]=tw(w,a),0!==w&&(n[w+1]=mA(n[w+1],r)),n[a+1]=function cG(n,e){return 131071&n|e<<17}(n[a+1],r)}else n[r+1]=tw(a,0),0!==a&&(n[a+1]=mA(n[a+1],r)),a=r;else n[r+1]=tw(l,0),0===a?a=r:n[l+1]=mA(n[l+1],r),l=r;c&&(n[r+1]=gA(n[r+1])),Ox(n,p,r,!0),Ox(n,p,r,!1),function fG(n,e,t,r,i){const s=i?n.residualClasses:n.residualStyles;null!=s&&"string"==typeof e&&es(s,e)>=0&&(t[r+1]=yA(t[r+1]))}(e,p,n,r,s),o=tw(a,l),s?e.classBindings=o:e.styleBindings=o}(i,s,e,t,o,r)}}(s,n,o,r),e!==It&&Sr(i,o,e)&&function qx(n,e,t,r,i,s,o,a){if(!(3&e.type))return;const l=n.data,c=l[a+1],p=function dG(n){return!(1&~n)}(c)?Gx(l,e,t,i,rd(c),o):void 0;nw(p)||(nw(s)||function uG(n){return!(2&~n)}(c)&&(s=Gx(l,null,t,i,a,o)),function c3(n,e,t,r,i){if(e)i?n.addClass(t,r):n.removeClass(t,r);else{let s=-1===r.indexOf("-")?void 0:vu.DashCase;null==i?n.removeStyle(t,r,s):("string"==typeof i&&i.endsWith("!important")&&(i=i.slice(0,-10),s|=vu.Important),n.setStyle(t,r,i,s))}}(r,o,function cu(n,e){return ln(e[n])}(zr(),t),i,s))}(s,s.data[zr()],i,i[pt],n,i[o+1]=function PG(n,e){return null==n||""===n||("string"==typeof e?n+=e:"object"==typeof n&&(n=wn(function _u(n){return n instanceof tM?n.changingThisBreaksApplicationSecurity:n}(n)))),n}(e,t),r,o)}(n,e,null,!0),ml}function vA(n,e,t,r,i){let s=null;const o=t.directiveEnd;let a=t.directiveStylingLast;for(-1===a?a=t.directiveStart:a++;a<o&&(s=e[a],r=lm(r,s.hostAttrs,i),s!==n);)a++;return null!==n&&(t.directiveStylingLast=a),r}function lm(n,e,t){const r=t?1:2;let i=-1;if(null!==e)for(let s=0;s<e.length;s++){const o=e[s];"number"==typeof o?i=o:i===r&&(Array.isArray(n)||(n=void 0===n?[]:["",n]),vi(n,o,!!t||e[++s]))}return void 0===n?null:n}function Gx(n,e,t,r,i,s){const o=null===e;let a;for(;i>0;){const l=n[i],c=Array.isArray(l),p=c?l[1]:l,m=null===p;let w=t[i+1];w===It&&(w=m?Ft:void 0);let b=m?Qa(w,r):p===r?w:void 0;if(c&&!nw(b)&&(b=Qa(l,r)),nw(b)&&(a=b,o))return a;const C=n[i+1];i=o?Au(C):rd(C)}if(null!==e){let l=s?e.residualClasses:e.residualStyles;null!=l&&(a=Qa(l,r))}return a}function nw(n){return void 0!==n}function _e(n,e,t,r){const i=oe(),s=Vt(),o=_t+n,a=i[pt],l=s.firstCreatePass?function XG(n,e,t,r,i,s){const o=e.consts,l=qh(e,n,2,r,ws(o,i));return C0(e,t,l,ws(o,s)),null!==l.attrs&&$v(l,l.attrs,!1),null!==l.mergedAttrs&&$v(l,l.mergedAttrs,!0),null!==e.queries&&e.queries.elementStart(e,l),l}(o,s,i,e,t,r):s.data[o],c=Jx(s,i,l,a,e,n);i[o]=c;const p=uu(l);return uo(l,!0),OM(a,c,l),!function im(n){return!(32&~n.flags)}(l)&&fu()&&Sv(s,i,c,l),0===function hb(){return gt.lFrame.elementDepthCount}()&&Ni(c,i),function hg(){gt.lFrame.elementDepthCount++}(),p&&(b0(s,i,l),I0(s,l,i)),null!==r&&A0(i,l),_e}function ge(){let n=rn();Ah()?function Th(){gt.lFrame.isParent=!1}():(n=n.parent,uo(n,!1));const e=n;(function pb(n){return gt.skipHydrationRootTNode===n})(e)&&function yb(){gt.skipHydrationRootTNode=null}(),function fb(){gt.lFrame.elementDepthCount--}();const t=Vt();return t.firstCreatePass&&(Rh(t,n),Fc(n)&&t.queries.elementEnd(n)),null!=e.classesWithoutHost&&function Pb(n){return!!(8&n.flags)}(e)&&_A(t,e,oe(),e.classesWithoutHost,!0),null!=e.stylesWithoutHost&&function Mb(n){return!!(16&n.flags)}(e)&&_A(t,e,oe(),e.stylesWithoutHost,!1),ge}function On(n,e,t,r){return _e(n,e,t,r),ge(),On}let Jx=(n,e,t,r,i,s)=>(Is(!0),Tv(r,i,function Q_(){return gt.lFrame.currentNamespace}()));const gf="en-US";let s1=gf;function Hr(n,e,t,r){const i=oe(),s=Vt(),o=rn();return function SA(n,e,t,r,i,s,o){const a=uu(r),c=n.firstCreatePass&&KM(n),p=e[Nn],m=WM(e);let w=!0;if(3&r.type||o){const S=ci(r,e),P=o?o(S):S,L=m.length,j=o?ue=>o(ln(ue[r.index])):r.index;let G=null;if(!o&&a&&(G=function rW(n,e,t,r){const i=n.cleanup;if(null!=i)for(let s=0;s<i.length-1;s+=2){const o=i[s];if(o===t&&i[s+1]===r){const a=e[iu],l=i[s+2];return a.length>l?a[l]:null}"string"==typeof o&&(s+=2)}return null}(n,e,i,r.index)),null!==G)(G.__ngLastListenerFn__||G).__ngNextListenerFn__=s,G.__ngLastListenerFn__=s,w=!1;else{s=x1(r,e,p,s,!1);const ue=t.listen(P,i,s);m.push(s,ue),c&&c.push(i,j,L,L+1)}}else s=x1(r,e,p,s,!1);const b=r.outputs;let C;if(w&&null!==b&&(C=b[i])){const S=C.length;if(S)for(let P=0;P<S;P+=2){const Te=e[C[P]][C[P+1]].subscribe(s),Me=m.length;m.push(s,Te),c&&c.push(i,r.index,Me,-(Me+1))}}}(s,i,i[pt],o,n,e,r),Hr}function N1(n,e,t,r){const i=Ge(null);try{return vs(6,e,t),!1!==t(r)}catch(s){return Nv(n,s),!1}finally{vs(7,e,t),Ge(i)}}function x1(n,e,t,r,i){return function s(o){if(o===Function)return r;Gg(n.componentOffset>-1?Ii(n.index,e):e);let l=N1(e,t,r,o),c=s.__ngNextListenerFn__;for(;c;)l=N1(e,t,c,o)&&l,c=c.__ngNextListenerFn__;return i&&!1===l&&o.preventDefault(),l}}function O1(n=1){return function bb(n){return(gt.lFrame.contextLView=function ug(n,e){for(;n>0;)e=e[su],n--;return e}(n,gt.lFrame.contextLView))[Nn]}(n)}function MA(){return function eA(n,e){return n[Ro].queries[e].queryList}(oe(),gg())}function Ie(n,e=""){const t=oe(),r=Vt(),i=n+_t,s=r.firstCreatePass?qh(r,i,1,e,null):r.data[i],o=tO(r,t,s,e,n);t[i]=o,fu()&&Sv(r,t,o,s),uo(s,!1)}let tO=(n,e,t,r,i)=>(Is(!0),function p0(n,e){return n.createText(e)}(e[pt],r));function xA(n,e,t,r,i){if(n=it(n),Array.isArray(n))for(let s=0;s<n.length;s++)xA(n[s],e,t,r,i);else{const s=Vt(),o=oe(),a=rn();let l=So(n)?n:it(n.provide);const c=y_(n),p=1048575&a.providerIndexes,m=a.directiveStart,w=a.providerIndexes>>20;if(So(n)||!n.multi){const b=new qc(c,i,be),C=kA(l,e,i?p:p+w,m);-1===C?(Qc(di(a,o),s,l),OA(s,n,e.length),e.push(l),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),t.push(b),o.push(b)):(t[C]=b,o[C]=b)}else{const b=kA(l,e,p+w,m),C=kA(l,e,p,p+w),P=C>=0&&t[C];if(i&&!P||!i&&!(b>=0&&t[b])){Qc(di(a,o),s,l);const L=function DW(n,e,t,r,i){const s=new qc(n,t,be);return s.multi=[],s.index=e,s.componentProviders=0,fO(s,i,r&&!t),s}(i?CW:TW,t.length,i,r,c);!i&&P&&(t[C].providerFactory=L),OA(s,n,e.length,0),e.push(l),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),t.push(L),o.push(L)}else OA(s,n,b>-1?b:C,fO(t[i?C:b],c,!i&&r));!i&&r&&P&&t[C].componentProviders++}}}function OA(n,e,t,r){const i=So(e),s=function eb(n){return!!n.useClass}(e);if(i||s){const l=(s?it(e.useClass):e).prototype.ngOnDestroy;if(l){const c=n.destroyHooks||(n.destroyHooks=[]);if(!i&&e.multi){const p=c.indexOf(t);-1===p?c.push(t,[r,l]):c[p+1].push(r,l)}else c.push(t,l)}}}function fO(n,e,t){return t&&n.componentProviders++,n.multi.push(e)-1}function kA(n,e,t,r){for(let i=t;i<r;i++)if(e[i]===n)return i;return-1}function TW(n,e,t,r){return FA(this.multi,[])}function CW(n,e,t,r){const i=this.multi;let s;if(this.providerFactory){const o=this.providerFactory.componentProviders,a=cl(t,t[Ce],this.providerFactory.index,r);s=a.slice(0,o),FA(i,s);for(let l=o;l<a.length;l++)s.push(a[l])}else s=[],FA(i,s);return s}function FA(n,e){for(let t=0;t<n.length;t++)e.push((0,n[t])());return e}function ir(n,e=[]){return t=>{t.providersResolver=(r,i)=>function AW(n,e,t){const r=Vt();if(r.firstCreatePass){const i=Ls(n);xA(t,r.data,r.blueprint,i,!0),xA(e,r.data,r.blueprint,i,!1)}}(r,i?i(n):n,e)}}let SW=(()=>{class n{constructor(t){this._injector=t,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(t){if(!t.standalone)return null;if(!this.cachedInjectors.has(t)){const r=Be(0,t.type),i=r.length>0?Gv([r],this._injector,`Standalone[${t.type.name}]`):null;this.cachedInjectors.set(t,i)}return this.cachedInjectors.get(t)}ngOnDestroy(){try{for(const t of this.cachedInjectors.values())null!==t&&t.destroy()}finally{this.cachedInjectors.clear()}}static#e=this.\u0275prov=Ue({token:n,providedIn:"environment",factory:()=>new n(ve(Yr))})}return n})();function pO(n){ma("NgStandalone"),n.getStandaloneInjector=e=>e.get(SW).getOrCreateStandaloneInjector(n)}class _f{constructor(e){this.full=e;const t=e.split(".");this.major=t[0],this.minor=t[1],this.patch=t.slice(2).join(".")}}const m9=new _f("17.3.12");let FO=(()=>{class n{log(t){console.log(t)}warn(t){console.warn(t)}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=Ue({token:n,factory:n.\u0275fac,providedIn:"platform"})}return n})();const jO=new Ee(""),cw=new Ee("");let HA,$A=(()=>{class n{constructor(t,r,i){this._ngZone=t,this.registry=r,this._pendingCount=0,this._isZoneStable=!0,this._callbacks=[],this.taskTrackingZone=null,HA||(function $9(n){HA=n}(i),i.addToWindow(r)),this._watchAngularEvents(),t.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Jt.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;0!==this._callbacks.length;){let t=this._callbacks.pop();clearTimeout(t.timeoutId),t.doneCb()}});else{let t=this.getPendingTasks();this._callbacks=this._callbacks.filter(r=>!r.updateCb||!r.updateCb(t)||(clearTimeout(r.timeoutId),!1))}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(t=>({source:t.source,creationLocation:t.creationLocation,data:t.data})):[]}addCallback(t,r,i){let s=-1;r&&r>0&&(s=setTimeout(()=>{this._callbacks=this._callbacks.filter(o=>o.timeoutId!==s),t()},r)),this._callbacks.push({doneCb:t,timeoutId:s,updateCb:i})}whenStable(t,r,i){if(i&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(t,r,i),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(t){this.registry.registerApplication(t,this)}unregisterApplication(t){this.registry.unregisterApplication(t)}findProviders(t,r,i){return[]}static#e=this.\u0275fac=function(r){return new(r||n)(ve(Jt),ve(zA),ve(cw))};static#t=this.\u0275prov=Ue({token:n,factory:n.\u0275fac})}return n})(),zA=(()=>{class n{constructor(){this._applications=new Map}registerApplication(t,r){this._applications.set(t,r)}unregisterApplication(t){this._applications.delete(t)}unregisterAllApplications(){this._applications.clear()}getTestability(t){return this._applications.get(t)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(t,r=!0){return HA?.findTestabilityInTree(this,t,r)??null}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=Ue({token:n,factory:n.\u0275fac,providedIn:"platform"})}return n})();function vm(n){return!!n&&"function"==typeof n.then}function $O(n){return!!n&&"function"==typeof n.subscribe}const qA=new Ee("");let GA=(()=>{class n{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((t,r)=>{this.resolve=t,this.reject=r}),this.appInits=ye(qA,{optional:!0})??[]}runInitializers(){if(this.initialized)return;const t=[];for(const i of this.appInits){const s=i();if(vm(s))t.push(s);else if($O(s)){const o=new Promise((a,l)=>{s.subscribe({complete:a,error:l})});t.push(o)}}const r=()=>{this.done=!0,this.resolve()};Promise.all(t).then(()=>{r()}).catch(i=>{this.reject(i)}),0===t.length&&r(),this.initialized=!0}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=Ue({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();const WA=new Ee("");function qO(n,e){return Array.isArray(e)?e.reduce(qO,n):{...n,...e}}let Tu=(()=>{class n{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=ye(Rg),this.afterRenderEffectManager=ye(Zg),this.externalTestViews=new Set,this.beforeRender=new F,this.afterTick=new F,this.componentTypes=[],this.components=[],this.isStable=ye(Iu).hasPendingTasks.pipe(je(t=>!t)),this._injector=ye(Yr)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(t,r){const i=t instanceof uN;if(!this._injector.get(GA).done)throw!i&&function io(n){const e=yt(n)||nr(n)||Cr(n);return null!==e&&e.standalone}(t),new J(405,!1);let o;o=i?t:this._injector.get(Bv).resolveComponentFactory(t),this.componentTypes.push(o.componentType);const a=function z9(n){return n.isBoundToModule}(o)?void 0:this._injector.get(ed),c=o.create(Lt.NULL,[],r||o.selector,a),p=c.location.nativeElement,m=c.injector.get(jO,null);return m?.registerApplication(p),c.onDestroy(()=>{this.detachView(c.hostView),dw(this.components,c),m?.unregisterApplication(p)}),this._loadComponent(c),c}tick(){this._tick(!0)}_tick(t){if(this._runningTick)throw new J(101,!1);const r=Ge(null);try{this._runningTick=!0,this.detectChangesInAttachedViews(t)}catch(i){this.internalErrorHandler(i)}finally{this.afterTick.next(),this._runningTick=!1,Ge(r)}}detectChangesInAttachedViews(t){let r=0;const i=this.afterRenderEffectManager;for(;;){if(r===XM)throw new J(103,!1);if(t){const s=0===r;this.beforeRender.next(s);for(let{_lView:o,notifyErrorHandler:a}of this._views)q9(o,s,a)}if(r++,i.executeInternalCallbacks(),![...this.externalTestViews.keys(),...this._views].some(({_lView:s})=>KA(s))&&(i.execute(),![...this.externalTestViews.keys(),...this._views].some(({_lView:s})=>KA(s))))break}}attachView(t){const r=t;this._views.push(r),r.attachToAppRef(this)}detachView(t){const r=t;dw(this._views,r),r.detachFromAppRef()}_loadComponent(t){this.attachView(t.hostView),this.tick(),this.components.push(t);const r=this._injector.get(WA,[]);[...this._bootstrapListeners,...r].forEach(i=>i(t))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(t=>t()),this._views.slice().forEach(t=>t.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(t){return this._destroyListeners.push(t),()=>dw(this._destroyListeners,t)}destroy(){if(this._destroyed)throw new J(406,!1);const t=this._injector;t.destroy&&!t.destroyed&&t.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=Ue({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function dw(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}function q9(n,e,t){!e&&!KA(n)||function G9(n,e,t){let r;t?(r=0,n[Ye]|=1024):r=64&n[Ye]?0:1,xv(n,e,r)}(n,t,e)}function KA(n){return cg(n)}class W9{constructor(e,t){this.ngModuleFactory=e,this.componentFactories=t}}let GO=(()=>{class n{compileModuleSync(t){return new iA(t)}compileModuleAsync(t){return Promise.resolve(this.compileModuleSync(t))}compileModuleAndAllComponentsSync(t){const r=this.compileModuleSync(t),s=js(jr(t).declarations).reduce((o,a)=>{const l=yt(a);return l&&o.push(new tm(l)),o},[]);return new W9(r,s)}compileModuleAndAllComponentsAsync(t){return Promise.resolve(this.compileModuleAndAllComponentsSync(t))}clearCache(){}clearCacheFor(t){}getModuleId(t){}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=Ue({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Y9=(()=>{class n{constructor(){this.zone=ye(Jt),this.applicationRef=ye(Tu)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=Ue({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function J9(){const n=ye(Jt),e=ye(Us);return t=>n.runOutsideAngular(()=>e.handleError(t))}let X9=(()=>{class n{constructor(){this.subscription=new Tt,this.initialized=!1,this.zone=ye(Jt),this.pendingTasks=ye(Iu)}initialize(){if(this.initialized)return;this.initialized=!0;let t=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(t=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{Jt.assertNotInAngularZone(),queueMicrotask(()=>{null!==t&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(t),t=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{Jt.assertInAngularZone(),t??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=Ue({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();const yl=new Ee("",{providedIn:"root",factory:()=>ye(yl,Pt.Optional|Pt.SkipSelf)||function e8(){return typeof $localize<"u"&&$localize.locale||gf}()}),QA=new Ee("");let YO=(()=>{class n{constructor(t){this._injector=t,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(t,r){const i=function P5(n="zone.js",e){return"noop"===n?new gN:"zone.js"===n?new Jt(e):n}(r?.ngZone,function QO(n){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:n?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:n?.runCoalescing??!1}}({eventCoalescing:r?.ngZoneEventCoalescing,runCoalescing:r?.ngZoneRunCoalescing}));return i.run(()=>{const s=function Iq(n,e,t){return new rA(n,e,t)}(t.moduleType,this.injector,function KO(n){return[{provide:Jt,useFactory:n},{provide:gs,multi:!0,useFactory:()=>{const e=ye(Y9,{optional:!0});return()=>e.initialize()}},{provide:gs,multi:!0,useFactory:()=>{const e=ye(X9);return()=>{e.initialize()}}},{provide:Rg,useFactory:J9}]}(()=>i)),o=s.injector.get(Us,null);return i.runOutsideAngular(()=>{const a=i.onError.subscribe({next:l=>{o.handleError(l)}});s.onDestroy(()=>{dw(this._modules,s),a.unsubscribe()})}),function HO(n,e,t){try{const r=t();return vm(r)?r.catch(i=>{throw e.runOutsideAngular(()=>n.handleError(i)),i}):r}catch(r){throw e.runOutsideAngular(()=>n.handleError(r)),r}}(o,i,()=>{const a=s.injector.get(GA);return a.runInitializers(),a.donePromise.then(()=>(function o1(n){"string"==typeof n&&(s1=n.toLowerCase().replace(/_/g,"-"))}(s.injector.get(yl,gf)||gf),this._moduleDoBootstrap(s),s))})})}bootstrapModule(t,r=[]){const i=qO({},r);return function Q9(n,e,t){const r=new iA(t);return Promise.resolve(r)}(0,0,t).then(s=>this.bootstrapModuleFactory(s,i))}_moduleDoBootstrap(t){const r=t.injector.get(Tu);if(t._bootstrapComponents.length>0)t._bootstrapComponents.forEach(i=>r.bootstrap(i));else{if(!t.instance.ngDoBootstrap)throw new J(-403,!1);t.instance.ngDoBootstrap(r)}this._modules.push(t)}onDestroy(t){this._destroyListeners.push(t)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new J(404,!1);this._modules.slice().forEach(r=>r.destroy()),this._destroyListeners.forEach(r=>r());const t=this._injector.get(QA,null);t&&(t.forEach(r=>r()),t.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}static#e=this.\u0275fac=function(r){return new(r||n)(ve(Lt))};static#t=this.\u0275prov=Ue({token:n,factory:n.\u0275fac,providedIn:"platform"})}return n})(),Cu=null;const JO=new Ee("");function ZO(n,e,t=[]){const r=`Platform: ${e}`,i=new Ee(r);return(s=[])=>{let o=YA();if(!o||o.injector.get(JO,!1)){const a=[...t,...s,{provide:i,useValue:!0}];n?n(a):function r8(n){if(Cu&&!Cu.get(JO,!1))throw new J(400,!1);(function zO(){!function ii(n){pr=n}(()=>{throw new J(600,!1)})})(),Cu=n;const e=n.get(YO);(function ek(n){n.get($P,null)?.forEach(t=>t())})(n)}(function XO(n=[],e){return Lt.create({name:e,providers:[{provide:Kp,useValue:"platform"},{provide:QA,useValue:new Set([()=>Cu=null])},...n]})}(a,r))}return function i8(n){const e=YA();if(!e)throw new J(401,!1);return e}()}}function YA(){return Cu?.get(YO)??null}let wm=(()=>{class n{static#e=this.__NG_ELEMENT_ID__=o8}return n})();function o8(n){return function a8(n,e,t){if(lo(n)&&!t){const r=Ii(n.index,e);return new Wg(r,r)}return 47&n.type?new Wg(e[An],e):null}(rn(),oe(),!(16&~n))}const v8=ZO(null,"core",[]);let w8=(()=>{class n{constructor(t){}static#e=this.\u0275fac=function(r){return new(r||n)(ve(Tu))};static#t=this.\u0275mod=Tr({type:n});static#n=this.\u0275inj=Qr({})}return n})();function wf(n){return"boolean"==typeof n?n:null!=n&&"false"!==n}let Ok=null;function Du(){return Ok}class r7{}const Ds=new Ee("");let iT=(()=>{class n{historyGo(t){throw new Error("")}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=Ue({token:n,factory:()=>ye(s7),providedIn:"platform"})}return n})();const i7=new Ee("");let s7=(()=>{class n extends iT{constructor(){super(),this._doc=ye(Ds),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return Du().getBaseHref(this._doc)}onPopState(t){const r=Du().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",t,!1),()=>r.removeEventListener("popstate",t)}onHashChange(t){const r=Du().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",t,!1),()=>r.removeEventListener("hashchange",t)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(t){this._location.pathname=t}pushState(t,r,i){this._history.pushState(t,r,i)}replaceState(t,r,i){this._history.replaceState(t,r,i)}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=Ue({token:n,factory:()=>new n,providedIn:"platform"})}return n})();function sT(n,e){if(0==n.length)return e;if(0==e.length)return n;let t=0;return n.endsWith("/")&&t++,e.startsWith("/")&&t++,2==t?n+e.substring(1):1==t?n+e:n+"/"+e}function kk(n){const e=n.match(/#|\?|$/),t=e&&e.index||n.length;return n.slice(0,t-("/"===n[t-1]?1:0))+n.slice(t)}function _l(n){return n&&"?"!==n[0]?"?"+n:n}let ad=(()=>{class n{historyGo(t){throw new Error("")}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=Ue({token:n,factory:()=>ye(Vk),providedIn:"root"})}return n})();const Fk=new Ee("");let Vk=(()=>{class n extends ad{constructor(t,r){super(),this._platformLocation=t,this._removeListenerFns=[],this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??ye(Ds).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return sT(this._baseHref,t)}path(t=!1){const r=this._platformLocation.pathname+_l(this._platformLocation.search),i=this._platformLocation.hash;return i&&t?`${r}${i}`:r}pushState(t,r,i,s){const o=this.prepareExternalUrl(i+_l(s));this._platformLocation.pushState(t,r,o)}replaceState(t,r,i,s){const o=this.prepareExternalUrl(i+_l(s));this._platformLocation.replaceState(t,r,o)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}static#e=this.\u0275fac=function(r){return new(r||n)(ve(iT),ve(Fk,8))};static#t=this.\u0275prov=Ue({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),o7=(()=>{class n extends ad{constructor(t,r){super(),this._platformLocation=t,this._baseHref="",this._removeListenerFns=[],null!=r&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}path(t=!1){const r=this._platformLocation.hash??"#";return r.length>0?r.substring(1):r}prepareExternalUrl(t){const r=sT(this._baseHref,t);return r.length>0?"#"+r:r}pushState(t,r,i,s){let o=this.prepareExternalUrl(i+_l(s));0==o.length&&(o=this._platformLocation.pathname),this._platformLocation.pushState(t,r,o)}replaceState(t,r,i,s){let o=this.prepareExternalUrl(i+_l(s));0==o.length&&(o=this._platformLocation.pathname),this._platformLocation.replaceState(t,r,o)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}static#e=this.\u0275fac=function(r){return new(r||n)(ve(iT),ve(Fk,8))};static#t=this.\u0275prov=Ue({token:n,factory:n.\u0275fac})}return n})(),bm=(()=>{class n{constructor(t){this._subject=new _r,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=t;const r=this._locationStrategy.getBaseHref();this._basePath=function u7(n){if(new RegExp("^(https?:)?//").test(n)){const[,t]=n.split(/\/\/[^\/]+/);return t}return n}(kk(Lk(r))),this._locationStrategy.onPopState(i=>{this._subject.emit({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(t=!1){return this.normalize(this._locationStrategy.path(t))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(t,r=""){return this.path()==this.normalize(t+_l(r))}normalize(t){return n.stripTrailingSlash(function l7(n,e){if(!n||!e.startsWith(n))return e;const t=e.substring(n.length);return""===t||["/",";","?","#"].includes(t[0])?t:e}(this._basePath,Lk(t)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._locationStrategy.prepareExternalUrl(t)}go(t,r="",i=null){this._locationStrategy.pushState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+_l(r)),i)}replaceState(t,r="",i=null){this._locationStrategy.replaceState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+_l(r)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(t=0){this._locationStrategy.historyGo?.(t)}onUrlChange(t){return this._urlChangeListeners.push(t),this._urlChangeSubscription??=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)}),()=>{const r=this._urlChangeListeners.indexOf(t);this._urlChangeListeners.splice(r,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(t="",r){this._urlChangeListeners.forEach(i=>i(t,r))}subscribe(t,r,i){return this._subject.subscribe({next:t,error:r,complete:i})}static#e=this.normalizeQueryParams=_l;static#t=this.joinWithSlash=sT;static#n=this.stripTrailingSlash=kk;static#r=this.\u0275fac=function(r){return new(r||n)(ve(ad))};static#i=this.\u0275prov=Ue({token:n,factory:()=>function a7(){return new bm(ve(ad))}(),providedIn:"root"})}return n})();function Lk(n){return n.replace(/\/index.html$/,"")}function Wk(n,e){e=encodeURIComponent(e);for(const t of n.split(";")){const r=t.indexOf("="),[i,s]=-1==r?[t,""]:[t.slice(0,r),t.slice(r+1)];if(i.trim()===e)return decodeURIComponent(s)}return null}let Jk=(()=>{class n{constructor(t,r){this._viewContainer=t,this._context=new J7,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=r}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){Zk("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){Zk("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,r){return!0}static#e=this.\u0275fac=function(r){return new(r||n)(be(Oo),be(pl))};static#t=this.\u0275dir=ut({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0})}return n})();class J7{constructor(){this.$implicit=null,this.ngIf=null}}function Zk(n,e){if(e&&!e.createEmbeddedView)throw new Error(`${n} must be a TemplateRef, but received '${wn(e)}'.`)}let bK=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275mod=Tr({type:n});static#n=this.\u0275inj=Qr({})}return n})();const tF="browser";function Nw(n){return"server"===n}let SK=(()=>{class n{static#e=this.\u0275prov=Ue({token:n,providedIn:"root",factory:()=>function DK(n){return n===tF}(ye(No))?new RK(ye(Ds),window):new MK})}return n})();class RK{constructor(e,t){this.document=e,this.window=t,this.offset=()=>[0,0]}setOffset(e){this.offset=Array.isArray(e)?()=>e:e}getScrollPosition(){return[this.window.scrollX,this.window.scrollY]}scrollToPosition(e){this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){const t=function PK(n,e){const t=n.getElementById(e)||n.getElementsByName(e)[0];if(t)return t;if("function"==typeof n.createTreeWalker&&n.body&&"function"==typeof n.body.attachShadow){const r=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT);let i=r.currentNode;for(;i;){const s=i.shadowRoot;if(s){const o=s.getElementById(e)||s.querySelector(`[name="${e}"]`);if(o)return o}i=r.nextNode()}}return null}(this.document,e);t&&(this.scrollToElement(t),t.focus())}setHistoryScrollRestoration(e){this.window.history.scrollRestoration=e}scrollToElement(e){const t=e.getBoundingClientRect(),r=t.left+this.window.pageXOffset,i=t.top+this.window.pageYOffset,s=this.offset();this.window.scrollTo(r-s[0],i-s[1])}}class MK{setOffset(e){}getScrollPosition(){return[0,0]}scrollToPosition(e){}scrollToAnchor(e){}setHistoryScrollRestoration(e){}}class nF{}class sQ extends r7{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class ET extends sQ{static makeCurrent(){!function n7(n){Ok??=n}(new ET)}onAndCancel(e,t,r){return e.addEventListener(t,r),()=>{e.removeEventListener(t,r)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,t){return(t=t||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return"window"===t?window:"document"===t?e:"body"===t?e.body:null}getBaseHref(e){const t=function oQ(){return Dm=Dm||document.querySelector("base"),Dm?Dm.getAttribute("href"):null}();return null==t?null:function aQ(n){return new URL(n,document.baseURI).pathname}(t)}resetBaseElement(){Dm=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return Wk(document.cookie,e)}}let Dm=null,uQ=(()=>{class n{build(){return new XMLHttpRequest}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=Ue({token:n,factory:n.\u0275fac})}return n})();const IT=new Ee("");let dF=(()=>{class n{constructor(t,r){this._zone=r,this._eventNameToPlugin=new Map,t.forEach(i=>{i.manager=this}),this._plugins=t.slice().reverse()}addEventListener(t,r,i){return this._findPluginFor(r).addEventListener(t,r,i)}getZone(){return this._zone}_findPluginFor(t){let r=this._eventNameToPlugin.get(t);if(r)return r;if(r=this._plugins.find(s=>s.supports(t)),!r)throw new J(5101,!1);return this._eventNameToPlugin.set(t,r),r}static#e=this.\u0275fac=function(r){return new(r||n)(ve(IT),ve(Jt))};static#t=this.\u0275prov=Ue({token:n,factory:n.\u0275fac})}return n})();class hF{constructor(e){this._doc=e}}const bT="ng-app-id";let fF=(()=>{class n{constructor(t,r,i,s={}){this.doc=t,this.appId=r,this.nonce=i,this.platformId=s,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=Nw(s),this.resetHostNodes()}addStyles(t){for(const r of t)1===this.changeUsageCount(r,1)&&this.onStyleAdded(r)}removeStyles(t){for(const r of t)this.changeUsageCount(r,-1)<=0&&this.onStyleRemoved(r)}ngOnDestroy(){const t=this.styleNodesInDOM;t&&(t.forEach(r=>r.remove()),t.clear());for(const r of this.getAllStyles())this.onStyleRemoved(r);this.resetHostNodes()}addHost(t){this.hostNodes.add(t);for(const r of this.getAllStyles())this.addStyleToHost(t,r)}removeHost(t){this.hostNodes.delete(t)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(t){for(const r of this.hostNodes)this.addStyleToHost(r,t)}onStyleRemoved(t){const r=this.styleRef;r.get(t)?.elements?.forEach(i=>i.remove()),r.delete(t)}collectServerRenderedStyles(){const t=this.doc.head?.querySelectorAll(`style[${bT}="${this.appId}"]`);if(t?.length){const r=new Map;return t.forEach(i=>{null!=i.textContent&&r.set(i.textContent,i)}),r}return null}changeUsageCount(t,r){const i=this.styleRef;if(i.has(t)){const s=i.get(t);return s.usage+=r,s.usage}return i.set(t,{usage:r,elements:[]}),r}getStyleElement(t,r){const i=this.styleNodesInDOM,s=i?.get(r);if(s?.parentNode===t)return i.delete(r),s.removeAttribute(bT),s;{const o=this.doc.createElement("style");return this.nonce&&o.setAttribute("nonce",this.nonce),o.textContent=r,this.platformIsServer&&o.setAttribute(bT,this.appId),t.appendChild(o),o}}addStyleToHost(t,r){const i=this.getStyleElement(t,r),s=this.styleRef,o=s.get(r)?.elements;o?o.push(i):s.set(r,{elements:[i],usage:1})}resetHostNodes(){const t=this.hostNodes;t.clear(),t.add(this.doc.head)}static#e=this.\u0275fac=function(r){return new(r||n)(ve(Ds),ve(hv),ve(HP,8),ve(No))};static#t=this.\u0275prov=Ue({token:n,factory:n.\u0275fac})}return n})();const AT={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},TT=/%COMP%/g,fQ=new Ee("",{providedIn:"root",factory:()=>!0});function gF(n,e){return e.map(t=>t.replace(TT,n))}let CT=(()=>{class n{constructor(t,r,i,s,o,a,l,c=null){this.eventManager=t,this.sharedStylesHost=r,this.appId=i,this.removeStylesOnCompDestroy=s,this.doc=o,this.platformId=a,this.ngZone=l,this.nonce=c,this.rendererByCompId=new Map,this.platformIsServer=Nw(a),this.defaultRenderer=new DT(t,o,l,this.platformIsServer)}createRenderer(t,r){if(!t||!r)return this.defaultRenderer;this.platformIsServer&&r.encapsulation===ms.ShadowDom&&(r={...r,encapsulation:ms.Emulated});const i=this.getOrCreateRenderer(t,r);return i instanceof yF?i.applyToHost(t):i instanceof ST&&i.applyStyles(),i}getOrCreateRenderer(t,r){const i=this.rendererByCompId;let s=i.get(r.id);if(!s){const o=this.doc,a=this.ngZone,l=this.eventManager,c=this.sharedStylesHost,p=this.removeStylesOnCompDestroy,m=this.platformIsServer;switch(r.encapsulation){case ms.Emulated:s=new yF(l,c,r,this.appId,p,o,a,m);break;case ms.ShadowDom:return new yQ(l,c,t,r,o,a,this.nonce,m);default:s=new ST(l,c,r,p,o,a,m)}i.set(r.id,s)}return s}ngOnDestroy(){this.rendererByCompId.clear()}static#e=this.\u0275fac=function(r){return new(r||n)(ve(dF),ve(fF),ve(hv),ve(fQ),ve(Ds),ve(No),ve(Jt),ve(HP))};static#t=this.\u0275prov=Ue({token:n,factory:n.\u0275fac})}return n})();class DT{constructor(e,t,r,i){this.eventManager=e,this.doc=t,this.ngZone=r,this.platformIsServer=i,this.data=Object.create(null),this.throwOnSyntheticProps=!0,this.destroyNode=null}destroy(){}createElement(e,t){return t?this.doc.createElementNS(AT[t]||t,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,t){(mF(e)?e.content:e).appendChild(t)}insertBefore(e,t,r){e&&(mF(e)?e.content:e).insertBefore(t,r)}removeChild(e,t){e&&e.removeChild(t)}selectRootElement(e,t){let r="string"==typeof e?this.doc.querySelector(e):e;if(!r)throw new J(-5104,!1);return t||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,r,i){if(i){t=i+":"+t;const s=AT[i];s?e.setAttributeNS(s,t,r):e.setAttribute(t,r)}else e.setAttribute(t,r)}removeAttribute(e,t,r){if(r){const i=AT[r];i?e.removeAttributeNS(i,t):e.removeAttribute(`${r}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,r,i){i&(vu.DashCase|vu.Important)?e.style.setProperty(t,r,i&vu.Important?"important":""):e.style[t]=r}removeStyle(e,t,r){r&vu.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,r){null!=e&&(e[t]=r)}setValue(e,t){e.nodeValue=t}listen(e,t,r){if("string"==typeof e&&!(e=Du().getGlobalEventTarget(this.doc,e)))throw new Error(`Unsupported event target ${e} for event ${t}`);return this.eventManager.addEventListener(e,t,this.decoratePreventDefault(r))}decoratePreventDefault(e){return t=>{if("__ngUnwrap__"===t)return e;!1===(this.platformIsServer?this.ngZone.runGuarded(()=>e(t)):e(t))&&t.preventDefault()}}}function mF(n){return"TEMPLATE"===n.tagName&&void 0!==n.content}class yQ extends DT{constructor(e,t,r,i,s,o,a,l){super(e,s,o,l),this.sharedStylesHost=t,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const c=gF(i.id,i.styles);for(const p of c){const m=document.createElement("style");a&&m.setAttribute("nonce",a),m.textContent=p,this.shadowRoot.appendChild(m)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,r){return super.insertBefore(this.nodeOrShadowRoot(e),t,r)}removeChild(e,t){return super.removeChild(this.nodeOrShadowRoot(e),t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class ST extends DT{constructor(e,t,r,i,s,o,a,l){super(e,s,o,a),this.sharedStylesHost=t,this.removeStylesOnCompDestroy=i,this.styles=l?gF(l,r.styles):r.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}}class yF extends ST{constructor(e,t,r,i,s,o,a,l){const c=i+"-"+r.id;super(e,t,r,s,o,a,l,c),this.contentAttr=function pQ(n){return"_ngcontent-%COMP%".replace(TT,n)}(c),this.hostAttr=function gQ(n){return"_nghost-%COMP%".replace(TT,n)}(c)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,t){const r=super.createElement(e,t);return super.setAttribute(r,this.contentAttr,""),r}}let _Q=(()=>{class n extends hF{constructor(t){super(t)}supports(t){return!0}addEventListener(t,r,i){return t.addEventListener(r,i,!1),()=>this.removeEventListener(t,r,i)}removeEventListener(t,r,i){return t.removeEventListener(r,i)}static#e=this.\u0275fac=function(r){return new(r||n)(ve(Ds))};static#t=this.\u0275prov=Ue({token:n,factory:n.\u0275fac})}return n})();const _F=["alt","control","meta","shift"],vQ={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},wQ={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let EQ=(()=>{class n extends hF{constructor(t){super(t)}supports(t){return null!=n.parseEventName(t)}addEventListener(t,r,i){const s=n.parseEventName(r),o=n.eventCallback(s.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Du().onAndCancel(t,s.domEventName,o))}static parseEventName(t){const r=t.toLowerCase().split("."),i=r.shift();if(0===r.length||"keydown"!==i&&"keyup"!==i)return null;const s=n._normalizeKey(r.pop());let o="",a=r.indexOf("code");if(a>-1&&(r.splice(a,1),o="code."),_F.forEach(c=>{const p=r.indexOf(c);p>-1&&(r.splice(p,1),o+=c+".")}),o+=s,0!=r.length||0===s.length)return null;const l={};return l.domEventName=i,l.fullKey=o,l}static matchEventFullKeyCode(t,r){let i=vQ[t.key]||t.key,s="";return r.indexOf("code.")>-1&&(i=t.code,s="code."),!(null==i||!i)&&(i=i.toLowerCase()," "===i?i="space":"."===i&&(i="dot"),_F.forEach(o=>{o!==i&&(0,wQ[o])(t)&&(s+=o+".")}),s+=i,s===r)}static eventCallback(t,r,i){return s=>{n.matchEventFullKeyCode(s,t)&&i.runGuarded(()=>r(s))}}static _normalizeKey(t){return"esc"===t?"escape":t}static#e=this.\u0275fac=function(r){return new(r||n)(ve(Ds))};static#t=this.\u0275prov=Ue({token:n,factory:n.\u0275fac})}return n})();const TQ=ZO(v8,"browser",[{provide:No,useValue:tF},{provide:$P,useValue:function IQ(){ET.makeCurrent()},multi:!0},{provide:Ds,useFactory:function AQ(){return function e4(n){Hb=n}(document),document},deps:[]}]),CQ=new Ee(""),EF=[{provide:cw,useClass:class lQ{addToWindow(e){Ve.getAngularTestability=(r,i=!0)=>{const s=e.findTestabilityInTree(r,i);if(null==s)throw new J(5103,!1);return s},Ve.getAllAngularTestabilities=()=>e.getAllTestabilities(),Ve.getAllAngularRootElements=()=>e.getAllRootElements(),Ve.frameworkStabilizers||(Ve.frameworkStabilizers=[]),Ve.frameworkStabilizers.push(r=>{const i=Ve.getAllAngularTestabilities();let s=i.length;const o=function(){s--,0==s&&r()};i.forEach(a=>{a.whenStable(o)})})}findTestabilityInTree(e,t,r){return null==t?null:e.getTestability(t)??(r?Du().isShadowRoot(t)?this.findTestabilityInTree(e,t.host,!0):this.findTestabilityInTree(e,t.parentElement,!0):null)}},deps:[]},{provide:jO,useClass:$A,deps:[Jt,zA,cw]},{provide:$A,useClass:$A,deps:[Jt,zA,cw]}],IF=[{provide:Kp,useValue:"root"},{provide:Us,useFactory:function bQ(){return new Us},deps:[]},{provide:IT,useClass:_Q,multi:!0,deps:[Ds,Jt,No]},{provide:IT,useClass:EQ,multi:!0,deps:[Ds]},CT,fF,dF,{provide:U0,useExisting:CT},{provide:nF,useClass:uQ,deps:[]},[]];let bF=(()=>{class n{constructor(t){}static withServerTransition(t){return{ngModule:n,providers:[{provide:hv,useValue:t.appId}]}}static#e=this.\u0275fac=function(r){return new(r||n)(ve(CQ,12))};static#t=this.\u0275mod=Tr({type:n});static#n=this.\u0275inj=Qr({providers:[...IF,...EF],imports:[bK,w8]})}return n})(),AF=(()=>{class n{constructor(t){this._doc=t}getTitle(){return this._doc.title}setTitle(t){this._doc.title=t||""}static#e=this.\u0275fac=function(r){return new(r||n)(ve(Ds))};static#t=this.\u0275prov=Ue({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var vt=function(n){return n[n.State=0]="State",n[n.Transition=1]="Transition",n[n.Sequence=2]="Sequence",n[n.Group=3]="Group",n[n.Animate=4]="Animate",n[n.Keyframes=5]="Keyframes",n[n.Style=6]="Style",n[n.Trigger=7]="Trigger",n[n.Reference=8]="Reference",n[n.AnimateChild=9]="AnimateChild",n[n.AnimateRef=10]="AnimateRef",n[n.Query=11]="Query",n[n.Stagger=12]="Stagger",n}(vt||{});const El="*";function SF(n,e){return{type:vt.Trigger,name:n,definitions:e,options:{}}}function RF(n,e=null){return{type:vt.Animate,styles:e,timings:n}}function If(n){return{type:vt.Style,styles:n,offset:null}}function Fw(n,e,t){return{type:vt.State,name:n,styles:e,options:t}}function PF(n,e,t=null){return{type:vt.Transition,expr:n,animation:e,options:t}}class Rm{constructor(e=0,t=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=e+t}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){queueMicrotask(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(e=>e()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(e){this._position=this.totalTime?e*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}}class MF{constructor(e){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=e;let t=0,r=0,i=0;const s=this.players.length;0==s?queueMicrotask(()=>this._onFinish()):this.players.forEach(o=>{o.onDone(()=>{++t==s&&this._onFinish()}),o.onDestroy(()=>{++r==s&&this._onDestroy()}),o.onStart(()=>{++i==s&&this._onStart()})}),this.totalTime=this.players.reduce((o,a)=>Math.max(o,a.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this.players.forEach(e=>e.init())}onStart(e){this._onStartFns.push(e)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(e=>e()),this._onStartFns=[])}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(e=>e.play())}pause(){this.players.forEach(e=>e.pause())}restart(){this.players.forEach(e=>e.restart())}finish(){this._onFinish(),this.players.forEach(e=>e.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(e=>e.destroy()),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this.players.forEach(e=>e.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(e){const t=e*this.totalTime;this.players.forEach(r=>{const i=r.totalTime?Math.min(1,t/r.totalTime):1;r.setPosition(i)})}getPosition(){const e=this.players.reduce((t,r)=>null===t||r.totalTime>t.totalTime?r:t,null);return null!=e?e.getPosition():0}beforeDestroy(){this.players.forEach(e=>{e.beforeDestroy&&e.beforeDestroy()})}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}}function NF(n){return new J(3e3,!1)}function Su(n){switch(n.length){case 0:return new Rm;case 1:return n[0];default:return new MF(n)}}function xF(n,e,t=new Map,r=new Map){const i=[],s=[];let o=-1,a=null;if(e.forEach(l=>{const c=l.get("offset"),p=c==o,m=p&&a||new Map;l.forEach((w,b)=>{let C=b,S=w;if("offset"!==b)switch(C=n.normalizePropertyName(C,i),S){case"!":S=t.get(b);break;case El:S=r.get(b);break;default:S=n.normalizeStyleValue(b,C,S,i)}m.set(C,S)}),p||s.push(m),a=m,o=c}),i.length)throw function rY(n){return new J(3502,!1)}();return s}function PT(n,e,t,r){switch(e){case"start":n.onStart(()=>r(t&&MT(t,"start",n)));break;case"done":n.onDone(()=>r(t&&MT(t,"done",n)));break;case"destroy":n.onDestroy(()=>r(t&&MT(t,"destroy",n)))}}function MT(n,e,t){const s=NT(n.element,n.triggerName,n.fromState,n.toState,e||n.phaseName,t.totalTime??n.totalTime,!!t.disabled),o=n._data;return null!=o&&(s._data=o),s}function NT(n,e,t,r,i="",s=0,o){return{element:n,triggerName:e,fromState:t,toState:r,phaseName:i,totalTime:s,disabled:!!o}}function Hs(n,e,t){let r=n.get(e);return r||n.set(e,r=t),r}function OF(n){const e=n.indexOf(":");return[n.substring(1,e),n.slice(e+1)]}const gY=typeof document>"u"?null:document.documentElement;function xT(n){const e=n.parentNode||n.host||null;return e===gY?null:e}let ld=null,kF=!1;function FF(n,e){for(;e;){if(e===n)return!0;e=xT(e)}return!1}function VF(n,e,t){if(t)return Array.from(n.querySelectorAll(e));const r=n.querySelector(e);return r?[r]:[]}let OT=(()=>{class n{validateStyleProperty(t){return function yY(n){ld||(ld=function _Y(){return typeof document<"u"?document.body:null}()||{},kF=!!ld.style&&"WebkitAppearance"in ld.style);let e=!0;return ld.style&&!function mY(n){return"ebkit"==n.substring(1,6)}(n)&&(e=n in ld.style,!e&&kF&&(e="Webkit"+n.charAt(0).toUpperCase()+n.slice(1)in ld.style)),e}(t)}matchesElement(t,r){return!1}containsElement(t,r){return FF(t,r)}getParentElement(t){return xT(t)}query(t,r,i){return VF(t,r,i)}computeStyle(t,r,i){return i||""}animate(t,r,i,s,o,a=[],l){return new Rm(i,s)}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=Ue({token:n,factory:n.\u0275fac})}return n})();class kT{static#e=this.NOOP=new OT}class FT{}const wY=1e3,VT="ng-enter",Vw="ng-leave",Lw="ng-trigger",Uw=".ng-trigger",UF="ng-animating",LT=".ng-animating";function Il(n){if("number"==typeof n)return n;const e=n.match(/^(-?[\.\d]+)(m?s)/);return!e||e.length<2?0:UT(parseFloat(e[1]),e[2])}function UT(n,e){return"s"===e?n*wY:n}function Bw(n,e,t){return n.hasOwnProperty("duration")?n:function IY(n,e,t){let i,s=0,o="";if("string"==typeof n){const a=n.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===a)return e.push(NF()),{duration:0,delay:0,easing:""};i=UT(parseFloat(a[1]),a[2]);const l=a[3];null!=l&&(s=UT(parseFloat(l),a[4]));const c=a[5];c&&(o=c)}else i=n;if(!t){let a=!1,l=e.length;i<0&&(e.push(function kQ(){return new J(3100,!1)}()),a=!0),s<0&&(e.push(function FQ(){return new J(3101,!1)}()),a=!0),a&&e.splice(l,0,NF())}return{duration:i,delay:s,easing:o}}(n,e,t)}function Ea(n,e,t){e.forEach((r,i)=>{const s=jT(i);t&&!t.has(i)&&t.set(i,n.style[s]),n.style[s]=r})}function ud(n,e){e.forEach((t,r)=>{const i=jT(r);n.style[i]=""})}function Pm(n){return Array.isArray(n)?1==n.length?n[0]:function PQ(n,e=null){return{type:vt.Sequence,steps:n,options:e}}(n):n}const BT=new RegExp("{{\\s*(.+?)\\s*}}","g");function jF(n){let e=[];if("string"==typeof n){let t;for(;t=BT.exec(n);)e.push(t[1]);BT.lastIndex=0}return e}function Mm(n,e,t){const r=`${n}`,i=r.replace(BT,(s,o)=>{let a=e[o];return null==a&&(t.push(function LQ(n){return new J(3003,!1)}()),a=""),a.toString()});return i==r?n:i}const TY=/-+([a-z0-9])/g;function jT(n){return n.replace(TY,(...e)=>e[1].toUpperCase())}function qs(n,e,t){switch(e.type){case vt.Trigger:return n.visitTrigger(e,t);case vt.State:return n.visitState(e,t);case vt.Transition:return n.visitTransition(e,t);case vt.Sequence:return n.visitSequence(e,t);case vt.Group:return n.visitGroup(e,t);case vt.Animate:return n.visitAnimate(e,t);case vt.Keyframes:return n.visitKeyframes(e,t);case vt.Style:return n.visitStyle(e,t);case vt.Reference:return n.visitReference(e,t);case vt.AnimateChild:return n.visitAnimateChild(e,t);case vt.AnimateRef:return n.visitAnimateRef(e,t);case vt.Query:return n.visitQuery(e,t);case vt.Stagger:return n.visitStagger(e,t);default:throw function UQ(n){return new J(3004,!1)}()}}function $T(n,e){return window.getComputedStyle(n)[e]}const SY=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]);class $F extends FT{normalizePropertyName(e,t){return jT(e)}normalizeStyleValue(e,t,r,i){let s="";const o=r.toString().trim();if(SY.has(t)&&0!==r&&"0"!==r)if("number"==typeof r)s="px";else{const a=r.match(/^[+-]?[\d\.]+([a-z]*)$/);a&&0==a[1].length&&i.push(function BQ(n,e){return new J(3005,!1)}())}return o+s}}const jw="*";const $w=new Set(["true","1"]),zw=new Set(["false","0"]);function zF(n,e){const t=$w.has(n)||zw.has(n),r=$w.has(e)||zw.has(e);return(i,s)=>{let o=n==jw||n==i,a=e==jw||e==s;return!o&&t&&"boolean"==typeof i&&(o=i?$w.has(n):zw.has(n)),!a&&r&&"boolean"==typeof s&&(a=s?$w.has(e):zw.has(e)),o&&a}}const NY=new RegExp("s*:selfs*,?","g");function zT(n,e,t,r){return new xY(n).build(e,t,r)}class xY{constructor(e){this._driver=e}build(e,t,r){const i=new FY(t);return this._resetContextStyleTimingState(i),qs(this,Pm(e),i)}_resetContextStyleTimingState(e){e.currentQuerySelector="",e.collectedStyles=new Map,e.collectedStyles.set("",new Map),e.currentTime=0}visitTrigger(e,t){let r=t.queryCount=0,i=t.depCount=0;const s=[],o=[];return"@"==e.name.charAt(0)&&t.errors.push(function jQ(){return new J(3006,!1)}()),e.definitions.forEach(a=>{if(this._resetContextStyleTimingState(t),a.type==vt.State){const l=a,c=l.name;c.toString().split(/\s*,\s*/).forEach(p=>{l.name=p,s.push(this.visitState(l,t))}),l.name=c}else if(a.type==vt.Transition){const l=this.visitTransition(a,t);r+=l.queryCount,i+=l.depCount,o.push(l)}else t.errors.push(function $Q(){return new J(3007,!1)}())}),{type:vt.Trigger,name:e.name,states:s,transitions:o,queryCount:r,depCount:i,options:null}}visitState(e,t){const r=this.visitStyle(e.styles,t),i=e.options&&e.options.params||null;if(r.containsDynamicStyles){const s=new Set,o=i||{};r.styles.forEach(a=>{a instanceof Map&&a.forEach(l=>{jF(l).forEach(c=>{o.hasOwnProperty(c)||s.add(c)})})}),s.size&&t.errors.push(function zQ(n,e){return new J(3008,!1)}(0,s.values()))}return{type:vt.State,name:e.name,style:r,options:i?{params:i}:null}}visitTransition(e,t){t.queryCount=0,t.depCount=0;const r=qs(this,Pm(e.animation),t),i=function RY(n,e){const t=[];return"string"==typeof n?n.split(/\s*,\s*/).forEach(r=>function PY(n,e,t){if(":"==n[0]){const l=function MY(n,e){switch(n){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(t,r)=>parseFloat(r)>parseFloat(t);case":decrement":return(t,r)=>parseFloat(r)<parseFloat(t);default:return e.push(function XQ(n){return new J(3016,!1)}()),"* => *"}}(n,t);if("function"==typeof l)return void e.push(l);n=l}const r=n.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==r||r.length<4)return t.push(function ZQ(n){return new J(3015,!1)}()),e;const i=r[1],s=r[2],o=r[3];e.push(zF(i,o)),"<"==s[0]&&(i!=jw||o!=jw)&&e.push(zF(o,i))}(r,t,e)):t.push(n),t}(e.expr,t.errors);return{type:vt.Transition,matchers:i,animation:r,queryCount:t.queryCount,depCount:t.depCount,options:cd(e.options)}}visitSequence(e,t){return{type:vt.Sequence,steps:e.steps.map(r=>qs(this,r,t)),options:cd(e.options)}}visitGroup(e,t){const r=t.currentTime;let i=0;const s=e.steps.map(o=>{t.currentTime=r;const a=qs(this,o,t);return i=Math.max(i,t.currentTime),a});return t.currentTime=i,{type:vt.Group,steps:s,options:cd(e.options)}}visitAnimate(e,t){const r=function LY(n,e){if(n.hasOwnProperty("duration"))return n;if("number"==typeof n)return HT(Bw(n,e).duration,0,"");const t=n;if(t.split(/\s+/).some(s=>"{"==s.charAt(0)&&"{"==s.charAt(1))){const s=HT(0,0,"");return s.dynamic=!0,s.strValue=t,s}const i=Bw(t,e);return HT(i.duration,i.delay,i.easing)}(e.timings,t.errors);t.currentAnimateTimings=r;let i,s=e.styles?e.styles:If({});if(s.type==vt.Keyframes)i=this.visitKeyframes(s,t);else{let o=e.styles,a=!1;if(!o){a=!0;const c={};r.easing&&(c.easing=r.easing),o=If(c)}t.currentTime+=r.duration+r.delay;const l=this.visitStyle(o,t);l.isEmptyStep=a,i=l}return t.currentAnimateTimings=null,{type:vt.Animate,timings:r,style:i,options:null}}visitStyle(e,t){const r=this._makeStyleAst(e,t);return this._validateStyleAst(r,t),r}_makeStyleAst(e,t){const r=[],i=Array.isArray(e.styles)?e.styles:[e.styles];for(let a of i)"string"==typeof a?a===El?r.push(a):t.errors.push(new J(3002,!1)):r.push(new Map(Object.entries(a)));let s=!1,o=null;return r.forEach(a=>{if(a instanceof Map&&(a.has("easing")&&(o=a.get("easing"),a.delete("easing")),!s))for(let l of a.values())if(l.toString().indexOf("{{")>=0){s=!0;break}}),{type:vt.Style,styles:r,easing:o,offset:e.offset,containsDynamicStyles:s,options:null}}_validateStyleAst(e,t){const r=t.currentAnimateTimings;let i=t.currentTime,s=t.currentTime;r&&s>0&&(s-=r.duration+r.delay),e.styles.forEach(o=>{"string"!=typeof o&&o.forEach((a,l)=>{const c=t.collectedStyles.get(t.currentQuerySelector),p=c.get(l);let m=!0;p&&(s!=i&&s>=p.startTime&&i<=p.endTime&&(t.errors.push(function qQ(n,e,t,r,i){return new J(3010,!1)}()),m=!1),s=p.startTime),m&&c.set(l,{startTime:s,endTime:i}),t.options&&function AY(n,e,t){const r=e.params||{},i=jF(n);i.length&&i.forEach(s=>{r.hasOwnProperty(s)||t.push(function VQ(n){return new J(3001,!1)}())})}(a,t.options,t.errors)})})}visitKeyframes(e,t){const r={type:vt.Keyframes,styles:[],options:null};if(!t.currentAnimateTimings)return t.errors.push(function GQ(){return new J(3011,!1)}()),r;let s=0;const o=[];let a=!1,l=!1,c=0;const p=e.steps.map(L=>{const j=this._makeStyleAst(L,t);let G=null!=j.offset?j.offset:function VY(n){if("string"==typeof n)return null;let e=null;if(Array.isArray(n))n.forEach(t=>{if(t instanceof Map&&t.has("offset")){const r=t;e=parseFloat(r.get("offset")),r.delete("offset")}});else if(n instanceof Map&&n.has("offset")){const t=n;e=parseFloat(t.get("offset")),t.delete("offset")}return e}(j.styles),ue=0;return null!=G&&(s++,ue=j.offset=G),l=l||ue<0||ue>1,a=a||ue<c,c=ue,o.push(ue),j});l&&t.errors.push(function WQ(){return new J(3012,!1)}()),a&&t.errors.push(function KQ(){return new J(3200,!1)}());const m=e.steps.length;let w=0;s>0&&s<m?t.errors.push(function QQ(){return new J(3202,!1)}()):0==s&&(w=1/(m-1));const b=m-1,C=t.currentTime,S=t.currentAnimateTimings,P=S.duration;return p.forEach((L,j)=>{const G=w>0?j==b?1:w*j:o[j],ue=G*P;t.currentTime=C+S.delay+ue,S.duration=ue,this._validateStyleAst(L,t),L.offset=G,r.styles.push(L)}),r}visitReference(e,t){return{type:vt.Reference,animation:qs(this,Pm(e.animation),t),options:cd(e.options)}}visitAnimateChild(e,t){return t.depCount++,{type:vt.AnimateChild,options:cd(e.options)}}visitAnimateRef(e,t){return{type:vt.AnimateRef,animation:this.visitReference(e.animation,t),options:cd(e.options)}}visitQuery(e,t){const r=t.currentQuerySelector,i=e.options||{};t.queryCount++,t.currentQuery=e;const[s,o]=function OY(n){const e=!!n.split(/\s*,\s*/).find(t=>":self"==t);return e&&(n=n.replace(NY,"")),n=n.replace(/@\*/g,Uw).replace(/@\w+/g,t=>Uw+"-"+t.slice(1)).replace(/:animating/g,LT),[n,e]}(e.selector);t.currentQuerySelector=r.length?r+" "+s:s,Hs(t.collectedStyles,t.currentQuerySelector,new Map);const a=qs(this,Pm(e.animation),t);return t.currentQuery=null,t.currentQuerySelector=r,{type:vt.Query,selector:s,limit:i.limit||0,optional:!!i.optional,includeSelf:o,animation:a,originalSelector:e.selector,options:cd(e.options)}}visitStagger(e,t){t.currentQuery||t.errors.push(function YQ(){return new J(3013,!1)}());const r="full"===e.timings?{duration:0,delay:0,easing:"full"}:Bw(e.timings,t.errors,!0);return{type:vt.Stagger,animation:qs(this,Pm(e.animation),t),timings:r,options:null}}}class FY{constructor(e){this.errors=e,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function cd(n){return n?(n={...n}).params&&(n.params=function kY(n){return n?{...n}:null}(n.params)):n={},n}function HT(n,e,t){return{duration:n,delay:e,easing:t}}function qT(n,e,t,r,i,s,o=null,a=!1){return{type:1,element:n,keyframes:e,preStyleProps:t,postStyleProps:r,duration:i,delay:s,totalTime:i+s,easing:o,subTimeline:a}}class Hw{constructor(){this._map=new Map}get(e){return this._map.get(e)||[]}append(e,t){let r=this._map.get(e);r||this._map.set(e,r=[]),r.push(...t)}has(e){return this._map.has(e)}clear(){this._map.clear()}}const jY=new RegExp(":enter","g"),zY=new RegExp(":leave","g");function GT(n,e,t,r,i,s=new Map,o=new Map,a,l,c=[]){return(new HY).buildKeyframes(n,e,t,r,i,s,o,a,l,c)}class HY{buildKeyframes(e,t,r,i,s,o,a,l,c,p=[]){c=c||new Hw;const m=new WT(e,t,c,i,s,p,[]);m.options=l;const w=l.delay?Il(l.delay):0;m.currentTimeline.delayNextStep(w),m.currentTimeline.setStyles([o],null,m.errors,l),qs(this,r,m);const b=m.timelines.filter(C=>C.containsAnimation());if(b.length&&a.size){let C;for(let S=b.length-1;S>=0;S--){const P=b[S];if(P.element===t){C=P;break}}C&&!C.allowOnlyTimelineStyles()&&C.setStyles([a],null,m.errors,l)}return b.length?b.map(C=>C.buildKeyframes()):[qT(t,[],[],[],0,w,"",!1)]}visitTrigger(e,t){}visitState(e,t){}visitTransition(e,t){}visitAnimateChild(e,t){const r=t.subInstructions.get(t.element);if(r){const i=t.createSubContext(e.options),s=t.currentTimeline.currentTime,o=this._visitSubInstructions(r,i,i.options);s!=o&&t.transformIntoNewTimeline(o)}t.previousNode=e}visitAnimateRef(e,t){const r=t.createSubContext(e.options);r.transformIntoNewTimeline(),this._applyAnimationRefDelays([e.options,e.animation.options],t,r),this.visitReference(e.animation,r),t.transformIntoNewTimeline(r.currentTimeline.currentTime),t.previousNode=e}_applyAnimationRefDelays(e,t,r){for(const i of e){const s=i?.delay;if(s){const o="number"==typeof s?s:Il(Mm(s,i?.params??{},t.errors));r.delayNextStep(o)}}}_visitSubInstructions(e,t,r){let s=t.currentTimeline.currentTime;const o=null!=r.duration?Il(r.duration):null,a=null!=r.delay?Il(r.delay):null;return 0!==o&&e.forEach(l=>{const c=t.appendInstructionToTimeline(l,o,a);s=Math.max(s,c.duration+c.delay)}),s}visitReference(e,t){t.updateOptions(e.options,!0),qs(this,e.animation,t),t.previousNode=e}visitSequence(e,t){const r=t.subContextCount;let i=t;const s=e.options;if(s&&(s.params||s.delay)&&(i=t.createSubContext(s),i.transformIntoNewTimeline(),null!=s.delay)){i.previousNode.type==vt.Style&&(i.currentTimeline.snapshotCurrentStyles(),i.previousNode=qw);const o=Il(s.delay);i.delayNextStep(o)}e.steps.length&&(e.steps.forEach(o=>qs(this,o,i)),i.currentTimeline.applyStylesToKeyframe(),i.subContextCount>r&&i.transformIntoNewTimeline()),t.previousNode=e}visitGroup(e,t){const r=[];let i=t.currentTimeline.currentTime;const s=e.options&&e.options.delay?Il(e.options.delay):0;e.steps.forEach(o=>{const a=t.createSubContext(e.options);s&&a.delayNextStep(s),qs(this,o,a),i=Math.max(i,a.currentTimeline.currentTime),r.push(a.currentTimeline)}),r.forEach(o=>t.currentTimeline.mergeTimelineCollectedStyles(o)),t.transformIntoNewTimeline(i),t.previousNode=e}_visitTiming(e,t){if(e.dynamic){const r=e.strValue;return Bw(t.params?Mm(r,t.params,t.errors):r,t.errors)}return{duration:e.duration,delay:e.delay,easing:e.easing}}visitAnimate(e,t){const r=t.currentAnimateTimings=this._visitTiming(e.timings,t),i=t.currentTimeline;r.delay&&(t.incrementTime(r.delay),i.snapshotCurrentStyles());const s=e.style;s.type==vt.Keyframes?this.visitKeyframes(s,t):(t.incrementTime(r.duration),this.visitStyle(s,t),i.applyStylesToKeyframe()),t.currentAnimateTimings=null,t.previousNode=e}visitStyle(e,t){const r=t.currentTimeline,i=t.currentAnimateTimings;!i&&r.hasCurrentStyleProperties()&&r.forwardFrame();const s=i&&i.easing||e.easing;e.isEmptyStep?r.applyEmptyStep(s):r.setStyles(e.styles,s,t.errors,t.options),t.previousNode=e}visitKeyframes(e,t){const r=t.currentAnimateTimings,i=t.currentTimeline.duration,s=r.duration,a=t.createSubContext().currentTimeline;a.easing=r.easing,e.styles.forEach(l=>{a.forwardTime((l.offset||0)*s),a.setStyles(l.styles,l.easing,t.errors,t.options),a.applyStylesToKeyframe()}),t.currentTimeline.mergeTimelineCollectedStyles(a),t.transformIntoNewTimeline(i+s),t.previousNode=e}visitQuery(e,t){const r=t.currentTimeline.currentTime,i=e.options||{},s=i.delay?Il(i.delay):0;s&&(t.previousNode.type===vt.Style||0==r&&t.currentTimeline.hasCurrentStyleProperties())&&(t.currentTimeline.snapshotCurrentStyles(),t.previousNode=qw);let o=r;const a=t.invokeQuery(e.selector,e.originalSelector,e.limit,e.includeSelf,!!i.optional,t.errors);t.currentQueryTotal=a.length;let l=null;a.forEach((c,p)=>{t.currentQueryIndex=p;const m=t.createSubContext(e.options,c);s&&m.delayNextStep(s),c===t.element&&(l=m.currentTimeline),qs(this,e.animation,m),m.currentTimeline.applyStylesToKeyframe(),o=Math.max(o,m.currentTimeline.currentTime)}),t.currentQueryIndex=0,t.currentQueryTotal=0,t.transformIntoNewTimeline(o),l&&(t.currentTimeline.mergeTimelineCollectedStyles(l),t.currentTimeline.snapshotCurrentStyles()),t.previousNode=e}visitStagger(e,t){const r=t.parentContext,i=t.currentTimeline,s=e.timings,o=Math.abs(s.duration),a=o*(t.currentQueryTotal-1);let l=o*t.currentQueryIndex;switch(s.duration<0?"reverse":s.easing){case"reverse":l=a-l;break;case"full":l=r.currentStaggerTime}const p=t.currentTimeline;l&&p.delayNextStep(l);const m=p.currentTime;qs(this,e.animation,t),t.previousNode=e,r.currentStaggerTime=i.currentTime-m+(i.startTime-r.currentTimeline.startTime)}}const qw={};class WT{constructor(e,t,r,i,s,o,a,l){this._driver=e,this.element=t,this.subInstructions=r,this._enterClassName=i,this._leaveClassName=s,this.errors=o,this.timelines=a,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=qw,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=l||new Gw(this._driver,t,0),a.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(e,t){if(!e)return;const r=e;let i=this.options;null!=r.duration&&(i.duration=Il(r.duration)),null!=r.delay&&(i.delay=Il(r.delay));const s=r.params;if(s){let o=i.params;o||(o=this.options.params={}),Object.keys(s).forEach(a=>{(!t||!o.hasOwnProperty(a))&&(o[a]=Mm(s[a],o,this.errors))})}}_copyOptions(){const e={};if(this.options){const t=this.options.params;if(t){const r=e.params={};Object.keys(t).forEach(i=>{r[i]=t[i]})}}return e}createSubContext(e=null,t,r){const i=t||this.element,s=new WT(this._driver,i,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(i,r||0));return s.previousNode=this.previousNode,s.currentAnimateTimings=this.currentAnimateTimings,s.options=this._copyOptions(),s.updateOptions(e),s.currentQueryIndex=this.currentQueryIndex,s.currentQueryTotal=this.currentQueryTotal,s.parentContext=this,this.subContextCount++,s}transformIntoNewTimeline(e){return this.previousNode=qw,this.currentTimeline=this.currentTimeline.fork(this.element,e),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(e,t,r){const i={duration:t??e.duration,delay:this.currentTimeline.currentTime+(r??0)+e.delay,easing:""},s=new qY(this._driver,e.element,e.keyframes,e.preStyleProps,e.postStyleProps,i,e.stretchStartingKeyframe);return this.timelines.push(s),i}incrementTime(e){this.currentTimeline.forwardTime(this.currentTimeline.duration+e)}delayNextStep(e){e>0&&this.currentTimeline.delayNextStep(e)}invokeQuery(e,t,r,i,s,o){let a=[];if(i&&a.push(this.element),e.length>0){e=(e=e.replace(jY,"."+this._enterClassName)).replace(zY,"."+this._leaveClassName);let c=this._driver.query(this.element,e,1!=r);0!==r&&(c=r<0?c.slice(c.length+r,c.length):c.slice(0,r)),a.push(...c)}return!s&&0==a.length&&o.push(function JQ(n){return new J(3014,!1)}()),a}}class Gw{constructor(e,t,r,i){this._driver=e,this.element=t,this.startTime=r,this._elementTimelineStylesLookup=i,this.duration=0,this.easing=null,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(t),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(t,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(e){const t=1===this._keyframes.size&&this._pendingStyles.size;this.duration||t?(this.forwardTime(this.currentTime+e),t&&this.snapshotCurrentStyles()):this.startTime+=e}fork(e,t){return this.applyStylesToKeyframe(),new Gw(this._driver,e,t||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(e){this.applyStylesToKeyframe(),this.duration=e,this._loadKeyframe()}_updateStyle(e,t){this._localTimelineStyles.set(e,t),this._globalTimelineStyles.set(e,t),this._styleSummary.set(e,{time:this.currentTime,value:t})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(e){e&&this._previousKeyframe.set("easing",e);for(let[t,r]of this._globalTimelineStyles)this._backFill.set(t,r||El),this._currentKeyframe.set(t,El);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(e,t,r,i){t&&this._previousKeyframe.set("easing",t);const s=i&&i.params||{},o=function GY(n,e){const t=new Map;let r;return n.forEach(i=>{if("*"===i){r??=e.keys();for(let s of r)t.set(s,El)}else for(let[s,o]of i)t.set(s,o)}),t}(e,this._globalTimelineStyles);for(let[a,l]of o){const c=Mm(l,s,r);this._pendingStyles.set(a,c),this._localTimelineStyles.has(a)||this._backFill.set(a,this._globalTimelineStyles.get(a)??El),this._updateStyle(a,c)}}applyStylesToKeyframe(){0!=this._pendingStyles.size&&(this._pendingStyles.forEach((e,t)=>{this._currentKeyframe.set(t,e)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((e,t)=>{this._currentKeyframe.has(t)||this._currentKeyframe.set(t,e)}))}snapshotCurrentStyles(){for(let[e,t]of this._localTimelineStyles)this._pendingStyles.set(e,t),this._updateStyle(e,t)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const e=[];for(let t in this._currentKeyframe)e.push(t);return e}mergeTimelineCollectedStyles(e){e._styleSummary.forEach((t,r)=>{const i=this._styleSummary.get(r);(!i||t.time>i.time)&&this._updateStyle(r,t.value)})}buildKeyframes(){this.applyStylesToKeyframe();const e=new Set,t=new Set,r=1===this._keyframes.size&&0===this.duration;let i=[];this._keyframes.forEach((a,l)=>{const c=new Map([...this._backFill,...a]);c.forEach((p,m)=>{"!"===p?e.add(m):p===El&&t.add(m)}),r||c.set("offset",l/this.duration),i.push(c)});const s=[...e.values()],o=[...t.values()];if(r){const a=i[0],l=new Map(a);a.set("offset",0),l.set("offset",1),i=[a,l]}return qT(this.element,i,s,o,this.duration,this.startTime,this.easing,!1)}}class qY extends Gw{constructor(e,t,r,i,s,o,a=!1){super(e,t,o.delay),this.keyframes=r,this.preStyleProps=i,this.postStyleProps=s,this._stretchStartingKeyframe=a,this.timings={duration:o.duration,delay:o.delay,easing:o.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let e=this.keyframes,{delay:t,duration:r,easing:i}=this.timings;if(this._stretchStartingKeyframe&&t){const s=[],o=r+t,a=t/o,l=new Map(e[0]);l.set("offset",0),s.push(l);const c=new Map(e[0]);c.set("offset",GF(a)),s.push(c);const p=e.length-1;for(let m=1;m<=p;m++){let w=new Map(e[m]);const b=w.get("offset");w.set("offset",GF((t+b*r)/o)),s.push(w)}r=o,t=0,i="",e=s}return qT(this.element,e,this.preStyleProps,this.postStyleProps,r,t,i,!0)}}function GF(n,e=3){const t=Math.pow(10,e-1);return Math.round(n*t)/t}function WF(n,e,t,r,i,s,o,a,l,c,p,m,w){return{type:0,element:n,triggerName:e,isRemovalTransition:i,fromState:t,fromStyles:s,toState:r,toStyles:o,timelines:a,queriedElements:l,preStyleProps:c,postStyleProps:p,totalTime:m,errors:w}}const KT={};class KF{constructor(e,t,r){this._triggerName=e,this.ast=t,this._stateStyles=r}match(e,t,r,i){return function WY(n,e,t,r,i){return n.some(s=>s(e,t,r,i))}(this.ast.matchers,e,t,r,i)}buildStyles(e,t,r){let i=this._stateStyles.get("*");return void 0!==e&&(i=this._stateStyles.get(e?.toString())||i),i?i.buildStyles(t,r):new Map}build(e,t,r,i,s,o,a,l,c,p){const m=[],w=this.ast.options&&this.ast.options.params||KT,C=this.buildStyles(r,a&&a.params||KT,m),S=l&&l.params||KT,P=this.buildStyles(i,S,m),L=new Set,j=new Map,G=new Map,ue="void"===i,Te={params:QF(S,w),delay:this.ast.options?.delay},Me=p?[]:GT(e,t,this.ast.animation,s,o,C,P,Te,c,m);let V=0;return Me.forEach(N=>{V=Math.max(N.duration+N.delay,V)}),m.length?WF(t,this._triggerName,r,i,ue,C,P,[],[],j,G,V,m):(Me.forEach(N=>{const U=N.element,z=Hs(j,U,new Set);N.preStyleProps.forEach(Z=>z.add(Z));const K=Hs(G,U,new Set);N.postStyleProps.forEach(Z=>K.add(Z)),U!==t&&L.add(U)}),WF(t,this._triggerName,r,i,ue,C,P,Me,[...L.values()],j,G,V))}}function QF(n,e){const t={...e};return Object.entries(n).forEach(([r,i])=>{null!=i&&(t[r]=i)}),t}class KY{constructor(e,t,r){this.styles=e,this.defaultParams=t,this.normalizer=r}buildStyles(e,t){const r=new Map,i=QF(e,this.defaultParams);return this.styles.styles.forEach(s=>{"string"!=typeof s&&s.forEach((o,a)=>{o&&(o=Mm(o,i,t));const l=this.normalizer.normalizePropertyName(a,t);o=this.normalizer.normalizeStyleValue(a,l,o,t),r.set(a,o)})}),r}}class YY{constructor(e,t,r){this.name=e,this.ast=t,this._normalizer=r,this.transitionFactories=[],this.states=new Map,t.states.forEach(i=>{this.states.set(i.name,new KY(i.style,i.options&&i.options.params||{},r))}),YF(this.states,"true","1"),YF(this.states,"false","0"),t.transitions.forEach(i=>{this.transitionFactories.push(new KF(e,i,this.states))}),this.fallbackTransition=function JY(n,e,t){return new KF(n,{type:vt.Transition,animation:{type:vt.Sequence,steps:[],options:null},matchers:[(o,a)=>!0],options:null,queryCount:0,depCount:0},e)}(e,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(e,t,r,i){return this.transitionFactories.find(o=>o.match(e,t,r,i))||null}matchStyles(e,t,r){return this.fallbackTransition.buildStyles(e,t,r)}}function YF(n,e,t){n.has(e)?n.has(t)||n.set(t,n.get(e)):n.has(t)&&n.set(e,n.get(t))}const ZY=new Hw;class XY{constructor(e,t,r){this.bodyNode=e,this._driver=t,this._normalizer=r,this._animations=new Map,this._playersById=new Map,this.players=[]}register(e,t){const r=[],s=zT(this._driver,t,r,[]);if(r.length)throw function iY(n){return new J(3503,!1)}();this._animations.set(e,s)}_buildPlayer(e,t,r){const i=e.element,s=xF(this._normalizer,e.keyframes,t,r);return this._driver.animate(i,s,e.duration,e.delay,e.easing,[],!0)}create(e,t,r={}){const i=[],s=this._animations.get(e);let o;const a=new Map;if(s?(o=GT(this._driver,t,s,VT,Vw,new Map,new Map,r,ZY,i),o.forEach(p=>{const m=Hs(a,p.element,new Map);p.postStyleProps.forEach(w=>m.set(w,null))})):(i.push(function sY(){return new J(3300,!1)}()),o=[]),i.length)throw function oY(n){return new J(3504,!1)}();a.forEach((p,m)=>{p.forEach((w,b)=>{p.set(b,this._driver.computeStyle(m,b,El))})});const c=Su(o.map(p=>{const m=a.get(p.element);return this._buildPlayer(p,new Map,m)}));return this._playersById.set(e,c),c.onDestroy(()=>this.destroy(e)),this.players.push(c),c}destroy(e){const t=this._getPlayer(e);t.destroy(),this._playersById.delete(e);const r=this.players.indexOf(t);r>=0&&this.players.splice(r,1)}_getPlayer(e){const t=this._playersById.get(e);if(!t)throw function aY(n){return new J(3301,!1)}();return t}listen(e,t,r,i){const s=NT(t,"","","");return PT(this._getPlayer(e),r,s,i),()=>{}}command(e,t,r,i){if("register"==r)return void this.register(e,i[0]);if("create"==r)return void this.create(e,t,i[0]||{});const s=this._getPlayer(e);switch(r){case"play":s.play();break;case"pause":s.pause();break;case"reset":s.reset();break;case"restart":s.restart();break;case"finish":s.finish();break;case"init":s.init();break;case"setPosition":s.setPosition(parseFloat(i[0]));break;case"destroy":this.destroy(e)}}}const JF="ng-animate-queued",QT="ng-animate-disabled",iJ=[],ZF={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},sJ={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},Uo="__ng_removed";class YT{get params(){return this.options.params}constructor(e,t=""){this.namespaceId=t;const r=e&&e.hasOwnProperty("value");if(this.value=function uJ(n){return n??null}(r?e.value:e),r){const{value:s,...o}=e;this.options=o}else this.options={};this.options.params||(this.options.params={})}absorbOptions(e){const t=e.params;if(t){const r=this.options.params;Object.keys(t).forEach(i=>{null==r[i]&&(r[i]=t[i])})}}}const Nm="void",JT=new YT(Nm);class oJ{constructor(e,t,r){this.id=e,this.hostElement=t,this._engine=r,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+e,yo(t,this._hostClassName)}listen(e,t,r,i){if(!this._triggers.has(t))throw function lY(n,e){return new J(3302,!1)}();if(null==r||0==r.length)throw function uY(n){return new J(3303,!1)}();if(!function cJ(n){return"start"==n||"done"==n}(r))throw function cY(n,e){return new J(3400,!1)}();const s=Hs(this._elementListeners,e,[]),o={name:t,phase:r,callback:i};s.push(o);const a=Hs(this._engine.statesByElement,e,new Map);return a.has(t)||(yo(e,Lw),yo(e,Lw+"-"+t),a.set(t,JT)),()=>{this._engine.afterFlush(()=>{const l=s.indexOf(o);l>=0&&s.splice(l,1),this._triggers.has(t)||a.delete(t)})}}register(e,t){return!this._triggers.has(e)&&(this._triggers.set(e,t),!0)}_getTrigger(e){const t=this._triggers.get(e);if(!t)throw function dY(n){return new J(3401,!1)}();return t}trigger(e,t,r,i=!0){const s=this._getTrigger(t),o=new ZT(this.id,t,e);let a=this._engine.statesByElement.get(e);a||(yo(e,Lw),yo(e,Lw+"-"+t),this._engine.statesByElement.set(e,a=new Map));let l=a.get(t);const c=new YT(r,this.id);if(!(r&&r.hasOwnProperty("value"))&&l&&c.absorbOptions(l.options),a.set(t,c),l||(l=JT),c.value!==Nm&&l.value===c.value){if(!function fJ(n,e){const t=Object.keys(n),r=Object.keys(e);if(t.length!=r.length)return!1;for(let i=0;i<t.length;i++){const s=t[i];if(!e.hasOwnProperty(s)||n[s]!==e[s])return!1}return!0}(l.params,c.params)){const S=[],P=s.matchStyles(l.value,l.params,S),L=s.matchStyles(c.value,c.params,S);S.length?this._engine.reportError(S):this._engine.afterFlush(()=>{ud(e,P),Ea(e,L)})}return}const w=Hs(this._engine.playersByElement,e,[]);w.forEach(S=>{S.namespaceId==this.id&&S.triggerName==t&&S.queued&&S.destroy()});let b=s.matchTransition(l.value,c.value,e,c.params),C=!1;if(!b){if(!i)return;b=s.fallbackTransition,C=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:t,transition:b,fromState:l,toState:c,player:o,isFallbackTransition:C}),C||(yo(e,JF),o.onStart(()=>{bf(e,JF)})),o.onDone(()=>{let S=this.players.indexOf(o);S>=0&&this.players.splice(S,1);const P=this._engine.playersByElement.get(e);if(P){let L=P.indexOf(o);L>=0&&P.splice(L,1)}}),this.players.push(o),w.push(o),o}deregister(e){this._triggers.delete(e),this._engine.statesByElement.forEach(t=>t.delete(e)),this._elementListeners.forEach((t,r)=>{this._elementListeners.set(r,t.filter(i=>i.name!=e))})}clearElementCache(e){this._engine.statesByElement.delete(e),this._elementListeners.delete(e);const t=this._engine.playersByElement.get(e);t&&(t.forEach(r=>r.destroy()),this._engine.playersByElement.delete(e))}_signalRemovalForInnerTriggers(e,t){const r=this._engine.driver.query(e,Uw,!0);r.forEach(i=>{if(i[Uo])return;const s=this._engine.fetchNamespacesByElement(i);s.size?s.forEach(o=>o.triggerLeaveAnimation(i,t,!1,!0)):this.clearElementCache(i)}),this._engine.afterFlushAnimationsDone(()=>r.forEach(i=>this.clearElementCache(i)))}triggerLeaveAnimation(e,t,r,i){const s=this._engine.statesByElement.get(e),o=new Map;if(s){const a=[];if(s.forEach((l,c)=>{if(o.set(c,l.value),this._triggers.has(c)){const p=this.trigger(e,c,Nm,i);p&&a.push(p)}}),a.length)return this._engine.markElementAsRemoved(this.id,e,!0,t,o),r&&Su(a).onDone(()=>this._engine.processLeaveNode(e)),!0}return!1}prepareLeaveAnimationListeners(e){const t=this._elementListeners.get(e),r=this._engine.statesByElement.get(e);if(t&&r){const i=new Set;t.forEach(s=>{const o=s.name;if(i.has(o))return;i.add(o);const l=this._triggers.get(o).fallbackTransition,c=r.get(o)||JT,p=new YT(Nm),m=new ZT(this.id,o,e);this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:o,transition:l,fromState:c,toState:p,player:m,isFallbackTransition:!0})})}}removeNode(e,t){const r=this._engine;if(e.childElementCount&&this._signalRemovalForInnerTriggers(e,t),this.triggerLeaveAnimation(e,t,!0))return;let i=!1;if(r.totalAnimations){const s=r.players.length?r.playersByQueriedElement.get(e):[];if(s&&s.length)i=!0;else{let o=e;for(;o=o.parentNode;)if(r.statesByElement.get(o)){i=!0;break}}}if(this.prepareLeaveAnimationListeners(e),i)r.markElementAsRemoved(this.id,e,!1,t);else{const s=e[Uo];(!s||s===ZF)&&(r.afterFlush(()=>this.clearElementCache(e)),r.destroyInnerAnimations(e),r._onRemovalComplete(e,t))}}insertNode(e,t){yo(e,this._hostClassName)}drainQueuedTransitions(e){const t=[];return this._queue.forEach(r=>{const i=r.player;if(i.destroyed)return;const s=r.element,o=this._elementListeners.get(s);o&&o.forEach(a=>{if(a.name==r.triggerName){const l=NT(s,r.triggerName,r.fromState.value,r.toState.value);l._data=e,PT(r.player,a.phase,l,a.callback)}}),i.markedForDestroy?this._engine.afterFlush(()=>{i.destroy()}):t.push(r)}),this._queue=[],t.sort((r,i)=>{const s=r.transition.ast.depCount,o=i.transition.ast.depCount;return 0==s||0==o?s-o:this._engine.driver.containsElement(r.element,i.element)?1:-1})}destroy(e){this.players.forEach(t=>t.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,e)}}class aJ{_onRemovalComplete(e,t){this.onRemovalComplete(e,t)}constructor(e,t,r,i){this.bodyNode=e,this.driver=t,this._normalizer=r,this.scheduler=i,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(s,o)=>{}}get queuedPlayers(){const e=[];return this._namespaceList.forEach(t=>{t.players.forEach(r=>{r.queued&&e.push(r)})}),e}createNamespace(e,t){const r=new oJ(e,t,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,t)?this._balanceNamespaceList(r,t):(this.newHostElements.set(t,r),this.collectEnterElement(t)),this._namespaceLookup[e]=r}_balanceNamespaceList(e,t){const r=this._namespaceList,i=this.namespacesByHostElement;if(r.length-1>=0){let o=!1,a=this.driver.getParentElement(t);for(;a;){const l=i.get(a);if(l){const c=r.indexOf(l);r.splice(c+1,0,e),o=!0;break}a=this.driver.getParentElement(a)}o||r.unshift(e)}else r.push(e);return i.set(t,e),e}register(e,t){let r=this._namespaceLookup[e];return r||(r=this.createNamespace(e,t)),r}registerTrigger(e,t,r){let i=this._namespaceLookup[e];i&&i.register(t,r)&&this.totalAnimations++}destroy(e,t){e&&(this.afterFlush(()=>{}),this.afterFlushAnimationsDone(()=>{const r=this._fetchNamespace(e);this.namespacesByHostElement.delete(r.hostElement);const i=this._namespaceList.indexOf(r);i>=0&&this._namespaceList.splice(i,1),r.destroy(t),delete this._namespaceLookup[e]}))}_fetchNamespace(e){return this._namespaceLookup[e]}fetchNamespacesByElement(e){const t=new Set,r=this.statesByElement.get(e);if(r)for(let i of r.values())if(i.namespaceId){const s=this._fetchNamespace(i.namespaceId);s&&t.add(s)}return t}trigger(e,t,r,i){if(Ww(t)){const s=this._fetchNamespace(e);if(s)return s.trigger(t,r,i),!0}return!1}insertNode(e,t,r,i){if(!Ww(t))return;const s=t[Uo];if(s&&s.setForRemoval){s.setForRemoval=!1,s.setForMove=!0;const o=this.collectedLeaveElements.indexOf(t);o>=0&&this.collectedLeaveElements.splice(o,1)}if(e){const o=this._fetchNamespace(e);o&&o.insertNode(t,r)}i&&this.collectEnterElement(t)}collectEnterElement(e){this.collectedEnterElements.push(e)}markElementAsDisabled(e,t){t?this.disabledNodes.has(e)||(this.disabledNodes.add(e),yo(e,QT)):this.disabledNodes.has(e)&&(this.disabledNodes.delete(e),bf(e,QT))}removeNode(e,t,r){if(Ww(t)){this.scheduler?.notify();const i=e?this._fetchNamespace(e):null;i?i.removeNode(t,r):this.markElementAsRemoved(e,t,!1,r);const s=this.namespacesByHostElement.get(t);s&&s.id!==e&&s.removeNode(t,r)}else this._onRemovalComplete(t,r)}markElementAsRemoved(e,t,r,i,s){this.collectedLeaveElements.push(t),t[Uo]={namespaceId:e,setForRemoval:i,hasAnimation:r,removedBeforeQueried:!1,previousTriggersValues:s}}listen(e,t,r,i,s){return Ww(t)?this._fetchNamespace(e).listen(t,r,i,s):()=>{}}_buildInstruction(e,t,r,i,s){return e.transition.build(this.driver,e.element,e.fromState.value,e.toState.value,r,i,e.fromState.options,e.toState.options,t,s)}destroyInnerAnimations(e){let t=this.driver.query(e,Uw,!0);t.forEach(r=>this.destroyActiveAnimationsForElement(r)),0!=this.playersByQueriedElement.size&&(t=this.driver.query(e,LT,!0),t.forEach(r=>this.finishActiveQueriedAnimationOnElement(r)))}destroyActiveAnimationsForElement(e){const t=this.playersByElement.get(e);t&&t.forEach(r=>{r.queued?r.markedForDestroy=!0:r.destroy()})}finishActiveQueriedAnimationOnElement(e){const t=this.playersByQueriedElement.get(e);t&&t.forEach(r=>r.finish())}whenRenderingDone(){return new Promise(e=>{if(this.players.length)return Su(this.players).onDone(()=>e());e()})}processLeaveNode(e){const t=e[Uo];if(t&&t.setForRemoval){if(e[Uo]=ZF,t.namespaceId){this.destroyInnerAnimations(e);const r=this._fetchNamespace(t.namespaceId);r&&r.clearElementCache(e)}this._onRemovalComplete(e,t.setForRemoval)}e.classList?.contains(QT)&&this.markElementAsDisabled(e,!1),this.driver.query(e,".ng-animate-disabled",!0).forEach(r=>{this.markElementAsDisabled(r,!1)})}flush(e=-1){let t=[];if(this.newHostElements.size&&(this.newHostElements.forEach((r,i)=>this._balanceNamespaceList(r,i)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let r=0;r<this.collectedEnterElements.length;r++)yo(this.collectedEnterElements[r],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const r=[];try{t=this._flushAnimations(r,e)}finally{for(let i=0;i<r.length;i++)r[i]()}}else for(let r=0;r<this.collectedLeaveElements.length;r++)this.processLeaveNode(this.collectedLeaveElements[r]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(r=>r()),this._flushFns=[],this._whenQuietFns.length){const r=this._whenQuietFns;this._whenQuietFns=[],t.length?Su(t).onDone(()=>{r.forEach(i=>i())}):r.forEach(i=>i())}}reportError(e){throw function hY(n){return new J(3402,!1)}()}_flushAnimations(e,t){const r=new Hw,i=[],s=new Map,o=[],a=new Map,l=new Map,c=new Map,p=new Set;this.disabledNodes.forEach(We=>{p.add(We);const Xe=this.driver.query(We,".ng-animate-queued",!0);for(let ot=0;ot<Xe.length;ot++)p.add(Xe[ot])});const m=this.bodyNode,w=Array.from(this.statesByElement.keys()),b=tV(w,this.collectedEnterElements),C=new Map;let S=0;b.forEach((We,Xe)=>{const ot=VT+S++;C.set(Xe,ot),We.forEach(qt=>yo(qt,ot))});const P=[],L=new Set,j=new Set;for(let We=0;We<this.collectedLeaveElements.length;We++){const Xe=this.collectedLeaveElements[We],ot=Xe[Uo];ot&&ot.setForRemoval&&(P.push(Xe),L.add(Xe),ot.hasAnimation?this.driver.query(Xe,".ng-star-inserted",!0).forEach(qt=>L.add(qt)):j.add(Xe))}const G=new Map,ue=tV(w,Array.from(L));ue.forEach((We,Xe)=>{const ot=Vw+S++;G.set(Xe,ot),We.forEach(qt=>yo(qt,ot))}),e.push(()=>{b.forEach((We,Xe)=>{const ot=C.get(Xe);We.forEach(qt=>bf(qt,ot))}),ue.forEach((We,Xe)=>{const ot=G.get(Xe);We.forEach(qt=>bf(qt,ot))}),P.forEach(We=>{this.processLeaveNode(We)})});const Te=[],Me=[];for(let We=this._namespaceList.length-1;We>=0;We--)this._namespaceList[We].drainQueuedTransitions(t).forEach(ot=>{const qt=ot.player,xr=ot.element;if(Te.push(qt),this.collectedEnterElements.length){const Er=xr[Uo];if(Er&&Er.setForMove){if(Er.previousTriggersValues&&Er.previousTriggersValues.has(ot.triggerName)){const kl=Er.previousTriggersValues.get(ot.triggerName),Ms=this.statesByElement.get(ot.element);if(Ms&&Ms.has(ot.triggerName)){const Fl=Ms.get(ot.triggerName);Fl.value=kl,Ms.set(ot.triggerName,Fl)}}return void qt.destroy()}}const bo=!m||!this.driver.containsElement(m,xr),wr=G.get(xr),Jn=C.get(xr),Zn=this._buildInstruction(ot,r,Jn,wr,bo);if(Zn.errors&&Zn.errors.length)return void Me.push(Zn);if(bo)return qt.onStart(()=>ud(xr,Zn.fromStyles)),qt.onDestroy(()=>Ea(xr,Zn.toStyles)),void i.push(qt);if(ot.isFallbackTransition)return qt.onStart(()=>ud(xr,Zn.fromStyles)),qt.onDestroy(()=>Ea(xr,Zn.toStyles)),void i.push(qt);const sc=[];Zn.timelines.forEach(Er=>{Er.stretchStartingKeyframe=!0,this.disabledNodes.has(Er.element)||sc.push(Er)}),Zn.timelines=sc,r.append(xr,Zn.timelines),o.push({instruction:Zn,player:qt,element:xr}),Zn.queriedElements.forEach(Er=>Hs(a,Er,[]).push(qt)),Zn.preStyleProps.forEach((Er,kl)=>{if(Er.size){let Ms=l.get(kl);Ms||l.set(kl,Ms=new Set),Er.forEach((Fl,oc)=>Ms.add(oc))}}),Zn.postStyleProps.forEach((Er,kl)=>{let Ms=c.get(kl);Ms||c.set(kl,Ms=new Set),Er.forEach((Fl,oc)=>Ms.add(oc))})});if(Me.length){const We=[];Me.forEach(Xe=>{We.push(function fY(n,e){return new J(3505,!1)}())}),Te.forEach(Xe=>Xe.destroy()),this.reportError(We)}const V=new Map,N=new Map;o.forEach(We=>{const Xe=We.element;r.has(Xe)&&(N.set(Xe,Xe),this._beforeAnimationBuild(We.player.namespaceId,We.instruction,V))}),i.forEach(We=>{const Xe=We.element;this._getPreviousPlayers(Xe,!1,We.namespaceId,We.triggerName,null).forEach(qt=>{Hs(V,Xe,[]).push(qt),qt.destroy()})});const U=P.filter(We=>rV(We,l,c)),z=new Map;eV(z,this.driver,j,c,El).forEach(We=>{rV(We,l,c)&&U.push(We)});const Z=new Map;b.forEach((We,Xe)=>{eV(Z,this.driver,new Set(We),l,"!")}),U.forEach(We=>{const Xe=z.get(We),ot=Z.get(We);z.set(We,new Map([...Xe?.entries()??[],...ot?.entries()??[]]))});const B=[],Io=[],ic={};o.forEach(We=>{const{element:Xe,player:ot,instruction:qt}=We;if(r.has(Xe)){if(p.has(Xe))return ot.onDestroy(()=>Ea(Xe,qt.toStyles)),ot.disabled=!0,ot.overrideTotalTime(qt.totalTime),void i.push(ot);let xr=ic;if(N.size>1){let wr=Xe;const Jn=[];for(;wr=wr.parentNode;){const Zn=N.get(wr);if(Zn){xr=Zn;break}Jn.push(wr)}Jn.forEach(Zn=>N.set(Zn,xr))}const bo=this._buildAnimation(ot.namespaceId,qt,V,s,Z,z);if(ot.setRealPlayer(bo),xr===ic)B.push(ot);else{const wr=this.playersByElement.get(xr);wr&&wr.length&&(ot.parentPlayer=Su(wr)),i.push(ot)}}else ud(Xe,qt.fromStyles),ot.onDestroy(()=>Ea(Xe,qt.toStyles)),Io.push(ot),p.has(Xe)&&i.push(ot)}),Io.forEach(We=>{const Xe=s.get(We.element);if(Xe&&Xe.length){const ot=Su(Xe);We.setRealPlayer(ot)}}),i.forEach(We=>{We.parentPlayer?We.syncPlayerEvents(We.parentPlayer):We.destroy()});for(let We=0;We<P.length;We++){const Xe=P[We],ot=Xe[Uo];if(bf(Xe,Vw),ot&&ot.hasAnimation)continue;let qt=[];if(a.size){let bo=a.get(Xe);bo&&bo.length&&qt.push(...bo);let wr=this.driver.query(Xe,LT,!0);for(let Jn=0;Jn<wr.length;Jn++){let Zn=a.get(wr[Jn]);Zn&&Zn.length&&qt.push(...Zn)}}const xr=qt.filter(bo=>!bo.destroyed);xr.length?dJ(this,Xe,xr):this.processLeaveNode(Xe)}return P.length=0,B.forEach(We=>{this.players.push(We),We.onDone(()=>{We.destroy();const Xe=this.players.indexOf(We);this.players.splice(Xe,1)}),We.play()}),B}afterFlush(e){this._flushFns.push(e)}afterFlushAnimationsDone(e){this._whenQuietFns.push(e)}_getPreviousPlayers(e,t,r,i,s){let o=[];if(t){const a=this.playersByQueriedElement.get(e);a&&(o=a)}else{const a=this.playersByElement.get(e);if(a){const l=!s||s==Nm;a.forEach(c=>{c.queued||!l&&c.triggerName!=i||o.push(c)})}}return(r||i)&&(o=o.filter(a=>!(r&&r!=a.namespaceId||i&&i!=a.triggerName))),o}_beforeAnimationBuild(e,t,r){const s=t.element,o=t.isRemovalTransition?void 0:e,a=t.isRemovalTransition?void 0:t.triggerName;for(const l of t.timelines){const c=l.element,p=c!==s,m=Hs(r,c,[]);this._getPreviousPlayers(c,p,o,a,t.toState).forEach(b=>{const C=b.getRealPlayer();C.beforeDestroy&&C.beforeDestroy(),b.destroy(),m.push(b)})}ud(s,t.fromStyles)}_buildAnimation(e,t,r,i,s,o){const a=t.triggerName,l=t.element,c=[],p=new Set,m=new Set,w=t.timelines.map(C=>{const S=C.element;p.add(S);const P=S[Uo];if(P&&P.removedBeforeQueried)return new Rm(C.duration,C.delay);const L=S!==l,j=function hJ(n){const e=[];return nV(n,e),e}((r.get(S)||iJ).map(V=>V.getRealPlayer())).filter(V=>!!V.element&&V.element===S),G=s.get(S),ue=o.get(S),Te=xF(this._normalizer,C.keyframes,G,ue),Me=this._buildPlayer(C,Te,j);if(C.subTimeline&&i&&m.add(S),L){const V=new ZT(e,a,S);V.setRealPlayer(Me),c.push(V)}return Me});c.forEach(C=>{Hs(this.playersByQueriedElement,C.element,[]).push(C),C.onDone(()=>function lJ(n,e,t){let r=n.get(e);if(r){if(r.length){const i=r.indexOf(t);r.splice(i,1)}0==r.length&&n.delete(e)}return r}(this.playersByQueriedElement,C.element,C))}),p.forEach(C=>yo(C,UF));const b=Su(w);return b.onDestroy(()=>{p.forEach(C=>bf(C,UF)),Ea(l,t.toStyles)}),m.forEach(C=>{Hs(i,C,[]).push(b)}),b}_buildPlayer(e,t,r){return t.length>0?this.driver.animate(e.element,t,e.duration,e.delay,e.easing,r):new Rm(e.duration,e.delay)}}class ZT{constructor(e,t,r){this.namespaceId=e,this.triggerName=t,this.element=r,this._player=new Rm,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.parentPlayer=null,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(e){this._containsRealPlayer||(this._player=e,this._queuedCallbacks.forEach((t,r)=>{t.forEach(i=>PT(e,r,void 0,i))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(e.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(e){this.totalTime=e}syncPlayerEvents(e){const t=this._player;t.triggerCallback&&e.onStart(()=>t.triggerCallback("start")),e.onDone(()=>this.finish()),e.onDestroy(()=>this.destroy())}_queueEvent(e,t){Hs(this._queuedCallbacks,e,[]).push(t)}onDone(e){this.queued&&this._queueEvent("done",e),this._player.onDone(e)}onStart(e){this.queued&&this._queueEvent("start",e),this._player.onStart(e)}onDestroy(e){this.queued&&this._queueEvent("destroy",e),this._player.onDestroy(e)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(e){this.queued||this._player.setPosition(e)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(e){const t=this._player;t.triggerCallback&&t.triggerCallback(e)}}function Ww(n){return n&&1===n.nodeType}function XF(n,e){const t=n.style.display;return n.style.display=e??"none",t}function eV(n,e,t,r,i){const s=[];t.forEach(l=>s.push(XF(l)));const o=[];r.forEach((l,c)=>{const p=new Map;l.forEach(m=>{const w=e.computeStyle(c,m,i);p.set(m,w),(!w||0==w.length)&&(c[Uo]=sJ,o.push(c))}),n.set(c,p)});let a=0;return t.forEach(l=>XF(l,s[a++])),o}function tV(n,e){const t=new Map;if(n.forEach(a=>t.set(a,[])),0==e.length)return t;const i=new Set(e),s=new Map;function o(a){if(!a)return 1;let l=s.get(a);if(l)return l;const c=a.parentNode;return l=t.has(c)?c:i.has(c)?1:o(c),s.set(a,l),l}return e.forEach(a=>{const l=o(a);1!==l&&t.get(l).push(a)}),t}function yo(n,e){n.classList?.add(e)}function bf(n,e){n.classList?.remove(e)}function dJ(n,e,t){Su(t).onDone(()=>n.processLeaveNode(e))}function nV(n,e){for(let t=0;t<n.length;t++){const r=n[t];r instanceof MF?nV(r.players,e):e.push(r)}}function rV(n,e,t){const r=t.get(n);if(!r)return!1;let i=e.get(n);return i?r.forEach(s=>i.add(s)):e.set(n,r),t.delete(n),!0}class xm{constructor(e,t,r,i){this._driver=t,this._normalizer=r,this._triggerCache={},this.onRemovalComplete=(s,o)=>{},this._transitionEngine=new aJ(e.body,t,r,i),this._timelineEngine=new XY(e.body,t,r),this._transitionEngine.onRemovalComplete=(s,o)=>this.onRemovalComplete(s,o)}registerTrigger(e,t,r,i,s){const o=e+"-"+i;let a=this._triggerCache[o];if(!a){const l=[],p=zT(this._driver,s,l,[]);if(l.length)throw function nY(n,e){return new J(3404,!1)}();a=function QY(n,e,t){return new YY(n,e,t)}(i,p,this._normalizer),this._triggerCache[o]=a}this._transitionEngine.registerTrigger(t,i,a)}register(e,t){this._transitionEngine.register(e,t)}destroy(e,t){this._transitionEngine.destroy(e,t)}onInsert(e,t,r,i){this._transitionEngine.insertNode(e,t,r,i)}onRemove(e,t,r){this._transitionEngine.removeNode(e,t,r)}disableAnimations(e,t){this._transitionEngine.markElementAsDisabled(e,t)}process(e,t,r,i){if("@"==r.charAt(0)){const[s,o]=OF(r);this._timelineEngine.command(s,t,o,i)}else this._transitionEngine.trigger(e,t,r,i)}listen(e,t,r,i,s){if("@"==r.charAt(0)){const[o,a]=OF(r);return this._timelineEngine.listen(o,t,a,s)}return this._transitionEngine.listen(e,t,r,i,s)}flush(e=-1){this._transitionEngine.flush(e)}get players(){return[...this._transitionEngine.players,...this._timelineEngine.players]}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}afterFlushAnimationsDone(e){this._transitionEngine.afterFlushAnimationsDone(e)}}class Om{static#e=this.initialStylesByElement=new WeakMap;constructor(e,t,r){this._element=e,this._startStyles=t,this._endStyles=r,this._state=0;let i=Om.initialStylesByElement.get(e);i||Om.initialStylesByElement.set(e,i=new Map),this._initialStyles=i}start(){this._state<1&&(this._startStyles&&Ea(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(Ea(this._element,this._initialStyles),this._endStyles&&(Ea(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(Om.initialStylesByElement.delete(this._element),this._startStyles&&(ud(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(ud(this._element,this._endStyles),this._endStyles=null),Ea(this._element,this._initialStyles),this._state=3)}}function XT(n){let e=null;return n.forEach((t,r)=>{(function gJ(n){return"display"===n||"position"===n})(r)&&(e=e||new Map,e.set(r,t))}),e}class iV{constructor(e,t,r,i){this.element=e,this.keyframes=t,this.options=r,this._specialStyles=i,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=r.duration,this._delay=r.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const e=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,e,this.options),this._finalKeyframe=e.length?e[e.length-1]:new Map;const t=()=>this._onFinish();this.domPlayer.addEventListener("finish",t),this.onDestroy(()=>{this.domPlayer.removeEventListener("finish",t)})}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(e){const t=[];return e.forEach(r=>{t.push(Object.fromEntries(r))}),t}_triggerWebAnimation(e,t,r){return e.animate(this._convertKeyframesToObject(t),r)}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(e=>e()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}setPosition(e){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=e*this.time}getPosition(){return+(this.domPlayer.currentTime??0)/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const e=new Map;this.hasStarted()&&this._finalKeyframe.forEach((r,i)=>{"offset"!==i&&e.set(i,this._finished?r:$T(this.element,i))}),this.currentSnapshot=e}triggerCallback(e){const t="start"===e?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}}class sV{validateStyleProperty(e){return!0}validateAnimatableStyleProperty(e){return!0}matchesElement(e,t){return!1}containsElement(e,t){return FF(e,t)}getParentElement(e){return xT(e)}query(e,t,r){return VF(e,t,r)}computeStyle(e,t,r){return $T(e,t)}animate(e,t,r,i,s,o=[]){const l={duration:r,delay:i,fill:0==i?"both":"forwards"};s&&(l.easing=s);const c=new Map,p=o.filter(b=>b instanceof iV);(function CY(n,e){return 0===n||0===e})(r,i)&&p.forEach(b=>{b.currentSnapshot.forEach((C,S)=>c.set(S,C))});let m=function bY(n){return n.length?n[0]instanceof Map?n:n.map(e=>new Map(Object.entries(e))):[]}(t).map(b=>new Map(b));m=function DY(n,e,t){if(t.size&&e.length){let r=e[0],i=[];if(t.forEach((s,o)=>{r.has(o)||i.push(o),r.set(o,s)}),i.length)for(let s=1;s<e.length;s++){let o=e[s];i.forEach(a=>o.set(a,$T(n,a)))}}return e}(e,m,c);const w=function pJ(n,e){let t=null,r=null;return Array.isArray(e)&&e.length?(t=XT(e[0]),e.length>1&&(r=XT(e[e.length-1]))):e instanceof Map&&(t=XT(e)),t||r?new Om(n,t,r):null}(e,m);return new iV(e,m,l,w)}}const oV="@.disabled";class aV{constructor(e,t,r,i){this.namespaceId=e,this.delegate=t,this.engine=r,this._onDestroy=i,this.\u0275type=0}get data(){return this.delegate.data}destroyNode(e){this.delegate.destroyNode?.(e)}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.engine.afterFlushAnimationsDone(()=>{queueMicrotask(()=>{this.delegate.destroy()})}),this._onDestroy?.()}createElement(e,t){return this.delegate.createElement(e,t)}createComment(e){return this.delegate.createComment(e)}createText(e){return this.delegate.createText(e)}appendChild(e,t){this.delegate.appendChild(e,t),this.engine.onInsert(this.namespaceId,t,e,!1)}insertBefore(e,t,r,i=!0){this.delegate.insertBefore(e,t,r),this.engine.onInsert(this.namespaceId,t,e,i)}removeChild(e,t,r){this.engine.onRemove(this.namespaceId,t,this.delegate)}selectRootElement(e,t){return this.delegate.selectRootElement(e,t)}parentNode(e){return this.delegate.parentNode(e)}nextSibling(e){return this.delegate.nextSibling(e)}setAttribute(e,t,r,i){this.delegate.setAttribute(e,t,r,i)}removeAttribute(e,t,r){this.delegate.removeAttribute(e,t,r)}addClass(e,t){this.delegate.addClass(e,t)}removeClass(e,t){this.delegate.removeClass(e,t)}setStyle(e,t,r,i){this.delegate.setStyle(e,t,r,i)}removeStyle(e,t,r){this.delegate.removeStyle(e,t,r)}setProperty(e,t,r){"@"==t.charAt(0)&&t==oV?this.disableAnimations(e,!!r):this.delegate.setProperty(e,t,r)}setValue(e,t){this.delegate.setValue(e,t)}listen(e,t,r){return this.delegate.listen(e,t,r)}disableAnimations(e,t){this.engine.disableAnimations(e,t)}}class mJ extends aV{constructor(e,t,r,i,s){super(t,r,i,s),this.factory=e,this.namespaceId=t}setProperty(e,t,r){"@"==t.charAt(0)?"."==t.charAt(1)&&t==oV?this.disableAnimations(e,r=void 0===r||!!r):this.engine.process(this.namespaceId,e,t.slice(1),r):this.delegate.setProperty(e,t,r)}listen(e,t,r){if("@"==t.charAt(0)){const i=function yJ(n){switch(n){case"body":return document.body;case"document":return document;case"window":return window;default:return n}}(e);let s=t.slice(1),o="";return"@"!=s.charAt(0)&&([s,o]=function _J(n){const e=n.indexOf(".");return[n.substring(0,e),n.slice(e+1)]}(s)),this.engine.listen(this.namespaceId,i,s,o,a=>{this.factory.scheduleListenerCallback(a._data||-1,r,a)})}return this.delegate.listen(e,t,r)}}class vJ{constructor(e,t,r){this.delegate=e,this.engine=t,this._zone=r,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,t.onRemovalComplete=(i,s)=>{const o=s?.parentNode(i);o&&s.removeChild(o,i)}}createRenderer(e,t){const i=this.delegate.createRenderer(e,t);if(!e||!t?.data?.animation){const c=this._rendererCache;let p=c.get(i);return p||(p=new aV("",i,this.engine,()=>c.delete(i)),c.set(i,p)),p}const s=t.id,o=t.id+"-"+this._currentId;this._currentId++,this.engine.register(o,e);const a=c=>{Array.isArray(c)?c.forEach(a):this.engine.registerTrigger(s,o,e,c.name,c)};return t.data.animation.forEach(a),new mJ(this,o,i,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){queueMicrotask(()=>{this._microtaskId++})}scheduleListenerCallback(e,t,r){if(e>=0&&e<this._microtaskId)return void this._zone.run(()=>t(r));const i=this._animationCallbacksBuffer;0==i.length&&queueMicrotask(()=>{this._zone.run(()=>{i.forEach(s=>{const[o,a]=s;o(a)}),this._animationCallbacksBuffer=[]})}),i.push([t,r])}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}const lV=[{provide:FT,useFactory:function EJ(){return new $F}},{provide:xm,useClass:(()=>{class n extends xm{constructor(t,r,i){super(t,r,i,ye(Uv,{optional:!0}))}ngOnDestroy(){this.flush()}static#e=this.\u0275fac=function(r){return new(r||n)(ve(Ds),ve(kT),ve(FT))};static#t=this.\u0275prov=Ue({token:n,factory:n.\u0275fac})}return n})()},{provide:U0,useFactory:function IJ(n,e,t){return new vJ(n,e,t)},deps:[CT,xm,Jt]}],eC=[{provide:kT,useFactory:()=>new sV},{provide:zP,useValue:"BrowserAnimations"},...lV],uV=[{provide:kT,useClass:OT},{provide:zP,useValue:"NoopAnimations"},...lV];let bJ=(()=>{class n{static withConfig(t){return{ngModule:n,providers:t.disableAnimations?uV:eC}}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275mod=Tr({type:n});static#n=this.\u0275inj=Qr({providers:eC,imports:[bF]})}return n})();var Af=at(635);const cV=n=>n&&"number"==typeof n.length&&"function"!=typeof n;function dV(n){return et(n?.then)}function hV(n){return et(n[Zs])}function fV(n){return Symbol.asyncIterator&&et(n?.[Symbol.asyncIterator])}function pV(n){return new TypeError(`You provided ${null!==n&&"object"==typeof n?"an invalid object":`'${n}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}const gV=function TJ(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}();function mV(n){return et(n?.[gV])}function yV(n){return(0,Af.AQ)(this,arguments,function*(){const t=n.getReader();try{for(;;){const{value:r,done:i}=yield(0,Af.N3)(t.read());if(i)return yield(0,Af.N3)(void 0);yield yield(0,Af.N3)(r)}}finally{t.releaseLock()}})}function _V(n){return et(n?.getReader)}function Gs(n){if(n instanceof Ht)return n;if(null!=n){if(hV(n))return function CJ(n){return new Ht(e=>{const t=n[Zs]();if(et(t.subscribe))return t.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(n);if(cV(n))return function DJ(n){return new Ht(e=>{for(let t=0;t<n.length&&!e.closed;t++)e.next(n[t]);e.complete()})}(n);if(dV(n))return function SJ(n){return new Ht(e=>{n.then(t=>{e.closed||(e.next(t),e.complete())},t=>e.error(t)).then(null,Fr)})}(n);if(fV(n))return vV(n);if(mV(n))return function RJ(n){return new Ht(e=>{for(const t of n)if(e.next(t),e.closed)return;e.complete()})}(n);if(_V(n))return function PJ(n){return vV(yV(n))}(n)}throw pV(n)}function vV(n){return new Ht(e=>{(function MJ(n,e){var t,r,i,s;return(0,Af.sH)(this,void 0,void 0,function*(){try{for(t=(0,Af.xN)(n);!(r=yield t.next()).done;)if(e.next(r.value),e.closed)return}catch(o){i={error:o}}finally{try{r&&!r.done&&(s=t.return)&&(yield s.call(t))}finally{if(i)throw i.error}}e.complete()})})(n,e).catch(t=>e.error(t))})}function bl(n,e,t,r=0,i=!1){const s=e.schedule(function(){t(),i?n.add(this.schedule(null,r)):this.unsubscribe()},r);if(n.add(s),!i)return s}function Ru(n,e=0){return H((t,r)=>{t.subscribe(Se(r,i=>bl(r,n,()=>r.next(i),e),()=>bl(r,n,()=>r.complete(),e),i=>bl(r,n,()=>r.error(i),e)))})}function dd(n,e=0){return H((t,r)=>{r.add(n.schedule(()=>t.subscribe(r),e))})}function wV(n,e){if(!n)throw new Error("Iterable cannot be null");return new Ht(t=>{bl(t,e,()=>{const r=n[Symbol.asyncIterator]();bl(t,e,()=>{r.next().then(i=>{i.done?t.complete():t.next(i.value)})},0,!0)})})}function jn(n,e){return e?function VJ(n,e){if(null!=n){if(hV(n))return function NJ(n,e){return Gs(n).pipe(dd(e),Ru(e))}(n,e);if(cV(n))return function OJ(n,e){return new Ht(t=>{let r=0;return e.schedule(function(){r===n.length?t.complete():(t.next(n[r++]),t.closed||this.schedule())})})}(n,e);if(dV(n))return function xJ(n,e){return Gs(n).pipe(dd(e),Ru(e))}(n,e);if(fV(n))return wV(n,e);if(mV(n))return function kJ(n,e){return new Ht(t=>{let r;return bl(t,e,()=>{r=n[gV](),bl(t,e,()=>{let i,s;try{({value:i,done:s}=r.next())}catch(o){return void t.error(o)}s?t.complete():t.next(i)},0,!0)}),()=>et(r?.return)&&r.return()})}(n,e);if(_V(n))return function FJ(n,e){return wV(yV(n),e)}(n,e)}throw pV(n)}(n,e):Gs(n)}function tC(n){return n[n.length-1]}function EV(n){return et(tC(n))?n.pop():void 0}function km(n){return function LJ(n){return n&&et(n.schedule)}(tC(n))?n.pop():void 0}function lt(...n){return jn(n,km(n))}const{isArray:BJ}=Array,{getPrototypeOf:jJ,prototype:$J,keys:zJ}=Object;function IV(n){if(1===n.length){const e=n[0];if(BJ(e))return{args:e,keys:null};if(function HJ(n){return n&&"object"==typeof n&&jJ(n)===$J}(e)){const t=zJ(e);return{args:t.map(r=>e[r]),keys:t}}}return{args:n,keys:null}}const{isArray:qJ}=Array;function bV(n){return je(e=>function GJ(n,e){return qJ(e)?n(...e):n(e)}(n,e))}function AV(n,e){return n.reduce((t,r,i)=>(t[r]=e[i],t),{})}function nC(...n){const e=km(n),t=EV(n),{args:r,keys:i}=IV(n);if(0===r.length)return jn([],e);const s=new Ht(function WJ(n,e,t=Lr){return r=>{TV(e,()=>{const{length:i}=n,s=new Array(i);let o=i,a=i;for(let l=0;l<i;l++)TV(e,()=>{const c=jn(n[l],e);let p=!1;c.subscribe(Se(r,m=>{s[l]=m,p||(p=!0,a--),a||r.next(t(s.slice()))},()=>{--o||r.complete()}))},r)},r)}}(r,e,i?o=>AV(i,o):Lr));return t?s.pipe(bV(t)):s}function TV(n,e,t){n?bl(t,n,e):e()}const Qw=tn(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});function xi(n,e,t=1/0){return et(e)?xi((r,i)=>je((s,o)=>e(r,s,i,o))(Gs(n(r,i))),t):("number"==typeof e&&(t=e),H((r,i)=>function KJ(n,e,t,r,i,s,o,a){const l=[];let c=0,p=0,m=!1;const w=()=>{m&&!l.length&&!c&&e.complete()},b=S=>c<r?C(S):l.push(S),C=S=>{s&&e.next(S),c++;let P=!1;Gs(t(S,p++)).subscribe(Se(e,L=>{i?.(L),s?b(L):e.next(L)},()=>{P=!0},void 0,()=>{if(P)try{for(c--;l.length&&c<r;){const L=l.shift();o?bl(e,o,()=>C(L)):C(L)}w()}catch(L){e.error(L)}}))};return n.subscribe(Se(e,b,()=>{m=!0,w()})),()=>{a?.()}}(r,i,n,t)))}function Tf(n=1/0){return xi(Lr,n)}function rC(...n){return function QJ(){return Tf(1)}()(jn(n,km(n)))}function CV(n){return new Ht(e=>{Gs(n()).subscribe(e)})}function Yw(n,e){const t=et(n)?n:()=>n,r=i=>i.error(t());return new Ht(e?i=>e.schedule(r,0,i):r)}const Bo=new Ht(n=>n.complete());function iC(){return H((n,e)=>{let t=null;n._refCount++;const r=Se(e,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount)return void(t=null);const i=n._connection,s=t;t=null,i&&(!s||i===s)&&i.unsubscribe(),e.unsubscribe()});n.subscribe(r),r.closed||(t=n.connect())})}class DV extends Ht{constructor(e,t){super(),this.source=e,this.subjectFactory=t,this._subject=null,this._refCount=0,this._connection=null,ce(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){const e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new Tt;const t=this.getSubject();e.add(this.source.subscribe(Se(t,void 0,()=>{this._teardown(),t.complete()},r=>{this._teardown(),t.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=Tt.EMPTY)}return e}refCount(){return iC()(this)}}function ti(n,e){return H((t,r)=>{let i=null,s=0,o=!1;const a=()=>o&&!i&&r.complete();t.subscribe(Se(r,l=>{i?.unsubscribe();let c=0;const p=s++;Gs(n(l,p)).subscribe(i=Se(r,m=>r.next(e?e(l,m,p,c++):m),()=>{i=null,a()}))},()=>{o=!0,a()}))})}function Cf(n){return n<=0?()=>Bo:H((e,t)=>{let r=0;e.subscribe(Se(t,i=>{++r<=n&&(t.next(i),n<=r&&t.complete())}))})}function Jw(...n){const e=km(n);return H((t,r)=>{(e?rC(n,t,e):rC(n,t)).subscribe(r)})}function _o(n,e){return H((t,r)=>{let i=0;t.subscribe(Se(r,s=>n.call(e,s,i++)&&r.next(s)))})}function Zw(n){return H((e,t)=>{let r=!1;e.subscribe(Se(t,i=>{r=!0,t.next(i)},()=>{r||t.next(n),t.complete()}))})}function SV(n=JJ){return H((e,t)=>{let r=!1;e.subscribe(Se(t,i=>{r=!0,t.next(i)},()=>r?t.complete():t.error(n())))})}function JJ(){return new Qw}function Pu(n,e){const t=arguments.length>=2;return r=>r.pipe(n?_o((i,s)=>n(i,s,r)):Lr,Cf(1),t?Zw(e):SV(()=>new Qw))}function Df(n,e){return et(e)?xi(n,e,1):xi(n,1)}function Oi(n,e,t){const r=et(n)||e||t?{next:n,error:e,complete:t}:n;return r?H((i,s)=>{var o;null===(o=r.subscribe)||void 0===o||o.call(r);let a=!0;i.subscribe(Se(s,l=>{var c;null===(c=r.next)||void 0===c||c.call(r,l),s.next(l)},()=>{var l;a=!1,null===(l=r.complete)||void 0===l||l.call(r),s.complete()},l=>{var c;a=!1,null===(c=r.error)||void 0===c||c.call(r,l),s.error(l)},()=>{var l,c;a&&(null===(l=r.unsubscribe)||void 0===l||l.call(r)),null===(c=r.finalize)||void 0===c||c.call(r)}))}):Lr}function Sf(n){return H((e,t)=>{let s,r=null,i=!1;r=e.subscribe(Se(t,void 0,void 0,o=>{s=Gs(n(o,Sf(n)(e))),r?(r.unsubscribe(),r=null,s.subscribe(t)):i=!0})),i&&(r.unsubscribe(),r=null,s.subscribe(t))})}function Xw(n,e){return H(function ZJ(n,e,t,r,i){return(s,o)=>{let a=t,l=e,c=0;s.subscribe(Se(o,p=>{const m=c++;l=a?n(l,p,m):(a=!0,p),r&&o.next(l)},i&&(()=>{a&&o.next(l),o.complete()})))}}(n,e,arguments.length>=2,!0))}function sC(n){return n<=0?()=>Bo:H((e,t)=>{let r=[];e.subscribe(Se(t,i=>{r.push(i),n<r.length&&r.shift()},()=>{for(const i of r)t.next(i);t.complete()},void 0,()=>{r=null}))})}function Fm(n){return H((e,t)=>{try{e.subscribe(t)}finally{t.add(n)}})}const Ot="primary",Vm=Symbol("RouteTitle");class nZ{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}}function Rf(n){return new nZ(n)}function rZ(n,e,t){const r=t.path.split("/");if(r.length>n.length||"full"===t.pathMatch&&(e.hasChildren()||r.length<n.length))return null;const i={};for(let s=0;s<r.length;s++){const o=r[s],a=n[s];if(o.startsWith(":"))i[o.substring(1)]=a;else if(o!==a.path)return null}return{consumed:n.slice(0,r.length),posParams:i}}function Ia(n,e){const t=n?oC(n):void 0,r=e?oC(e):void 0;if(!t||!r||t.length!=r.length)return!1;let i;for(let s=0;s<t.length;s++)if(i=t[s],!RV(n[i],e[i]))return!1;return!0}function oC(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}function RV(n,e){if(Array.isArray(n)&&Array.isArray(e)){if(n.length!==e.length)return!1;const t=[...n].sort(),r=[...e].sort();return t.every((i,s)=>r[s]===i)}return n===e}function PV(n){return n.length>0?n[n.length-1]:null}function Mu(n){return function AJ(n){return!!n&&(n instanceof Ht||et(n.lift)&&et(n.subscribe))}(n)?n:vm(n)?jn(Promise.resolve(n)):lt(n)}const sZ={exact:function xV(n,e,t){if(!hd(n.segments,e.segments)||!eE(n.segments,e.segments,t)||n.numberOfChildren!==e.numberOfChildren)return!1;for(const r in e.children)if(!n.children[r]||!xV(n.children[r],e.children[r],t))return!1;return!0},subset:OV},MV={exact:function oZ(n,e){return Ia(n,e)},subset:function aZ(n,e){return Object.keys(e).length<=Object.keys(n).length&&Object.keys(e).every(t=>RV(n[t],e[t]))},ignored:()=>!0};function NV(n,e,t){return sZ[t.paths](n.root,e.root,t.matrixParams)&&MV[t.queryParams](n.queryParams,e.queryParams)&&!("exact"===t.fragment&&n.fragment!==e.fragment)}function OV(n,e,t){return kV(n,e,e.segments,t)}function kV(n,e,t,r){if(n.segments.length>t.length){const i=n.segments.slice(0,t.length);return!(!hd(i,t)||e.hasChildren()||!eE(i,t,r))}if(n.segments.length===t.length){if(!hd(n.segments,t)||!eE(n.segments,t,r))return!1;for(const i in e.children)if(!n.children[i]||!OV(n.children[i],e.children[i],r))return!1;return!0}{const i=t.slice(0,n.segments.length),s=t.slice(n.segments.length);return!!(hd(n.segments,i)&&eE(n.segments,i,r)&&n.children[Ot])&&kV(n.children[Ot],e,s,r)}}function eE(n,e,t){return e.every((r,i)=>MV[t](n[i].parameters,r.parameters))}class Pf{constructor(e=new Cn([],{}),t={},r=null){this.root=e,this.queryParams=t,this.fragment=r}get queryParamMap(){return this._queryParamMap??=Rf(this.queryParams),this._queryParamMap}toString(){return cZ.serialize(this)}}class Cn{constructor(e,t){this.segments=e,this.children=t,this.parent=null,Object.values(t).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return tE(this)}}class Lm{constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap??=Rf(this.parameters),this._parameterMap}toString(){return LV(this)}}function hd(n,e){return n.length===e.length&&n.every((t,r)=>t.path===e[r].path)}let Mf=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=Ue({token:n,factory:()=>new aC,providedIn:"root"})}return n})();class aC{parse(e){const t=new EZ(e);return new Pf(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){const t=`/${Um(e.root,!0)}`,r=function fZ(n){const e=Object.entries(n).map(([t,r])=>Array.isArray(r)?r.map(i=>`${nE(t)}=${nE(i)}`).join("&"):`${nE(t)}=${nE(r)}`).filter(t=>t);return e.length?`?${e.join("&")}`:""}(e.queryParams);return`${t}${r}${"string"==typeof e.fragment?`#${function dZ(n){return encodeURI(n)}(e.fragment)}`:""}`}}const cZ=new aC;function tE(n){return n.segments.map(e=>LV(e)).join("/")}function Um(n,e){if(!n.hasChildren())return tE(n);if(e){const t=n.children[Ot]?Um(n.children[Ot],!1):"",r=[];return Object.entries(n.children).forEach(([i,s])=>{i!==Ot&&r.push(`${i}:${Um(s,!1)}`)}),r.length>0?`${t}(${r.join("//")})`:t}{const t=function uZ(n,e){let t=[];return Object.entries(n.children).forEach(([r,i])=>{r===Ot&&(t=t.concat(e(i,r)))}),Object.entries(n.children).forEach(([r,i])=>{r!==Ot&&(t=t.concat(e(i,r)))}),t}(n,(r,i)=>i===Ot?[Um(n.children[Ot],!1)]:[`${i}:${Um(r,!1)}`]);return 1===Object.keys(n.children).length&&null!=n.children[Ot]?`${tE(n)}/${t[0]}`:`${tE(n)}/(${t.join("//")})`}}function FV(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function nE(n){return FV(n).replace(/%3B/gi,";")}function lC(n){return FV(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function rE(n){return decodeURIComponent(n)}function VV(n){return rE(n.replace(/\+/g,"%20"))}function LV(n){return`${lC(n.path)}${function hZ(n){return Object.entries(n).map(([e,t])=>`;${lC(e)}=${lC(t)}`).join("")}(n.parameters)}`}const pZ=/^[^\/()?;#]+/;function uC(n){const e=n.match(pZ);return e?e[0]:""}const gZ=/^[^\/()?;=#]+/,yZ=/^[^=?&#]+/,vZ=/^[^&#]+/;class EZ{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Cn([],{}):new Cn([],this.parseChildren())}parseQueryParams(){const e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(r[Ot]=new Cn(e,t)),r}parseSegment(){const e=uC(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new J(4009,!1);return this.capture(e),new Lm(rE(e),this.parseMatrixParams())}parseMatrixParams(){const e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){const t=function mZ(n){const e=n.match(gZ);return e?e[0]:""}(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const i=uC(this.remaining);i&&(r=i,this.capture(r))}e[rE(t)]=rE(r)}parseQueryParam(e){const t=function _Z(n){const e=n.match(yZ);return e?e[0]:""}(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const o=function wZ(n){const e=n.match(vZ);return e?e[0]:""}(this.remaining);o&&(r=o,this.capture(r))}const i=VV(t),s=VV(r);if(e.hasOwnProperty(i)){let o=e[i];Array.isArray(o)||(o=[o],e[i]=o),o.push(s)}else e[i]=s}parseParens(e){const t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const r=uC(this.remaining),i=this.remaining[r.length];if("/"!==i&&")"!==i&&";"!==i)throw new J(4010,!1);let s;r.indexOf(":")>-1?(s=r.slice(0,r.indexOf(":")),this.capture(s),this.capture(":")):e&&(s=Ot);const o=this.parseChildren();t[s]=1===Object.keys(o).length?o[Ot]:new Cn([],o),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}capture(e){if(!this.consumeOptional(e))throw new J(4011,!1)}}function UV(n){return n.segments.length>0?new Cn([],{[Ot]:n}):n}function BV(n){const e={};for(const[r,i]of Object.entries(n.children)){const s=BV(i);if(r===Ot&&0===s.segments.length&&s.hasChildren())for(const[o,a]of Object.entries(s.children))e[o]=a;else(s.segments.length>0||s.hasChildren())&&(e[r]=s)}return function IZ(n){if(1===n.numberOfChildren&&n.children[Ot]){const e=n.children[Ot];return new Cn(n.segments.concat(e.segments),e.children)}return n}(new Cn(n.segments,e))}function Nf(n){return n instanceof Pf}function jV(n){let e;const i=UV(function t(s){const o={};for(const l of s.children){const c=t(l);o[l.outlet]=c}const a=new Cn(s.url,o);return s===n&&(e=a),a}(n.root));return e??i}function $V(n,e,t,r){let i=n;for(;i.parent;)i=i.parent;if(0===e.length)return cC(i,i,i,t,r);const s=function AZ(n){if("string"==typeof n[0]&&1===n.length&&"/"===n[0])return new HV(!0,0,n);let e=0,t=!1;const r=n.reduce((i,s,o)=>{if("object"==typeof s&&null!=s){if(s.outlets){const a={};return Object.entries(s.outlets).forEach(([l,c])=>{a[l]="string"==typeof c?c.split("/"):c}),[...i,{outlets:a}]}if(s.segmentPath)return[...i,s.segmentPath]}return"string"!=typeof s?[...i,s]:0===o?(s.split("/").forEach((a,l)=>{0==l&&"."===a||(0==l&&""===a?t=!0:".."===a?e++:""!=a&&i.push(a))}),i):[...i,s]},[]);return new HV(t,e,r)}(e);if(s.toRoot())return cC(i,i,new Cn([],{}),t,r);const o=function TZ(n,e,t){if(n.isAbsolute)return new sE(e,!0,0);if(!t)return new sE(e,!1,NaN);if(null===t.parent)return new sE(t,!0,0);const r=iE(n.commands[0])?0:1;return function CZ(n,e,t){let r=n,i=e,s=t;for(;s>i;){if(s-=i,r=r.parent,!r)throw new J(4005,!1);i=r.segments.length}return new sE(r,!1,i-s)}(t,t.segments.length-1+r,n.numberOfDoubleDots)}(s,i,n),a=o.processChildren?jm(o.segmentGroup,o.index,s.commands):qV(o.segmentGroup,o.index,s.commands);return cC(i,o.segmentGroup,a,t,r)}function iE(n){return"object"==typeof n&&null!=n&&!n.outlets&&!n.segmentPath}function Bm(n){return"object"==typeof n&&null!=n&&n.outlets}function cC(n,e,t,r,i){let o,s={};r&&Object.entries(r).forEach(([l,c])=>{s[l]=Array.isArray(c)?c.map(p=>`${p}`):`${c}`}),o=n===e?t:zV(n,e,t);const a=UV(BV(o));return new Pf(a,s,i)}function zV(n,e,t){const r={};return Object.entries(n.children).forEach(([i,s])=>{r[i]=s===e?t:zV(s,e,t)}),new Cn(n.segments,r)}class HV{constructor(e,t,r){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=r,e&&r.length>0&&iE(r[0]))throw new J(4003,!1);const i=r.find(Bm);if(i&&i!==PV(r))throw new J(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class sE{constructor(e,t,r){this.segmentGroup=e,this.processChildren=t,this.index=r}}function qV(n,e,t){if(n??=new Cn([],{}),0===n.segments.length&&n.hasChildren())return jm(n,e,t);const r=function SZ(n,e,t){let r=0,i=e;const s={match:!1,pathIndex:0,commandIndex:0};for(;i<n.segments.length;){if(r>=t.length)return s;const o=n.segments[i],a=t[r];if(Bm(a))break;const l=`${a}`,c=r<t.length-1?t[r+1]:null;if(i>0&&void 0===l)break;if(l&&c&&"object"==typeof c&&void 0===c.outlets){if(!WV(l,c,o))return s;r+=2}else{if(!WV(l,{},o))return s;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(n,e,t),i=t.slice(r.commandIndex);if(r.match&&r.pathIndex<n.segments.length){const s=new Cn(n.segments.slice(0,r.pathIndex),{});return s.children[Ot]=new Cn(n.segments.slice(r.pathIndex),n.children),jm(s,0,i)}return r.match&&0===i.length?new Cn(n.segments,{}):r.match&&!n.hasChildren()?dC(n,e,t):r.match?jm(n,0,i):dC(n,e,t)}function jm(n,e,t){if(0===t.length)return new Cn(n.segments,{});{const r=function DZ(n){return Bm(n[0])?n[0].outlets:{[Ot]:n}}(t),i={};if(Object.keys(r).some(s=>s!==Ot)&&n.children[Ot]&&1===n.numberOfChildren&&0===n.children[Ot].segments.length){const s=jm(n.children[Ot],e,t);return new Cn(n.segments,s.children)}return Object.entries(r).forEach(([s,o])=>{"string"==typeof o&&(o=[o]),null!==o&&(i[s]=qV(n.children[s],e,o))}),Object.entries(n.children).forEach(([s,o])=>{void 0===r[s]&&(i[s]=o)}),new Cn(n.segments,i)}}function dC(n,e,t){const r=n.segments.slice(0,e);let i=0;for(;i<t.length;){const s=t[i];if(Bm(s)){const l=RZ(s.outlets);return new Cn(r,l)}if(0===i&&iE(t[0])){r.push(new Lm(n.segments[e].path,GV(t[0]))),i++;continue}const o=Bm(s)?s.outlets[Ot]:`${s}`,a=i<t.length-1?t[i+1]:null;o&&a&&iE(a)?(r.push(new Lm(o,GV(a))),i+=2):(r.push(new Lm(o,{})),i++)}return new Cn(r,{})}function RZ(n){const e={};return Object.entries(n).forEach(([t,r])=>{"string"==typeof r&&(r=[r]),null!==r&&(e[t]=dC(new Cn([],{}),0,r))}),e}function GV(n){const e={};return Object.entries(n).forEach(([t,r])=>e[t]=`${r}`),e}function WV(n,e,t){return n==t.path&&Ia(e,t.parameters)}const $m="imperative";var Zt=function(n){return n[n.NavigationStart=0]="NavigationStart",n[n.NavigationEnd=1]="NavigationEnd",n[n.NavigationCancel=2]="NavigationCancel",n[n.NavigationError=3]="NavigationError",n[n.RoutesRecognized=4]="RoutesRecognized",n[n.ResolveStart=5]="ResolveStart",n[n.ResolveEnd=6]="ResolveEnd",n[n.GuardsCheckStart=7]="GuardsCheckStart",n[n.GuardsCheckEnd=8]="GuardsCheckEnd",n[n.RouteConfigLoadStart=9]="RouteConfigLoadStart",n[n.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",n[n.ChildActivationStart=11]="ChildActivationStart",n[n.ChildActivationEnd=12]="ChildActivationEnd",n[n.ActivationStart=13]="ActivationStart",n[n.ActivationEnd=14]="ActivationEnd",n[n.Scroll=15]="Scroll",n[n.NavigationSkipped=16]="NavigationSkipped",n}(Zt||{});class ba{constructor(e,t){this.id=e,this.url=t}}class oE extends ba{constructor(e,t,r="imperative",i=null){super(e,t),this.type=Zt.NavigationStart,this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Al extends ba{constructor(e,t,r){super(e,t),this.urlAfterRedirects=r,this.type=Zt.NavigationEnd}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}var Ws=function(n){return n[n.Redirect=0]="Redirect",n[n.SupersededByNewNavigation=1]="SupersededByNewNavigation",n[n.NoDataFromResolver=2]="NoDataFromResolver",n[n.GuardRejected=3]="GuardRejected",n}(Ws||{}),aE=function(n){return n[n.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",n[n.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",n}(aE||{});class xf extends ba{constructor(e,t,r,i){super(e,t),this.reason=r,this.code=i,this.type=Zt.NavigationCancel}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Of extends ba{constructor(e,t,r,i){super(e,t),this.reason=r,this.code=i,this.type=Zt.NavigationSkipped}}class lE extends ba{constructor(e,t,r,i){super(e,t),this.error=r,this.target=i,this.type=Zt.NavigationError}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class KV extends ba{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=Zt.RoutesRecognized}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class PZ extends ba{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=Zt.GuardsCheckStart}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class MZ extends ba{constructor(e,t,r,i,s){super(e,t),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=s,this.type=Zt.GuardsCheckEnd}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class NZ extends ba{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=Zt.ResolveStart}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class xZ extends ba{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=Zt.ResolveEnd}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class OZ{constructor(e){this.route=e,this.type=Zt.RouteConfigLoadStart}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class kZ{constructor(e){this.route=e,this.type=Zt.RouteConfigLoadEnd}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class FZ{constructor(e){this.snapshot=e,this.type=Zt.ChildActivationStart}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class VZ{constructor(e){this.snapshot=e,this.type=Zt.ChildActivationEnd}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class LZ{constructor(e){this.snapshot=e,this.type=Zt.ActivationStart}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class UZ{constructor(e){this.snapshot=e,this.type=Zt.ActivationEnd}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class QV{constructor(e,t,r){this.routerEvent=e,this.position=t,this.anchor=r,this.type=Zt.Scroll}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class hC{}class fC{constructor(e){this.url=e}}class BZ{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new zm,this.attachRef=null}}let zm=(()=>{class n{constructor(){this.contexts=new Map}onChildOutletCreated(t,r){const i=this.getOrCreateContext(t);i.outlet=r,this.contexts.set(t,i)}onChildOutletDestroyed(t){const r=this.getContext(t);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){const t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let r=this.getContext(t);return r||(r=new BZ,this.contexts.set(t,r)),r}getContext(t){return this.contexts.get(t)||null}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=Ue({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();class YV{constructor(e){this._root=e}get root(){return this._root.value}parent(e){const t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){const t=pC(e,this._root);return t?t.children.map(r=>r.value):[]}firstChild(e){const t=pC(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){const t=gC(e,this._root);return t.length<2?[]:t[t.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return gC(e,this._root).map(t=>t.value)}}function pC(n,e){if(n===e.value)return e;for(const t of e.children){const r=pC(n,t);if(r)return r}return null}function gC(n,e){if(n===e.value)return[e];for(const t of e.children){const r=gC(n,t);if(r.length)return r.unshift(e),r}return[]}class jo{constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}}function kf(n){const e={};return n&&n.children.forEach(t=>e[t.value.outlet]=t),e}class JV extends YV{constructor(e,t){super(e),this.snapshot=t,_C(this,e)}toString(){return this.snapshot.toString()}}function ZV(n){const e=function jZ(n){const s=new yC([],{},{},"",{},Ot,n,null,{});return new XV("",new jo(s,[]))}(n),t=new $([new Lm("",{})]),r=new $({}),i=new $({}),s=new $({}),o=new $(""),a=new Ff(t,r,s,o,i,Ot,n,e.root);return a.snapshot=e.root,new JV(new jo(a,[]),e)}class Ff{constructor(e,t,r,i,s,o,a,l){this.urlSubject=e,this.paramsSubject=t,this.queryParamsSubject=r,this.fragmentSubject=i,this.dataSubject=s,this.outlet=o,this.component=a,this._futureSnapshot=l,this.title=this.dataSubject?.pipe(je(c=>c[Vm]))??lt(void 0),this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=s}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(je(e=>Rf(e))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(je(e=>Rf(e))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function mC(n,e,t="emptyOnly"){let r;const{routeConfig:i}=n;return r=null===e||"always"!==t&&""!==i?.path&&(e.component||e.routeConfig?.loadComponent)?{params:{...n.params},data:{...n.data},resolve:{...n.data,...n._resolvedData??{}}}:{params:{...e.params,...n.params},data:{...e.data,...n.data},resolve:{...n.data,...e.data,...i?.data,...n._resolvedData}},i&&tL(i)&&(r.resolve[Vm]=i.title),r}class yC{get title(){return this.data?.[Vm]}constructor(e,t,r,i,s,o,a,l,c){this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=s,this.outlet=o,this.component=a,this.routeConfig=l,this._resolve=c}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=Rf(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=Rf(this.queryParams),this._queryParamMap}toString(){return`Route(url:'${this.url.map(r=>r.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class XV extends YV{constructor(e,t){super(t),this.url=e,_C(this,t)}toString(){return eL(this._root)}}function _C(n,e){e.value._routerState=n,e.children.forEach(t=>_C(n,t))}function eL(n){const e=n.children.length>0?` { ${n.children.map(eL).join(", ")} } `:"";return`${n.value}${e}`}function vC(n){if(n.snapshot){const e=n.snapshot,t=n._futureSnapshot;n.snapshot=t,Ia(e.queryParams,t.queryParams)||n.queryParamsSubject.next(t.queryParams),e.fragment!==t.fragment&&n.fragmentSubject.next(t.fragment),Ia(e.params,t.params)||n.paramsSubject.next(t.params),function iZ(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;++t)if(!Ia(n[t],e[t]))return!1;return!0}(e.url,t.url)||n.urlSubject.next(t.url),Ia(e.data,t.data)||n.dataSubject.next(t.data)}else n.snapshot=n._futureSnapshot,n.dataSubject.next(n._futureSnapshot.data)}function wC(n,e){const t=Ia(n.params,e.params)&&function lZ(n,e){return hd(n,e)&&n.every((t,r)=>Ia(t.parameters,e[r].parameters))}(n.url,e.url);return t&&!(!n.parent!=!e.parent)&&(!n.parent||wC(n.parent,e.parent))}function tL(n){return"string"==typeof n.title||null===n.title}let EC=(()=>{class n{constructor(){this.activated=null,this._activatedRoute=null,this.name=Ot,this.activateEvents=new _r,this.deactivateEvents=new _r,this.attachEvents=new _r,this.detachEvents=new _r,this.parentContexts=ye(zm),this.location=ye(Oo),this.changeDetector=ye(wm),this.environmentInjector=ye(Yr),this.inputBinder=ye(uE,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(t){if(t.name){const{firstChange:r,previousValue:i}=t.name;if(r)return;this.isTrackedInParentContexts(i)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(i)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(t){return this.parentContexts.getContext(t)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const t=this.parentContexts.getContext(this.name);t?.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new J(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new J(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new J(4012,!1);this.location.detach();const t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,r){this.activated=t,this._activatedRoute=r,this.location.insert(t.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){const t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,r){if(this.isActivated)throw new J(4013,!1);this._activatedRoute=t;const i=this.location,o=t.snapshot.component,a=this.parentContexts.getOrCreateContext(this.name).children,l=new IC(t,a,i.injector);this.activated=i.createComponent(o,{index:i.length,injector:l,environmentInjector:r??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275dir=ut({type:n,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[rs]})}return n})();class IC{__ngOutletInjector(e){return new IC(this.route,this.childContexts,e)}constructor(e,t,r){this.route=e,this.childContexts=t,this.parent=r}get(e,t){return e===Ff?this.route:e===zm?this.childContexts:this.parent.get(e,t)}}const uE=new Ee("");let nL=(()=>{class n{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(t){this.unsubscribeFromRouteData(t),this.subscribeToRouteData(t)}unsubscribeFromRouteData(t){this.outletDataSubscriptions.get(t)?.unsubscribe(),this.outletDataSubscriptions.delete(t)}subscribeToRouteData(t){const{activatedRoute:r}=t,i=nC([r.queryParams,r.params,r.data]).pipe(ti(([s,o,a],l)=>(a={...s,...o,...a},0===l?lt(a):Promise.resolve(a)))).subscribe(s=>{if(!t.isActivated||!t.activatedComponentRef||t.activatedRoute!==r||null===r.component)return void this.unsubscribeFromRouteData(t);const o=function t7(n){const e=yt(n);if(!e)return null;const t=new tm(e);return{get selector(){return t.selector},get type(){return t.componentType},get inputs(){return t.inputs},get outputs(){return t.outputs},get ngContentSelectors(){return t.ngContentSelectors},get isStandalone(){return e.standalone},get isSignal(){return e.signals}}}(r.component);if(o)for(const{templateName:a}of o.inputs)t.activatedComponentRef.setInput(a,s[a]);else this.unsubscribeFromRouteData(t)});this.outletDataSubscriptions.set(t,i)}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=Ue({token:n,factory:n.\u0275fac})}return n})();function Hm(n,e,t){if(t&&n.shouldReuseRoute(e.value,t.value.snapshot)){const r=t.value;r._futureSnapshot=e.value;const i=function zZ(n,e,t){return e.children.map(r=>{for(const i of t.children)if(n.shouldReuseRoute(r.value,i.value.snapshot))return Hm(n,r,i);return Hm(n,r)})}(n,e,t);return new jo(r,i)}{if(n.shouldAttach(e.value)){const s=n.retrieve(e.value);if(null!==s){const o=s.route;return o.value._futureSnapshot=e.value,o.children=e.children.map(a=>Hm(n,a)),o}}const r=function HZ(n){return new Ff(new $(n.url),new $(n.params),new $(n.queryParams),new $(n.fragment),new $(n.data),n.outlet,n.component,n)}(e.value),i=e.children.map(s=>Hm(n,s));return new jo(r,i)}}const rL="ngNavigationCancelingError";function iL(n,e){const{redirectTo:t,navigationBehaviorOptions:r}=Nf(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=sL(!1,Ws.Redirect);return i.url=t,i.navigationBehaviorOptions=r,i}function sL(n,e){const t=new Error(`NavigationCancelingError: ${n||""}`);return t[rL]=!0,t.cancellationCode=e,t}function oL(n){return!!n&&n[rL]}let aL=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275cmp=Mi({type:n,selectors:[["ng-component"]],standalone:!0,features:[pO],decls:1,vars:0,template:function(r,i){1&r&&On(0,"router-outlet")},dependencies:[EC],encapsulation:2})}return n})();function bC(n){const e=n.children&&n.children.map(bC),t=e?{...n,children:e}:{...n};return!t.component&&!t.loadComponent&&(e||t.loadChildren)&&t.outlet&&t.outlet!==Ot&&(t.component=aL),t}function Aa(n){return n.outlet||Ot}function qm(n){if(!n)return null;if(n.routeConfig?._injector)return n.routeConfig._injector;for(let e=n.parent;e;e=e.parent){const t=e.routeConfig;if(t?._loadedInjector)return t._loadedInjector;if(t?._injector)return t._injector}return null}class ZZ{constructor(e,t,r,i,s){this.routeReuseStrategy=e,this.futureState=t,this.currState=r,this.forwardEvent=i,this.inputBindingEnabled=s}activate(e){const t=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,r,e),vC(this.futureState.root),this.activateChildRoutes(t,r,e)}deactivateChildRoutes(e,t,r){const i=kf(t);e.children.forEach(s=>{const o=s.value.outlet;this.deactivateRoutes(s,i[o],r),delete i[o]}),Object.values(i).forEach(s=>{this.deactivateRouteAndItsChildren(s,r)})}deactivateRoutes(e,t,r){const i=e.value,s=t?t.value:null;if(i===s)if(i.component){const o=r.getContext(i.outlet);o&&this.deactivateChildRoutes(e,t,o.children)}else this.deactivateChildRoutes(e,t,r);else s&&this.deactivateRouteAndItsChildren(t,r)}deactivateRouteAndItsChildren(e,t){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){const r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,s=kf(e);for(const o of Object.values(s))this.deactivateRouteAndItsChildren(o,i);if(r&&r.outlet){const o=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:o,route:e,contexts:a})}}deactivateRouteAndOutlet(e,t){const r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,s=kf(e);for(const o of Object.values(s))this.deactivateRouteAndItsChildren(o,i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(e,t,r){const i=kf(t);e.children.forEach(s=>{this.activateRoutes(s,i[s.value.outlet],r),this.forwardEvent(new UZ(s.value.snapshot))}),e.children.length&&this.forwardEvent(new VZ(e.value.snapshot))}activateRoutes(e,t,r){const i=e.value,s=t?t.value:null;if(vC(i),i===s)if(i.component){const o=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,t,o.children)}else this.activateChildRoutes(e,t,r);else if(i.component){const o=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){const a=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),o.children.onOutletReAttached(a.contexts),o.attachRef=a.componentRef,o.route=a.route.value,o.outlet&&o.outlet.attach(a.componentRef,a.route.value),vC(a.route.value),this.activateChildRoutes(e,null,o.children)}else{const a=qm(i.snapshot);o.attachRef=null,o.route=i,o.injector=a,o.outlet&&o.outlet.activateWith(i,o.injector),this.activateChildRoutes(e,null,o.children)}}else this.activateChildRoutes(e,null,r)}}class lL{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}}class cE{constructor(e,t){this.component=e,this.route=t}}function XZ(n,e,t){const r=n._root;return Gm(r,e?e._root:null,t,[r.value])}function Vf(n,e){const t=Symbol(),r=e.get(n,t);return r===t?"function"!=typeof n||function Up(n){return null!==Jo(n)}(n)?e.get(n):n:r}function Gm(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const s=kf(e);return n.children.forEach(o=>{(function tX(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const s=n.value,o=e?e.value:null,a=t?t.getContext(n.value.outlet):null;if(o&&s.routeConfig===o.routeConfig){const l=function nX(n,e,t){if("function"==typeof t)return t(n,e);switch(t){case"pathParamsChange":return!hd(n.url,e.url);case"pathParamsOrQueryParamsChange":return!hd(n.url,e.url)||!Ia(n.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!wC(n,e)||!Ia(n.queryParams,e.queryParams);default:return!wC(n,e)}}(o,s,s.routeConfig.runGuardsAndResolvers);l?i.canActivateChecks.push(new lL(r)):(s.data=o.data,s._resolvedData=o._resolvedData),Gm(n,e,s.component?a?a.children:null:t,r,i),l&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new cE(a.outlet.component,o))}else o&&Wm(e,a,i),i.canActivateChecks.push(new lL(r)),Gm(n,null,s.component?a?a.children:null:t,r,i)})(o,s[o.value.outlet],t,r.concat([o.value]),i),delete s[o.value.outlet]}),Object.entries(s).forEach(([o,a])=>Wm(a,t.getContext(o),i)),i}function Wm(n,e,t){const r=kf(n),i=n.value;Object.entries(r).forEach(([s,o])=>{Wm(o,i.component?e?e.children.getContext(s):null:e,t)}),t.canDeactivateChecks.push(new cE(i.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,i))}function Km(n){return"function"==typeof n}function uL(n){return n instanceof Qw||"EmptyError"===n?.name}const dE=Symbol("INITIAL_VALUE");function Lf(){return ti(n=>nC(n.map(e=>e.pipe(Cf(1),Jw(dE)))).pipe(je(e=>{for(const t of e)if(!0!==t){if(t===dE)return dE;if(!1===t||t instanceof Pf)return t}return!0}),_o(e=>e!==dE),Cf(1)))}function cL(n){return function Xs(...n){return qo(n)}(Oi(e=>{if(Nf(e))throw iL(0,e)}),je(e=>!0===e))}class AC{constructor(e){this.segmentGroup=e||null}}class TC extends Error{constructor(e){super(),this.urlTree=e}}function Uf(n){return Yw(new AC(n))}class EX{constructor(e,t){this.urlSerializer=e,this.urlTree=t}lineralizeSegments(e,t){let r=[],i=t.root;for(;;){if(r=r.concat(i.segments),0===i.numberOfChildren)return lt(r);if(i.numberOfChildren>1||!i.children[Ot])return Yw(new J(4e3,!1));i=i.children[Ot]}}applyRedirectCommands(e,t,r){const i=this.applyRedirectCreateUrlTree(t,this.urlSerializer.parse(t),e,r);if(t.startsWith("/"))throw new TC(i);return i}applyRedirectCreateUrlTree(e,t,r,i){const s=this.createSegmentGroup(e,t.root,r,i);return new Pf(s,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){const r={};return Object.entries(e).forEach(([i,s])=>{if("string"==typeof s&&s.startsWith(":")){const a=s.substring(1);r[i]=t[a]}else r[i]=s}),r}createSegmentGroup(e,t,r,i){const s=this.createSegments(e,t.segments,r,i);let o={};return Object.entries(t.children).forEach(([a,l])=>{o[a]=this.createSegmentGroup(e,l,r,i)}),new Cn(s,o)}createSegments(e,t,r,i){return t.map(s=>s.path.startsWith(":")?this.findPosParam(e,s,i):this.findOrReturn(s,r))}findPosParam(e,t,r){const i=r[t.path.substring(1)];if(!i)throw new J(4001,!1);return i}findOrReturn(e,t){let r=0;for(const i of t){if(i.path===e.path)return t.splice(r),i;r++}return e}}const CC={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function IX(n,e,t,r,i){const s=DC(n,e,t);return s.matched?(r=function GZ(n,e){return n.providers&&!n._injector&&(n._injector=Gv(n.providers,e,`Route: ${n.path}`)),n._injector??e}(e,r),function _X(n,e,t,r){const i=e.canMatch;return i&&0!==i.length?lt(i.map(o=>{const a=Vf(o,n);return Mu(function lX(n){return n&&Km(n.canMatch)}(a)?a.canMatch(e,t):oo(n,()=>a(e,t)))})).pipe(Lf(),cL()):lt(!0)}(r,e,t).pipe(je(o=>!0===o?s:{...CC}))):lt(s)}function DC(n,e,t){if("**"===e.path)return function bX(n){return{matched:!0,parameters:n.length>0?PV(n).parameters:{},consumedSegments:n,remainingSegments:[],positionalParamSegments:{}}}(t);if(""===e.path)return"full"===e.pathMatch&&(n.hasChildren()||t.length>0)?{...CC}:{matched:!0,consumedSegments:[],remainingSegments:t,parameters:{},positionalParamSegments:{}};const i=(e.matcher||rZ)(t,n,e);if(!i)return{...CC};const s={};Object.entries(i.posParams??{}).forEach(([a,l])=>{s[a]=l.path});const o=i.consumed.length>0?{...s,...i.consumed[i.consumed.length-1].parameters}:s;return{matched:!0,consumedSegments:i.consumed,remainingSegments:t.slice(i.consumed.length),parameters:o,positionalParamSegments:i.posParams??{}}}function dL(n,e,t,r){return t.length>0&&function CX(n,e,t){return t.some(r=>hE(n,e,r)&&Aa(r)!==Ot)}(n,t,r)?{segmentGroup:new Cn(e,TX(r,new Cn(t,n.children))),slicedSegments:[]}:0===t.length&&function DX(n,e,t){return t.some(r=>hE(n,e,r))}(n,t,r)?{segmentGroup:new Cn(n.segments,AX(n,t,r,n.children)),slicedSegments:t}:{segmentGroup:new Cn(n.segments,n.children),slicedSegments:t}}function AX(n,e,t,r){const i={};for(const s of t)if(hE(n,e,s)&&!r[Aa(s)]){const o=new Cn([],{});i[Aa(s)]=o}return{...r,...i}}function TX(n,e){const t={};t[Ot]=e;for(const r of n)if(""===r.path&&Aa(r)!==Ot){const i=new Cn([],{});t[Aa(r)]=i}return t}function hE(n,e,t){return(!(n.hasChildren()||e.length>0)||"full"!==t.pathMatch)&&""===t.path}class PX{}class xX{constructor(e,t,r,i,s,o,a){this.injector=e,this.configLoader=t,this.rootComponentType=r,this.config=i,this.urlTree=s,this.paramsInheritanceStrategy=o,this.urlSerializer=a,this.applyRedirects=new EX(this.urlSerializer,this.urlTree),this.absoluteRedirectCount=0,this.allowRedirects=!0}noMatchError(e){return new J(4002,`'${e.segmentGroup}'`)}recognize(){const e=dL(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(e).pipe(je(t=>{const r=new yC([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},Ot,this.rootComponentType,null,{}),i=new jo(r,t),s=new XV("",i),o=function bZ(n,e,t=null,r=null){return $V(jV(n),e,t,r)}(r,[],this.urlTree.queryParams,this.urlTree.fragment);return o.queryParams=this.urlTree.queryParams,s.url=this.urlSerializer.serialize(o),this.inheritParamsAndData(s._root,null),{state:s,tree:o}}))}match(e){return this.processSegmentGroup(this.injector,this.config,e,Ot).pipe(Sf(r=>{if(r instanceof TC)return this.urlTree=r.urlTree,this.match(r.urlTree.root);throw r instanceof AC?this.noMatchError(r):r}))}inheritParamsAndData(e,t){const r=e.value,i=mC(r,t,this.paramsInheritanceStrategy);r.params=Object.freeze(i.params),r.data=Object.freeze(i.data),e.children.forEach(s=>this.inheritParamsAndData(s,r))}processSegmentGroup(e,t,r,i){return 0===r.segments.length&&r.hasChildren()?this.processChildren(e,t,r):this.processSegment(e,t,r,r.segments,i,!0).pipe(je(s=>s instanceof jo?[s]:[]))}processChildren(e,t,r){const i=[];for(const s of Object.keys(r.children))"primary"===s?i.unshift(s):i.push(s);return jn(i).pipe(Df(s=>{const o=r.children[s],a=function YZ(n,e){const t=n.filter(r=>Aa(r)===e);return t.push(...n.filter(r=>Aa(r)!==e)),t}(t,s);return this.processSegmentGroup(e,a,o,s)}),Xw((s,o)=>(s.push(...o),s)),Zw(null),function XJ(n,e){const t=arguments.length>=2;return r=>r.pipe(n?_o((i,s)=>n(i,s,r)):Lr,sC(1),t?Zw(e):SV(()=>new Qw))}(),xi(s=>{if(null===s)return Uf(r);const o=hL(s);return function OX(n){n.sort((e,t)=>e.value.outlet===Ot?-1:t.value.outlet===Ot?1:e.value.outlet.localeCompare(t.value.outlet))}(o),lt(o)}))}processSegment(e,t,r,i,s,o){return jn(t).pipe(Df(a=>this.processSegmentAgainstRoute(a._injector??e,t,a,r,i,s,o).pipe(Sf(l=>{if(l instanceof AC)return lt(null);throw l}))),Pu(a=>!!a),Sf(a=>{if(uL(a))return function RX(n,e,t){return 0===e.length&&!n.children[t]}(r,i,s)?lt(new PX):Uf(r);throw a}))}processSegmentAgainstRoute(e,t,r,i,s,o,a){return function SX(n,e,t,r){return!!(Aa(n)===r||r!==Ot&&hE(e,t,n))&&DC(e,n,t).matched}(r,i,s,o)?void 0===r.redirectTo?this.matchSegmentAgainstRoute(e,i,r,s,o):this.allowRedirects&&a?this.expandSegmentAgainstRouteUsingRedirect(e,i,t,r,s,o):Uf(i):Uf(i)}expandSegmentAgainstRouteUsingRedirect(e,t,r,i,s,o){const{matched:a,consumedSegments:l,positionalParamSegments:c,remainingSegments:p}=DC(t,i,s);if(!a)return Uf(t);i.redirectTo.startsWith("/")&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>31&&(this.allowRedirects=!1));const m=this.applyRedirects.applyRedirectCommands(l,i.redirectTo,c);return this.applyRedirects.lineralizeSegments(i,m).pipe(xi(w=>this.processSegment(e,r,t,w.concat(p),o,!1)))}matchSegmentAgainstRoute(e,t,r,i,s){const o=IX(t,r,i,e);return"**"===r.path&&(t.children={}),o.pipe(ti(a=>a.matched?this.getChildConfig(e=r._injector??e,r,i).pipe(ti(({routes:l})=>{const c=r._loadedInjector??e,{consumedSegments:p,remainingSegments:m,parameters:w}=a,b=new yC(p,w,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,function FX(n){return n.data||{}}(r),Aa(r),r.component??r._loadedComponent??null,r,function VX(n){return n.resolve||{}}(r)),{segmentGroup:C,slicedSegments:S}=dL(t,p,m,l);if(0===S.length&&C.hasChildren())return this.processChildren(c,l,C).pipe(je(L=>null===L?null:new jo(b,L)));if(0===l.length&&0===S.length)return lt(new jo(b,[]));const P=Aa(r)===s;return this.processSegment(c,l,C,S,P?Ot:s,!0).pipe(je(L=>new jo(b,L instanceof jo?[L]:[])))})):Uf(t)))}getChildConfig(e,t,r){return t.children?lt({routes:t.children,injector:e}):t.loadChildren?void 0!==t._loadedRoutes?lt({routes:t._loadedRoutes,injector:t._loadedInjector}):function yX(n,e,t,r){const i=e.canLoad;return void 0===i||0===i.length?lt(!0):lt(i.map(o=>{const a=Vf(o,n);return Mu(function iX(n){return n&&Km(n.canLoad)}(a)?a.canLoad(e,t):oo(n,()=>a(e,t)))})).pipe(Lf(),cL())}(e,t,r).pipe(xi(i=>i?this.configLoader.loadChildren(e,t).pipe(Oi(s=>{t._loadedRoutes=s.routes,t._loadedInjector=s.injector})):function wX(n){return Yw(sL(!1,Ws.GuardRejected))}())):lt({routes:[],injector:e})}}function kX(n){const e=n.value.routeConfig;return e&&""===e.path}function hL(n){const e=[],t=new Set;for(const r of n){if(!kX(r)){e.push(r);continue}const i=e.find(s=>r.value.routeConfig===s.value.routeConfig);void 0!==i?(i.children.push(...r.children),t.add(i)):e.push(r)}for(const r of t){const i=hL(r.children);e.push(new jo(r.value,i))}return e.filter(r=>!t.has(r))}function fL(n){const e=n.children.map(t=>fL(t)).flat();return[n,...e]}function SC(n){return ti(e=>{const t=n(e);return t?jn(t).pipe(je(()=>e)):lt(e)})}let pL=(()=>{class n{buildTitle(t){let r,i=t.root;for(;void 0!==i;)r=this.getResolvedTitleForRoute(i)??r,i=i.children.find(s=>s.outlet===Ot);return r}getResolvedTitleForRoute(t){return t.data[Vm]}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=Ue({token:n,factory:()=>ye(zX),providedIn:"root"})}return n})(),zX=(()=>{class n extends pL{constructor(t){super(),this.title=t}updateTitle(t){const r=this.buildTitle(t);void 0!==r&&this.title.setTitle(r)}static#e=this.\u0275fac=function(r){return new(r||n)(ve(AF))};static#t=this.\u0275prov=Ue({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();const Bf=new Ee("",{providedIn:"root",factory:()=>({})}),jf=new Ee("");let RC=(()=>{class n{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=ye(GO)}loadComponent(t){if(this.componentLoaders.get(t))return this.componentLoaders.get(t);if(t._loadedComponent)return lt(t._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(t);const r=Mu(t.loadComponent()).pipe(je(gL),Oi(s=>{this.onLoadEndListener&&this.onLoadEndListener(t),t._loadedComponent=s}),Fm(()=>{this.componentLoaders.delete(t)})),i=new DV(r,()=>new F).pipe(iC());return this.componentLoaders.set(t,i),i}loadChildren(t,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return lt({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);const s=function HX(n,e,t,r){return Mu(n.loadChildren()).pipe(je(gL),xi(i=>i instanceof ex||Array.isArray(i)?lt(i):jn(e.compileModuleAsync(i))),je(i=>{r&&r(n);let s,o,a=!1;return Array.isArray(i)?(o=i,!0):(s=i.create(t).injector,o=s.get(jf,[],{optional:!0,self:!0}).flat()),{routes:o.map(bC),injector:s}}))}(r,this.compiler,t,this.onLoadEndListener).pipe(Fm(()=>{this.childrenLoaders.delete(r)})),o=new DV(s,()=>new F).pipe(iC());return this.childrenLoaders.set(r,o),o}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=Ue({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function gL(n){return function qX(n){return n&&"object"==typeof n&&"default"in n}(n)?n.default:n}let PC=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=Ue({token:n,factory:()=>ye(GX),providedIn:"root"})}return n})(),GX=(()=>{class n{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,r){return t}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=Ue({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();const mL=new Ee(""),yL=new Ee("");function WX(n,e,t){const r=n.get(yL),i=n.get(Ds);return n.get(Jt).runOutsideAngular(()=>{if(!i.startViewTransition||r.skipNextTransition)return r.skipNextTransition=!1,new Promise(c=>setTimeout(c));let s;const o=new Promise(c=>{s=c}),a=i.startViewTransition(()=>(s(),function KX(n){return new Promise(e=>{H0(e,{injector:n})})}(n))),{onViewTransitionCreated:l}=r;return l&&oo(n,()=>l({transition:a,from:e,to:t})),o})}let fE=(()=>{class n{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new F,this.transitionAbortSubject=new F,this.configLoader=ye(RC),this.environmentInjector=ye(Yr),this.urlSerializer=ye(Mf),this.rootContexts=ye(zm),this.location=ye(bm),this.inputBindingEnabled=null!==ye(uE,{optional:!0}),this.titleStrategy=ye(pL),this.options=ye(Bf,{optional:!0})||{},this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlHandlingStrategy=ye(PC),this.createViewTransition=ye(mL,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>lt(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=i=>this.events.next(new kZ(i)),this.configLoader.onLoadStartListener=i=>this.events.next(new OZ(i))}complete(){this.transitions?.complete()}handleNavigationRequest(t){const r=++this.navigationId;this.transitions?.next({...this.transitions.value,...t,id:r})}setupNavigations(t,r,i){return this.transitions=new $({id:0,currentUrlTree:r,currentRawUrl:r,extractedUrl:this.urlHandlingStrategy.extract(r),urlAfterRedirects:this.urlHandlingStrategy.extract(r),rawUrl:r,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:$m,restoredState:null,currentSnapshot:i.snapshot,targetSnapshot:null,currentRouterState:i,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(_o(s=>0!==s.id),je(s=>({...s,extractedUrl:this.urlHandlingStrategy.extract(s.rawUrl)})),ti(s=>{let o=!1,a=!1;return lt(s).pipe(ti(l=>{if(this.navigationId>s.id)return this.cancelNavigationTransition(s,"",Ws.SupersededByNewNavigation),Bo;this.currentTransition=s,this.currentNavigation={id:l.id,initialUrl:l.rawUrl,extractedUrl:l.extractedUrl,trigger:l.source,extras:l.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null};const c=!t.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl();if(!c&&"reload"!==(l.extras.onSameUrlNavigation??t.onSameUrlNavigation)){const m="";return this.events.next(new Of(l.id,this.urlSerializer.serialize(l.rawUrl),m,aE.IgnoredSameUrlNavigation)),l.resolve(null),Bo}if(this.urlHandlingStrategy.shouldProcessUrl(l.rawUrl))return lt(l).pipe(ti(m=>{const w=this.transitions?.getValue();return this.events.next(new oE(m.id,this.urlSerializer.serialize(m.extractedUrl),m.source,m.restoredState)),w!==this.transitions?.getValue()?Bo:Promise.resolve(m)}),function LX(n,e,t,r,i,s){return xi(o=>function MX(n,e,t,r,i,s,o="emptyOnly"){return new xX(n,e,t,r,i,o,s).recognize()}(n,e,t,r,o.extractedUrl,i,s).pipe(je(({state:a,tree:l})=>({...o,targetSnapshot:a,urlAfterRedirects:l}))))}(this.environmentInjector,this.configLoader,this.rootComponentType,t.config,this.urlSerializer,this.paramsInheritanceStrategy),Oi(m=>{s.targetSnapshot=m.targetSnapshot,s.urlAfterRedirects=m.urlAfterRedirects,this.currentNavigation={...this.currentNavigation,finalUrl:m.urlAfterRedirects};const w=new KV(m.id,this.urlSerializer.serialize(m.extractedUrl),this.urlSerializer.serialize(m.urlAfterRedirects),m.targetSnapshot);this.events.next(w)}));if(c&&this.urlHandlingStrategy.shouldProcessUrl(l.currentRawUrl)){const{id:m,extractedUrl:w,source:b,restoredState:C,extras:S}=l,P=new oE(m,this.urlSerializer.serialize(w),b,C);this.events.next(P);const L=ZV(this.rootComponentType).snapshot;return this.currentTransition=s={...l,targetSnapshot:L,urlAfterRedirects:w,extras:{...S,skipLocationChange:!1,replaceUrl:!1}},this.currentNavigation.finalUrl=w,lt(s)}{const m="";return this.events.next(new Of(l.id,this.urlSerializer.serialize(l.extractedUrl),m,aE.IgnoredByUrlHandlingStrategy)),l.resolve(null),Bo}}),Oi(l=>{const c=new PZ(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(c)}),je(l=>(this.currentTransition=s={...l,guards:XZ(l.targetSnapshot,l.currentSnapshot,this.rootContexts)},s)),function uX(n,e){return xi(t=>{const{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:s,canDeactivateChecks:o}}=t;return 0===o.length&&0===s.length?lt({...t,guardsResult:!0}):function cX(n,e,t,r){return jn(n).pipe(xi(i=>function mX(n,e,t,r,i){const s=e&&e.routeConfig?e.routeConfig.canDeactivate:null;return s&&0!==s.length?lt(s.map(a=>{const l=qm(e)??i,c=Vf(a,l);return Mu(function aX(n){return n&&Km(n.canDeactivate)}(c)?c.canDeactivate(n,e,t,r):oo(l,()=>c(n,e,t,r))).pipe(Pu())})).pipe(Lf()):lt(!0)}(i.component,i.route,t,e,r)),Pu(i=>!0!==i,!0))}(o,r,i,n).pipe(xi(a=>a&&function rX(n){return"boolean"==typeof n}(a)?function dX(n,e,t,r){return jn(e).pipe(Df(i=>rC(function fX(n,e){return null!==n&&e&&e(new FZ(n)),lt(!0)}(i.route.parent,r),function hX(n,e){return null!==n&&e&&e(new LZ(n)),lt(!0)}(i.route,r),function gX(n,e,t){const r=e[e.length-1],s=e.slice(0,e.length-1).reverse().map(o=>function eX(n){const e=n.routeConfig?n.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:n,guards:e}:null}(o)).filter(o=>null!==o).map(o=>CV(()=>lt(o.guards.map(l=>{const c=qm(o.node)??t,p=Vf(l,c);return Mu(function oX(n){return n&&Km(n.canActivateChild)}(p)?p.canActivateChild(r,n):oo(c,()=>p(r,n))).pipe(Pu())})).pipe(Lf())));return lt(s).pipe(Lf())}(n,i.path,t),function pX(n,e,t){const r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||0===r.length)return lt(!0);const i=r.map(s=>CV(()=>{const o=qm(e)??t,a=Vf(s,o);return Mu(function sX(n){return n&&Km(n.canActivate)}(a)?a.canActivate(e,n):oo(o,()=>a(e,n))).pipe(Pu())}));return lt(i).pipe(Lf())}(n,i.route,t))),Pu(i=>!0!==i,!0))}(r,s,n,e):lt(a)),je(a=>({...t,guardsResult:a})))})}(this.environmentInjector,l=>this.events.next(l)),Oi(l=>{if(s.guardsResult=l.guardsResult,Nf(l.guardsResult))throw iL(0,l.guardsResult);const c=new MZ(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot,!!l.guardsResult);this.events.next(c)}),_o(l=>!!l.guardsResult||(this.cancelNavigationTransition(l,"",Ws.GuardRejected),!1)),SC(l=>{if(l.guards.canActivateChecks.length)return lt(l).pipe(Oi(c=>{const p=new NZ(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot);this.events.next(p)}),ti(c=>{let p=!1;return lt(c).pipe(function UX(n,e){return xi(t=>{const{targetSnapshot:r,guards:{canActivateChecks:i}}=t;if(!i.length)return lt(t);const s=new Set(i.map(l=>l.route)),o=new Set;for(const l of s)if(!o.has(l))for(const c of fL(l))o.add(c);let a=0;return jn(o).pipe(Df(l=>s.has(l)?function BX(n,e,t,r){const i=n.routeConfig,s=n._resolve;return void 0!==i?.title&&!tL(i)&&(s[Vm]=i.title),function jX(n,e,t,r){const i=oC(n);if(0===i.length)return lt({});const s={};return jn(i).pipe(xi(o=>function $X(n,e,t,r){const i=qm(e)??r,s=Vf(n,i);return Mu(s.resolve?s.resolve(e,t):oo(i,()=>s(e,t)))}(n[o],e,t,r).pipe(Pu(),Oi(a=>{s[o]=a}))),sC(1),function eZ(n){return je(()=>n)}(s),Sf(o=>uL(o)?Bo:Yw(o)))}(s,n,e,r).pipe(je(o=>(n._resolvedData=o,n.data=mC(n,n.parent,t).resolve,null)))}(l,r,n,e):(l.data=mC(l,l.parent,n).resolve,lt(void 0))),Oi(()=>a++),sC(1),xi(l=>a===o.size?lt(t):Bo))})}(this.paramsInheritanceStrategy,this.environmentInjector),Oi({next:()=>p=!0,complete:()=>{p||this.cancelNavigationTransition(c,"",Ws.NoDataFromResolver)}}))}),Oi(c=>{const p=new xZ(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot);this.events.next(p)}))}),SC(l=>{const c=p=>{const m=[];p.routeConfig?.loadComponent&&!p.routeConfig._loadedComponent&&m.push(this.configLoader.loadComponent(p.routeConfig).pipe(Oi(w=>{p.component=w}),je(()=>{})));for(const w of p.children)m.push(...c(w));return m};return nC(c(l.targetSnapshot.root)).pipe(Zw(null),Cf(1))}),SC(()=>this.afterPreactivation()),ti(()=>{const{currentSnapshot:l,targetSnapshot:c}=s,p=this.createViewTransition?.(this.environmentInjector,l.root,c.root);return p?jn(p).pipe(je(()=>s)):lt(s)}),je(l=>{const c=function $Z(n,e,t){const r=Hm(n,e._root,t?t._root:void 0);return new JV(r,e)}(t.routeReuseStrategy,l.targetSnapshot,l.currentRouterState);return this.currentTransition=s={...l,targetRouterState:c},this.currentNavigation.targetRouterState=c,s}),Oi(()=>{this.events.next(new hC)}),((n,e,t,r)=>je(i=>(new ZZ(e,i.targetRouterState,i.currentRouterState,t,r).activate(n),i)))(this.rootContexts,t.routeReuseStrategy,l=>this.events.next(l),this.inputBindingEnabled),Cf(1),Oi({next:l=>{o=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new Al(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects))),this.titleStrategy?.updateTitle(l.targetRouterState.snapshot),l.resolve(!0)},complete:()=>{o=!0}}),function tZ(n){return H((e,t)=>{Gs(n).subscribe(Se(t,()=>t.complete(),Si)),!t.closed&&e.subscribe(t)})}(this.transitionAbortSubject.pipe(Oi(l=>{throw l}))),Fm(()=>{!o&&!a&&this.cancelNavigationTransition(s,"",Ws.SupersededByNewNavigation),this.currentTransition?.id===s.id&&(this.currentNavigation=null,this.currentTransition=null)}),Sf(l=>{if(a=!0,oL(l))this.events.next(new xf(s.id,this.urlSerializer.serialize(s.extractedUrl),l.message,l.cancellationCode)),function qZ(n){return oL(n)&&Nf(n.url)}(l)?this.events.next(new fC(l.url)):s.resolve(!1);else{this.events.next(new lE(s.id,this.urlSerializer.serialize(s.extractedUrl),l,s.targetSnapshot??void 0));try{s.resolve(t.errorHandler(l))}catch(c){this.options.resolveNavigationPromiseOnError?s.resolve(!1):s.reject(c)}}return Bo}))}))}cancelNavigationTransition(t,r,i){const s=new xf(t.id,this.urlSerializer.serialize(t.extractedUrl),r,i);this.events.next(s),t.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){return this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))).toString()!==this.currentTransition?.extractedUrl.toString()&&!this.currentTransition?.extras.skipLocationChange}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=Ue({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function QX(n){return n!==$m}let YX=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=Ue({token:n,factory:()=>ye(ZX),providedIn:"root"})}return n})();class JX{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}}let ZX=(()=>{class n extends JX{static#e=this.\u0275fac=(()=>{let t;return function(i){return(t||(t=rr(n)))(i||n)}})();static#t=this.\u0275prov=Ue({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),_L=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=Ue({token:n,factory:()=>ye(XX),providedIn:"root"})}return n})(),XX=(()=>{class n extends _L{constructor(){super(...arguments),this.location=ye(bm),this.urlSerializer=ye(Mf),this.options=ye(Bf,{optional:!0})||{},this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.urlHandlingStrategy=ye(PC),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.currentUrlTree=new Pf,this.rawUrlTree=this.currentUrlTree,this.currentPageId=0,this.lastSuccessfulId=-1,this.routerState=ZV(null),this.stateMemento=this.createStateMemento()}getCurrentUrlTree(){return this.currentUrlTree}getRawUrlTree(){return this.rawUrlTree}restoredState(){return this.location.getState()}get browserPageId(){return"computed"!==this.canceledNavigationResolution?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}getRouterState(){return this.routerState}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(t){return this.location.subscribe(r=>{"popstate"===r.type&&t(r.url,r.state)})}handleRouterEvent(t,r){if(t instanceof oE)this.stateMemento=this.createStateMemento();else if(t instanceof Of)this.rawUrlTree=r.initialUrl;else if(t instanceof KV){if("eager"===this.urlUpdateStrategy&&!r.extras.skipLocationChange){const i=this.urlHandlingStrategy.merge(r.finalUrl,r.initialUrl);this.setBrowserUrl(i,r)}}else t instanceof hC?(this.currentUrlTree=r.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(r.finalUrl,r.initialUrl),this.routerState=r.targetRouterState,"deferred"===this.urlUpdateStrategy&&(r.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,r))):t instanceof xf&&(t.code===Ws.GuardRejected||t.code===Ws.NoDataFromResolver)?this.restoreHistory(r):t instanceof lE?this.restoreHistory(r,!0):t instanceof Al&&(this.lastSuccessfulId=t.id,this.currentPageId=this.browserPageId)}setBrowserUrl(t,r){const i=this.urlSerializer.serialize(t);if(this.location.isCurrentPathEqualTo(i)||r.extras.replaceUrl){const o={...r.extras.state,...this.generateNgRouterState(r.id,this.browserPageId)};this.location.replaceState(i,"",o)}else{const s={...r.extras.state,...this.generateNgRouterState(r.id,this.browserPageId+1)};this.location.go(i,"",s)}}restoreHistory(t,r=!1){if("computed"===this.canceledNavigationResolution){const s=this.currentPageId-this.browserPageId;0!==s?this.location.historyGo(s):this.currentUrlTree===t.finalUrl&&0===s&&(this.resetState(t),this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(r&&this.resetState(t),this.resetUrlToCurrentUrlTree())}resetState(t){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.finalUrl??this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(t,r){return"computed"===this.canceledNavigationResolution?{navigationId:t,\u0275routerPageId:r}:{navigationId:t}}static#e=this.\u0275fac=(()=>{let t;return function(i){return(t||(t=rr(n)))(i||n)}})();static#t=this.\u0275prov=Ue({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var Qm=function(n){return n[n.COMPLETE=0]="COMPLETE",n[n.FAILED=1]="FAILED",n[n.REDIRECTING=2]="REDIRECTING",n}(Qm||{});function vL(n,e){n.events.pipe(_o(t=>t instanceof Al||t instanceof xf||t instanceof lE||t instanceof Of),je(t=>t instanceof Al||t instanceof Of?Qm.COMPLETE:t instanceof xf&&(t.code===Ws.Redirect||t.code===Ws.SupersededByNewNavigation)?Qm.REDIRECTING:Qm.FAILED),_o(t=>t!==Qm.REDIRECTING),Cf(1)).subscribe(()=>{e()})}function eee(n){throw n}const tee={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},nee={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let vo=(()=>{class n{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}constructor(){this.disposed=!1,this.isNgZoneEnabled=!1,this.console=ye(FO),this.stateManager=ye(_L),this.options=ye(Bf,{optional:!0})||{},this.pendingTasks=ye(Iu),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.navigationTransitions=ye(fE),this.urlSerializer=ye(Mf),this.location=ye(bm),this.urlHandlingStrategy=ye(PC),this._events=new F,this.errorHandler=this.options.errorHandler||eee,this.navigated=!1,this.routeReuseStrategy=ye(YX),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.config=ye(jf,{optional:!0})?.flat()??[],this.componentInputBindingEnabled=!!ye(uE,{optional:!0}),this.eventsSubscription=new Tt,this.isNgZoneEnabled=ye(Jt)instanceof Jt&&Jt.isInAngularZone(),this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe({error:t=>{this.console.warn(t)}}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){const t=this.navigationTransitions.events.subscribe(r=>{try{const i=this.navigationTransitions.currentTransition,s=this.navigationTransitions.currentNavigation;if(null!==i&&null!==s)if(this.stateManager.handleRouterEvent(r,s),r instanceof xf&&r.code!==Ws.Redirect&&r.code!==Ws.SupersededByNewNavigation)this.navigated=!0;else if(r instanceof Al)this.navigated=!0;else if(r instanceof fC){const o=this.urlHandlingStrategy.merge(r.url,i.currentRawUrl),a={info:i.extras.info,skipLocationChange:i.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||QX(i.source)};this.scheduleNavigation(o,$m,null,a,{resolve:i.resolve,reject:i.reject,promise:i.promise})}(function iee(n){return!(n instanceof hC||n instanceof fC)})(r)&&this._events.next(r)}catch(i){this.navigationTransitions.transitionAbortSubject.next(i)}});this.eventsSubscription.add(t)}resetRootComponentType(t){this.routerState.root.component=t,this.navigationTransitions.rootComponentType=t}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),$m,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((t,r)=>{setTimeout(()=>{this.navigateToSyncWithBrowser(t,"popstate",r)},0)})}navigateToSyncWithBrowser(t,r,i){const s={replaceUrl:!0},o=i?.navigationId?i:null;if(i){const l={...i};delete l.navigationId,delete l.\u0275routerPageId,0!==Object.keys(l).length&&(s.state=l)}const a=this.parseUrl(t);this.scheduleNavigation(a,r,o,s)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(t){this.config=t.map(bC),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(t,r={}){const{relativeTo:i,queryParams:s,fragment:o,queryParamsHandling:a,preserveFragment:l}=r,c=l?this.currentUrlTree.fragment:o;let m,p=null;switch(a){case"merge":p={...this.currentUrlTree.queryParams,...s};break;case"preserve":p=this.currentUrlTree.queryParams;break;default:p=s||null}null!==p&&(p=this.removeEmptyProps(p));try{m=jV(i?i.snapshot:this.routerState.snapshot.root)}catch{("string"!=typeof t[0]||!t[0].startsWith("/"))&&(t=[]),m=this.currentUrlTree.root}return $V(m,t,p,c??null)}navigateByUrl(t,r={skipLocationChange:!1}){const i=Nf(t)?t:this.parseUrl(t),s=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(s,$m,null,r)}navigate(t,r={skipLocationChange:!1}){return function ree(n){for(let e=0;e<n.length;e++)if(null==n[e])throw new J(4008,!1)}(t),this.navigateByUrl(this.createUrlTree(t,r),r)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){try{return this.urlSerializer.parse(t)}catch{return this.urlSerializer.parse("/")}}isActive(t,r){let i;if(i=!0===r?{...tee}:!1===r?{...nee}:r,Nf(t))return NV(this.currentUrlTree,t,i);const s=this.parseUrl(t);return NV(this.currentUrlTree,s,i)}removeEmptyProps(t){return Object.entries(t).reduce((r,[i,s])=>(null!=s&&(r[i]=s),r),{})}scheduleNavigation(t,r,i,s,o){if(this.disposed)return Promise.resolve(!1);let a,l,c;o?(a=o.resolve,l=o.reject,c=o.promise):c=new Promise((m,w)=>{a=m,l=w});const p=this.pendingTasks.add();return vL(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(p))}),this.navigationTransitions.handleNavigationRequest({source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:t,extras:s,resolve:a,reject:l,promise:c,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),c.catch(m=>Promise.reject(m))}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=Ue({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();class wL{}let aee=(()=>{class n{constructor(t,r,i,s,o){this.router=t,this.injector=i,this.preloadingStrategy=s,this.loader=o}setUpPreloading(){this.subscription=this.router.events.pipe(_o(t=>t instanceof Al),Df(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,r){const i=[];for(const s of r){s.providers&&!s._injector&&(s._injector=Gv(s.providers,t,`Route: ${s.path}`));const o=s._injector??t,a=s._loadedInjector??o;(s.loadChildren&&!s._loadedRoutes&&void 0===s.canLoad||s.loadComponent&&!s._loadedComponent)&&i.push(this.preloadConfig(o,s)),(s.children||s._loadedRoutes)&&i.push(this.processRoutes(a,s.children??s._loadedRoutes))}return jn(i).pipe(Tf())}preloadConfig(t,r){return this.preloadingStrategy.preload(r,()=>{let i;i=r.loadChildren&&void 0===r.canLoad?this.loader.loadChildren(t,r):lt(null);const s=i.pipe(xi(o=>null===o?lt(void 0):(r._loadedRoutes=o.routes,r._loadedInjector=o.injector,this.processRoutes(o.injector??t,o.routes))));return r.loadComponent&&!r._loadedComponent?jn([s,this.loader.loadComponent(r)]).pipe(Tf()):s})}static#e=this.\u0275fac=function(r){return new(r||n)(ve(vo),ve(GO),ve(Yr),ve(wL),ve(RC))};static#t=this.\u0275prov=Ue({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();const NC=new Ee("");let EL=(()=>{class n{constructor(t,r,i,s,o={}){this.urlSerializer=t,this.transitions=r,this.viewportScroller=i,this.zone=s,this.options=o,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},this.environmentInjector=ye(Yr),o.scrollPositionRestoration||="disabled",o.anchorScrolling||="disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof oE?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof Al?(this.lastId=t.id,this.scheduleScrollEvent(t,this.urlSerializer.parse(t.urlAfterRedirects).fragment)):t instanceof Of&&t.code===aE.IgnoredSameUrlNavigation&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(t,this.urlSerializer.parse(t.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof QV&&(t.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,r){var i=this;this.zone.runOutsideAngular((0,T.A)(function*(){yield new Promise(s=>{setTimeout(()=>{s()}),H0(()=>{s()},{injector:i.environmentInjector})}),i.zone.run(()=>{i.transitions.events.next(new QV(t,"popstate"===i.lastSource?i.store[i.restoredId]:null,r))})}))}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static#e=this.\u0275fac=function(r){!function FM(){throw new Error("invalid")}()};static#t=this.\u0275prov=Ue({token:n,factory:n.\u0275fac})}return n})();function Ta(n,e){return{\u0275kind:n,\u0275providers:e}}function bL(){const n=ye(Lt);return e=>{const t=n.get(Tu);if(e!==t.components[0])return;const r=n.get(vo),i=n.get(AL);1===n.get(xC)&&r.initialNavigation(),n.get(TL,null,Pt.Optional)?.setUpPreloading(),n.get(NC,null,Pt.Optional)?.init(),r.resetRootComponentType(t.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}const AL=new Ee("",{factory:()=>new F}),xC=new Ee("",{providedIn:"root",factory:()=>1}),TL=new Ee("");function dee(n){return Ta(0,[{provide:TL,useExisting:aee},{provide:wL,useExisting:n}])}function fee(n){return Ta(9,[{provide:mL,useValue:WX},{provide:yL,useValue:{skipNextTransition:!!n?.skipInitialTransition,...n}}])}const CL=new Ee("ROUTER_FORROOT_GUARD"),pee=[bm,{provide:Mf,useClass:aC},vo,zm,{provide:Ff,useFactory:function IL(n){return n.routerState.root},deps:[vo]},RC,[]];let DL=(()=>{class n{constructor(t){}static forRoot(t,r){return{ngModule:n,providers:[pee,[],{provide:jf,multi:!0,useValue:t},{provide:CL,useFactory:_ee,deps:[[vo,new Xi,new ro]]},{provide:Bf,useValue:r||{}},r?.useHash?{provide:ad,useClass:o7}:{provide:ad,useClass:Vk},{provide:NC,useFactory:()=>{const n=ye(SK),e=ye(Jt),t=ye(Bf),r=ye(fE),i=ye(Mf);return t.scrollOffset&&n.setOffset(t.scrollOffset),new EL(i,r,n,e,t)}},r?.preloadingStrategy?dee(r.preloadingStrategy).\u0275providers:[],r?.initialNavigation?vee(r):[],r?.bindToComponentInputs?Ta(8,[nL,{provide:uE,useExisting:nL}]).\u0275providers:[],r?.enableViewTransitions?fee().\u0275providers:[],[{provide:SL,useFactory:bL},{provide:WA,multi:!0,useExisting:SL}]]}}static forChild(t){return{ngModule:n,providers:[{provide:jf,multi:!0,useValue:t}]}}static#e=this.\u0275fac=function(r){return new(r||n)(ve(CL,8))};static#t=this.\u0275mod=Tr({type:n});static#n=this.\u0275inj=Qr({})}return n})();function _ee(n){return"guarded"}function vee(n){return["disabled"===n.initialNavigation?Ta(3,[{provide:qA,multi:!0,useFactory:()=>{const e=ye(vo);return()=>{e.setUpLocationChangeListener()}}},{provide:xC,useValue:2}]).\u0275providers:[],"enabledBlocking"===n.initialNavigation?Ta(2,[{provide:xC,useValue:0},{provide:qA,multi:!0,deps:[Lt],useFactory:e=>{const t=e.get(i7,Promise.resolve());return()=>t.then(()=>new Promise(r=>{const i=e.get(vo),s=e.get(AL);vL(i,()=>{r(!0)}),e.get(fE).afterPreactivation=()=>(r(!0),s.closed?lt(void 0):s),i.initialNavigation()}))}}]).\u0275providers:[]]}const SL=new Ee("");let Eee=(()=>{class n{constructor(){this.currentColor="blue"}ngOnInit(){setInterval(()=>{this.toggleColor()},5e3)}toggleColor(){this.currentColor="blue"===this.currentColor?"green":"blue"}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275cmp=Mi({type:n,selectors:[["app-about"]],decls:31,vars:3,consts:[["id","about",1,"section"],[1,"container"],["data-aos","fade-up","data-aos-offset","10",1,"card"],[1,"col-lg-12","col-md-12"],[1,"card-body"],[1,"h4","mt-0","title"]],template:function(r,i){1&r&&(_e(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5),Ie(6,"About"),ge(),_e(7,"p"),Ie(8," Hi! I am "),_e(9,"b"),Ie(10,"Kavinkumar M"),ge(),Ie(11,", a passionate and driven 22-year-old professional with Two years of hands-on experience in Angular. I also have a keen interest in other domains like Java and Data Modelling, recognizing the importance of staying versatile in the ever-evolving technology landscape. "),ge(),_e(12,"p")(13,"strong"),Ie(14,"Experience:"),ge(),On(15,"br"),Ie(16," During the past year, I focused on honing my skills in Angular through various projects. As a result, I gained practical knowledge in front-end development, user interface design, and responsive web applications. I have become proficient in building dynamic and interactive web solutions while prioritizing enhanced user experiences and effective teamwork."),ge(),_e(17,"p")(18,"strong"),Ie(19,"Objectives:"),ge(),On(20,"br"),Ie(21," Now, I am eager to secure a challenging position in a reputed organization that encourages continuous learning and professional growth. My objective is to contribute my existing skills while actively acquiring new ones. I aim to deliver innovative and cutting-edge solutions that push the boundaries of technology."),ge(),_e(22,"p"),Ie(23,"With a strong work ethic, adaptability, and an insatiable thirst for knowledge, I am confident in my ability to bring valuable insights and fresh perspectives to any project. I am excited to embark on this new journey and make a positive impact on the technological landscape."),ge(),_e(24,"p"),Ie(25,"Thank you for considering my profile, and I invite you to visit my LinkedIn profile for more details about my experience and achievements. "),ge(),_e(26,"p"),Ie(27," Best Regards, "),On(28,"br"),_e(29,"b"),Ie(30,"Kavinkumar M"),ge()()()()()()()),2&r&&(pa(2),id("@colorChangeAnimation",i.currentColor),pa(7),id("@textColorChange",i.currentColor),pa(20),id("@textColorChange",i.currentColor))},styles:['.section[_ngcontent-%COMP%]{background-color:#f8f9fa;padding:40px 0}.card[_ngcontent-%COMP%]{border:none;border-radius:30px;box-shadow:0 0 20px #0000001a;padding:5px 5;opacity:0;position:relative;background-color:#f8f9fa}.card[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]{color:#000;border-radius:30px;background-color:#fff}.card[_ngcontent-%COMP%]:before, .card[_ngcontent-%COMP%]:after{content:"";position:absolute;top:0;bottom:0;width:5px;transition:background-color 1s ease-out}.card[_ngcontent-%COMP%]:before{left:0}.card[_ngcontent-%COMP%]:after{right:0}.card[state=green][_ngcontent-%COMP%]:before, .card[state=green][_ngcontent-%COMP%]:after{background-color:#28a745}.container[_ngcontent-%COMP%]{max-width:1000px;margin:0 auto}'],data:{animation:[SF("colorChangeAnimation",[Fw("blue",If({backgroundColor:"#3b5998"})),Fw("green",If({backgroundColor:"#28a745"})),PF("blue => green, green => blue",[RF("1s ease-out")])]),SF("textColorChange",[Fw("blue",If({color:"#3b5998"})),Fw("green",If({color:"#28a745"})),PF("blue => green, green => blue",[RF("1s ease-out")])])]}})}return n})(),Iee=(()=>{class n{constructor(){this.activeSection="introduction",this.sections=[{id:"about",offset:0},{id:"experience",offset:0},{id:"skill",offset:0},{id:"education",offset:0},{id:"contact",offset:0}]}onWindowScroll(){this.sections.forEach(r=>{const i=document.getElementById(r.id);i&&(r.offset=i.offsetTop)});const t=window.pageYOffset+window.innerHeight/2;for(let r of this.sections)t>=r.offset&&(this.activeSection=r.id)}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275cmp=Mi({type:n,selectors:[["app-header"]],hostBindings:function(r,i){1&r&&Hr("scroll",function(o){return i.onWindowScroll(o)},0,Av)},decls:27,vars:10,consts:[[1,"profile-page","sidebar-collapse"],["color-on-scroll","400",1,"navbar","navbar-expand-lg","fixed-top","navbar-transparent","bg-primary"],[1,"container"],[1,"navbar-translate"],["href","#","rel","tooltip",1,"navbar-brand"],["type","button","data-toggle","collapse","data-target","#navigation","aria-controls","navigation","aria-expanded","false","aria-label","Toggle navigation",1,"navbar-toggler","navbar-toggler"],[1,"navbar-toggler-bar","bar1"],[1,"navbar-toggler-bar","bar2"],[1,"navbar-toggler-bar","bar3"],["id","navigation",1,"collapse","navbar-collapse","justify-content-end"],[1,"navbar-nav"],[1,"nav-item"],["href","#about",1,"nav-link","smooth-scroll"],["href","#experience",1,"nav-link","smooth-scroll"],["href","#skill",1,"nav-link","smooth-scroll"],["href","#education",1,"nav-link","smooth-scroll"],["href","#contact",1,"nav-link","smooth-scroll"]],template:function(r,i){1&r&&(_e(0,"div",0)(1,"nav",1)(2,"div",2)(3,"div",3)(4,"a",4),Ie(5,"Kavin's Profile"),ge(),_e(6,"button",5),On(7,"span",6)(8,"span",7)(9,"span",8),ge()(),_e(10,"div",9)(11,"ul",10)(12,"li",11)(13,"a",12),Ie(14,"About"),ge()(),_e(15,"li",11)(16,"a",13),Ie(17,"Experience"),ge()(),_e(18,"li",11)(19,"a",14),Ie(20,"Skills"),ge()(),_e(21,"li",11)(22,"a",15),Ie(23,"Education"),ge()(),_e(24,"li",11)(25,"a",16),Ie(26,"Contact"),ge()()()()()()()),2&r&&(pa(12),ml("active","about"===i.activeSection),pa(3),ml("active","experience"===i.activeSection),pa(3),ml("active","skill"===i.activeSection),pa(3),ml("active","education"===i.activeSection),pa(3),ml("active","contact"===i.activeSection))},styles:[".nav-item.active[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]{font-weight:500}"]})}return n})();const bee=["textContainer"];let Aee=(()=>{class n{constructor(){this.title="resume",this.roles=["Front End Web Developer - Angular 13+","Data Modeler"],this.index=0,this.roleIndex=0,this.isInDeletingState=!1,this.myPhoneNumber="9092850954"}ngOnInit(){this.typeWriter()}downloadPDF(){const t="assets/kavinkumar_Angular_developer.pdf",r=document.createElement("a");r.href=t,r.download="Kavinkuamar_Resume.pdf",r.dispatchEvent(new MouseEvent("click")),r.remove(),window.open(t,"_blank")}typeWriter(){const t=this.textContainerRef.nativeElement,r=this.roles[this.roleIndex],i=r.slice(0,this.index);t.textContent=i,this.isInDeletingState?(this.index--,0===this.index&&(this.isInDeletingState=!1,this.roleIndex=(this.roleIndex+1)%this.roles.length),setTimeout(()=>this.typeWriter(),50)):(this.index++,this.index>r.length?(this.isInDeletingState=!0,setTimeout(()=>this.typeWriter(),3e3)):setTimeout(()=>this.typeWriter(),100))}openWhatsApp(){window.open(`https://wa.me/${this.myPhoneNumber}`,"_blank")}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275cmp=Mi({type:n,selectors:[["app-introduction"]],viewQuery:function(r,i){if(1&r&&function q1(n,e,t){NN(n,e,t)}(bee,7),2&r){let s;(function PA(n){const e=oe(),t=Vt(),r=gg();mg(r+1);const i=tA(t,r);if(n.dirty&&function ub(n){return!(4&~n[Ye])}(e)===!(2&~i.metadata.flags)){if(null===i.matches)n.reset([]);else{const s=kN(e,r);n.reset(s,IP),n.notifyOnChanges()}return!0}return!1})(s=MA())&&(i.textContainerRef=s.first)}},decls:28,vars:0,consts:[[1,"profile-page",2,"background-image","url('assets/images/lines.jpg')"],[1,"wrapper"],["filter-color","blue",1,"page-header","page-header-small"],["data-parallax","true",1,"page-header-image"],[1,"container","margin"],[1,"content-center"],[1,"cc-profile-image"],["href","#"],["src","assets/images/img4.jpg","alt","Image"],[1,"h2","title"],[1,"category","text-white","typing","typeText"],["target","_blank","href","mailto:kavinkumar025@gmail.com?subject=Regarding%20Job%20Opportunity","data-aos","zoom-in","data-aos-anchor","data-aos-anchor",1,"btn","btn-primary","animate-zoom","smooth-scroll","mr-2"],["data-aos","zoom-in","data-aos-anchor","data-aos-anchor",1,"btn","btn-secondary","animate-slide","smooth-scroll","mr-2",3,"click"],[1,"section"],[1,"container"],[1,"button-container"],["href","https://www.linkedin.com/in/kavinkumar-m-17511b20a/","target","_blank","rel","tooltip","title","Follow me on LinkedIn",1,"btn","btn-default","btn-round","btn-lg","btn-icon"],[1,"fa","fa-linkedin"],["href","javascript:void(0)","target","_blank","rel","tooltip","title","Text me on WhatsApp",1,"btn","btn-default","btn-round","btn-lg","btn-icon",3,"click"],[1,"fa","fa-whatsapp"],["target","_blank","rel","tooltip","title","Follow me on Github","href","https://github.com/kavinkumar025/resume",1,"btn","btn-default","btn-round","btn-lg","btn-icon"],[1,"fa","fa-github"],["href","https://instagram.com/im_kavin__25?utm_source=qr&igshid=MzNlNGNkZWQ4Mg%3D%3D ","target","_blank","rel","tooltip","title","Follow me on Instagram",1,"btn","btn-default","btn-round","btn-lg","btn-icon"],[1,"fa","fa-instagram"]],template:function(r,i){1&r&&(_e(0,"div",0)(1,"div",1)(2,"div",2),On(3,"div",3),_e(4,"div",4)(5,"div",5)(6,"div",6)(7,"a",7),On(8,"img",8),ge()(),_e(9,"h1",9),Ie(10,"Kavinkumar M"),ge(),_e(11,"p",10),Ie(12,"Angular Developer"),ge(),_e(13,"a",11),Ie(14," Recruit me "),ge(),_e(15,"a",12),Hr("click",function(){return i.downloadPDF()}),Ie(16," Grab Resume "),ge()()(),_e(17,"div",13)(18,"div",14)(19,"div",15)(20,"a",16),On(21,"i",17),ge(),_e(22,"a",18),Hr("click",function(){return i.openWhatsApp()}),On(23,"i",19),ge(),_e(24,"a",20),On(25,"i",21),ge(),_e(26,"a",22),On(27,"i",23),ge()()()()()()())},styles:['.cc-profile-image[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{position:relative}.cc-profile-image[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:before{content:"";border:15px solid rgba(251,252,252,.6);border-radius:50%;height:250px;width:250px;position:absolute;left:0;animation:pulsate 2.6s ease-out;animation-iteration-count:infinite;opacity:0;z-index:99;margin-top:30px}.cc-profile-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{margin-top:30px;position:relative;border-radius:50%;height:250px;width:250px;padding:0;border:15px solid transparent;z-index:9999;transition:all .3s ease-out}.cc-profile-image[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover   img[_ngcontent-%COMP%]{transform:scale(1.1);transform-origin:50% 50%}.profile-page[_ngcontent-%COMP%]{background-size:cover;background-position:center;background-repeat:no-repeat;position:relative}.btn[_ngcontent-%COMP%]{display:inline-block;padding:12px 24px;border-radius:5px;font-size:16px;color:#fff;text-decoration:none;transition:background-color .3s ease,transform .2s ease;cursor:pointer;position:relative;overflow:hidden;z-index:1}.btn-primary[_ngcontent-%COMP%], .btn-secondary[_ngcontent-%COMP%]{background-color:#007bff}.btn[_ngcontent-%COMP%]:hover{background-color:#0056b3;transform:scale(1.05)}.animate-zoom[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_zoomIn .8s ease}@keyframes _ngcontent-%COMP%_zoomIn{0%{transform:scale(0);opacity:0}to{transform:scale(1);opacity:1}}.animate-slide[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_slideIn .5s ease}@keyframes _ngcontent-%COMP%_slideIn{0%{transform:translate(-100%)}to{transform:translate(0)}}.h2.title[_ngcontent-%COMP%]:hover{transform:scale(1.1)}.typeText[_ngcontent-%COMP%]:hover{transform:scale(1.2)}']})}return n})(),Tee=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275cmp=Mi({type:n,selectors:[["app-experience"]],decls:49,vars:0,consts:[["id","experience",1,"education"],[1,"container"],[1,"title"],[1,"education-list"],[1,"education-item"],[1,"education-header"],[1,"date"],[1,"degree"],[1,"education-details"],[1,"institute"]],template:function(r,i){1&r&&(_e(0,"section",0)(1,"div",1)(2,"h2",2),Ie(3,"Experience"),ge(),_e(4,"div",3)(5,"div",4)(6,"div",5)(7,"div",6),Ie(8,"12 Days"),ge(),_e(9,"div",7),Ie(10,"Implant Training"),ge()(),_e(11,"div",8)(12,"h3",9),Ie(13,"Python"),ge(),_e(14,"p"),Ie(15,"I completed a 12-day Python implant training at Durga Tech in Erode, Tamil Nadu"),ge(),_e(16,"p"),Ie(17,"where I gained valuable hands-on experience and a strong foundation in Python programming."),ge()()(),_e(18,"div",4)(19,"div",5)(20,"div",6),Ie(21,"30 Days"),ge(),_e(22,"div",7),Ie(23,"Internship"),ge()(),_e(24,"div",8)(25,"h3",9),Ie(26,"Data Analysis"),ge(),_e(27,"p"),Ie(28,"I participated in a 30-day Data Analysis program at Prayoga Technologies."),ge(),_e(29,"p"),Ie(30,"where I honed my skills in data analysis techniques and tools, preparing me for real-world data challenges."),ge()()(),_e(31,"div",4)(32,"div",5)(33,"div",6),Ie(34,"SEP 2022 - Present"),ge(),_e(35,"div",7),Ie(36,"Full-time Job"),ge()(),_e(37,"div",8)(38,"h3",9),Ie(39,"Angular Developer"),ge(),_e(40,"p"),Ie(41," Successfully completed Two years as an "),_e(42,"strong"),Ie(43,"Angular Developer"),ge(),Ie(44," at Aseuro Technologies. "),ge(),_e(45,"p"),Ie(46,"collaborating on various projects and gaining extensive experience in building dynamic and interactive web applications using Angular framework. "),ge(),_e(47,"p"),Ie(48,"My time at Aseuro Technologies significantly enhanced my expertise in frontend development and problem-solving in the web development domain."),ge()()()()()())},styles:["body[_ngcontent-%COMP%]{font-family:Inter,sans-serif;line-height:1.6;background-color:#f0f2f5;color:#333;margin:0;padding:0}p[_ngcontent-%COMP%]{text-align:left;margin-bottom:1rem}.container[_ngcontent-%COMP%]{max-width:1100px;margin:0 auto;padding:40px 20px}.education[_ngcontent-%COMP%]{background-color:#f9fbfd;padding:50px 0;border-radius:12px;box-shadow:0 10px 25px #0000001a}.title[_ngcontent-%COMP%]{font-size:40px;font-weight:700;text-align:center;margin-bottom:50px;color:#1a73e8}.education-list[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(3,1fr);grid-gap:35px}.education-item[_ngcontent-%COMP%]{background-color:#fff;border-radius:15px;padding:30px;text-align:center;box-shadow:0 6px 15px #00000014;transition:transform .3s ease,box-shadow .3s ease;cursor:pointer}.education-item[_ngcontent-%COMP%]:hover{transform:translateY(-10px);box-shadow:0 10px 20px #007bff26}.education-header[_ngcontent-%COMP%]{padding-bottom:20px;border-bottom:2px solid #1a73e8}.date[_ngcontent-%COMP%]{font-size:18px;font-weight:600;color:#1a73e8}.degree[_ngcontent-%COMP%]{font-size:20px;font-weight:600;color:#444}.education-details[_ngcontent-%COMP%]{margin-top:20px;font-size:16px;line-height:1.8}.institute[_ngcontent-%COMP%]{font-size:20px;font-weight:600;margin-bottom:15px;color:#1a73e8}p[_ngcontent-%COMP%]{font-size:16px;line-height:1.6;color:#666}.education-item[_ngcontent-%COMP%]:hover   .education-details[_ngcontent-%COMP%]{background-color:#f1f7ff;padding:25px;border-radius:15px;transform:translateY(-10px);transition:background-color .3s ease,color .3s ease,transform .3s ease}.education-item[_ngcontent-%COMP%]:hover   .institute[_ngcontent-%COMP%], .education-item[_ngcontent-%COMP%]:hover   p[_ngcontent-%COMP%]{color:#1a73e8}@keyframes _ngcontent-%COMP%_fadeIn{0%{opacity:0;transform:translateY(20px)}to{opacity:1;transform:translateY(0)}}.education-item[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_fadeIn .6s ease;animation-fill-mode:forwards}@media (max-width: 767px){.education-list[_ngcontent-%COMP%]{grid-template-columns:1fr;grid-gap:25px}.title[_ngcontent-%COMP%]{font-size:32px}.education-item[_ngcontent-%COMP%]{padding:20px}.education-header[_ngcontent-%COMP%], .education-details[_ngcontent-%COMP%]{padding:15px}.date[_ngcontent-%COMP%], .degree[_ngcontent-%COMP%]{font-size:16px}.institute[_ngcontent-%COMP%], p[_ngcontent-%COMP%]{font-size:14px}}"]})}return n})(),Cee=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275cmp=Mi({type:n,selectors:[["app-education"]],decls:47,vars:0,consts:[["id","education",1,"education"],[1,"container"],[1,"title"],[1,"education-list"],[1,"education-item"],[1,"education-header"],[1,"date"],[1,"degree"],[1,"education-details"],[1,"institute"]],template:function(r,i){1&r&&(_e(0,"section",0)(1,"div",1)(2,"h2",2),Ie(3,"Education"),ge(),_e(4,"div",3)(5,"div",4)(6,"div",5)(7,"div",6),Ie(8,"SSLC"),ge(),_e(9,"div",7),Ie(10,"2014 - 2016"),ge()(),_e(11,"div",8)(12,"h3",9),Ie(13,"Adharsh Vidhyalaya Higher Secondary School"),ge(),_e(14,"p"),Ie(15,"My Secondary school performance yielded an outstanding result of "),_e(16,"b"),Ie(17,"84%"),ge(),Ie(18,"."),ge()()(),_e(19,"div",4)(20,"div",5)(21,"div",6),Ie(22,"HSC"),ge(),_e(23,"div",7),Ie(24,"2016 - 2018"),ge()(),_e(25,"div",8)(26,"h3",9),Ie(27,"Kongu National Matriculation Higher Secondary School"),ge(),_e(28,"p"),Ie(29,"My high school performance yielded an outstanding result of "),_e(30,"b"),Ie(31,"69%"),ge(),Ie(32,"."),ge()()(),_e(33,"div",4)(34,"div",5)(35,"div",6),Ie(36,"B.E - CSE"),ge(),_e(37,"div",7),Ie(38,"2018 - 2022"),ge()(),_e(39,"div",8)(40,"h3",9),Ie(41,"Velalar College of Engineering and Technology"),ge(),_e(42,"p"),Ie(43," My College performance yielded an outstanding result of "),_e(44,"b"),Ie(45,"8.35 CGPA"),ge(),Ie(46,"."),ge()()()()()())},styles:["body[_ngcontent-%COMP%]{font-family:Inter,sans-serif;line-height:1.6;background-color:#f0f2f5;color:#333;margin:0;padding:0}p[_ngcontent-%COMP%]{text-align:left;margin-bottom:1rem}.container[_ngcontent-%COMP%]{max-width:1100px;margin:0 auto;padding:40px 20px}.education[_ngcontent-%COMP%]{background-color:#f9fbfd;padding:50px 0;border-radius:12px;box-shadow:0 10px 25px #0000001a}.title[_ngcontent-%COMP%]{font-size:40px;font-weight:700;text-align:center;margin-bottom:50px;color:#1a73e8}.education-list[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(3,1fr);grid-gap:35px}.education-item[_ngcontent-%COMP%]{background-color:#fff;border-radius:15px;padding:30px;text-align:center;box-shadow:0 6px 15px #00000014;transition:transform .3s ease,box-shadow .3s ease;cursor:pointer}.education-item[_ngcontent-%COMP%]:hover{transform:translateY(-10px);box-shadow:0 10px 20px #007bff26}.education-header[_ngcontent-%COMP%]{padding-bottom:20px;border-bottom:2px solid #1a73e8}.date[_ngcontent-%COMP%]{font-size:18px;font-weight:600;color:#1a73e8}.degree[_ngcontent-%COMP%]{font-size:20px;font-weight:600;color:#444}.education-details[_ngcontent-%COMP%]{margin-top:20px;font-size:16px;line-height:1.8}.institute[_ngcontent-%COMP%]{font-size:20px;font-weight:600;margin-bottom:15px;color:#1a73e8}p[_ngcontent-%COMP%]{font-size:16px;line-height:1.6;color:#666}.education-item[_ngcontent-%COMP%]:hover   .education-details[_ngcontent-%COMP%]{background-color:#f1f7ff;padding:25px;border-radius:15px;transform:translateY(-10px);transition:background-color .3s ease,color .3s ease,transform .3s ease}.education-item[_ngcontent-%COMP%]:hover   .institute[_ngcontent-%COMP%], .education-item[_ngcontent-%COMP%]:hover   p[_ngcontent-%COMP%]{color:#1a73e8}@keyframes _ngcontent-%COMP%_fadeIn{0%{opacity:0;transform:translateY(20px)}to{opacity:1;transform:translateY(0)}}.education-item[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_fadeIn .6s ease;animation-fill-mode:forwards}@media (max-width: 767px){.education-list[_ngcontent-%COMP%]{grid-template-columns:1fr;grid-gap:25px}.title[_ngcontent-%COMP%]{font-size:32px}.education-item[_ngcontent-%COMP%]{padding:20px}.education-header[_ngcontent-%COMP%], .education-details[_ngcontent-%COMP%]{padding:15px}.date[_ngcontent-%COMP%], .degree[_ngcontent-%COMP%]{font-size:16px}.institute[_ngcontent-%COMP%], p[_ngcontent-%COMP%]{font-size:14px}}"]})}return n})(),Dee=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275cmp=Mi({type:n,selectors:[["app-skill"]],decls:88,vars:0,consts:[["id","skill"],[1,"container"],[1,"title"],[1,"row"],[1,"col-md-6"],[1,"skills-list"],[1,"skill-name"],[1,"bar-container"],[1,"bar",2,"width","90%"],[1,"bar",2,"width","85%"],[1,"bar",2,"width","100%"],[1,"bar",2,"width","80%"],[1,"section-content"],[1,"section-title"],[1,"section-description"]],template:function(r,i){1&r&&(_e(0,"section",0)(1,"div",1)(2,"h2",2),Ie(3,"Skills"),ge(),_e(4,"div",3)(5,"div",4)(6,"ul",5)(7,"li")(8,"div",6),Ie(9,"Angular (including Angular 13+)"),ge(),_e(10,"div",7)(11,"div",8),Ie(12,"95%"),ge()()(),_e(13,"li")(14,"div",6),Ie(15,"Java / JavaScript / TypeScript"),ge(),_e(16,"div",7)(17,"div",8),Ie(18,"90%"),ge()()(),_e(19,"li")(20,"div",6),Ie(21,"HTML5 / CSS / Bootstrap"),ge(),_e(22,"div",7)(23,"div",9),Ie(24,"85%"),ge()()(),_e(25,"li")(26,"div",6),Ie(27,"RESTful API's"),ge(),_e(28,"div",7)(29,"div",10),Ie(30,"100%"),ge()()(),_e(31,"li")(32,"div",6),Ie(33,"AWS CodeCommit / Git / Jenkins"),ge(),_e(34,"div",7)(35,"div",10),Ie(36,"100%"),ge()()(),_e(37,"li")(38,"div",6),Ie(39,"Telerik & Kendo UI / API Integration"),ge(),_e(40,"div",7)(41,"div",9),Ie(42,"85%"),ge()()(),_e(43,"li")(44,"div",6),Ie(45,"Unit Testing [Karma and Jasmine] and debugging"),ge(),_e(46,"div",7)(47,"div",11),Ie(48,"80%"),ge()()(),_e(49,"li")(50,"div",6),Ie(51,"Data Modelling / SQL / Stored Procedures"),ge(),_e(52,"div",7)(53,"div",11),Ie(54,"80%"),ge()()(),_e(55,"li")(56,"div",6),Ie(57,"SonarQube / Google Firebase Database"),ge(),_e(58,"div",7)(59,"div",10),Ie(60,"100%"),ge()()(),_e(61,"li")(62,"div",6),Ie(63,"Angular 12 to 17 Migration"),ge(),_e(64,"div",7)(65,"div",10),Ie(66,"100%"),ge()()()()(),_e(67,"div",4)(68,"div",12)(69,"h3",13),Ie(70,"Front-End Development"),ge(),_e(71,"p",14),Ie(72," As a Front-End Developer, I have demonstrated my creativity and skills by designing and developing new user interfaces for FMG clients. My expertise in Angular, coupled with the utilization of Kendo UI, has enabled me to work on three successful projects tailored to meet our clients' specific requirements. "),ge()(),_e(73,"div",12)(74,"h3",13),Ie(75,"Unit Testing with Karma and Jasmine"),ge(),_e(76,"p",14),Ie(77," I've honed my debugging skills and now I'm focused on learning Karma and Jasmine for effective unit testing in Angular applications. Combining these abilities will enable me to deliver high-quality and reliable software solutions. "),ge()(),_e(78,"div",12)(79,"h3",13),Ie(80,"Data Modeler and Database Developer"),ge(),_e(81,"p",14),Ie(82," As a skilled Data Modeler and Database Developer, I excel in converting AS400 IBM database models to Redshift databases, enabling the establishment of powerful and scalable data lakes. My expertise lies in architecting and designing data models that efficiently store and organize vast amounts of structured and unstructured data, leveraging a profound understanding of AS400 IBM database systems and Redshift. "),ge()(),_e(83,"div",12)(84,"h3",13),Ie(85,"Customer-Facing Applications and In-House Projects"),ge(),_e(86,"p",14),Ie(87," Over the past six months, I have independently managed customer-facing applications in insurance and payment. Additionally, I have worked on over five in-house applications, including migrating from Angular 12 to 17 and addressing Karma and Jasmine unit test cases. These experiences have strengthened my ability to handle complex projects and ensure high-quality outcomes. "),ge()()()()()())},styles:["body[_ngcontent-%COMP%]{font-family:Arial,sans-serif;background-color:#f2f2f2;margin:0;padding:0}.container[_ngcontent-%COMP%]{max-width:1000px;margin:50px auto;padding:20px;background-color:#fff;border-radius:8px;box-shadow:0 4px 8px #0000001a}h1[_ngcontent-%COMP%]{text-align:center;color:#007bff}.skills-list[_ngcontent-%COMP%]{list-style:none;padding:0}.skills-list[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{margin-bottom:20px;background-color:#f7f7f7;border-radius:8px;box-shadow:0 4px 8px #0000001a;padding:16px;transition:transform .3s ease,box-shadow .3s ease}.skills-list[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:hover{transform:translateY(-5px);box-shadow:0 6px 12px #0003}.skill-name[_ngcontent-%COMP%]{font-weight:700;margin-bottom:10px}.bar-container[_ngcontent-%COMP%]{width:100%;background-color:#e0e0e0;border-radius:4px;overflow:hidden}.bar[_ngcontent-%COMP%]{background-color:#185602;color:#fff;text-align:center;line-height:20px;height:100%;width:50;animation:_ngcontent-%COMP%_progress-expand 1s ease}@keyframes _ngcontent-%COMP%_progress-expand{0%{width:0}to{width:var(--width, 0)}}.title[_ngcontent-%COMP%]{font-size:36px;font-weight:700;text-align:center;margin-bottom:30px}#skill[_ngcontent-%COMP%]{padding:50px 0}.info-container[_ngcontent-%COMP%]{background-color:#f0f0f0;padding:20px;border-radius:5px;box-shadow:0 4px 8px #0000001a}.info-title[_ngcontent-%COMP%]{font-size:24px;font-weight:700;margin-bottom:20px;text-align:center}.info-content[_ngcontent-%COMP%]{opacity:0;transform:translateY(20px);transition:opacity .3s ease,transform .3s ease}.info-container[_ngcontent-%COMP%]:hover   .info-content[_ngcontent-%COMP%]{opacity:1;transform:translateY(0)}.section-content[_ngcontent-%COMP%]{padding:20px;border:1px solid #ccc;border-radius:5px;margin-bottom:20px;transition:box-shadow .3s ease,transform .3s ease}.section-content[_ngcontent-%COMP%]:hover{box-shadow:0 0 10px #0003;transform:scale(1.03)}.section-title[_ngcontent-%COMP%]{font-size:20px;font-weight:700;margin-bottom:10px;transition:color .3s ease}.section-description[_ngcontent-%COMP%]{font-size:14px;color:#555;transition:color .3s ease}.skills-list[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:hover   .bar[_ngcontent-%COMP%]{width:100%}.section-content[_ngcontent-%COMP%]:hover   .section-title[_ngcontent-%COMP%]{color:#185602}.section-content[_ngcontent-%COMP%]:hover   .section-description[_ngcontent-%COMP%]{color:#333}"]})}return n})(),RL=(()=>{class n{constructor(t,r){this._renderer=t,this._elementRef=r,this.onChange=i=>{},this.onTouched=()=>{}}setProperty(t,r){this._renderer.setProperty(this._elementRef.nativeElement,t,r)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}static#e=this.\u0275fac=function(r){return new(r||n)(be(gl),be(Bs))};static#t=this.\u0275dir=ut({type:n})}return n})(),fd=(()=>{class n extends RL{static#e=this.\u0275fac=(()=>{let t;return function(i){return(t||(t=rr(n)))(i||n)}})();static#t=this.\u0275dir=ut({type:n,features:[En]})}return n})();const Ca=new Ee(""),Pee={provide:Ca,useExisting:mn(()=>pE),multi:!0},Nee=new Ee("");let pE=(()=>{class n extends RL{constructor(t,r,i){super(t,r),this._compositionMode=i,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function Mee(){const n=Du()?Du().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}())}writeValue(t){this.setProperty("value",t??"")}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}static#e=this.\u0275fac=function(r){return new(r||n)(be(gl),be(Bs),be(Nee,8))};static#t=this.\u0275dir=ut({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(r,i){1&r&&Hr("input",function(o){return i._handleInput(o.target.value)})("blur",function(){return i.onTouched()})("compositionstart",function(){return i._compositionStart()})("compositionend",function(o){return i._compositionEnd(o.target.value)})},features:[ir([Pee]),En]})}return n})();function Nu(n){return null==n||("string"==typeof n||Array.isArray(n))&&0===n.length}function ML(n){return null!=n&&"number"==typeof n.length}const ki=new Ee(""),xu=new Ee(""),xee=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class $f{static min(e){return function NL(n){return e=>{if(Nu(e.value)||Nu(n))return null;const t=parseFloat(e.value);return!isNaN(t)&&t<n?{min:{min:n,actual:e.value}}:null}}(e)}static max(e){return function xL(n){return e=>{if(Nu(e.value)||Nu(n))return null;const t=parseFloat(e.value);return!isNaN(t)&&t>n?{max:{max:n,actual:e.value}}:null}}(e)}static required(e){return OL(e)}static requiredTrue(e){return function kL(n){return!0===n.value?null:{required:!0}}(e)}static email(e){return function FL(n){return Nu(n.value)||xee.test(n.value)?null:{email:!0}}(e)}static minLength(e){return function VL(n){return e=>Nu(e.value)||!ML(e.value)?null:e.value.length<n?{minlength:{requiredLength:n,actualLength:e.value.length}}:null}(e)}static maxLength(e){return function LL(n){return e=>ML(e.value)&&e.value.length>n?{maxlength:{requiredLength:n,actualLength:e.value.length}}:null}(e)}static pattern(e){return function UL(n){if(!n)return gE;let e,t;return"string"==typeof n?(t="","^"!==n.charAt(0)&&(t+="^"),t+=n,"$"!==n.charAt(n.length-1)&&(t+="$"),e=new RegExp(t)):(t=n.toString(),e=n),r=>{if(Nu(r.value))return null;const i=r.value;return e.test(i)?null:{pattern:{requiredPattern:t,actualValue:i}}}}(e)}static nullValidator(e){return null}static compose(e){return qL(e)}static composeAsync(e){return GL(e)}}function OL(n){return Nu(n.value)?{required:!0}:null}function gE(n){return null}function BL(n){return null!=n}function jL(n){return vm(n)?jn(n):n}function $L(n){let e={};return n.forEach(t=>{e=null!=t?{...e,...t}:e}),0===Object.keys(e).length?null:e}function zL(n,e){return e.map(t=>t(n))}function HL(n){return n.map(e=>function Oee(n){return!n.validate}(e)?e:t=>e.validate(t))}function qL(n){if(!n)return null;const e=n.filter(BL);return 0==e.length?null:function(t){return $L(zL(t,e))}}function OC(n){return null!=n?qL(HL(n)):null}function GL(n){if(!n)return null;const e=n.filter(BL);return 0==e.length?null:function(t){return function See(...n){const e=EV(n),{args:t,keys:r}=IV(n),i=new Ht(s=>{const{length:o}=t;if(!o)return void s.complete();const a=new Array(o);let l=o,c=o;for(let p=0;p<o;p++){let m=!1;Gs(t[p]).subscribe(Se(s,w=>{m||(m=!0,c--),a[p]=w},()=>l--,void 0,()=>{(!l||!m)&&(c||s.next(r?AV(r,a):a),s.complete())}))}});return e?i.pipe(bV(e)):i}(zL(t,e).map(jL)).pipe(je($L))}}function kC(n){return null!=n?GL(HL(n)):null}function WL(n,e){return null===n?[e]:Array.isArray(n)?[...n,e]:[n,e]}function KL(n){return n._rawValidators}function QL(n){return n._rawAsyncValidators}function FC(n){return n?Array.isArray(n)?n:[n]:[]}function mE(n,e){return Array.isArray(n)?n.includes(e):n===e}function YL(n,e){const t=FC(e);return FC(n).forEach(i=>{mE(t,i)||t.push(i)}),t}function JL(n,e){return FC(e).filter(t=>!mE(n,t))}class ZL{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=OC(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=kC(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e=void 0){this.control&&this.control.reset(e)}hasError(e,t){return!!this.control&&this.control.hasError(e,t)}getError(e,t){return this.control?this.control.getError(e,t):null}}class as extends ZL{get formDirective(){return null}get path(){return null}}class Ou extends ZL{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class XL{constructor(e){this._cd=e}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let e2=(()=>{class n extends XL{constructor(t){super(t)}static#e=this.\u0275fac=function(r){return new(r||n)(be(Ou,2))};static#t=this.\u0275dir=ut({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(r,i){2&r&&ml("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)},features:[En]})}return n})(),t2=(()=>{class n extends XL{constructor(t){super(t)}static#e=this.\u0275fac=function(r){return new(r||n)(be(as,10))};static#t=this.\u0275dir=ut({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(r,i){2&r&&ml("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)("ng-submitted",i.isSubmitted)},features:[En]})}return n})();const Ym="VALID",_E="INVALID",zf="PENDING",Jm="DISABLED";function UC(n){return(vE(n)?n.validators:n)||null}function BC(n,e){return(vE(e)?e.asyncValidators:n)||null}function vE(n){return null!=n&&!Array.isArray(n)&&"object"==typeof n}function r2(n,e,t){const r=n.controls;if(!(e?Object.keys(r):r).length)throw new J(1e3,"");if(!r[t])throw new J(1001,"")}function i2(n,e,t){n._forEachChild((r,i)=>{if(void 0===t[i])throw new J(1002,"")})}class wE{constructor(e,t){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(e),this._assignAsyncValidators(t)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===Ym}get invalid(){return this.status===_E}get pending(){return this.status==zf}get disabled(){return this.status===Jm}get enabled(){return this.status!==Jm}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(YL(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(YL(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(JL(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(JL(e,this._rawAsyncValidators))}hasValidator(e){return mE(this._rawValidators,e)}hasAsyncValidator(e){return mE(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(t=>{t.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(t=>{t.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=zf,!1!==e.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=Jm,this.errors=null,this._forEachChild(r=>{r.disable({...e,onlySelf:!0})}),this._updateValue(),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...e,skipPristineCheck:t}),this._onDisabledChange.forEach(r=>r(!0))}enable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=Ym,this._forEachChild(r=>{r.enable({...e,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors({...e,skipPristineCheck:t}),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Ym||this.status===zf)&&this._runAsyncValidator(e.emitEvent)),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Jm:Ym}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=zf,this._hasOwnPendingAsyncValidator=!0;const t=jL(this.asyncValidator(this));this._asyncValidationSubscription=t.subscribe(r=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(r,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,t={}){this.errors=e,this._updateControlsErrors(!1!==t.emitEvent)}get(e){let t=e;return null==t||(Array.isArray(t)||(t=t.split(".")),0===t.length)?null:t.reduce((r,i)=>r&&r._find(i),this)}getError(e,t){const r=t?this.get(t):this;return r&&r.errors?r.errors[e]:null}hasError(e,t){return!!this.getError(e,t)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new _r,this.statusChanges=new _r}_calculateStatus(){return this._allControlsDisabled()?Jm:this.errors?_E:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(zf)?zf:this._anyControlsHaveStatus(_E)?_E:Ym}_anyControlsHaveStatus(e){return this._anyControls(t=>t.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){vE(e)&&null!=e.updateOn&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){return!e&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=function Lee(n){return Array.isArray(n)?OC(n):n||null}(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=function Uee(n){return Array.isArray(n)?kC(n):n||null}(this._rawAsyncValidators)}}class Zm extends wE{constructor(e,t,r){super(UC(t),BC(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,t){return this.controls[e]?this.controls[e]:(this.controls[e]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}addControl(e,t,r={}){this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}setControl(e,t,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],t&&this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,t={}){i2(this,0,e),Object.keys(e).forEach(r=>{r2(this,!0,r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(Object.keys(e).forEach(r=>{const i=this.controls[r];i&&i.patchValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e={},t={}){this._forEachChild((r,i)=>{r.reset(e?e[i]:null,{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this._reduceChildren({},(e,t,r)=>(e[r]=t.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(t,r)=>!!r._syncPendingControls()||t);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(t=>{const r=this.controls[t];r&&e(r,t)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(const[t,r]of Object.entries(this.controls))if(this.contains(t)&&e(r))return!0;return!1}_reduceValue(){return this._reduceChildren({},(t,r,i)=>((r.enabled||this.disabled)&&(t[i]=r.value),t))}_reduceChildren(e,t){let r=e;return this._forEachChild((i,s)=>{r=t(r,i,s)}),r}_allControlsDisabled(){for(const e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}}class s2 extends Zm{}const pd=new Ee("CallSetDisabledState",{providedIn:"root",factory:()=>Xm}),Xm="always";function ey(n,e,t=Xm){jC(n,e),e.valueAccessor.writeValue(n.value),(n.disabled||"always"===t)&&e.valueAccessor.setDisabledState?.(n.disabled),function jee(n,e){e.valueAccessor.registerOnChange(t=>{n._pendingValue=t,n._pendingChange=!0,n._pendingDirty=!0,"change"===n.updateOn&&o2(n,e)})}(n,e),function zee(n,e){const t=(r,i)=>{e.valueAccessor.writeValue(r),i&&e.viewToModelUpdate(r)};n.registerOnChange(t),e._registerOnDestroy(()=>{n._unregisterOnChange(t)})}(n,e),function $ee(n,e){e.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,"blur"===n.updateOn&&n._pendingChange&&o2(n,e),"submit"!==n.updateOn&&n.markAsTouched()})}(n,e),function Bee(n,e){if(e.valueAccessor.setDisabledState){const t=r=>{e.valueAccessor.setDisabledState(r)};n.registerOnDisabledChange(t),e._registerOnDestroy(()=>{n._unregisterOnDisabledChange(t)})}}(n,e)}function IE(n,e,t=!0){const r=()=>{};e.valueAccessor&&(e.valueAccessor.registerOnChange(r),e.valueAccessor.registerOnTouched(r)),AE(n,e),n&&(e._invokeOnDestroyCallbacks(),n._registerOnCollectionChange(()=>{}))}function bE(n,e){n.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function jC(n,e){const t=KL(n);null!==e.validator?n.setValidators(WL(t,e.validator)):"function"==typeof t&&n.setValidators([t]);const r=QL(n);null!==e.asyncValidator?n.setAsyncValidators(WL(r,e.asyncValidator)):"function"==typeof r&&n.setAsyncValidators([r]);const i=()=>n.updateValueAndValidity();bE(e._rawValidators,i),bE(e._rawAsyncValidators,i)}function AE(n,e){let t=!1;if(null!==n){if(null!==e.validator){const i=KL(n);if(Array.isArray(i)&&i.length>0){const s=i.filter(o=>o!==e.validator);s.length!==i.length&&(t=!0,n.setValidators(s))}}if(null!==e.asyncValidator){const i=QL(n);if(Array.isArray(i)&&i.length>0){const s=i.filter(o=>o!==e.asyncValidator);s.length!==i.length&&(t=!0,n.setAsyncValidators(s))}}}const r=()=>{};return bE(e._rawValidators,r),bE(e._rawAsyncValidators,r),t}function o2(n,e){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function u2(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}function c2(n){return"object"==typeof n&&null!==n&&2===Object.keys(n).length&&"value"in n&&"disabled"in n}Promise.resolve();const ny=class extends wE{constructor(e=null,t,r){super(UC(t),BC(r,t)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),vE(t)&&(t.nonNullable||t.initialValueIsDefault)&&(this.defaultValue=c2(e)?e.value:e)}setValue(e,t={}){this.value=this._pendingValue=e,this._onChange.length&&!1!==t.emitModelToViewChange&&this._onChange.forEach(r=>r(this.value,!1!==t.emitViewToModelChange)),this.updateValueAndValidity(t)}patchValue(e,t={}){this.setValue(e,t)}reset(e=this.defaultValue,t={}){this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){u2(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){u2(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(e){c2(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}};Promise.resolve();let g2=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275dir=ut({type:n,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]})}return n})();const GC=new Ee(""),rte={provide:as,useExisting:mn(()=>TE)};let TE=(()=>{class n extends as{constructor(t,r,i){super(),this.callSetDisabledState=i,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new _r,this._setValidators(t),this._setAsyncValidators(r)}ngOnChanges(t){this._checkFormPresent(),t.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(AE(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(t){const r=this.form.get(t.path);return ey(r,t,this.callSetDisabledState),r.updateValueAndValidity({emitEvent:!1}),this.directives.push(t),r}getControl(t){return this.form.get(t.path)}removeControl(t){IE(t.control||null,t,!1),function Wee(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}(this.directives,t)}addFormGroup(t){this._setUpFormContainer(t)}removeFormGroup(t){this._cleanUpFormContainer(t)}getFormGroup(t){return this.form.get(t.path)}addFormArray(t){this._setUpFormContainer(t)}removeFormArray(t){this._cleanUpFormContainer(t)}getFormArray(t){return this.form.get(t.path)}updateModel(t,r){this.form.get(t.path).setValue(r)}onSubmit(t){return this.submitted=!0,function l2(n,e){n._syncPendingControls(),e.forEach(t=>{const r=t.control;"submit"===r.updateOn&&r._pendingChange&&(t.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}(this.form,this.directives),this.ngSubmit.emit(t),"dialog"===t?.target?.method}onReset(){this.resetForm()}resetForm(t=void 0){this.form.reset(t),this.submitted=!1}_updateDomValue(){this.directives.forEach(t=>{const r=t.control,i=this.form.get(t.path);r!==i&&(IE(r||null,t),(n=>n instanceof ny)(i)&&(ey(i,t,this.callSetDisabledState),t.control=i))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(t){const r=this.form.get(t.path);(function a2(n,e){jC(n,e)})(r,t),r.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(t){if(this.form){const r=this.form.get(t.path);r&&function Hee(n,e){return AE(n,e)}(r,t)&&r.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){jC(this.form,this),this._oldForm&&AE(this._oldForm,this)}_checkFormPresent(){}static#e=this.\u0275fac=function(r){return new(r||n)(be(ki,10),be(xu,10),be(pd,8))};static#t=this.\u0275dir=ut({type:n,selectors:[["","formGroup",""]],hostBindings:function(r,i){1&r&&Hr("submit",function(o){return i.onSubmit(o)})("reset",function(){return i.onReset()})},inputs:{form:[yn.None,"formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[ir([rte]),En,rs]})}return n})();const ote={provide:Ou,useExisting:mn(()=>QC)};let QC=(()=>{class n extends Ou{set isDisabled(t){}static#e=this._ngModelWarningSentOnce=!1;constructor(t,r,i,s,o){super(),this._ngModelWarningConfig=o,this._added=!1,this.name=null,this.update=new _r,this._ngModelWarningSent=!1,this._parent=t,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=function HC(n,e){if(!e)return null;let t,r,i;return Array.isArray(e),e.forEach(s=>{s.constructor===pE?t=s:function Gee(n){return Object.getPrototypeOf(n.constructor)===fd}(s)?r=s:i=s}),i||r||t||null}(0,s)}ngOnChanges(t){this._added||this._setUpControl(),function zC(n,e){if(!n.hasOwnProperty("model"))return!1;const t=n.model;return!!t.isFirstChange()||!Object.is(e,t.currentValue)}(t,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}get path(){return function EE(n,e){return[...e.path,n]}(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}static#t=this.\u0275fac=function(r){return new(r||n)(be(as,13),be(ki,10),be(xu,10),be(Ca,10),be(GC,8))};static#n=this.\u0275dir=ut({type:n,selectors:[["","formControlName",""]],inputs:{name:[yn.None,"formControlName","name"],isDisabled:[yn.None,"disabled","isDisabled"],model:[yn.None,"ngModel","model"]},outputs:{update:"ngModelChange"},features:[ir([ote]),En,rs]})}return n})(),gd=(()=>{class n{constructor(){this._validator=gE}ngOnChanges(t){if(this.inputName in t){const r=this.normalizeInput(t[this.inputName].currentValue);this._enabled=this.enabled(r),this._validator=this._enabled?this.createValidator(r):gE,this._onChange&&this._onChange()}}validate(t){return this._validator(t)}registerOnValidatorChange(t){this._onChange=t}enabled(t){return null!=t}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275dir=ut({type:n,features:[rs]})}return n})();const gte={provide:ki,useExisting:mn(()=>CE),multi:!0};let CE=(()=>{class n extends gd{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=wf,this.createValidator=t=>OL}enabled(t){return t}static#e=this.\u0275fac=(()=>{let t;return function(i){return(t||(t=rr(n)))(i||n)}})();static#t=this.\u0275dir=ut({type:n,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(r,i){2&r&&_a("required",i._enabled?"":null)},inputs:{required:"required"},features:[ir([gte]),En]})}return n})(),N2=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275mod=Tr({type:n});static#n=this.\u0275inj=Qr({})}return n})();class x2 extends wE{constructor(e,t,r){super(UC(t),BC(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(e){return this.controls[this._adjustIndex(e)]}push(e,t={}){this.controls.push(e),this._registerControl(e),this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}insert(e,t,r={}){this.controls.splice(e,0,t),this._registerControl(t),this.updateValueAndValidity({emitEvent:r.emitEvent})}removeAt(e,t={}){let r=this._adjustIndex(e);r<0&&(r=0),this.controls[r]&&this.controls[r]._registerOnCollectionChange(()=>{}),this.controls.splice(r,1),this.updateValueAndValidity({emitEvent:t.emitEvent})}setControl(e,t,r={}){let i=this._adjustIndex(e);i<0&&(i=0),this.controls[i]&&this.controls[i]._registerOnCollectionChange(()=>{}),this.controls.splice(i,1),t&&(this.controls.splice(i,0,t),this._registerControl(t)),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(e,t={}){i2(this,0,e),e.forEach((r,i)=>{r2(this,!1,i),this.at(i).setValue(r,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(e.forEach((r,i)=>{this.at(i)&&this.at(i).patchValue(r,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e=[],t={}){this._forEachChild((r,i)=>{r.reset(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this.controls.map(e=>e.getRawValue())}clear(e={}){this.controls.length<1||(this._forEachChild(t=>t._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:e.emitEvent}))}_adjustIndex(e){return e<0?e+this.length:e}_syncPendingControls(){let e=this.controls.reduce((t,r)=>!!r._syncPendingControls()||t,!1);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){this.controls.forEach((t,r)=>{e(t,r)})}_updateValue(){this.value=this.controls.filter(e=>e.enabled||this.disabled).map(e=>e.value)}_anyControls(e){return this.controls.some(t=>t.enabled&&e(t))}_setUpControls(){this._forEachChild(e=>this._registerControl(e))}_allControlsDisabled(){for(const e of this.controls)if(e.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(e){e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)}_find(e){return this.at(e)??null}}function O2(n){return!!n&&(void 0!==n.asyncValidators||void 0!==n.validators||void 0!==n.updateOn)}let Ete=(()=>{class n{constructor(){this.useNonNullable=!1}get nonNullable(){const t=new n;return t.useNonNullable=!0,t}group(t,r=null){const i=this._reduceControls(t);let s={};return O2(r)?s=r:null!==r&&(s.validators=r.validator,s.asyncValidators=r.asyncValidator),new Zm(i,s)}record(t,r=null){const i=this._reduceControls(t);return new s2(i,r)}control(t,r,i){let s={};return this.useNonNullable?(O2(r)?s=r:(s.validators=r,s.asyncValidators=i),new ny(t,{...s,nonNullable:!0})):new ny(t,r,i)}array(t,r,i){const s=t.map(o=>this._createControl(o));return new x2(s,r,i)}_reduceControls(t){const r={};return Object.keys(t).forEach(i=>{r[i]=this._createControl(t[i])}),r}_createControl(t){return t instanceof ny||t instanceof wE?t:Array.isArray(t)?this.control(t[0],t.length>1?t[1]:null,t.length>2?t[2]:null):this.control(t)}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=Ue({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Ite=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:pd,useValue:t.callSetDisabledState??Xm}]}}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275mod=Tr({type:n});static#n=this.\u0275inj=Qr({imports:[N2]})}return n})(),bte=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:GC,useValue:t.warnOnNgModelWithFormControl??"always"},{provide:pd,useValue:t.callSetDisabledState??Xm}]}}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275mod=Tr({type:n});static#n=this.\u0275inj=Qr({imports:[N2]})}return n})();var Ate=at(32),Tte=at.n(Ate),$o=at(852);(0,$o.registerVersion)("firebase","10.13.2","app");class Ste extends Tt{constructor(e,t){super()}schedule(e,t=0){return this}}const DE={setInterval(n,e,...t){const{delegate:r}=DE;return r?.setInterval?r.setInterval(n,e,...t):setInterval(n,e,...t)},clearInterval(n){const{delegate:e}=DE;return(e?.clearInterval||clearInterval)(n)},delegate:void 0};class k2 extends Ste{constructor(e,t){super(e,t),this.scheduler=e,this.work=t,this.pending=!1}schedule(e,t=0){var r;if(this.closed)return this;this.state=e;const i=this.id,s=this.scheduler;return null!=i&&(this.id=this.recycleAsyncId(s,i,t)),this.pending=!0,this.delay=t,this.id=null!==(r=this.id)&&void 0!==r?r:this.requestAsyncId(s,this.id,t),this}requestAsyncId(e,t,r=0){return DE.setInterval(e.flush.bind(e,this),r)}recycleAsyncId(e,t,r=0){if(null!=r&&this.delay===r&&!1===this.pending)return t;null!=t&&DE.clearInterval(t)}execute(e,t){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const r=this._execute(e,t);if(r)return r;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,t){let i,r=!1;try{this.work(e)}catch(s){r=!0,i=s||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){const{id:e,scheduler:t}=this,{actions:r}=t;this.work=this.state=this.scheduler=null,this.pending=!1,er(r,this),null!=e&&(this.id=this.recycleAsyncId(t,e,null)),this.delay=null,super.unsubscribe()}}}const ZC={now:()=>(ZC.delegate||Date).now(),delegate:void 0};class ry{constructor(e,t=ry.now){this.schedulerActionCtor=e,this.now=t}schedule(e,t=0,r){return new this.schedulerActionCtor(this,e).schedule(r,t)}}ry.now=ZC.now;class F2 extends ry{constructor(e,t=ry.now){super(e,t),this.actions=[],this._active=!1}flush(e){const{actions:t}=this;if(this._active)return void t.push(e);let r;this._active=!0;do{if(r=e.execute(e.state,e.delay))break}while(e=t.shift());if(this._active=!1,r){for(;e=t.shift();)e.unsubscribe();throw r}}}const Mte=new class Pte extends F2{}(class Rte extends k2{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}schedule(e,t=0){return t>0?super.schedule(e,t):(this.delay=t,this.state=e,this.scheduler.flush(this),this)}execute(e,t){return t>0||this.closed?super.execute(e,t):this._execute(e,t)}requestAsyncId(e,t,r=0){return null!=r&&r>0||null==r&&this.delay>0?super.requestAsyncId(e,t,r):(e.flush(this),0)}}),V2=new F2(k2),XC=new _f("ANGULARFIRE2_VERSION");class U2{constructor(){return((n,e)=>{const t=e?[e]:(0,$o.getApps)(),r=[];return t.forEach(i=>{i.container.getProvider(n).instances.forEach(o=>{r.includes(o)||r.push(o)})}),r})(xte)}}const xte="app-check";function Hf(){}class B2{zone;delegate;constructor(e,t=Mte){this.zone=e,this.delegate=t}now(){return this.delegate.now()}schedule(e,t,r){const i=this.zone;return this.delegate.schedule(function(o){i.runGuarded(()=>{e.apply(this,[o])})},t,r)}}class Ote{zone;task=null;constructor(e){this.zone=e}call(e,t){const r=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Hf,{},Hf,Hf)),t.pipe(Oi({next:r,complete:r,error:r})).subscribe(e).add(r)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let j2=(()=>{class n{ngZone;outsideAngular;insideAngular;constructor(t){this.ngZone=t,this.outsideAngular=t.runOutsideAngular(()=>new B2(Zone.current)),this.insideAngular=t.run(()=>new B2(Zone.current,V2)),globalThis.\u0275AngularFireScheduler||=this}static \u0275fac=function(r){return new(r||n)(ve(Jt))};static \u0275prov=Ue({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function qf(){const n=globalThis.\u0275AngularFireScheduler;if(!n)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return n}function md(n){return qf().ngZone.run(()=>n())}function Ks(n){return function Fte(n){return function(t){return(t=t.lift(new Ote(n.ngZone))).pipe(dd(n.outsideAngular),Ru(n.insideAngular))}}(qf())(n)}const Vte=(n,e)=>function(){const r=arguments;return e&&setTimeout(()=>{"scheduled"===e.state&&e.invoke()},10),md(()=>n.apply(void 0,r))},$2=(n,e)=>function(){let t;const r=arguments;for(let s=0;s<arguments.length;s++)"function"==typeof r[s]&&(e&&(t||=md(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Hf,{},Hf,Hf))),r[s]=Vte(r[s],t));const i=function kte(n){return qf().ngZone.runOutsideAngular(()=>n())}(()=>n.apply(this,r));if(!e){if(i instanceof Ht){const s=qf();return i.pipe(dd(s.outsideAngular),Ru(s.insideAngular))}return md(()=>i)}return i instanceof Ht?i.pipe(Ks):i instanceof Promise?md(()=>new Promise((s,o)=>i.then(a=>md(()=>s(a)),a=>md(()=>o(a))))):"function"==typeof i&&t?function(){return setTimeout(()=>{t&&"scheduled"===t.state&&t.invoke()},10),i.apply(this,arguments)}:md(()=>i)};var ku=at(345);ku.A.registerVersion("firebase","10.13.2","app-compat");const Bte=["ngOnDestroy"];class z2{constructor(e){return e}}const SE=new Ee("angularfire2.app.options"),RE=new Ee("angularfire2.app.name");function eD(n,e,t){const i="object"==typeof t&&t||{};i.name=i.name||"string"==typeof t&&t||"[DEFAULT]";const o=ku.A.apps.filter(a=>a&&a.name===i.name)[0]||e.runOutsideAngular(()=>ku.A.initializeApp(n,i));try{if(JSON.stringify(n)!==JSON.stringify(o.options)){const a=!!module.hot;zte("error",`${o.name} Firebase App already initialized with different options${a?", you may need to reload as Firebase is not HMR aware.":"."}`)}}catch{}return new z2(o)}const zte=(n,...e)=>{},Hte={provide:z2,useFactory:eD,deps:[SE,Jt,[new Xi,RE]]};let qte=(()=>{class n{static initializeApp(t,r){return{ngModule:n,providers:[{provide:SE,useValue:t},{provide:RE,useValue:r}]}}constructor(t){ku.A.registerVersion("angularfire",XC.full,"core"),ku.A.registerVersion("angularfire",XC.full,"app-compat"),ku.A.registerVersion("angular",m9.full,t.toString())}static \u0275fac=function(r){return new(r||n)(ve(No))};static \u0275mod=Tr({type:n});static \u0275inj=Qr({providers:[Hte]})}return n})();function H2(n,e,t,r,i){const[,s,o]=globalThis.\u0275AngularfireInstanceCache.find(a=>a[0]===n)||[];if(s)return function Gte(n,e){try{return n.toString()===e.toString()}catch{return n===e}}(i,o)||(q2("error",`${e} was already initialized on the ${t} Firebase App with different settings.${Wte?" You may need to reload as Firebase is not HMR aware.":""}`),q2("warn",{is:i,was:o})),s;{const a=r();return globalThis.\u0275AngularfireInstanceCache.push([n,a,i]),a}}const Wte=typeof module<"u"&&!!module.hot,q2=(n,...e)=>{};globalThis.\u0275AngularfireInstanceCache||=[],at(955);class Qte extends F{constructor(e=1/0,t=1/0,r=ZC){super(),this._bufferSize=e,this._windowTime=t,this._timestampProvider=r,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=t===1/0,this._bufferSize=Math.max(1,e),this._windowTime=Math.max(1,t)}next(e){const{isStopped:t,_buffer:r,_infiniteTimeWindow:i,_timestampProvider:s,_windowTime:o}=this;t||(r.push(e),!i&&r.push(s.now()+o)),this._trimBuffer(),super.next(e)}_subscribe(e){this._throwIfClosed(),this._trimBuffer();const t=this._innerSubscribe(e),{_infiniteTimeWindow:r,_buffer:i}=this,s=i.slice();for(let o=0;o<s.length&&!e.closed;o+=r?1:2)e.next(s[o]);return this._checkFinalizedStatuses(e),t}_trimBuffer(){const{_bufferSize:e,_timestampProvider:t,_buffer:r,_infiniteTimeWindow:i}=this,s=(i?1:2)*e;if(e<1/0&&s<r.length&&r.splice(0,r.length-s),!i){const o=t.now();let a=0;for(let l=1;l<r.length&&r[l]<=o;l+=2)a=l;a&&r.splice(0,a+1)}}}function tD(n,e,...t){if(!0===e)return void n();if(!1===e)return;const r=new fs({next:()=>{r.unsubscribe(),n()}});return Gs(e(...t)).subscribe(r)}function G2(n,e,t){let r,i=!1;return n&&"object"==typeof n?({bufferSize:r=1/0,windowTime:e=1/0,refCount:i=!1,scheduler:t}=n):r=n??1/0,function Yte(n={}){const{connector:e=(()=>new F),resetOnError:t=!0,resetOnComplete:r=!0,resetOnRefCountZero:i=!0}=n;return s=>{let o,a,l,c=0,p=!1,m=!1;const w=()=>{a?.unsubscribe(),a=void 0},b=()=>{w(),o=l=void 0,p=m=!1},C=()=>{const S=o;b(),S?.unsubscribe()};return H((S,P)=>{c++,!m&&!p&&w();const L=l=l??e();P.add(()=>{c--,0===c&&!m&&!p&&(a=tD(C,i))}),L.subscribe(P),!o&&c>0&&(o=new fs({next:j=>L.next(j),error:j=>{m=!0,w(),a=tD(b,t,j),L.error(j)},complete:()=>{p=!0,w(),a=tD(b,r),L.complete()}}),Gs(S).subscribe(o))})(s)}}({connector:()=>new Qte(r,e,t),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:i})}function W2(n,e){return et(e)?ti(()=>n,e):ti(()=>n)}const K2=new Ee("angularfire2.auth.use-emulator"),Q2=new Ee("angularfire2.auth.settings"),Y2=new Ee("angularfire2.auth.tenant-id"),J2=new Ee("angularfire2.auth.langugage-code"),Z2=new Ee("angularfire2.auth.use-device-language"),X2=new Ee("angularfire.auth.persistence"),eU=(n,e,t,r,i,s,o,a)=>H2(`${n.name}.auth`,"AngularFireAuth",n.name,()=>{const l=e.runOutsideAngular(()=>n.auth());if(t&&l.useEmulator(...t),r&&(l.tenantId=r),l.languageCode=i,s&&l.useDeviceLanguage(),o)for(const[c,p]of Object.entries(o))l.settings[c]=p;return a&&l.setPersistence(a),l},[t,r,i,s,o,a]);let tU=(()=>{class n{authState;idToken;user;idTokenResult;credential;constructor(t,r,i,s,o,a,l,c,p,m,w,b){const C=new F,S=lt(void 0).pipe(Ru(o.outsideAngular),ti(()=>s.runOutsideAngular(()=>Promise.resolve().then(at.bind(at,955)))),je(()=>eD(t,s,r)),je(P=>eU(P,s,a,c,p,m,l,w)),G2({bufferSize:1,refCount:!1}));if(Nw(i))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=lt(null);else{S.pipe(Pu()).subscribe();const P=S.pipe(ti(G=>G.getRedirectResult().then(ue=>ue,()=>null)),Ks,G2({bufferSize:1,refCount:!1})),L=S.pipe(ti(G=>new Ht(ue=>({unsubscribe:s.runOutsideAngular(()=>G.onAuthStateChanged(Te=>ue.next(Te),Te=>ue.error(Te),()=>ue.complete()))})))),j=S.pipe(ti(G=>new Ht(ue=>({unsubscribe:s.runOutsideAngular(()=>G.onIdTokenChanged(Te=>ue.next(Te),Te=>ue.error(Te),()=>ue.complete()))}))));this.authState=P.pipe(W2(L),dd(o.outsideAngular),Ru(o.insideAngular)),this.user=P.pipe(W2(j),dd(o.outsideAngular),Ru(o.insideAngular)),this.idToken=this.user.pipe(ti(G=>G?jn(G.getIdToken()):lt(null))),this.idTokenResult=this.user.pipe(ti(G=>G?jn(G.getIdTokenResult()):lt(null))),this.credential=function Kte(...n){const e=km(n),t=function UJ(n,e){return"number"==typeof tC(n)?n.pop():e}(n,1/0),r=n;return r.length?1===r.length?Gs(r[0]):Tf(t)(jn(r,e)):Bo}(P,C,this.authState.pipe(_o(G=>!G))).pipe(je(G=>G?.user?G:null),dd(o.outsideAngular),Ru(o.insideAngular))}return((n,e,t,r={})=>new Proxy(n,{get:(i,s)=>t.runOutsideAngular(()=>{if(n[s])return r?.spy?.get&&r.spy.get(s,n[s]),n[s];if(Bte.indexOf(s)>-1)return()=>{};const o=e.toPromise().then(a=>{const l=a?.[s];return"function"==typeof l?l.bind(a):l?.then?l.then(c=>t.run(()=>c)):t.run(()=>l)});return new Proxy(()=>{},{get:(a,l)=>o[l],apply:(a,l,c)=>o.then(p=>{const m=p?.(...c);return r?.spy?.apply&&r.spy.apply(s,c,m),m})})})}))(this,S,s,{spy:{apply:(P,L,j)=>{(P.startsWith("signIn")||P.startsWith("createUser"))&&j.then(G=>C.next(G))}}})}static \u0275fac=function(r){return new(r||n)(ve(SE),ve(RE,8),ve(No),ve(Jt),ve(j2),ve(K2,8),ve(Q2,8),ve(Y2,8),ve(J2,8),ve(Z2,8),ve(X2,8),ve(U2,8))};static \u0275prov=Ue({token:n,factory:n.\u0275fac,providedIn:"any"})}return n})();function nD(){return H((n,e)=>{let t,r=!1;n.subscribe(Se(e,i=>{const s=t;t=i,r&&e.next([s,i]),r=!0}))})}function Xte(n,e){return n===e}var yd,sU,nU=at(362),Da=at(41),un=at(76),rU=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},iU={};(function(){var n;function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}function i(V,N,U){U||(U=0);var z=Array(16);if("string"==typeof N)for(var K=0;16>K;++K)z[K]=N.charCodeAt(U++)|N.charCodeAt(U++)<<8|N.charCodeAt(U++)<<16|N.charCodeAt(U++)<<24;else for(K=0;16>K;++K)z[K]=N[U++]|N[U++]<<8|N[U++]<<16|N[U++]<<24;var Z=V.g[3],B=(N=V.g[0])+(Z^(U=V.g[1])&((K=V.g[2])^Z))+z[0]+3614090360&4294967295;B=(U=(K=(Z=(N=(U=(K=(Z=(N=(U=(K=(Z=(N=(U=(K=(Z=(N=(U=(K=(Z=(N=(U=(K=(Z=(N=(U=(K=(Z=(N=(U=(K=(Z=(N=(U=(K=(Z=(N=(U=(K=(Z=(N=(U=(K=(Z=(N=(U=(K=(Z=(N=(U=(K=(Z=(N=(U=(K=(Z=(N=(U=(K=(Z=(N=U+(B<<7&4294967295|B>>>25))+((B=Z+(K^N&(U^K))+z[1]+3905402710&4294967295)<<12&4294967295|B>>>20))+((B=K+(U^Z&(N^U))+z[2]+606105819&4294967295)<<17&4294967295|B>>>15))+((B=U+(N^K&(Z^N))+z[3]+3250441966&4294967295)<<22&4294967295|B>>>10))+((B=N+(Z^U&(K^Z))+z[4]+4118548399&4294967295)<<7&4294967295|B>>>25))+((B=Z+(K^N&(U^K))+z[5]+1200080426&4294967295)<<12&4294967295|B>>>20))+((B=K+(U^Z&(N^U))+z[6]+2821735955&4294967295)<<17&4294967295|B>>>15))+((B=U+(N^K&(Z^N))+z[7]+4249261313&4294967295)<<22&4294967295|B>>>10))+((B=N+(Z^U&(K^Z))+z[8]+1770035416&4294967295)<<7&4294967295|B>>>25))+((B=Z+(K^N&(U^K))+z[9]+2336552879&4294967295)<<12&4294967295|B>>>20))+((B=K+(U^Z&(N^U))+z[10]+4294925233&4294967295)<<17&4294967295|B>>>15))+((B=U+(N^K&(Z^N))+z[11]+2304563134&4294967295)<<22&4294967295|B>>>10))+((B=N+(Z^U&(K^Z))+z[12]+1804603682&4294967295)<<7&4294967295|B>>>25))+((B=Z+(K^N&(U^K))+z[13]+4254626195&4294967295)<<12&4294967295|B>>>20))+((B=K+(U^Z&(N^U))+z[14]+2792965006&4294967295)<<17&4294967295|B>>>15))+((B=U+(N^K&(Z^N))+z[15]+1236535329&4294967295)<<22&4294967295|B>>>10))+((B=N+(K^Z&(U^K))+z[1]+4129170786&4294967295)<<5&4294967295|B>>>27))+((B=Z+(U^K&(N^U))+z[6]+3225465664&4294967295)<<9&4294967295|B>>>23))+((B=K+(N^U&(Z^N))+z[11]+643717713&4294967295)<<14&4294967295|B>>>18))+((B=U+(Z^N&(K^Z))+z[0]+3921069994&4294967295)<<20&4294967295|B>>>12))+((B=N+(K^Z&(U^K))+z[5]+3593408605&4294967295)<<5&4294967295|B>>>27))+((B=Z+(U^K&(N^U))+z[10]+38016083&4294967295)<<9&4294967295|B>>>23))+((B=K+(N^U&(Z^N))+z[15]+3634488961&4294967295)<<14&4294967295|B>>>18))+((B=U+(Z^N&(K^Z))+z[4]+3889429448&4294967295)<<20&4294967295|B>>>12))+((B=N+(K^Z&(U^K))+z[9]+568446438&4294967295)<<5&4294967295|B>>>27))+((B=Z+(U^K&(N^U))+z[14]+3275163606&4294967295)<<9&4294967295|B>>>23))+((B=K+(N^U&(Z^N))+z[3]+4107603335&4294967295)<<14&4294967295|B>>>18))+((B=U+(Z^N&(K^Z))+z[8]+1163531501&4294967295)<<20&4294967295|B>>>12))+((B=N+(K^Z&(U^K))+z[13]+2850285829&4294967295)<<5&4294967295|B>>>27))+((B=Z+(U^K&(N^U))+z[2]+4243563512&4294967295)<<9&4294967295|B>>>23))+((B=K+(N^U&(Z^N))+z[7]+1735328473&4294967295)<<14&4294967295|B>>>18))+((B=U+(Z^N&(K^Z))+z[12]+2368359562&4294967295)<<20&4294967295|B>>>12))+((B=N+(U^K^Z)+z[5]+4294588738&4294967295)<<4&4294967295|B>>>28))+((B=Z+(N^U^K)+z[8]+2272392833&4294967295)<<11&4294967295|B>>>21))+((B=K+(Z^N^U)+z[11]+1839030562&4294967295)<<16&4294967295|B>>>16))+((B=U+(K^Z^N)+z[14]+4259657740&4294967295)<<23&4294967295|B>>>9))+((B=N+(U^K^Z)+z[1]+2763975236&4294967295)<<4&4294967295|B>>>28))+((B=Z+(N^U^K)+z[4]+1272893353&4294967295)<<11&4294967295|B>>>21))+((B=K+(Z^N^U)+z[7]+4139469664&4294967295)<<16&4294967295|B>>>16))+((B=U+(K^Z^N)+z[10]+3200236656&4294967295)<<23&4294967295|B>>>9))+((B=N+(U^K^Z)+z[13]+681279174&4294967295)<<4&4294967295|B>>>28))+((B=Z+(N^U^K)+z[0]+3936430074&4294967295)<<11&4294967295|B>>>21))+((B=K+(Z^N^U)+z[3]+3572445317&4294967295)<<16&4294967295|B>>>16))+((B=U+(K^Z^N)+z[6]+76029189&4294967295)<<23&4294967295|B>>>9))+((B=N+(U^K^Z)+z[9]+3654602809&4294967295)<<4&4294967295|B>>>28))+((B=Z+(N^U^K)+z[12]+3873151461&4294967295)<<11&4294967295|B>>>21))+((B=K+(Z^N^U)+z[15]+530742520&4294967295)<<16&4294967295|B>>>16))+((B=U+(K^Z^N)+z[2]+3299628645&4294967295)<<23&4294967295|B>>>9))+((B=N+(K^(U|~Z))+z[0]+4096336452&4294967295)<<6&4294967295|B>>>26))+((B=Z+(U^(N|~K))+z[7]+1126891415&4294967295)<<10&4294967295|B>>>22))+((B=K+(N^(Z|~U))+z[14]+2878612391&4294967295)<<15&4294967295|B>>>17))+((B=U+(Z^(K|~N))+z[5]+4237533241&4294967295)<<21&4294967295|B>>>11))+((B=N+(K^(U|~Z))+z[12]+1700485571&4294967295)<<6&4294967295|B>>>26))+((B=Z+(U^(N|~K))+z[3]+2399980690&4294967295)<<10&4294967295|B>>>22))+((B=K+(N^(Z|~U))+z[10]+4293915773&4294967295)<<15&4294967295|B>>>17))+((B=U+(Z^(K|~N))+z[1]+2240044497&4294967295)<<21&4294967295|B>>>11))+((B=N+(K^(U|~Z))+z[8]+1873313359&4294967295)<<6&4294967295|B>>>26))+((B=Z+(U^(N|~K))+z[15]+4264355552&4294967295)<<10&4294967295|B>>>22))+((B=K+(N^(Z|~U))+z[6]+2734768916&4294967295)<<15&4294967295|B>>>17))+((B=U+(Z^(K|~N))+z[13]+1309151649&4294967295)<<21&4294967295|B>>>11))+((Z=(N=U+((B=N+(K^(U|~Z))+z[4]+4149444226&4294967295)<<6&4294967295|B>>>26))+((B=Z+(U^(N|~K))+z[11]+3174756917&4294967295)<<10&4294967295|B>>>22))^((K=Z+((B=K+(N^(Z|~U))+z[2]+718787259&4294967295)<<15&4294967295|B>>>17))|~N))+z[9]+3951481745&4294967295,V.g[0]=V.g[0]+N&4294967295,V.g[1]=V.g[1]+(K+(B<<21&4294967295|B>>>11))&4294967295,V.g[2]=V.g[2]+K&4294967295,V.g[3]=V.g[3]+Z&4294967295}function o(V,N){this.h=N;for(var U=[],z=!0,K=V.length-1;0<=K;K--){var Z=0|V[K];z&&Z==N||(U[K]=Z,z=!1)}this.g=U}(function e(V,N){function U(){}U.prototype=N.prototype,V.D=N.prototype,V.prototype=new U,V.prototype.constructor=V,V.C=function(z,K,Z){for(var B=Array(arguments.length-2),Io=2;Io<arguments.length;Io++)B[Io-2]=arguments[Io];return N.prototype[K].apply(z,B)}})(r,function t(){this.blockSize=-1}),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0},r.prototype.u=function(V,N){void 0===N&&(N=V.length);for(var U=N-this.blockSize,z=this.B,K=this.h,Z=0;Z<N;){if(0==K)for(;Z<=U;)i(this,V,Z),Z+=this.blockSize;if("string"==typeof V){for(;Z<N;)if(z[K++]=V.charCodeAt(Z++),K==this.blockSize){i(this,z),K=0;break}}else for(;Z<N;)if(z[K++]=V[Z++],K==this.blockSize){i(this,z),K=0;break}}this.h=K,this.o+=N},r.prototype.v=function(){var V=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);V[0]=128;for(var N=1;N<V.length-8;++N)V[N]=0;var U=8*this.o;for(N=V.length-8;N<V.length;++N)V[N]=255&U,U/=256;for(this.u(V),V=Array(16),N=U=0;4>N;++N)for(var z=0;32>z;z+=8)V[U++]=this.g[N]>>>z&255;return V};var a={};function l(V){return-128<=V&&128>V?function s(V,N){var U=a;return Object.prototype.hasOwnProperty.call(U,V)?U[V]:U[V]=N(V)}(V,function(N){return new o([0|N],0>N?-1:0)}):new o([0|V],0>V?-1:0)}function c(V){if(isNaN(V)||!isFinite(V))return m;if(0>V)return P(c(-V));for(var N=[],U=1,z=0;V>=U;z++)N[z]=V/U|0,U*=4294967296;return new o(N,0)}var m=l(0),w=l(1),b=l(16777216);function C(V){if(0!=V.h)return!1;for(var N=0;N<V.g.length;N++)if(0!=V.g[N])return!1;return!0}function S(V){return-1==V.h}function P(V){for(var N=V.g.length,U=[],z=0;z<N;z++)U[z]=~V.g[z];return new o(U,~V.h).add(w)}function L(V,N){return V.add(P(N))}function j(V,N){for(;(65535&V[N])!=V[N];)V[N+1]+=V[N]>>>16,V[N]&=65535,N++}function G(V,N){this.g=V,this.h=N}function ue(V,N){if(C(N))throw Error("division by zero");if(C(V))return new G(m,m);if(S(V))return N=ue(P(V),N),new G(P(N.g),P(N.h));if(S(N))return N=ue(V,P(N)),new G(P(N.g),N.h);if(30<V.g.length){if(S(V)||S(N))throw Error("slowDivide_ only works with positive integers.");for(var U=w,z=N;0>=z.l(V);)U=Te(U),z=Te(z);var K=Me(U,1),Z=Me(z,1);for(z=Me(z,2),U=Me(U,2);!C(z);){var B=Z.add(z);0>=B.l(V)&&(K=K.add(U),Z=B),z=Me(z,1),U=Me(U,1)}return N=L(V,K.j(N)),new G(K,N)}for(K=m;0<=V.l(N);){for(U=Math.max(1,Math.floor(V.m()/N.m())),z=48>=(z=Math.ceil(Math.log(U)/Math.LN2))?1:Math.pow(2,z-48),B=(Z=c(U)).j(N);S(B)||0<B.l(V);)B=(Z=c(U-=z)).j(N);C(Z)&&(Z=w),K=K.add(Z),V=L(V,B)}return new G(K,V)}function Te(V){for(var N=V.g.length+1,U=[],z=0;z<N;z++)U[z]=V.i(z)<<1|V.i(z-1)>>>31;return new o(U,V.h)}function Me(V,N){var U=N>>5;N%=32;for(var z=V.g.length-U,K=[],Z=0;Z<z;Z++)K[Z]=0<N?V.i(Z+U)>>>N|V.i(Z+U+1)<<32-N:V.i(Z+U);return new o(K,V.h)}(n=o.prototype).m=function(){if(S(this))return-P(this).m();for(var V=0,N=1,U=0;U<this.g.length;U++){var z=this.i(U);V+=(0<=z?z:4294967296+z)*N,N*=4294967296}return V},n.toString=function(V){if(2>(V=V||10)||36<V)throw Error("radix out of range: "+V);if(C(this))return"0";if(S(this))return"-"+P(this).toString(V);for(var N=c(Math.pow(V,6)),U=this,z="";;){var K=ue(U,N).g,Z=((0<(U=L(U,K.j(N))).g.length?U.g[0]:U.h)>>>0).toString(V);if(C(U=K))return Z+z;for(;6>Z.length;)Z="0"+Z;z=Z+z}},n.i=function(V){return 0>V?0:V<this.g.length?this.g[V]:this.h},n.l=function(V){return S(V=L(this,V))?-1:C(V)?0:1},n.abs=function(){return S(this)?P(this):this},n.add=function(V){for(var N=Math.max(this.g.length,V.g.length),U=[],z=0,K=0;K<=N;K++){var Z=z+(65535&this.i(K))+(65535&V.i(K)),B=(Z>>>16)+(this.i(K)>>>16)+(V.i(K)>>>16);z=B>>>16,U[K]=(B&=65535)<<16|(Z&=65535)}return new o(U,-2147483648&U[U.length-1]?-1:0)},n.j=function(V){if(C(this)||C(V))return m;if(S(this))return S(V)?P(this).j(P(V)):P(P(this).j(V));if(S(V))return P(this.j(P(V)));if(0>this.l(b)&&0>V.l(b))return c(this.m()*V.m());for(var N=this.g.length+V.g.length,U=[],z=0;z<2*N;z++)U[z]=0;for(z=0;z<this.g.length;z++)for(var K=0;K<V.g.length;K++){var Z=this.i(z)>>>16,B=65535&this.i(z),Io=V.i(K)>>>16,ic=65535&V.i(K);U[2*z+2*K]+=B*ic,j(U,2*z+2*K),U[2*z+2*K+1]+=Z*ic,j(U,2*z+2*K+1),U[2*z+2*K+1]+=B*Io,j(U,2*z+2*K+1),U[2*z+2*K+2]+=Z*Io,j(U,2*z+2*K+2)}for(z=0;z<N;z++)U[z]=U[2*z+1]<<16|U[2*z];for(z=N;z<2*N;z++)U[z]=0;return new o(U,0)},n.A=function(V){return ue(this,V).h},n.and=function(V){for(var N=Math.max(this.g.length,V.g.length),U=[],z=0;z<N;z++)U[z]=this.i(z)&V.i(z);return new o(U,this.h&V.h)},n.or=function(V){for(var N=Math.max(this.g.length,V.g.length),U=[],z=0;z<N;z++)U[z]=this.i(z)|V.i(z);return new o(U,this.h|V.h)},n.xor=function(V){for(var N=Math.max(this.g.length,V.g.length),U=[],z=0;z<N;z++)U[z]=this.i(z)^V.i(z);return new o(U,this.h^V.h)},r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,sU=iU.Md5=r,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.A,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=c,o.fromString=function p(V,N){if(0==V.length)throw Error("number format error: empty string");if(2>(N=N||10)||36<N)throw Error("radix out of range: "+N);if("-"==V.charAt(0))return P(p(V.substring(1),N));if(0<=V.indexOf("-"))throw Error('number format error: interior "-" character');for(var U=c(Math.pow(N,8)),z=m,K=0;K<V.length;K+=8){var Z=Math.min(8,V.length-K),B=parseInt(V.substring(K,K+Z),N);8>Z?(Z=c(Math.pow(N,Z)),z=z.j(Z).add(c(B))):z=(z=z.j(U)).add(c(B))}return z},yd=iU.Integer=o}).apply(typeof rU<"u"?rU:typeof self<"u"?self:typeof window<"u"?window:{});var oU,aU,iy,lU,ME,rD,uU,cU,dU,PE=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Tl={};(function(){var n,e="function"==typeof Object.defineProperties?Object.defineProperty:function(h,v,I){return h==Array.prototype||h==Object.prototype||(h[v]=I.value),h},r=function t(h){h=["object"==typeof globalThis&&globalThis,h,"object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof PE&&PE];for(var v=0;v<h.length;++v){var I=h[v];if(I&&I.Math==Math)return I}throw Error("Cannot find global object")}(this);!function i(h,v){if(v)e:{var I=r;h=h.split(".");for(var R=0;R<h.length-1;R++){var Q=h[R];if(!(Q in I))break e;I=I[Q]}(v=v(R=I[h=h[h.length-1]]))!=R&&null!=v&&e(I,h,{configurable:!0,writable:!0,value:v})}}("Array.prototype.values",function(h){return h||function(){return function s(h,v){h instanceof String&&(h+="");var I=0,R=!1,Q={next:function(){if(!R&&I<h.length){var se=I++;return{value:v(se,h[se]),done:!1}}return R=!0,{done:!0,value:void 0}}};return Q[Symbol.iterator]=function(){return Q},Q}(this,function(v,I){return I})}});var o=o||{},a=this||self;function l(h){var v=typeof h;return"array"==(v="object"!=v?v:h?Array.isArray(h)?"array":v:"null")||"object"==v&&"number"==typeof h.length}function c(h){var v=typeof h;return"object"==v&&null!=h||"function"==v}function p(h,v,I){return h.call.apply(h.bind,arguments)}function m(h,v,I){if(!h)throw Error();if(2<arguments.length){var R=Array.prototype.slice.call(arguments,2);return function(){var Q=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(Q,R),h.apply(v,Q)}}return function(){return h.apply(v,arguments)}}function w(h,v,I){return(w=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?p:m).apply(null,arguments)}function b(h,v){var I=Array.prototype.slice.call(arguments,1);return function(){var R=I.slice();return R.push.apply(R,arguments),h.apply(this,R)}}function C(h,v){function I(){}I.prototype=v.prototype,h.aa=v.prototype,h.prototype=new I,h.prototype.constructor=h,h.Qb=function(R,Q,se){for(var ke=Array(arguments.length-2),Fn=2;Fn<arguments.length;Fn++)ke[Fn-2]=arguments[Fn];return v.prototype[Q].apply(R,ke)}}function S(h){const v=h.length;if(0<v){const I=Array(v);for(let R=0;R<v;R++)I[R]=h[R];return I}return[]}function P(h,v){for(let I=1;I<arguments.length;I++){const R=arguments[I];if(l(R)){const Q=h.length||0,se=R.length||0;h.length=Q+se;for(let ke=0;ke<se;ke++)h[Q+ke]=R[ke]}else h.push(R)}}function j(h){return/^[\s\xa0]*$/.test(h)}function G(){var h=a.navigator;return h&&(h=h.userAgent)?h:""}function ue(h){return ue[" "](h),h}ue[" "]=function(){};var Te=!(-1==G().indexOf("Gecko")||-1!=G().toLowerCase().indexOf("webkit")&&-1==G().indexOf("Edge")||-1!=G().indexOf("Trident")||-1!=G().indexOf("MSIE")||-1!=G().indexOf("Edge"));function Me(h,v,I){for(const R in h)v.call(I,h[R],R,h)}function N(h){const v={};for(const I in h)v[I]=h[I];return v}const U="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function z(h,v){let I,R;for(let Q=1;Q<arguments.length;Q++){for(I in R=arguments[Q],R)h[I]=R[I];for(let se=0;se<U.length;se++)I=U[se],Object.prototype.hasOwnProperty.call(R,I)&&(h[I]=R[I])}}function K(h){var v=1;h=h.split(":");const I=[];for(;0<v&&h.length;)I.push(h.shift()),v--;return h.length&&I.push(h.join(":")),I}function Z(h){a.setTimeout(()=>{throw h},0)}function B(){var h=qt;let v=null;return h.g&&(v=h.g,h.g=h.g.next,h.g||(h.h=null),v.next=null),v}var ic=new class L{constructor(v,I){this.i=v,this.j=I,this.h=0,this.g=null}get(){let v;return 0<this.h?(this.h--,v=this.g,this.g=v.next,v.next=null):v=this.i(),v}}(()=>new We,h=>h.reset());class We{constructor(){this.next=this.g=this.h=null}set(v,I){this.h=v,this.g=I,this.next=null}reset(){this.next=this.g=this.h=null}}let Xe,ot=!1,qt=new class Io{constructor(){this.h=this.g=null}add(v,I){const R=ic.get();R.set(v,I),this.h?this.h.next=R:this.g=R,this.h=R}},xr=()=>{const h=a.Promise.resolve(void 0);Xe=()=>{h.then(bo)}};var bo=()=>{for(var h;h=B();){try{h.h.call(h.g)}catch(I){Z(I)}var v=ic;v.j(h),100>v.h&&(v.h++,h.next=v.g,v.g=h)}ot=!1};function wr(){this.s=this.s,this.C=this.C}function Jn(h,v){this.type=h,this.g=this.target=v,this.defaultPrevented=!1}wr.prototype.s=!1,wr.prototype.ma=function(){this.s||(this.s=!0,this.N())},wr.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()},Jn.prototype.h=function(){this.defaultPrevented=!0};var Zn=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var h=!1,v=Object.defineProperty({},"passive",{get:function(){h=!0}});try{const I=()=>{};a.addEventListener("test",I,v),a.removeEventListener("test",I,v)}catch{}return h}();function sc(h,v){if(Jn.call(this,h?h.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,h){var I=this.type=h.type,R=h.changedTouches&&h.changedTouches.length?h.changedTouches[0]:null;if(this.target=h.target||h.srcElement,this.g=v,v=h.relatedTarget){if(Te){e:{try{ue(v.nodeName);var Q=!0;break e}catch{}Q=!1}Q||(v=null)}}else"mouseover"==I?v=h.fromElement:"mouseout"==I&&(v=h.toElement);this.relatedTarget=v,R?(this.clientX=void 0!==R.clientX?R.clientX:R.pageX,this.clientY=void 0!==R.clientY?R.clientY:R.pageY,this.screenX=R.screenX||0,this.screenY=R.screenY||0):(this.clientX=void 0!==h.clientX?h.clientX:h.pageX,this.clientY=void 0!==h.clientY?h.clientY:h.pageY,this.screenX=h.screenX||0,this.screenY=h.screenY||0),this.button=h.button,this.key=h.key||"",this.ctrlKey=h.ctrlKey,this.altKey=h.altKey,this.shiftKey=h.shiftKey,this.metaKey=h.metaKey,this.pointerId=h.pointerId||0,this.pointerType="string"==typeof h.pointerType?h.pointerType:VR[h.pointerType]||"",this.state=h.state,this.i=h,h.defaultPrevented&&sc.aa.h.call(this)}}C(sc,Jn);var VR={2:"touch",3:"pen",4:"mouse"};sc.prototype.h=function(){sc.aa.h.call(this);var h=this.i;h.preventDefault?h.preventDefault():h.returnValue=!1};var Er="closure_listenable_"+(1e6*Math.random()|0),kl=0;function Ms(h,v,I,R,Q){this.listener=h,this.proxy=null,this.src=v,this.type=I,this.capture=!!R,this.ha=Q,this.key=++kl,this.da=this.fa=!1}function Fl(h){h.da=!0,h.listener=null,h.proxy=null,h.src=null,h.ha=null}function oc(h){this.src=h,this.g={},this.h=0}function LR(h,v){var I=v.type;if(I in h.g){var se,R=h.g[I],Q=Array.prototype.indexOf.call(R,v,void 0);(se=0<=Q)&&Array.prototype.splice.call(R,Q,1),se&&(Fl(v),0==h.g[I].length&&(delete h.g[I],h.h--))}}function UR(h,v,I,R){for(var Q=0;Q<h.length;++Q){var se=h[Q];if(!se.da&&se.listener==v&&se.capture==!!I&&se.ha==R)return Q}return-1}oc.prototype.add=function(h,v,I,R,Q){var se=h.toString();(h=this.g[se])||(h=this.g[se]=[],this.h++);var ke=UR(h,v,R,Q);return-1<ke?(v=h[ke],I||(v.fa=!1)):((v=new Ms(v,this.src,se,!!R,Q)).fa=I,h.push(v)),v};var BR="closure_lm_"+(1e6*Math.random()|0),jR={};function Mz(h,v,I,R,Q){if(R&&R.once)return xz(h,v,I,R,Q);if(Array.isArray(v)){for(var se=0;se<v.length;se++)Mz(h,v[se],I,R,Q);return null}return I=qR(I),h&&h[Er]?h.K(v,I,c(R)?!!R.capture:!!R,Q):Nz(h,v,I,!1,R,Q)}function Nz(h,v,I,R,Q,se){if(!v)throw Error("Invalid event type");var ke=c(Q)?!!Q.capture:!!Q,Fn=zR(h);if(Fn||(h[BR]=Fn=new oc(h)),(I=Fn.add(v,I,R,ke,se)).proxy)return I;if(R=function Sae(){const v=Rae;return function h(I){return v.call(h.src,h.listener,I)}}(),I.proxy=R,R.src=h,R.listener=I,h.addEventListener)Zn||(Q=ke),void 0===Q&&(Q=!1),h.addEventListener(v.toString(),R,Q);else if(h.attachEvent)h.attachEvent(kz(v.toString()),R);else{if(!h.addListener||!h.removeListener)throw Error("addEventListener and attachEvent are unavailable.");h.addListener(R)}return I}function xz(h,v,I,R,Q){if(Array.isArray(v)){for(var se=0;se<v.length;se++)xz(h,v[se],I,R,Q);return null}return I=qR(I),h&&h[Er]?h.L(v,I,c(R)?!!R.capture:!!R,Q):Nz(h,v,I,!0,R,Q)}function Oz(h,v,I,R,Q){if(Array.isArray(v))for(var se=0;se<v.length;se++)Oz(h,v[se],I,R,Q);else R=c(R)?!!R.capture:!!R,I=qR(I),h&&h[Er]?(h=h.i,(v=String(v).toString())in h.g&&-1<(I=UR(se=h.g[v],I,R,Q))&&(Fl(se[I]),Array.prototype.splice.call(se,I,1),0==se.length&&(delete h.g[v],h.h--))):h&&(h=zR(h))&&(v=h.g[v.toString()],h=-1,v&&(h=UR(v,I,R,Q)),(I=-1<h?v[h]:null)&&$R(I))}function $R(h){if("number"!=typeof h&&h&&!h.da){var v=h.src;if(v&&v[Er])LR(v.i,h);else{var I=h.type,R=h.proxy;v.removeEventListener?v.removeEventListener(I,R,h.capture):v.detachEvent?v.detachEvent(kz(I),R):v.addListener&&v.removeListener&&v.removeListener(R),(I=zR(v))?(LR(I,h),0==I.h&&(I.src=null,v[BR]=null)):Fl(h)}}}function kz(h){return h in jR?jR[h]:jR[h]="on"+h}function Rae(h,v){if(h.da)h=!0;else{v=new sc(v,this);var I=h.listener,R=h.ha||h.src;h.fa&&$R(h),h=I.call(R,v)}return h}function zR(h){return(h=h[BR])instanceof oc?h:null}var HR="__closure_events_fn_"+(1e9*Math.random()>>>0);function qR(h){return"function"==typeof h?h:(h[HR]||(h[HR]=function(v){return h.handleEvent(v)}),h[HR])}function Bi(){wr.call(this),this.i=new oc(this),this.M=this,this.F=null}function cs(h,v){var I,R=h.F;if(R)for(I=[];R;R=R.F)I.push(R);if(h=h.M,R=v.type||v,"string"==typeof v)v=new Jn(v,h);else if(v instanceof Jn)v.target=v.target||h;else{var Q=v;z(v=new Jn(R,h),Q)}if(Q=!0,I)for(var se=I.length-1;0<=se;se--){var ke=v.g=I[se];Q=UI(ke,R,!0,v)&&Q}if(Q=UI(ke=v.g=h,R,!0,v)&&Q,Q=UI(ke,R,!1,v)&&Q,I)for(se=0;se<I.length;se++)Q=UI(ke=v.g=I[se],R,!1,v)&&Q}function UI(h,v,I,R){if(!(v=h.i.g[String(v)]))return!0;v=v.concat();for(var Q=!0,se=0;se<v.length;++se){var ke=v[se];if(ke&&!ke.da&&ke.capture==I){var Fn=ke.listener,Di=ke.ha||ke.src;ke.fa&&LR(h.i,ke),Q=!1!==Fn.call(Di,R)&&Q}}return Q&&!R.defaultPrevented}function Fz(h,v,I){if("function"==typeof h)I&&(h=w(h,I));else{if(!h||"function"!=typeof h.handleEvent)throw Error("Invalid listener argument");h=w(h.handleEvent,h)}return 2147483647<Number(v)?-1:a.setTimeout(h,v||0)}function Vz(h){h.g=Fz(()=>{h.g=null,h.i&&(h.i=!1,Vz(h))},h.l);const v=h.h;h.h=null,h.m.apply(null,v)}C(Bi,wr),Bi.prototype[Er]=!0,Bi.prototype.removeEventListener=function(h,v,I,R){Oz(this,h,v,I,R)},Bi.prototype.N=function(){if(Bi.aa.N.call(this),this.i){var v,h=this.i;for(v in h.g){for(var I=h.g[v],R=0;R<I.length;R++)Fl(I[R]);delete h.g[v],h.h--}}this.F=null},Bi.prototype.K=function(h,v,I,R){return this.i.add(String(h),v,!1,I,R)},Bi.prototype.L=function(h,v,I,R){return this.i.add(String(h),v,!0,I,R)};class Pae extends wr{constructor(v,I){super(),this.m=v,this.l=I,this.h=null,this.i=!1,this.g=null}j(v){this.h=arguments,this.g?this.i=!0:Vz(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Qy(h){wr.call(this),this.h=h,this.g={}}C(Qy,wr);var Lz=[];function Uz(h){Me(h.g,function(v,I){this.g.hasOwnProperty(I)&&$R(v)},h),h.g={}}Qy.prototype.N=function(){Qy.aa.N.call(this),Uz(this)},Qy.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var GR=a.JSON.stringify,Mae=a.JSON.parse,Nae=class{stringify(h){return a.JSON.stringify(h,void 0)}parse(h){return a.JSON.parse(h,void 0)}};function WR(){}function jz(){}WR.prototype.h=null;var Yy={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function KR(){Jn.call(this,"d")}function QR(){Jn.call(this,"c")}C(KR,Jn),C(QR,Jn);var jd={},$z=null;function BI(){return $z=$z||new Bi}function zz(h){Jn.call(this,jd.La,h)}function Jy(h){const v=BI();cs(v,new zz(v))}function Hz(h,v){Jn.call(this,jd.STAT_EVENT,h),this.stat=v}function ds(h){const v=BI();cs(v,new Hz(v,h))}function qz(h,v){Jn.call(this,jd.Ma,h),this.size=v}function Zy(h,v){if("function"!=typeof h)throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){h()},v)}function Xy(){this.g=!0}function Mp(h,v,I,R){h.info(function(){return"XMLHTTP TEXT ("+v+"): "+function Fae(h,v){if(!h.g)return v;if(!v)return null;try{var I=JSON.parse(v);if(I)for(h=0;h<I.length;h++)if(Array.isArray(I[h])){var R=I[h];if(!(2>R.length)){var Q=R[1];if(Array.isArray(Q)&&!(1>Q.length)){var se=Q[0];if("noop"!=se&&"stop"!=se&&"close"!=se)for(var ke=1;ke<Q.length;ke++)Q[ke]=""}}}return GR(I)}catch{return v}}(h,I)+(R?" "+R:"")})}jd.La="serverreachability",C(zz,Jn),jd.STAT_EVENT="statevent",C(Hz,Jn),jd.Ma="timingevent",C(qz,Jn),Xy.prototype.xa=function(){this.g=!1},Xy.prototype.info=function(){};var YR,jI={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Gz={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"};function $I(){}function ac(h,v,I,R){this.j=h,this.i=v,this.l=I,this.R=R||1,this.U=new Qy(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Wz}function Wz(){this.i=null,this.g="",this.h=!1}C($I,WR),$I.prototype.g=function(){return new XMLHttpRequest},$I.prototype.i=function(){return{}},YR=new $I;var Kz={},JR={};function ZR(h,v,I){h.L=1,h.v=GI(Vl(v)),h.m=I,h.P=!0,Qz(h,null)}function Qz(h,v){h.F=Date.now(),zI(h),h.A=Vl(h.v);var I=h.A,R=h.R;Array.isArray(R)||(R=[String(R)]),uH(I.i,"t",R),h.C=0,I=h.j.J,h.h=new Wz,h.g=DH(h.j,I?v:null,!h.m),0<h.O&&(h.M=new Pae(w(h.Y,h,h.g),h.O)),v=h.U,I=h.g,R=h.ca;var Q="readystatechange";Array.isArray(Q)||(Q&&(Lz[0]=Q.toString()),Q=Lz);for(var se=0;se<Q.length;se++){var ke=Mz(I,Q[se],R||v.handleEvent,!1,v.h||v);if(!ke)break;v.g[ke.key]=ke}v=h.H?N(h.H):{},h.m?(h.u||(h.u="POST"),v["Content-Type"]="application/x-www-form-urlencoded",h.g.ea(h.A,h.u,h.m,v)):(h.u="GET",h.g.ea(h.A,h.u,null,v)),Jy(),function xae(h,v,I,R,Q,se){h.info(function(){if(h.g)if(se)for(var ke="",Fn=se.split("&"),Di=0;Di<Fn.length;Di++){var cn=Fn[Di].split("=");if(1<cn.length){var ji=cn[0];cn=cn[1];var $i=ji.split("_");ke=2<=$i.length&&"type"==$i[1]?ke+(ji+"=")+cn+"&":ke+(ji+"=redacted&")}}else ke=null;else ke=se;return"XMLHTTP REQ ("+R+") [attempt "+Q+"]: "+v+"\n"+I+"\n"+ke})}(h.i,h.u,h.A,h.l,h.R,h.m)}function Yz(h){return!!h.g&&"GET"==h.u&&2!=h.L&&h.j.Ca}function Vae(h,v){var I=h.C,R=v.indexOf("\n",I);return-1==R?JR:(I=Number(v.substring(I,R)),isNaN(I)?Kz:(R+=1)+I>v.length?JR:(v=v.slice(R,R+I),h.C=R+I,v))}function zI(h){h.S=Date.now()+h.I,Jz(h,h.I)}function Jz(h,v){if(null!=h.B)throw Error("WatchDog timer not null");h.B=Zy(w(h.ba,h),v)}function XR(h){h.B&&(a.clearTimeout(h.B),h.B=null)}function e_(h){0==h.j.G||h.J||bH(h.j,h)}function $d(h){XR(h);var v=h.M;v&&"function"==typeof v.ma&&v.ma(),h.M=null,Uz(h.U),h.g&&(v=h.g,h.g=null,v.abort(),v.ma())}function eP(h,v){try{var I=h.j;if(0!=I.G&&(I.g==h||tP(I.h,h)))if(!h.K&&tP(I.h,h)&&3==I.G){try{var R=I.Da.g.parse(v)}catch{R=null}if(Array.isArray(R)&&3==R.length){var Q=R;if(0==Q[0]){e:if(!I.u){if(I.g){if(!(I.g.F+3e3<h.F))break e;JI(I),QI(I)}sP(I),ds(18)}}else I.za=Q[1],0<I.za-I.T&&37500>Q[2]&&I.F&&0==I.v&&!I.C&&(I.C=Zy(w(I.Za,I),6e3));if(1>=eH(I.h)&&I.ca){try{I.ca()}catch{}I.ca=void 0}}else Hd(I,11)}else if((h.K||I.g==h)&&JI(I),!j(v))for(Q=I.Da.g.parse(v),v=0;v<Q.length;v++){let cn=Q[v];if(I.T=cn[0],cn=cn[1],2==I.G)if("c"==cn[0]){I.K=cn[1],I.ia=cn[2];const ji=cn[3];null!=ji&&(I.la=ji,I.j.info("VER="+I.la));const $i=cn[4];null!=$i&&(I.Aa=$i,I.j.info("SVER="+I.Aa));const Op=cn[5];null!=Op&&"number"==typeof Op&&0<Op&&(I.L=R=1.5*Op,I.j.info("backChannelRequestTimeoutMs_="+R)),R=I;const zo=h.g;if(zo){const XI=zo.g?zo.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(XI){var se=R.h;se.g||-1==XI.indexOf("spdy")&&-1==XI.indexOf("quic")&&-1==XI.indexOf("h2")||(se.j=se.l,se.g=new Set,se.h&&(nP(se,se.h),se.h=null))}if(R.D){const aP=zo.g?zo.g.getResponseHeader("X-HTTP-Session-Id"):null;aP&&(R.ya=aP,Xn(R.I,R.D,aP))}}I.G=3,I.l&&I.l.ua(),I.ba&&(I.R=Date.now()-h.F,I.j.info("Handshake RTT: "+I.R+"ms"));var ke=h;if((R=I).qa=CH(R,R.J?R.ia:null,R.W),ke.K){tH(R.h,ke);var Fn=ke,Di=R.L;Di&&(Fn.I=Di),Fn.B&&(XR(Fn),zI(Fn)),R.g=ke}else EH(R);0<I.i.length&&YI(I)}else"stop"!=cn[0]&&"close"!=cn[0]||Hd(I,7);else 3==I.G&&("stop"==cn[0]||"close"==cn[0]?"stop"==cn[0]?Hd(I,7):iP(I):"noop"!=cn[0]&&I.l&&I.l.ta(cn),I.v=0)}Jy()}catch{}}ac.prototype.ca=function(h){h=h.target;const v=this.M;v&&3==Ll(h)?v.j():this.Y(h)},ac.prototype.Y=function(h){try{if(h==this.g)e:{const $i=Ll(this.g);var v=this.g.Ba();if(this.g.Z(),!(3>$i)&&(3!=$i||this.g&&(this.h.h||this.g.oa()||mH(this.g)))){this.J||4!=$i||7==v||Jy(),XR(this);var I=this.g.Z();this.X=I;t:if(Yz(this)){var R=mH(this.g);h="";var Q=R.length,se=4==Ll(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){$d(this),e_(this);var ke="";break t}this.h.i=new a.TextDecoder}for(v=0;v<Q;v++)this.h.h=!0,h+=this.h.i.decode(R[v],{stream:!(se&&v==Q-1)});R.length=0,this.h.g+=h,this.C=0,ke=this.h.g}else ke=this.g.oa();if(this.o=200==I,function Oae(h,v,I,R,Q,se,ke){h.info(function(){return"XMLHTTP RESP ("+R+") [ attempt "+Q+"]: "+v+"\n"+I+"\n"+se+" "+ke})}(this.i,this.u,this.A,this.l,this.R,$i,I),this.o){if(this.T&&!this.K){t:{if(this.g){var Fn,Di=this.g;if((Fn=Di.g?Di.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!j(Fn)){var cn=Fn;break t}}cn=null}if(!(I=cn)){this.o=!1,this.s=3,ds(12),$d(this),e_(this);break e}Mp(this.i,this.l,I,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,eP(this,I)}if(this.P){let zo;for(I=!0;!this.J&&this.C<ke.length;){if(zo=Vae(this,ke),zo==JR){4==$i&&(this.s=4,ds(14),I=!1),Mp(this.i,this.l,null,"[Incomplete Response]");break}if(zo==Kz){this.s=4,ds(15),Mp(this.i,this.l,ke,"[Invalid Chunk]"),I=!1;break}Mp(this.i,this.l,zo,null),eP(this,zo)}if(Yz(this)&&0!=this.C&&(this.h.g=this.h.g.slice(this.C),this.C=0),4!=$i||0!=ke.length||this.h.h||(this.s=1,ds(16),I=!1),this.o=this.o&&I,I){if(0<ke.length&&!this.W){this.W=!0;var ji=this.j;ji.g==this&&ji.ba&&!ji.M&&(ji.j.info("Great, no buffering proxy detected. Bytes received: "+ke.length),oP(ji),ji.M=!0,ds(11))}}else Mp(this.i,this.l,ke,"[Invalid Chunked Response]"),$d(this),e_(this)}else Mp(this.i,this.l,ke,null),eP(this,ke);4==$i&&$d(this),this.o&&!this.J&&(4==$i?bH(this.j,this):(this.o=!1,zI(this)))}else(function ele(h){const v={};h=(h.g&&2<=Ll(h)&&h.g.getAllResponseHeaders()||"").split("\r\n");for(let R=0;R<h.length;R++){if(j(h[R]))continue;var I=K(h[R]);const Q=I[0];if("string"!=typeof(I=I[1]))continue;I=I.trim();const se=v[Q]||[];v[Q]=se,se.push(I)}!function V(h,v){for(const I in h)v.call(void 0,h[I],I,h)}(v,function(R){return R.join(", ")})})(this.g),400==I&&0<ke.indexOf("Unknown SID")?(this.s=3,ds(12)):(this.s=0,ds(13)),$d(this),e_(this)}}}catch{}},ac.prototype.cancel=function(){this.J=!0,$d(this)},ac.prototype.ba=function(){this.B=null;const h=Date.now();0<=h-this.S?(function kae(h,v){h.info(function(){return"TIMEOUT: "+v})}(this.i,this.A),2!=this.L&&(Jy(),ds(17)),$d(this),this.s=2,e_(this)):Jz(this,this.S-h)};var Lae=class{constructor(h,v){this.g=h,this.map=v}};function Zz(h){this.l=h||10,h=a.PerformanceNavigationTiming?0<(h=a.performance.getEntriesByType("navigation")).length&&("hq"==h[0].nextHopProtocol||"h2"==h[0].nextHopProtocol):!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=h?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Xz(h){return!!h.h||!!h.g&&h.g.size>=h.j}function eH(h){return h.h?1:h.g?h.g.size:0}function tP(h,v){return h.h?h.h==v:!!h.g&&h.g.has(v)}function nP(h,v){h.g?h.g.add(v):h.h=v}function tH(h,v){h.h&&h.h==v?h.h=null:h.g&&h.g.has(v)&&h.g.delete(v)}function nH(h){if(null!=h.h)return h.i.concat(h.h.D);if(null!=h.g&&0!==h.g.size){let v=h.i;for(const I of h.g.values())v=v.concat(I.D);return v}return S(h.i)}function rH(h,v){if(h.forEach&&"function"==typeof h.forEach)h.forEach(v,void 0);else if(l(h)||"string"==typeof h)Array.prototype.forEach.call(h,v,void 0);else for(var I=function Bae(h){if(h.na&&"function"==typeof h.na)return h.na();if(!h.V||"function"!=typeof h.V){if(typeof Map<"u"&&h instanceof Map)return Array.from(h.keys());if(!(typeof Set<"u"&&h instanceof Set)){if(l(h)||"string"==typeof h){var v=[];h=h.length;for(var I=0;I<h;I++)v.push(I);return v}v=[],I=0;for(const R in h)v[I++]=R;return v}}}(h),R=function Uae(h){if(h.V&&"function"==typeof h.V)return h.V();if(typeof Map<"u"&&h instanceof Map||typeof Set<"u"&&h instanceof Set)return Array.from(h.values());if("string"==typeof h)return h.split("");if(l(h)){for(var v=[],I=h.length,R=0;R<I;R++)v.push(h[R]);return v}for(R in v=[],I=0,h)v[I++]=h[R];return v}(h),Q=R.length,se=0;se<Q;se++)v.call(void 0,R[se],I&&I[se],h)}Zz.prototype.cancel=function(){if(this.i=nH(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const h of this.g.values())h.cancel();this.g.clear()}};var iH=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function zd(h){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,h instanceof zd){this.h=h.h,HI(this,h.j),this.o=h.o,this.g=h.g,qI(this,h.s),this.l=h.l;var v=h.i,I=new r_;I.i=v.i,v.g&&(I.g=new Map(v.g),I.h=v.h),sH(this,I),this.m=h.m}else h&&(v=String(h).match(iH))?(this.h=!1,HI(this,v[1]||"",!0),this.o=t_(v[2]||""),this.g=t_(v[3]||"",!0),qI(this,v[4]),this.l=t_(v[5]||"",!0),sH(this,v[6]||"",!0),this.m=t_(v[7]||"")):(this.h=!1,this.i=new r_(null,this.h))}function Vl(h){return new zd(h)}function HI(h,v,I){h.j=I?t_(v,!0):v,h.j&&(h.j=h.j.replace(/:$/,""))}function qI(h,v){if(v){if(v=Number(v),isNaN(v)||0>v)throw Error("Bad port number "+v);h.s=v}else h.s=null}function sH(h,v,I){v instanceof r_?(h.i=v,function Wae(h,v){v&&!h.j&&(lc(h),h.i=null,h.g.forEach(function(I,R){var Q=R.toLowerCase();R!=Q&&(aH(this,R),uH(this,Q,I))},h)),h.j=v}(h.i,h.h)):(I||(v=n_(v,qae)),h.i=new r_(v,h.h))}function Xn(h,v,I){h.i.set(v,I)}function GI(h){return Xn(h,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),h}function t_(h,v){return h?v?decodeURI(h.replace(/%25/g,"%2525")):decodeURIComponent(h):""}function n_(h,v,I){return"string"==typeof h?(h=encodeURI(h).replace(v,$ae),I&&(h=h.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),h):null}function $ae(h){return"%"+((h=h.charCodeAt(0))>>4&15).toString(16)+(15&h).toString(16)}zd.prototype.toString=function(){var h=[],v=this.j;v&&h.push(n_(v,oH,!0),":");var I=this.g;return(I||"file"==v)&&(h.push("//"),(v=this.o)&&h.push(n_(v,oH,!0),"@"),h.push(encodeURIComponent(String(I)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(I=this.s)&&h.push(":",String(I))),(I=this.l)&&(this.g&&"/"!=I.charAt(0)&&h.push("/"),h.push(n_(I,"/"==I.charAt(0)?Hae:zae,!0))),(I=this.i.toString())&&h.push("?",I),(I=this.m)&&h.push("#",n_(I,Gae)),h.join("")};var oH=/[#\/\?@]/g,zae=/[#\?:]/g,Hae=/[#\?]/g,qae=/[#\?@]/g,Gae=/#/g;function r_(h,v){this.h=this.g=null,this.i=h||null,this.j=!!v}function lc(h){h.g||(h.g=new Map,h.h=0,h.i&&function jae(h,v){if(h){h=h.split("&");for(var I=0;I<h.length;I++){var R=h[I].indexOf("="),Q=null;if(0<=R){var se=h[I].substring(0,R);Q=h[I].substring(R+1)}else se=h[I];v(se,Q?decodeURIComponent(Q.replace(/\+/g," ")):"")}}}(h.i,function(v,I){h.add(decodeURIComponent(v.replace(/\+/g," ")),I)}))}function aH(h,v){lc(h),v=Np(h,v),h.g.has(v)&&(h.i=null,h.h-=h.g.get(v).length,h.g.delete(v))}function lH(h,v){return lc(h),v=Np(h,v),h.g.has(v)}function uH(h,v,I){aH(h,v),0<I.length&&(h.i=null,h.g.set(Np(h,v),S(I)),h.h+=I.length)}function Np(h,v){return v=String(v),h.j&&(v=v.toLowerCase()),v}function uc(h,v,I,R,Q){try{Q&&(Q.onload=null,Q.onerror=null,Q.onabort=null,Q.ontimeout=null),R(I)}catch{}}function Yae(){this.g=new Nae}function Jae(h,v,I){const R=I||"";try{rH(h,function(Q,se){let ke=Q;c(Q)&&(ke=GR(Q)),v.push(R+se+"="+encodeURIComponent(ke))})}catch(Q){throw v.push(R+"type="+encodeURIComponent("_badmap")),Q}}function i_(h){this.l=h.Ub||null,this.j=h.eb||!1}function WI(h,v){Bi.call(this),this.D=h,this.o=v,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}function cH(h){h.j.read().then(h.Pa.bind(h)).catch(h.ga.bind(h))}function s_(h){h.readyState=4,h.l=null,h.j=null,h.v=null,o_(h)}function o_(h){h.onreadystatechange&&h.onreadystatechange.call(h)}function dH(h){let v="";return Me(h,function(I,R){v+=R,v+=":",v+=I,v+="\r\n"}),v}function rP(h,v,I){e:{for(R in I){var R=!1;break e}R=!0}R||(I=dH(I),"string"==typeof h?null!=I&&encodeURIComponent(String(I)):Xn(h,v,I))}function Ir(h){Bi.call(this),this.headers=new Map,this.o=h||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}(n=r_.prototype).add=function(h,v){lc(this),this.i=null,h=Np(this,h);var I=this.g.get(h);return I||this.g.set(h,I=[]),I.push(v),this.h+=1,this},n.forEach=function(h,v){lc(this),this.g.forEach(function(I,R){I.forEach(function(Q){h.call(v,Q,R,this)},this)},this)},n.na=function(){lc(this);const h=Array.from(this.g.values()),v=Array.from(this.g.keys()),I=[];for(let R=0;R<v.length;R++){const Q=h[R];for(let se=0;se<Q.length;se++)I.push(v[R])}return I},n.V=function(h){lc(this);let v=[];if("string"==typeof h)lH(this,h)&&(v=v.concat(this.g.get(Np(this,h))));else{h=Array.from(this.g.values());for(let I=0;I<h.length;I++)v=v.concat(h[I])}return v},n.set=function(h,v){return lc(this),this.i=null,lH(this,h=Np(this,h))&&(this.h-=this.g.get(h).length),this.g.set(h,[v]),this.h+=1,this},n.get=function(h,v){return h&&0<(h=this.V(h)).length?String(h[0]):v},n.toString=function(){if(this.i)return this.i;if(!this.g)return"";const h=[],v=Array.from(this.g.keys());for(var I=0;I<v.length;I++){var R=v[I];const se=encodeURIComponent(String(R)),ke=this.V(R);for(R=0;R<ke.length;R++){var Q=se;""!==ke[R]&&(Q+="="+encodeURIComponent(String(ke[R]))),h.push(Q)}}return this.i=h.join("&")},C(i_,WR),i_.prototype.g=function(){return new WI(this.l,this.j)},i_.prototype.i=function(h){return function(){return h}}({}),C(WI,Bi),(n=WI.prototype).open=function(h,v){if(0!=this.readyState)throw this.abort(),Error("Error reopening a connection");this.B=h,this.A=v,this.readyState=1,o_(this)},n.send=function(h){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const v={headers:this.u,method:this.B,credentials:this.m,cache:void 0};h&&(v.body=h),(this.D||a).fetch(new Request(this.A,v)).then(this.Sa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,s_(this)),this.readyState=0},n.Sa=function(h){if(this.g&&(this.l=h,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=h.headers,this.readyState=2,o_(this)),this.g&&(this.readyState=3,o_(this),this.g)))if("arraybuffer"===this.responseType)h.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in h){if(this.j=h.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;cH(this)}else h.text().then(this.Ra.bind(this),this.ga.bind(this))},n.Pa=function(h){if(this.g){if(this.o&&h.value)this.response.push(h.value);else if(!this.o){var v=h.value?h.value:new Uint8Array(0);(v=this.v.decode(v,{stream:!h.done}))&&(this.response=this.responseText+=v)}h.done?s_(this):o_(this),3==this.readyState&&cH(this)}},n.Ra=function(h){this.g&&(this.response=this.responseText=h,s_(this))},n.Qa=function(h){this.g&&(this.response=h,s_(this))},n.ga=function(){this.g&&s_(this)},n.setRequestHeader=function(h,v){this.u.append(h,v)},n.getResponseHeader=function(h){return this.h&&this.h.get(h.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";const h=[],v=this.h.entries();for(var I=v.next();!I.done;)h.push((I=I.value)[0]+": "+I[1]),I=v.next();return h.join("\r\n")},Object.defineProperty(WI.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(h){this.m=h?"include":"same-origin"}}),C(Ir,Bi);var Zae=/^https?$/i,Xae=["POST","PUT"];function hH(h,v){h.h=!1,h.g&&(h.j=!0,h.g.abort(),h.j=!1),h.l=v,h.m=5,fH(h),KI(h)}function fH(h){h.A||(h.A=!0,cs(h,"complete"),cs(h,"error"))}function pH(h){if(h.h&&typeof o<"u"&&(!h.v[1]||4!=Ll(h)||2!=h.Z()))if(h.u&&4==Ll(h))Fz(h.Ea,0,h);else if(cs(h,"readystatechange"),4==Ll(h)){h.h=!1;try{const ke=h.Z();e:switch(ke){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var v=!0;break e;default:v=!1}var I;if(!(I=v)){var R;if(R=0===ke){var Q=String(h.D).match(iH)[1]||null;!Q&&a.self&&a.self.location&&(Q=a.self.location.protocol.slice(0,-1)),R=!Zae.test(Q?Q.toLowerCase():"")}I=R}if(I)cs(h,"complete"),cs(h,"success");else{h.m=6;try{var se=2<Ll(h)?h.g.statusText:""}catch{se=""}h.l=se+" ["+h.Z()+"]",fH(h)}}finally{KI(h)}}}function KI(h,v){if(h.g){gH(h);const I=h.g,R=h.v[0]?()=>{}:null;h.g=null,h.v=null,v||cs(h,"ready");try{I.onreadystatechange=R}catch{}}}function gH(h){h.I&&(a.clearTimeout(h.I),h.I=null)}function Ll(h){return h.g?h.g.readyState:0}function mH(h){try{if(!h.g)return null;if("response"in h.g)return h.g.response;switch(h.H){case"":case"text":return h.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in h.g)return h.g.mozResponseArrayBuffer}return null}catch{return null}}function a_(h,v,I){return I&&I.internalChannelParams&&I.internalChannelParams[h]||v}function yH(h){this.Aa=0,this.i=[],this.j=new Xy,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=a_("failFast",!1,h),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=a_("baseRetryDelayMs",5e3,h),this.cb=a_("retryDelaySeedMs",1e4,h),this.Wa=a_("forwardChannelMaxRetries",2,h),this.wa=a_("forwardChannelRequestTimeoutMs",2e4,h),this.pa=h&&h.xmlHttpFactory||void 0,this.Xa=h&&h.Tb||void 0,this.Ca=h&&h.useFetchStreams||!1,this.L=void 0,this.J=h&&h.supportsCrossDomainXhr||!1,this.K="",this.h=new Zz(h&&h.concurrentRequestLimit),this.Da=new Yae,this.P=h&&h.fastHandshake||!1,this.O=h&&h.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=h&&h.Rb||!1,h&&h.xa&&this.j.xa(),h&&h.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&h&&h.detectBufferingProxy||!1,this.ja=void 0,h&&h.longPollingTimeout&&0<h.longPollingTimeout&&(this.ja=h.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}function iP(h){if(_H(h),3==h.G){var v=h.U++,I=Vl(h.I);if(Xn(I,"SID",h.K),Xn(I,"RID",v),Xn(I,"TYPE","terminate"),l_(h,I),(v=new ac(h,h.j,v)).L=2,v.v=GI(Vl(I)),I=!1,a.navigator&&a.navigator.sendBeacon)try{I=a.navigator.sendBeacon(v.v.toString(),"")}catch{}!I&&a.Image&&((new Image).src=v.v,I=!0),I||(v.g=DH(v.j,null),v.g.ea(v.v)),v.F=Date.now(),zI(v)}TH(h)}function QI(h){h.g&&(oP(h),h.g.cancel(),h.g=null)}function _H(h){QI(h),h.u&&(a.clearTimeout(h.u),h.u=null),JI(h),h.h.cancel(),h.s&&("number"==typeof h.s&&a.clearTimeout(h.s),h.s=null)}function YI(h){if(!Xz(h.h)&&!h.s){h.s=!0;var v=h.Ga;Xe||xr(),ot||(Xe(),ot=!0),qt.add(v,h),h.B=0}}function vH(h,v){var I;I=v?v.l:h.U++;const R=Vl(h.I);Xn(R,"SID",h.K),Xn(R,"RID",I),Xn(R,"AID",h.T),l_(h,R),h.m&&h.o&&rP(R,h.m,h.o),I=new ac(h,h.j,I,h.B+1),null===h.m&&(I.H=h.o),v&&(h.i=v.D.concat(h.i)),v=wH(h,I,1e3),I.I=Math.round(.5*h.wa)+Math.round(.5*h.wa*Math.random()),nP(h.h,I),ZR(I,R,v)}function l_(h,v){h.H&&Me(h.H,function(I,R){Xn(v,R,I)}),h.l&&rH({},function(I,R){Xn(v,R,I)})}function wH(h,v,I){I=Math.min(h.i.length,I);var R=h.l?w(h.l.Na,h.l,h):null;e:{var Q=h.i;let se=-1;for(;;){const ke=["count="+I];-1==se?0<I?(se=Q[0].g,ke.push("ofs="+se)):se=0:ke.push("ofs="+se);let Fn=!0;for(let Di=0;Di<I;Di++){let cn=Q[Di].g;const ji=Q[Di].map;if(cn-=se,0>cn)se=Math.max(0,Q[Di].g-100),Fn=!1;else try{Jae(ji,ke,"req"+cn+"_")}catch{R&&R(ji)}}if(Fn){R=ke.join("&");break e}}}return h=h.i.splice(0,I),v.D=h,R}function EH(h){if(!h.g&&!h.u){h.Y=1;var v=h.Fa;Xe||xr(),ot||(Xe(),ot=!0),qt.add(v,h),h.v=0}}function sP(h){return!(h.g||h.u||3<=h.v||(h.Y++,h.u=Zy(w(h.Fa,h),AH(h,h.v)),h.v++,0))}function oP(h){null!=h.A&&(a.clearTimeout(h.A),h.A=null)}function IH(h){h.g=new ac(h,h.j,"rpc",h.Y),null===h.m&&(h.g.H=h.o),h.g.O=0;var v=Vl(h.qa);Xn(v,"RID","rpc"),Xn(v,"SID",h.K),Xn(v,"AID",h.T),Xn(v,"CI",h.F?"0":"1"),!h.F&&h.ja&&Xn(v,"TO",h.ja),Xn(v,"TYPE","xmlhttp"),l_(h,v),h.m&&h.o&&rP(v,h.m,h.o),h.L&&(h.g.I=h.L);var I=h.g;h=h.ia,I.L=1,I.v=GI(Vl(v)),I.m=null,I.P=!0,Qz(I,h)}function JI(h){null!=h.C&&(a.clearTimeout(h.C),h.C=null)}function bH(h,v){var I=null;if(h.g==v){JI(h),oP(h),h.g=null;var R=2}else{if(!tP(h.h,v))return;I=v.D,tH(h.h,v),R=1}if(0!=h.G)if(v.o)if(1==R){I=v.m?v.m.length:0,v=Date.now()-v.F;var Q=h.B;cs(R=BI(),new qz(R,I)),YI(h)}else EH(h);else if(3==(Q=v.s)||0==Q&&0<v.X||!(1==R&&function tle(h,v){return!(eH(h.h)>=h.h.j-(h.s?1:0)||(h.s?(h.i=v.D.concat(h.i),0):1==h.G||2==h.G||h.B>=(h.Va?0:h.Wa)||(h.s=Zy(w(h.Ga,h,v),AH(h,h.B)),h.B++,0)))}(h,v)||2==R&&sP(h)))switch(I&&0<I.length&&(v=h.h,v.i=v.i.concat(I)),Q){case 1:Hd(h,5);break;case 4:Hd(h,10);break;case 3:Hd(h,6);break;default:Hd(h,2)}}function AH(h,v){let I=h.Ta+Math.floor(Math.random()*h.cb);return h.isActive()||(I*=2),I*v}function Hd(h,v){if(h.j.info("Error code "+v),2==v){var I=w(h.fb,h),R=h.Xa;const Q=!R;R=new zd(R||"//www.google.com/images/cleardot.gif"),a.location&&"http"==a.location.protocol||HI(R,"https"),GI(R),Q?function Kae(h,v){const I=new Xy;if(a.Image){const R=new Image;R.onload=b(uc,I,"TestLoadImage: loaded",!0,v,R),R.onerror=b(uc,I,"TestLoadImage: error",!1,v,R),R.onabort=b(uc,I,"TestLoadImage: abort",!1,v,R),R.ontimeout=b(uc,I,"TestLoadImage: timeout",!1,v,R),a.setTimeout(function(){R.ontimeout&&R.ontimeout()},1e4),R.src=h}else v(!1)}(R.toString(),I):function Qae(h,v){new Xy;const R=new AbortController,Q=setTimeout(()=>{R.abort(),uc(0,0,!1,v)},1e4);fetch(h,{signal:R.signal}).then(se=>{clearTimeout(Q),uc(0,0,!!se.ok,v)}).catch(()=>{clearTimeout(Q),uc(0,0,!1,v)})}(R.toString(),I)}else ds(2);h.G=0,h.l&&h.l.sa(v),TH(h),_H(h)}function TH(h){if(h.G=0,h.ka=[],h.l){const v=nH(h.h);(0!=v.length||0!=h.i.length)&&(P(h.ka,v),P(h.ka,h.i),h.h.i.length=0,S(h.i),h.i.length=0),h.l.ra()}}function CH(h,v,I){var R=I instanceof zd?Vl(I):new zd(I);if(""!=R.g)v&&(R.g=v+"."+R.g),qI(R,R.s);else{var Q=a.location;R=Q.protocol,v=v?v+"."+Q.hostname:Q.hostname,Q=+Q.port;var se=new zd(null);R&&HI(se,R),v&&(se.g=v),Q&&qI(se,Q),I&&(se.l=I),R=se}return v=h.ya,(I=h.D)&&v&&Xn(R,I,v),Xn(R,"VER",h.la),l_(h,R),R}function DH(h,v,I){if(v&&!h.J)throw Error("Can't create secondary domain capable XhrIo object.");return(v=new Ir(h.Ca&&!h.pa?new i_({eb:I}):h.pa)).Ha(h.J),v}function SH(){}function ZI(){}function Js(h,v){Bi.call(this),this.g=new yH(v),this.l=h,this.h=v&&v.messageUrlParams||null,h=v&&v.messageHeaders||null,v&&v.clientProtocolHeaderRequired&&(h?h["X-Client-Protocol"]="webchannel":h={"X-Client-Protocol":"webchannel"}),this.g.o=h,h=v&&v.initMessageHeaders||null,v&&v.messageContentType&&(h?h["X-WebChannel-Content-Type"]=v.messageContentType:h={"X-WebChannel-Content-Type":v.messageContentType}),v&&v.va&&(h?h["X-WebChannel-Client-Profile"]=v.va:h={"X-WebChannel-Client-Profile":v.va}),this.g.S=h,(h=v&&v.Sb)&&!j(h)&&(this.g.m=h),this.v=v&&v.supportsCrossDomainXhr||!1,this.u=v&&v.sendRawJson||!1,(v=v&&v.httpSessionIdParam)&&!j(v)&&(this.g.D=v,null!==(h=this.h)&&v in h&&v in(h=this.h)&&delete h[v]),this.j=new xp(this)}function RH(h){KR.call(this),h.__headers__&&(this.headers=h.__headers__,this.statusCode=h.__status__,delete h.__headers__,delete h.__status__);var v=h.__sm__;if(v){e:{for(const I in v){h=I;break e}h=void 0}(this.i=h)&&(h=this.i,v=null!==v&&h in v?v[h]:void 0),this.data=v}else this.data=h}function PH(){QR.call(this),this.status=1}function xp(h){this.g=h}(n=Ir.prototype).Ha=function(h){this.J=h},n.ea=function(h,v,I,R){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+h);v=v?v.toUpperCase():"GET",this.D=h,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():YR.g(),this.v=function Bz(h){return h.h||(h.h=h.i())}(this.o?this.o:YR),this.g.onreadystatechange=w(this.Ea,this);try{this.B=!0,this.g.open(v,String(h),!0),this.B=!1}catch(se){return void hH(this,se)}if(h=I||"",I=new Map(this.headers),R)if(Object.getPrototypeOf(R)===Object.prototype)for(var Q in R)I.set(Q,R[Q]);else{if("function"!=typeof R.keys||"function"!=typeof R.get)throw Error("Unknown input type for opt_headers: "+String(R));for(const se of R.keys())I.set(se,R.get(se))}R=Array.from(I.keys()).find(se=>"content-type"==se.toLowerCase()),Q=a.FormData&&h instanceof a.FormData,!(0<=Array.prototype.indexOf.call(Xae,v,void 0))||R||Q||I.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[se,ke]of I)this.g.setRequestHeader(se,ke);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{gH(this),this.u=!0,this.g.send(h),this.u=!1}catch(se){hH(this,se)}},n.abort=function(h){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=h||7,cs(this,"complete"),cs(this,"abort"),KI(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),KI(this,!0)),Ir.aa.N.call(this)},n.Ea=function(){this.s||(this.B||this.u||this.j?pH(this):this.bb())},n.bb=function(){pH(this)},n.isActive=function(){return!!this.g},n.Z=function(){try{return 2<Ll(this)?this.g.status:-1}catch{return-1}},n.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.Oa=function(h){if(this.g){var v=this.g.responseText;return h&&0==v.indexOf(h)&&(v=v.substring(h.length)),Mae(v)}},n.Ba=function(){return this.m},n.Ka=function(){return"string"==typeof this.l?this.l:String(this.l)},(n=yH.prototype).la=8,n.G=1,n.connect=function(h,v,I,R){ds(0),this.W=h,this.H=v||{},I&&void 0!==R&&(this.H.OSID=I,this.H.OAID=R),this.F=this.X,this.I=CH(this,null,this.W),YI(this)},n.Ga=function(h){if(this.s)if(this.s=null,1==this.G){if(!h){this.U=Math.floor(1e5*Math.random()),h=this.U++;const Q=new ac(this,this.j,h);let se=this.o;if(this.S&&(se?(se=N(se),z(se,this.S)):se=this.S),null!==this.m||this.O||(Q.H=se,se=null),this.P)e:{for(var v=0,I=0;I<this.i.length;I++){var R=this.i[I];if(void 0===(R="__data__"in R.map&&"string"==typeof(R=R.map.__data__)?R.length:void 0))break;if(4096<(v+=R)){v=I;break e}if(4096===v||I===this.i.length-1){v=I+1;break e}}v=1e3}else v=1e3;v=wH(this,Q,v),Xn(I=Vl(this.I),"RID",h),Xn(I,"CVER",22),this.D&&Xn(I,"X-HTTP-Session-Id",this.D),l_(this,I),se&&(this.O?v="headers="+encodeURIComponent(String(dH(se)))+"&"+v:this.m&&rP(I,this.m,se)),nP(this.h,Q),this.Ua&&Xn(I,"TYPE","init"),this.P?(Xn(I,"$req",v),Xn(I,"SID","null"),Q.T=!0,ZR(Q,I,null)):ZR(Q,I,v),this.G=2}}else 3==this.G&&(h?vH(this,h):0==this.i.length||Xz(this.h)||vH(this))},n.Fa=function(){if(this.u=null,IH(this),this.ba&&!(this.M||null==this.g||0>=this.R)){var h=2*this.R;this.j.info("BP detection timer enabled: "+h),this.A=Zy(w(this.ab,this),h)}},n.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,ds(10),QI(this),IH(this))},n.Za=function(){null!=this.C&&(this.C=null,QI(this),sP(this),ds(19))},n.fb=function(h){h?(this.j.info("Successfully pinged google.com"),ds(2)):(this.j.info("Failed to ping google.com"),ds(1))},n.isActive=function(){return!!this.l&&this.l.isActive(this)},(n=SH.prototype).ua=function(){},n.ta=function(){},n.sa=function(){},n.ra=function(){},n.isActive=function(){return!0},n.Na=function(){},ZI.prototype.g=function(h,v){return new Js(h,v)},C(Js,Bi),Js.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Js.prototype.close=function(){iP(this.g)},Js.prototype.o=function(h){var v=this.g;if("string"==typeof h){var I={};I.__data__=h,h=I}else this.u&&((I={}).__data__=GR(h),h=I);v.i.push(new Lae(v.Ya++,h)),3==v.G&&YI(v)},Js.prototype.N=function(){this.g.l=null,delete this.j,iP(this.g),delete this.g,Js.aa.N.call(this)},C(RH,KR),C(PH,QR),C(xp,SH),xp.prototype.ua=function(){cs(this.g,"a")},xp.prototype.ta=function(h){cs(this.g,new RH(h))},xp.prototype.sa=function(h){cs(this.g,new PH)},xp.prototype.ra=function(){cs(this.g,"b")},ZI.prototype.createWebChannel=ZI.prototype.g,Js.prototype.send=Js.prototype.o,Js.prototype.open=Js.prototype.m,Js.prototype.close=Js.prototype.close,dU=Tl.createWebChannelTransport=function(){return new ZI},cU=Tl.getStatEventTarget=function(){return BI()},uU=Tl.Event=jd,rD=Tl.Stat={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},jI.NO_ERROR=0,jI.TIMEOUT=8,jI.HTTP_ERROR=6,ME=Tl.ErrorCode=jI,Gz.COMPLETE="complete",lU=Tl.EventType=Gz,jz.EventType=Yy,Yy.OPEN="a",Yy.CLOSE="b",Yy.ERROR="c",Yy.MESSAGE="d",Bi.prototype.listen=Bi.prototype.K,iy=Tl.WebChannel=jz,aU=Tl.FetchXmlHttpFactory=i_,Ir.prototype.listenOnce=Ir.prototype.L,Ir.prototype.getLastError=Ir.prototype.Ka,Ir.prototype.getLastErrorCode=Ir.prototype.Ba,Ir.prototype.getStatus=Ir.prototype.Z,Ir.prototype.getResponseJson=Ir.prototype.Oa,Ir.prototype.getResponseText=Ir.prototype.oa,Ir.prototype.send=Ir.prototype.ea,Ir.prototype.setWithCredentials=Ir.prototype.Ha,oU=Tl.XhrIo=Ir}).apply(typeof PE<"u"?PE:typeof self<"u"?self:typeof window<"u"?window:{});const hU="@firebase/firestore";class hi{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}hi.UNAUTHENTICATED=new hi(null),hi.GOOGLE_CREDENTIALS=new hi("google-credentials-uid"),hi.FIRST_PARTY=new hi("first-party-uid"),hi.MOCK_USER=new hi("mock-user");let Gf="10.13.2";const Fu=new Da.Vy("@firebase/firestore");function Wf(){return Fu.logLevel}function we(n,...e){if(Fu.logLevel<=Da.$b.DEBUG){const t=e.map(iD);Fu.debug(`Firestore (${Gf}): ${n}`,...t)}}function Mr(n,...e){if(Fu.logLevel<=Da.$b.ERROR){const t=e.map(iD);Fu.error(`Firestore (${Gf}): ${n}`,...t)}}function Ss(n,...e){if(Fu.logLevel<=Da.$b.WARN){const t=e.map(iD);Fu.warn(`Firestore (${Gf}): ${n}`,...t)}}function iD(n){if("string"==typeof n)return n;try{return JSON.stringify(n)}catch{return n}}function qe(n="Unexpected state"){const e=`FIRESTORE (${Gf}) INTERNAL ASSERTION FAILED: `+n;throw Mr(e),new Error(e)}function Qe(n,e){n||qe()}function Oe(n,e){return n}const re={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class me extends un.g{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class ni{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class fU{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class nne{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(hi.UNAUTHENTICATED))}shutdown(){}}class rne{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class ine{constructor(e){this.t=e,this.currentUser=hi.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){var r=this;let i=this.i;const s=c=>this.i!==i?(i=this.i,t(c)):Promise.resolve();let o=new ni;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new ni,e.enqueueRetryable(()=>s(this.currentUser))};const a=()=>{const c=o;e.enqueueRetryable((0,T.A)(function*(){yield c.promise,yield s(r.currentUser)}))},l=c=>{we("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=c,this.auth.addAuthTokenListener(this.o),a()};this.t.onInit(c=>l(c)),setTimeout(()=>{if(!this.auth){const c=this.t.getImmediate({optional:!0});c?l(c):(we("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new ni)}},0),a()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(r=>this.i!==e?(we("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Qe("string"==typeof r.accessToken),new fU(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return Qe(null===e||"string"==typeof e),new hi(e)}}class sne{constructor(e,t,r){this.l=e,this.h=t,this.P=r,this.type="FirstParty",this.user=hi.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class one{constructor(e,t,r){this.l=e,this.h=t,this.P=r}getToken(){return Promise.resolve(new sne(this.l,this.h,this.P))}start(e,t){e.enqueueRetryable(()=>t(hi.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class pU{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class ane{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,t){const r=s=>{null!=s.error&&we("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const o=s.token!==this.R;return this.R=s.token,we("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?t(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};const i=s=>{we("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.appCheck.addTokenListener(this.o)};this.A.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.A.getImmediate({optional:!0});s?i(s):we("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(Qe("string"==typeof t.token),this.R=t.token,new pU(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function lne(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}class gU{static newId(){const t=62*Math.floor(256/62);let r="";for(;r.length<20;){const i=lne(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<t&&(r+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".charAt(i[s]%62))}return r}}function Et(n,e){return n<e?-1:n>e?1:0}function Kf(n,e,t){return n.length===e.length&&n.every((r,i)=>t(r,e[i]))}function mU(n){return n+"\0"}class sr{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new me(re.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new me(re.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new me(re.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new me(re.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return sr.fromMillis(Date.now())}static fromDate(e){return sr.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*t));return new sr(t,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Et(this.nanoseconds,e.nanoseconds):Et(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class Ze{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Ze(e)}static min(){return new Ze(new sr(0,0))}static max(){return new Ze(new sr(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class sy{constructor(e,t,r){void 0===t?t=0:t>e.length&&qe(),void 0===r?r=e.length-t:r>e.length-t&&qe(),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return 0===sy.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof sy?e.forEach(r=>{t.push(r)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const r=Math.min(e.length,t.length);for(let i=0;i<r;i++){const s=e.get(i),o=t.get(i);if(s<o)return-1;if(s>o)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class Kt extends sy{construct(e,t,r){return new Kt(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const r of e){if(r.indexOf("//")>=0)throw new me(re.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter(i=>i.length>0))}return new Kt(t)}static emptyPath(){return new Kt([])}}const une=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Kn extends sy{construct(e,t,r){return new Kn(e,t,r)}static isValidIdentifier(e){return une.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Kn.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new Kn(["__name__"])}static fromServerFormat(e){const t=[];let r="",i=0;const s=()=>{if(0===r.length)throw new me(re.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""};let o=!1;for(;i<e.length;){const a=e[i];if("\\"===a){if(i+1===e.length)throw new me(re.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[i+1];if("\\"!==l&&"."!==l&&"`"!==l)throw new me(re.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=l,i+=2}else"`"===a?(o=!o,i++):"."!==a||o?(r+=a,i++):(s(),i++)}if(s(),o)throw new me(re.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Kn(t)}static emptyPath(){return new Kn([])}}class Fe{constructor(e){this.path=e}static fromPath(e){return new Fe(Kt.fromString(e))}static fromName(e){return new Fe(Kt.fromString(e).popFirst(5))}static empty(){return new Fe(Kt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===Kt.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return Kt.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Fe(new Kt(e.slice()))}}class Qf{constructor(e,t,r,i){this.indexId=e,this.collectionGroup=t,this.fields=r,this.indexState=i}}function sD(n){return n.fields.find(e=>2===e.kind)}function _d(n){return n.fields.filter(e=>2!==e.kind)}Qf.UNKNOWN_ID=-1;class vd{constructor(e,t){this.fieldPath=e,this.kind=t}}class Yf{constructor(e,t){this.sequenceNumber=e,this.offset=t}static empty(){return new Yf(0,Qs.min())}}function yU(n,e){const t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,i=Ze.fromTimestamp(1e9===r?new sr(t+1,0):new sr(t,r));return new Qs(i,Fe.empty(),e)}function _U(n){return new Qs(n.readTime,n.key,-1)}class Qs{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new Qs(Ze.min(),Fe.empty(),-1)}static max(){return new Qs(Ze.max(),Fe.empty(),-1)}}function oD(n,e){let t=n.readTime.compareTo(e.readTime);return 0!==t?t:(t=Fe.comparator(n.documentKey,e.documentKey),0!==t?t:Et(n.largestBatchId,e.largestBatchId))}const vU="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class wU{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}function Vu(n){return aD.apply(this,arguments)}function aD(){return(aD=(0,T.A)(function*(n){if(n.code!==re.FAILED_PRECONDITION||n.message!==vU)throw n;we("LocalStore","Unexpectedly lost primary lease")})).apply(this,arguments)}class Y{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&qe(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new Y((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(t,s).next(r,i)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof Y?t:Y.resolve(t)}catch(t){return Y.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):Y.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):Y.reject(t)}static resolve(e){return new Y((t,r)=>{t(e)})}static reject(e){return new Y((t,r)=>{r(e)})}static waitFor(e){return new Y((t,r)=>{let i=0,s=0,o=!1;e.forEach(a=>{++i,a.next(()=>{++s,o&&s===i&&t()},l=>r(l))}),o=!0,s===i&&t()})}static or(e){let t=Y.resolve(!1);for(const r of e)t=t.next(i=>i?Y.resolve(i):r());return t}static forEach(e,t){const r=[];return e.forEach((i,s)=>{r.push(t.call(this,i,s))}),this.waitFor(r)}static mapArray(e,t){return new Y((r,i)=>{const s=e.length,o=new Array(s);let a=0;for(let l=0;l<s;l++){const c=l;t(e[c]).next(p=>{o[c]=p,++a,a===s&&r(o)},p=>i(p))}})}static doWhile(e,t){return new Y((r,i)=>{const s=()=>{!0===e()?t().next(()=>{s()},i):r()};s()})}}class NE{constructor(e,t){this.action=e,this.transaction=t,this.aborted=!1,this.V=new ni,this.transaction.oncomplete=()=>{this.V.resolve()},this.transaction.onabort=()=>{t.error?this.V.reject(new oy(e,t.error)):this.V.resolve()},this.transaction.onerror=r=>{const i=lD(r.target.error);this.V.reject(new oy(e,i))}}static open(e,t,r,i){try{return new NE(t,e.transaction(i,r))}catch(s){throw new oy(t,s)}}get m(){return this.V.promise}abort(e){e&&this.V.reject(e),this.aborted||(we("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}g(){const e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}store(e){const t=this.transaction.objectStore(e);return new fne(t)}}class Sa{constructor(e,t,r){this.name=e,this.version=t,this.p=r,12.2===Sa.S((0,un.ZQ)())&&Mr("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return we("SimpleDb","Removing database:",e),wd(window.indexedDB.deleteDatabase(e)).toPromise()}static D(){if(!(0,un.zW)())return!1;if(Sa.v())return!0;const e=(0,un.ZQ)(),t=Sa.S(e),r=0<t&&t<10,i=EU(e),s=0<i&&i<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||s)}static v(){var e;return typeof process<"u"&&"YES"===(null===(e=process.__PRIVATE_env)||void 0===e?void 0:e.C)}static F(e,t){return e.store(t)}static S(e){const t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),r=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(r)}M(e){var t=this;return(0,T.A)(function*(){return t.db||(we("SimpleDb","Opening database:",t.name),t.db=yield new Promise((r,i)=>{const s=indexedDB.open(t.name,t.version);s.onsuccess=o=>{r(o.target.result)},s.onblocked=()=>{i(new oy(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},s.onerror=o=>{const a=o.target.error;i("VersionError"===a.name?new me(re.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===a.name?new me(re.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+a):new oy(e,a))},s.onupgradeneeded=o=>{we("SimpleDb",'Database "'+t.name+'" requires upgrade from version:',o.oldVersion),t.p.O(o.target.result,s.transaction,o.oldVersion,t.version).next(()=>{we("SimpleDb","Database upgrade to version "+t.version+" complete")})}})),t.N&&(t.db.onversionchange=r=>t.N(r)),t.db})()}L(e){this.N=e,this.db&&(this.db.onversionchange=t=>e(t))}runTransaction(e,t,r,i){var s=this;return(0,T.A)(function*(){const o="readonly"===t;let a=0;for(;;){++a;try{s.db=yield s.M(e);const l=NE.open(s.db,e,o?"readonly":"readwrite",r),c=i(l).next(p=>(l.g(),p)).catch(p=>(l.abort(p),Y.reject(p))).toPromise();return c.catch(()=>{}),yield l.m,c}catch(l){const c=l,p="FirebaseError"!==c.name&&a<3;if(we("SimpleDb","Transaction failed with error:",c.message,"Retrying:",p),s.close(),!p)return Promise.reject(c)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}function EU(n){const e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}class hne{constructor(e){this.B=e,this.k=!1,this.q=null}get isDone(){return this.k}get K(){return this.q}set cursor(e){this.B=e}done(){this.k=!0}$(e){this.q=e}delete(){return wd(this.B.delete())}}class oy extends me{constructor(e,t){super(re.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${t}`),this.name="IndexedDbTransactionError"}}function Lu(n){return"IndexedDbTransactionError"===n.name}class fne{constructor(e){this.store=e}put(e,t){let r;return void 0!==t?(we("SimpleDb","PUT",this.store.name,e,t),r=this.store.put(t,e)):(we("SimpleDb","PUT",this.store.name,"<auto-key>",e),r=this.store.put(e)),wd(r)}add(e){return we("SimpleDb","ADD",this.store.name,e,e),wd(this.store.add(e))}get(e){return wd(this.store.get(e)).next(t=>(void 0===t&&(t=null),we("SimpleDb","GET",this.store.name,e,t),t))}delete(e){return we("SimpleDb","DELETE",this.store.name,e),wd(this.store.delete(e))}count(){return we("SimpleDb","COUNT",this.store.name),wd(this.store.count())}U(e,t){const r=this.options(e,t),i=r.index?this.store.index(r.index):this.store;if("function"==typeof i.getAll){const s=i.getAll(r.range);return new Y((o,a)=>{s.onerror=l=>{a(l.target.error)},s.onsuccess=l=>{o(l.target.result)}})}{const s=this.cursor(r),o=[];return this.W(s,(a,l)=>{o.push(l)}).next(()=>o)}}G(e,t){const r=this.store.getAll(e,null===t?void 0:t);return new Y((i,s)=>{r.onerror=o=>{s(o.target.error)},r.onsuccess=o=>{i(o.target.result)}})}j(e,t){we("SimpleDb","DELETE ALL",this.store.name);const r=this.options(e,t);r.H=!1;const i=this.cursor(r);return this.W(i,(s,o,a)=>a.delete())}J(e,t){let r;t?r=e:(r={},t=e);const i=this.cursor(r);return this.W(i,t)}Y(e){const t=this.cursor({});return new Y((r,i)=>{t.onerror=s=>{const o=lD(s.target.error);i(o)},t.onsuccess=s=>{const o=s.target.result;o?e(o.primaryKey,o.value).next(a=>{a?o.continue():r()}):r()}})}W(e,t){const r=[];return new Y((i,s)=>{e.onerror=o=>{s(o.target.error)},e.onsuccess=o=>{const a=o.target.result;if(!a)return void i();const l=new hne(a),c=t(a.primaryKey,a.value,l);if(c instanceof Y){const p=c.catch(m=>(l.done(),Y.reject(m)));r.push(p)}l.isDone?i():null===l.K?a.continue():a.continue(l.K)}}).next(()=>Y.waitFor(r))}options(e,t){let r;return void 0!==e&&("string"==typeof e?r=e:t=e),{index:r,range:t}}cursor(e){let t="next";if(e.reverse&&(t="prev"),e.index){const r=this.store.index(e.index);return e.H?r.openKeyCursor(e.range,t):r.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}function wd(n){return new Y((e,t)=>{n.onsuccess=r=>{e(r.target.result)},n.onerror=r=>{const i=lD(r.target.error);t(i)}})}let IU=!1;function lD(n){const e=Sa.S((0,un.ZQ)());if(e>=12.2&&e<13){const t="An internal error was encountered in the Indexed Database server";if(n.message.indexOf(t)>=0){const r=new me("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${t}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return IU||(IU=!0,setTimeout(()=>{throw r},0)),r}}return n}class pne{constructor(e,t){this.asyncQueue=e,this.Z=t,this.task=null}start(){this.X(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return null!==this.task}X(e){var t=this;we("IndexBackfiller",`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,(0,T.A)(function*(){t.task=null;try{we("IndexBackfiller",`Documents written: ${yield t.Z.ee()}`)}catch(r){Lu(r)?we("IndexBackfiller","Ignoring IndexedDB error during index backfill: ",r):yield Vu(r)}yield t.X(6e4)}))}}class gne{constructor(e,t){this.localStore=e,this.persistence=t}ee(e=50){var t=this;return(0,T.A)(function*(){return t.persistence.runTransaction("Backfill Indexes","readwrite-primary",r=>t.te(r,e))})()}te(e,t){const r=new Set;let i=t,s=!0;return Y.doWhile(()=>!0===s&&i>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next(o=>{if(null!==o&&!r.has(o))return we("IndexBackfiller",`Processing collection: ${o}`),this.ne(e,o,i).next(a=>{i-=a,r.add(o)});s=!1})).next(()=>t-i)}ne(e,t,r){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,t).next(i=>this.localStore.localDocuments.getNextDocuments(e,t,i,r).next(s=>{const o=s.changes;return this.localStore.indexManager.updateIndexEntries(e,o).next(()=>this.re(i,s)).next(a=>(we("IndexBackfiller",`Updating offset: ${a}`),this.localStore.indexManager.updateCollectionGroup(e,t,a))).next(()=>o.size)}))}re(e,t){let r=e;return t.changes.forEach((i,s)=>{const o=_U(s);oD(o,r)>0&&(r=o)}),new Qs(r.readTime,r.documentKey,Math.max(t.batchId,e.largestBatchId))}}let Ys=(()=>{class n{constructor(t,r){this.previousValue=t,r&&(r.sequenceNumberHandler=i=>this.ie(i),this.se=i=>r.writeSequenceNumber(i))}ie(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.se&&this.se(t),t}}return n.oe=-1,n})();function ay(n){return null==n}function ly(n){return 0===n&&1/n==-1/0}function bU(n){return"number"==typeof n&&Number.isInteger(n)&&!ly(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}function Fi(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=AU(e)),e=mne(n.get(t),e);return AU(e)}function mne(n,e){let t=e;const r=n.length;for(let i=0;i<r;i++){const s=n.charAt(i);switch(s){case"\0":t+="\x01\x10";break;case"\x01":t+="\x01\x11";break;default:t+=s}}return t}function AU(n){return n+"\x01\x01"}function Ra(n){const e=n.length;if(Qe(e>=2),2===e)return Qe("\x01"===n.charAt(0)&&"\x01"===n.charAt(1)),Kt.emptyPath();const t=e-2,r=[];let i="";for(let s=0;s<e;){const o=n.indexOf("\x01",s);switch((o<0||o>t)&&qe(),n.charAt(o+1)){case"\x01":const a=n.substring(s,o);let l;0===i.length?l=a:(i+=a,l=i,i=""),r.push(l);break;case"\x10":i+=n.substring(s,o),i+="\0";break;case"\x11":i+=n.substring(s,o+1);break;default:qe()}s=o+2}return new Kt(r)}const TU=["userId","batchId"];function xE(n,e){return[n,Fi(e)]}function CU(n,e,t){return[n,Fi(e),t]}const yne={},_ne=["prefixPath","collectionGroup","readTime","documentId"],vne=["prefixPath","collectionGroup","documentId"],wne=["collectionGroup","readTime","prefixPath","documentId"],Ene=["canonicalId","targetId"],Ine=["targetId","path"],bne=["path","targetId"],Ane=["collectionId","parent"],Tne=["indexId","uid"],Cne=["uid","sequenceNumber"],Dne=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],Sne=["indexId","uid","orderedDocumentKey"],Rne=["userId","collectionPath","documentId"],Pne=["userId","collectionPath","largestBatchId"],Mne=["userId","collectionGroup","largestBatchId"],DU=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],Nne=[...DU,"documentOverlays"],SU=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],RU=SU,uD=[...RU,"indexConfiguration","indexState","indexEntries"],xne=uD,One=[...uD,"globals"];class cD extends wU{constructor(e,t){super(),this._e=e,this.currentSequenceNumber=t}}function ri(n,e){const t=Oe(n);return Sa.F(t._e,e)}function PU(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function Uu(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function NU(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}class $n{constructor(e,t){this.comparator=e,this.root=t||Ai.EMPTY}insert(e,t){return new $n(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Ai.BLACK,null,null))}remove(e){return new $n(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Ai.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const r=this.comparator(e,t.key);if(0===r)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(0===i)return t+r.left.size;i<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,r)=>(e(t,r),!1))}toString(){const e=[];return this.inorderTraversal((t,r)=>(e.push(`${t}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new OE(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new OE(this.root,e,this.comparator,!1)}getReverseIterator(){return new OE(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new OE(this.root,e,this.comparator,!0)}}class OE{constructor(e,t,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=t?r(e.key,t):1,t&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(0===s){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Ai{constructor(e,t,r,i,s){this.key=e,this.value=t,this.color=r??Ai.RED,this.left=i??Ai.EMPTY,this.right=s??Ai.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,i,s){return new Ai(e??this.key,t??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let i=this;const s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,t,r),null):0===s?i.copy(null,t,null,null,null):i.copy(null,null,null,null,i.right.insert(e,t,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Ai.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,i=this;if(t(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,t),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===t(e,i.key)){if(i.right.isEmpty())return Ai.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,t))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Ai.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Ai.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw qe();const e=this.left.check();if(e!==this.right.check())throw qe();return e+(this.isRed()?0:1)}}Ai.EMPTY=null,Ai.RED=!0,Ai.BLACK=!1,Ai.EMPTY=new class{constructor(){this.size=0}get key(){throw qe()}get value(){throw qe()}get color(){throw qe()}get left(){throw qe()}get right(){throw qe()}copy(e,t,r,i,s){return this}insert(e,t,r){return new Ai(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Dn{constructor(e){this.comparator=e,this.data=new $n(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,r)=>(e(t),!1))}forEachInRange(e,t){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;t(i.key)}}forEachWhile(e,t){let r;for(r=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new xU(this.data.getIterator())}getIteratorFrom(e){return new xU(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(r=>{t=t.add(r)}),t}isEqual(e){if(!(e instanceof Dn)||this.size!==e.size)return!1;const t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){const i=t.getNext().key,s=r.getNext().key;if(0!==this.comparator(i,s))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new Dn(this.comparator);return t.data=e,t}}class xU{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function Jf(n){return n.hasNext()?n.getNext():void 0}class Rs{constructor(e){this.fields=e,e.sort(Kn.comparator)}static empty(){return new Rs([])}unionWith(e){let t=new Dn(Kn.comparator);for(const r of this.fields)t=t.add(r);for(const r of e)t=t.add(r);return new Rs(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Kf(this.fields,e.fields,(t,r)=>t.isEqual(r))}}class OU extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class vr{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new OU("Invalid base64 string: "+s):s}}(e);return new vr(t)}static fromUint8Array(e){const t=function(i){let s="";for(let o=0;o<i.length;++o)s+=String.fromCharCode(i[o]);return s}(e);return new vr(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(t){const r=new Uint8Array(t.length);for(let i=0;i<t.length;i++)r[i]=t.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Et(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}vr.EMPTY_BYTE_STRING=new vr("");const Fne=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Cl(n){if(Qe(!!n),"string"==typeof n){let e=0;const t=Fne.exec(n);if(Qe(!!t),t[1]){let i=t[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:or(n.seconds),nanos:or(n.nanos)}}function or(n){return"number"==typeof n?n:"string"==typeof n?Number(n):0}function Dl(n){return"string"==typeof n?vr.fromBase64String(n):vr.fromUint8Array(n)}function kE(n){var e,t;return"server_timestamp"===(null===(t=((null===(e=n?.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===t?void 0:t.stringValue)}function FE(n){const e=n.mapValue.fields.__previous_value__;return kE(e)?FE(e):e}function uy(n){const e=Cl(n.mapValue.fields.__local_write_time__.timestampValue);return new sr(e.seconds,e.nanos)}class Vne{constructor(e,t,r,i,s,o,a,l,c){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=l,this.useFetchStreams=c}}class Bu{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new Bu("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof Bu&&e.projectId===this.projectId&&e.database===this.database}}const ju={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},VE={nullValue:"NULL_VALUE"};function $u(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?kE(n)?4:UU(n)?9007199254740991:BE(n)?10:11:qe()}function Pa(n,e){if(n===e)return!0;const t=$u(n);if(t!==$u(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return uy(n).isEqual(uy(e));case 3:return function(i,s){if("string"==typeof i.timestampValue&&"string"==typeof s.timestampValue&&i.timestampValue.length===s.timestampValue.length)return i.timestampValue===s.timestampValue;const o=Cl(i.timestampValue),a=Cl(s.timestampValue);return o.seconds===a.seconds&&o.nanos===a.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return s=e,Dl(n.bytesValue).isEqual(Dl(s.bytesValue));case 7:return n.referenceValue===e.referenceValue;case 8:return function(i,s){return or(i.geoPointValue.latitude)===or(s.geoPointValue.latitude)&&or(i.geoPointValue.longitude)===or(s.geoPointValue.longitude)}(n,e);case 2:return function(i,s){if("integerValue"in i&&"integerValue"in s)return or(i.integerValue)===or(s.integerValue);if("doubleValue"in i&&"doubleValue"in s){const o=or(i.doubleValue),a=or(s.doubleValue);return o===a?ly(o)===ly(a):isNaN(o)&&isNaN(a)}return!1}(n,e);case 9:return Kf(n.arrayValue.values||[],e.arrayValue.values||[],Pa);case 10:case 11:return function(i,s){const o=i.mapValue.fields||{},a=s.mapValue.fields||{};if(PU(o)!==PU(a))return!1;for(const l in o)if(o.hasOwnProperty(l)&&(void 0===a[l]||!Pa(o[l],a[l])))return!1;return!0}(n,e);default:return qe()}var s}function cy(n,e){return void 0!==(n.values||[]).find(t=>Pa(t,e))}function zu(n,e){if(n===e)return 0;const t=$u(n),r=$u(e);if(t!==r)return Et(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return Et(n.booleanValue,e.booleanValue);case 2:return function(s,o){const a=or(s.integerValue||s.doubleValue),l=or(o.integerValue||o.doubleValue);return a<l?-1:a>l?1:a===l?0:isNaN(a)?isNaN(l)?0:-1:1}(n,e);case 3:return kU(n.timestampValue,e.timestampValue);case 4:return kU(uy(n),uy(e));case 5:return Et(n.stringValue,e.stringValue);case 6:return function(s,o){const a=Dl(s),l=Dl(o);return a.compareTo(l)}(n.bytesValue,e.bytesValue);case 7:return function(s,o){const a=s.split("/"),l=o.split("/");for(let c=0;c<a.length&&c<l.length;c++){const p=Et(a[c],l[c]);if(0!==p)return p}return Et(a.length,l.length)}(n.referenceValue,e.referenceValue);case 8:return function(s,o){const a=Et(or(s.latitude),or(o.latitude));return 0!==a?a:Et(or(s.longitude),or(o.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return FU(n.arrayValue,e.arrayValue);case 10:return function(s,o){var a,l,c,p;const b=null===(a=(s.fields||{}).value)||void 0===a?void 0:a.arrayValue,C=null===(l=(o.fields||{}).value)||void 0===l?void 0:l.arrayValue,S=Et((null===(c=b?.values)||void 0===c?void 0:c.length)||0,(null===(p=C?.values)||void 0===p?void 0:p.length)||0);return 0!==S?S:FU(b,C)}(n.mapValue,e.mapValue);case 11:return function(s,o){if(s===ju.mapValue&&o===ju.mapValue)return 0;if(s===ju.mapValue)return 1;if(o===ju.mapValue)return-1;const a=s.fields||{},l=Object.keys(a),c=o.fields||{},p=Object.keys(c);l.sort(),p.sort();for(let m=0;m<l.length&&m<p.length;++m){const w=Et(l[m],p[m]);if(0!==w)return w;const b=zu(a[l[m]],c[p[m]]);if(0!==b)return b}return Et(l.length,p.length)}(n.mapValue,e.mapValue);default:throw qe()}}function kU(n,e){if("string"==typeof n&&"string"==typeof e&&n.length===e.length)return Et(n,e);const t=Cl(n),r=Cl(e),i=Et(t.seconds,r.seconds);return 0!==i?i:Et(t.nanos,r.nanos)}function FU(n,e){const t=n.values||[],r=e.values||[];for(let i=0;i<t.length&&i<r.length;++i){const s=zu(t[i],r[i]);if(s)return s}return Et(t.length,r.length)}function Zf(n){return dD(n)}function dD(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(t){const r=Cl(t);return`time(${r.seconds},${r.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?Dl(n.bytesValue).toBase64():"referenceValue"in n?Fe.fromName(n.referenceValue).toString():"geoPointValue"in n?function(t){return`geo(${t.latitude},${t.longitude})`}(n.geoPointValue):"arrayValue"in n?function(t){let r="[",i=!0;for(const s of t.values||[])i?i=!1:r+=",",r+=dD(s);return r+"]"}(n.arrayValue):"mapValue"in n?function(t){const r=Object.keys(t.fields||{}).sort();let i="{",s=!0;for(const o of r)s?s=!1:i+=",",i+=`${o}:${dD(t.fields[o])}`;return i+"}"}(n.mapValue):qe()}function Ed(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function hD(n){return!!n&&"integerValue"in n}function dy(n){return!!n&&"arrayValue"in n}function VU(n){return!!n&&"nullValue"in n}function LU(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function UE(n){return!!n&&"mapValue"in n}function BE(n){var e,t;return"__vector__"===(null===(t=((null===(e=n?.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===t?void 0:t.stringValue)}function hy(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&"object"==typeof n.timestampValue)return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return Uu(n.mapValue.fields,(t,r)=>e.mapValue.fields[t]=hy(r)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=hy(n.arrayValue.values[t]);return e}return Object.assign({},n)}function UU(n){return"__max__"===(((n.mapValue||{}).fields||{}).__type__||{}).stringValue}const BU={mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{}}}}};function Lne(n){return"nullValue"in n?VE:"booleanValue"in n?{booleanValue:!1}:"integerValue"in n||"doubleValue"in n?{doubleValue:NaN}:"timestampValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in n?{stringValue:""}:"bytesValue"in n?{bytesValue:""}:"referenceValue"in n?Ed(Bu.empty(),Fe.empty()):"geoPointValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in n?{arrayValue:{}}:"mapValue"in n?BE(n)?BU:{mapValue:{}}:qe()}function Une(n){return"nullValue"in n?{booleanValue:!1}:"booleanValue"in n?{doubleValue:NaN}:"integerValue"in n||"doubleValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in n?{stringValue:""}:"stringValue"in n?{bytesValue:""}:"bytesValue"in n?Ed(Bu.empty(),Fe.empty()):"referenceValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in n?{arrayValue:{}}:"arrayValue"in n?BU:"mapValue"in n?BE(n)?{mapValue:{}}:ju:qe()}function jU(n,e){const t=zu(n.value,e.value);return 0!==t?t:n.inclusive&&!e.inclusive?-1:!n.inclusive&&e.inclusive?1:0}function $U(n,e){const t=zu(n.value,e.value);return 0!==t?t:n.inclusive&&!e.inclusive?1:!n.inclusive&&e.inclusive?-1:0}class Ti{constructor(e){this.value=e}static empty(){return new Ti({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!UE(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=hy(t)}setAll(e){let t=Kn.emptyPath(),r={},i=[];e.forEach((o,a)=>{if(!t.isImmediateParentOf(a)){const l=this.getFieldsMap(t);this.applyChanges(l,r,i),r={},i=[],t=a.popLast()}o?r[a.lastSegment()]=hy(o):i.push(a.lastSegment())});const s=this.getFieldsMap(t);this.applyChanges(s,r,i)}delete(e){const t=this.field(e.popLast());UE(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Pa(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=t.mapValue.fields[e.get(r)];UE(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=i),t=i}return t.mapValue.fields}applyChanges(e,t,r){Uu(t,(i,s)=>e[i]=s);for(const i of r)delete e[i]}clone(){return new Ti(hy(this.value))}}function zU(n){const e=[];return Uu(n.fields,(t,r)=>{const i=new Kn([t]);if(UE(r)){const s=zU(r.mapValue).fields;if(0===s.length)e.push(i);else for(const o of s)e.push(i.child(o))}else e.push(i)}),new Rs(e)}class Qn{constructor(e,t,r,i,s,o,a){this.key=e,this.documentType=t,this.version=r,this.readTime=i,this.createTime=s,this.data=o,this.documentState=a}static newInvalidDocument(e){return new Qn(e,0,Ze.min(),Ze.min(),Ze.min(),Ti.empty(),0)}static newFoundDocument(e,t,r,i){return new Qn(e,1,t,Ze.min(),r,i,0)}static newNoDocument(e,t){return new Qn(e,2,t,Ze.min(),Ze.min(),Ti.empty(),0)}static newUnknownDocument(e,t){return new Qn(e,3,t,Ze.min(),Ze.min(),Ti.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Ze.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Ti.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Ti.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ze.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof Qn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Qn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Hu{constructor(e,t){this.position=e,this.inclusive=t}}function HU(n,e,t){let r=0;for(let i=0;i<n.position.length;i++){const s=e[i],o=n.position[i];if(r=s.field.isKeyField()?Fe.comparator(Fe.fromName(o.referenceValue),t.key):zu(o,t.data.field(s.field)),"desc"===s.dir&&(r*=-1),0!==r)break}return r}function qU(n,e){if(null===n)return null===e;if(null===e||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!Pa(n.position[t],e.position[t]))return!1;return!0}class fy{constructor(e,t="asc"){this.field=e,this.dir=t}}function Bne(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}class GU{}class Qt extends GU{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,r):new jne(e,t,r):"array-contains"===t?new Hne(e,r):"in"===t?new ZU(e,r):"not-in"===t?new qne(e,r):"array-contains-any"===t?new Gne(e,r):new Qt(e,t,r)}static createKeyFieldInFilter(e,t,r){return"in"===t?new $ne(e,r):new zne(e,r)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.matchesComparison(zu(t,this.value)):null!==t&&$u(this.value)===$u(t)&&this.matchesComparison(zu(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return qe()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class In extends GU{constructor(e,t){super(),this.filters=e,this.op=t,this.ae=null}static create(e,t){return new In(e,t)}matches(e){return Xf(this)?void 0===this.filters.find(t=>!t.matches(e)):void 0!==this.filters.find(t=>t.matches(e))}getFlattenedFilters(){return null!==this.ae||(this.ae=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function Xf(n){return"and"===n.op}function fD(n){return"or"===n.op}function pD(n){return WU(n)&&Xf(n)}function WU(n){for(const e of n.filters)if(e instanceof In)return!1;return!0}function gD(n){if(n instanceof Qt)return n.field.canonicalString()+n.op.toString()+Zf(n.value);if(pD(n))return n.filters.map(e=>gD(e)).join(",");{const e=n.filters.map(t=>gD(t)).join(",");return`${n.op}(${e})`}}function KU(n,e){return n instanceof Qt?(r=n,(i=e)instanceof Qt&&r.op===i.op&&r.field.isEqual(i.field)&&Pa(r.value,i.value)):n instanceof In?function(r,i){return i instanceof In&&r.op===i.op&&r.filters.length===i.filters.length&&r.filters.reduce((s,o,a)=>s&&KU(o,i.filters[a]),!0)}(n,e):void qe();var r,i}function QU(n,e){const t=n.filters.concat(e);return In.create(t,n.op)}function YU(n){return n instanceof Qt?`${(t=n).field.canonicalString()} ${t.op} ${Zf(t.value)}`:n instanceof In?function(t){return t.op.toString()+" {"+t.getFilters().map(YU).join(" ,")+"}"}(n):"Filter";var t}class jne extends Qt{constructor(e,t,r){super(e,t,r),this.key=Fe.fromName(r.referenceValue)}matches(e){const t=Fe.comparator(e.key,this.key);return this.matchesComparison(t)}}class $ne extends Qt{constructor(e,t){super(e,"in",t),this.keys=JU(0,t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class zne extends Qt{constructor(e,t){super(e,"not-in",t),this.keys=JU(0,t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function JU(n,e){var t;return((null===(t=e.arrayValue)||void 0===t?void 0:t.values)||[]).map(r=>Fe.fromName(r.referenceValue))}class Hne extends Qt{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return dy(t)&&cy(t.arrayValue,this.value)}}class ZU extends Qt{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&cy(this.value.arrayValue,t)}}class qne extends Qt{constructor(e,t){super(e,"not-in",t)}matches(e){if(cy(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!cy(this.value.arrayValue,t)}}class Gne extends Qt{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!dy(t)||!t.arrayValue.values)&&t.arrayValue.values.some(r=>cy(this.value.arrayValue,r))}}class Wne{constructor(e,t=null,r=[],i=[],s=null,o=null,a=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=a,this.ue=null}}function mD(n,e=null,t=[],r=[],i=null,s=null,o=null){return new Wne(n,e,t,r,i,s,o)}function Id(n){const e=Oe(n);if(null===e.ue){let t=e.path.canonicalString();null!==e.collectionGroup&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(r=>gD(r)).join(","),t+="|ob:",t+=e.orderBy.map(r=>{return(s=r).field.canonicalString()+s.dir;var s}).join(","),ay(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>Zf(r)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>Zf(r)).join(",")),e.ue=t}return e.ue}function py(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!Bne(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!KU(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!qU(n.startAt,e.startAt)&&qU(n.endAt,e.endAt)}function jE(n){return Fe.isDocumentKey(n.path)&&null===n.collectionGroup&&0===n.filters.length}function $E(n,e){return n.filters.filter(t=>t instanceof Qt&&t.field.isEqual(e))}function XU(n,e,t){let r=VE,i=!0;for(const s of $E(n,e)){let o=VE,a=!0;switch(s.op){case"<":case"<=":o=Lne(s.value);break;case"==":case"in":case">=":o=s.value;break;case">":o=s.value,a=!1;break;case"!=":case"not-in":o=VE}jU({value:r,inclusive:i},{value:o,inclusive:a})<0&&(r=o,i=a)}if(null!==t)for(let s=0;s<n.orderBy.length;++s)if(n.orderBy[s].field.isEqual(e)){const o=t.position[s];jU({value:r,inclusive:i},{value:o,inclusive:t.inclusive})<0&&(r=o,i=t.inclusive);break}return{value:r,inclusive:i}}function eB(n,e,t){let r=ju,i=!0;for(const s of $E(n,e)){let o=ju,a=!0;switch(s.op){case">=":case">":o=Une(s.value),a=!1;break;case"==":case"in":case"<=":o=s.value;break;case"<":o=s.value,a=!1;break;case"!=":case"not-in":o=ju}$U({value:r,inclusive:i},{value:o,inclusive:a})>0&&(r=o,i=a)}if(null!==t)for(let s=0;s<n.orderBy.length;++s)if(n.orderBy[s].field.isEqual(e)){const o=t.position[s];$U({value:r,inclusive:i},{value:o,inclusive:t.inclusive})>0&&(r=o,i=t.inclusive);break}return{value:r,inclusive:i}}class Sl{constructor(e,t=null,r=[],i=[],s=null,o="F",a=null,l=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=a,this.endAt=l,this.ce=null,this.le=null,this.he=null}}function tB(n,e,t,r,i,s,o,a){return new Sl(n,e,t,r,i,s,o,a)}function ep(n){return new Sl(n)}function nB(n){return 0===n.filters.length&&null===n.limit&&null==n.startAt&&null==n.endAt&&(0===n.explicitOrderBy.length||1===n.explicitOrderBy.length&&n.explicitOrderBy[0].field.isKeyField())}function yD(n){return null!==n.collectionGroup}function tp(n){const e=Oe(n);if(null===e.ce){e.ce=[];const t=new Set;for(const s of e.explicitOrderBy)e.ce.push(s),t.add(s.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let a=new Dn(Kn.comparator);return o.filters.forEach(l=>{l.getFlattenedFilters().forEach(c=>{c.isInequality()&&(a=a.add(c.field))})}),a})(e).forEach(s=>{t.has(s.canonicalString())||s.isKeyField()||e.ce.push(new fy(s,r))}),t.has(Kn.keyField().canonicalString())||e.ce.push(new fy(Kn.keyField(),r))}return e.ce}function Vi(n){const e=Oe(n);return e.le||(e.le=function iB(n,e){if("F"===n.limitType)return mD(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map(i=>new fy(i.field,"desc"===i.dir?"asc":"desc"));const t=n.endAt?new Hu(n.endAt.position,n.endAt.inclusive):null,r=n.startAt?new Hu(n.startAt.position,n.startAt.inclusive):null;return mD(n.path,n.collectionGroup,e,n.filters,n.limit,t,r)}}(e,tp(n))),e.le}function _D(n,e){const t=n.filters.concat([e]);return new Sl(n.path,n.collectionGroup,n.explicitOrderBy.slice(),t,n.limit,n.limitType,n.startAt,n.endAt)}function zE(n,e,t){return new Sl(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function gy(n,e){return py(Vi(n),Vi(e))&&n.limitType===e.limitType}function sB(n){return`${Id(Vi(n))}|lt:${n.limitType}`}function np(n){return`Query(target=${function(t){let r=t.path.canonicalString();return null!==t.collectionGroup&&(r+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(r+=`, filters: [${t.filters.map(i=>YU(i)).join(", ")}]`),ay(t.limit)||(r+=", limit: "+t.limit),t.orderBy.length>0&&(r+=`, orderBy: [${t.orderBy.map(i=>{return`${(o=i).field.canonicalString()} (${o.dir})`;var o}).join(", ")}]`),t.startAt&&(r+=", startAt: ",r+=t.startAt.inclusive?"b:":"a:",r+=t.startAt.position.map(i=>Zf(i)).join(",")),t.endAt&&(r+=", endAt: ",r+=t.endAt.inclusive?"a:":"b:",r+=t.endAt.position.map(i=>Zf(i)).join(",")),`Target(${r})`}(Vi(n))}; limitType=${n.limitType})`}function my(n,e){return e.isFoundDocument()&&function(r,i){const s=i.key.path;return null!==r.collectionGroup?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(s):Fe.isDocumentKey(r.path)?r.path.isEqual(s):r.path.isImmediateParentOf(s)}(n,e)&&function(r,i){for(const s of tp(r))if(!s.field.isKeyField()&&null===i.data.field(s.field))return!1;return!0}(n,e)&&function(r,i){for(const s of r.filters)if(!s.matches(i))return!1;return!0}(n,e)&&(i=e,!((r=n).startAt&&!function(o,a,l){const c=HU(o,a,l);return o.inclusive?c<=0:c<0}(r.startAt,tp(r),i)||r.endAt&&!function(o,a,l){const c=HU(o,a,l);return o.inclusive?c>=0:c>0}(r.endAt,tp(r),i)));var r,i}function oB(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function aB(n){return(e,t)=>{let r=!1;for(const i of tp(n)){const s=Kne(i,e,t);if(0!==s)return s;r=r||i.field.isKeyField()}return 0}}function Kne(n,e,t){const r=n.field.isKeyField()?Fe.comparator(e.key,t.key):function(s,o,a){const l=o.data.field(s),c=a.data.field(s);return null!==l&&null!==c?zu(l,c):qe()}(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return qe()}}class Rl{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),r=this.inner[t];if(void 0!==r)for(const[i,s]of r)if(this.equalsFn(i,e))return s}has(e){return void 0!==this.get(e)}set(e,t){const r=this.mapKeyFn(e),i=this.inner[r];if(void 0===i)return this.inner[r]=[[e,t]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,t]);i.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),r=this.inner[t];if(void 0===r)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return 1===r.length?delete this.inner[t]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Uu(this.inner,(t,r)=>{for(const[i,s]of r)e(i,s)})}isEmpty(){return NU(this.inner)}size(){return this.innerSize}}const Qne=new $n(Fe.comparator);function Ps(){return Qne}const lB=new $n(Fe.comparator);function yy(...n){let e=lB;for(const t of n)e=e.insert(t.key,t);return e}function uB(n){let e=lB;return n.forEach((t,r)=>e=e.insert(t,r.overlayedDocument)),e}function Ma(){return _y()}function cB(){return _y()}function _y(){return new Rl(n=>n.toString(),(n,e)=>n.isEqual(e))}const Yne=new $n(Fe.comparator),Jne=new Dn(Fe.comparator);function Nt(...n){let e=Jne;for(const t of n)e=e.add(t);return e}const Zne=new Dn(Et);function vD(){return Zne}function wD(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:ly(e)?"-0":e}}function dB(n){return{integerValue:""+n}}function hB(n,e){return bU(e)?dB(e):wD(n,e)}class HE{constructor(){this._=void 0}}function Xne(n,e,t){return n instanceof rp?function(i,s){const o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return s&&kE(s)&&(s=FE(s)),s&&(o.fields.__previous_value__=s),{mapValue:o}}(t,e):n instanceof bd?pB(n,e):n instanceof Ad?gB(n,e):function(i,s){const o=fB(i,s),a=mB(o)+mB(i.Pe);return hD(o)&&hD(i.Pe)?dB(a):wD(i.serializer,a)}(n,e)}function ere(n,e,t){return n instanceof bd?pB(n,e):n instanceof Ad?gB(n,e):t}function fB(n,e){return n instanceof ip?hD(r=e)||(s=r)&&"doubleValue"in s?e:{integerValue:0}:null;var r,s}class rp extends HE{}class bd extends HE{constructor(e){super(),this.elements=e}}function pB(n,e){const t=yB(e);for(const r of n.elements)t.some(i=>Pa(i,r))||t.push(r);return{arrayValue:{values:t}}}class Ad extends HE{constructor(e){super(),this.elements=e}}function gB(n,e){let t=yB(e);for(const r of n.elements)t=t.filter(i=>!Pa(i,r));return{arrayValue:{values:t}}}class ip extends HE{constructor(e,t){super(),this.serializer=e,this.Pe=t}}function mB(n){return or(n.integerValue||n.doubleValue)}function yB(n){return dy(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}class vy{constructor(e,t){this.field=e,this.transform=t}}class nre{constructor(e,t){this.version=e,this.transformResults=t}}class ar{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new ar}static exists(e){return new ar(void 0,e)}static updateTime(e){return new ar(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function qE(n,e){return void 0!==n.updateTime?e.isFoundDocument()&&e.version.isEqual(n.updateTime):void 0===n.exists||n.exists===e.isFoundDocument()}class GE{}function _B(n,e){if(!n.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return n.isNoDocument()?new op(n.key,ar.none()):new sp(n.key,n.data,ar.none());{const t=n.data,r=Ti.empty();let i=new Dn(Kn.comparator);for(let s of e.fields)if(!i.has(s)){let o=t.field(s);null===o&&s.length>1&&(s=s.popLast(),o=t.field(s)),null===o?r.delete(s):r.set(s,o),i=i.add(s)}return new Pl(n.key,r,new Rs(i.toArray()),ar.none())}}function rre(n,e,t){n instanceof sp?function(i,s,o){const a=i.value.clone(),l=EB(i.fieldTransforms,s,o.transformResults);a.setAll(l),s.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(n,e,t):n instanceof Pl?function(i,s,o){if(!qE(i.precondition,s))return void s.convertToUnknownDocument(o.version);const a=EB(i.fieldTransforms,s,o.transformResults),l=s.data;l.setAll(wB(i)),l.setAll(a),s.convertToFoundDocument(o.version,l).setHasCommittedMutations()}(n,e,t):e.convertToNoDocument(t.version).setHasCommittedMutations()}function wy(n,e,t,r){return n instanceof sp?function(s,o,a,l){if(!qE(s.precondition,o))return a;const c=s.value.clone(),p=IB(s.fieldTransforms,l,o);return c.setAll(p),o.convertToFoundDocument(o.version,c).setHasLocalMutations(),null}(n,e,t,r):n instanceof Pl?function(s,o,a,l){if(!qE(s.precondition,o))return a;const c=IB(s.fieldTransforms,l,o),p=o.data;return p.setAll(wB(s)),p.setAll(c),o.convertToFoundDocument(o.version,p).setHasLocalMutations(),null===a?null:a.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(m=>m.field))}(n,e,t,r):(a=t,qE(n.precondition,o=e)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):a);var o,a}function ire(n,e){let t=null;for(const r of n.fieldTransforms){const i=e.data.field(r.field),s=fB(r.transform,i||null);null!=s&&(null===t&&(t=Ti.empty()),t.set(r.field,s))}return t||null}function vB(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&(i=e.fieldTransforms,!!(void 0===(r=n.fieldTransforms)&&void 0===i||r&&i&&Kf(r,i,(s,o)=>function tre(n,e){return n.field.isEqual(e.field)&&(i=e.transform,(r=n.transform)instanceof bd&&i instanceof bd||r instanceof Ad&&i instanceof Ad?Kf(r.elements,i.elements,Pa):r instanceof ip&&i instanceof ip?Pa(r.Pe,i.Pe):r instanceof rp&&i instanceof rp);var r,i}(s,o))))&&(0===n.type?n.value.isEqual(e.value):1!==n.type||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask));var r,i}class sp extends GE{constructor(e,t,r,i=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class Pl extends GE{constructor(e,t,r,i,s=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function wB(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const r=n.data.field(t);e.set(t,r)}}),e}function EB(n,e,t){const r=new Map;Qe(n.length===t.length);for(let i=0;i<t.length;i++){const s=n[i],o=s.transform,a=e.data.field(s.field);r.set(s.field,ere(o,a,t[i]))}return r}function IB(n,e,t){const r=new Map;for(const i of n){const s=i.transform,o=t.data.field(i.field);r.set(i.field,Xne(s,o,e))}return r}class op extends GE{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class ED extends GE{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class ID{constructor(e,t,r,i){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,t){const r=t.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&rre(s,e,r[i])}}applyToLocalView(e,t){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(t=wy(r,e,t,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(t=wy(r,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const r=cB();return this.mutations.forEach(i=>{const s=e.get(i.key),o=s.overlayedDocument;let a=this.applyToLocalView(o,s.mutatedFields);a=t.has(i.key)?null:a;const l=_B(o,a);null!==l&&r.set(i.key,l),o.isValidDocument()||o.convertToNoDocument(Ze.min())}),r}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),Nt())}isEqual(e){return this.batchId===e.batchId&&Kf(this.mutations,e.mutations,(t,r)=>vB(t,r))&&Kf(this.baseMutations,e.baseMutations,(t,r)=>vB(t,r))}}class bD{constructor(e,t,r,i){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=i}static from(e,t,r){Qe(e.mutations.length===r.length);let i=function(){return Yne}();const s=e.mutations;for(let o=0;o<s.length;o++)i=i.insert(s[o].key,r[o].version);return new bD(e,t,r,i)}}class AD{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class sre{constructor(e,t){this.count=e,this.unchangedNames=t}}var Wr,en;function AB(n){switch(n){default:return qe();case re.CANCELLED:case re.UNKNOWN:case re.DEADLINE_EXCEEDED:case re.RESOURCE_EXHAUSTED:case re.INTERNAL:case re.UNAVAILABLE:case re.UNAUTHENTICATED:return!1;case re.INVALID_ARGUMENT:case re.NOT_FOUND:case re.ALREADY_EXISTS:case re.PERMISSION_DENIED:case re.FAILED_PRECONDITION:case re.ABORTED:case re.OUT_OF_RANGE:case re.UNIMPLEMENTED:case re.DATA_LOSS:return!0}}function TB(n){if(void 0===n)return Mr("GRPC error has no .code"),re.UNKNOWN;switch(n){case Wr.OK:return re.OK;case Wr.CANCELLED:return re.CANCELLED;case Wr.UNKNOWN:return re.UNKNOWN;case Wr.DEADLINE_EXCEEDED:return re.DEADLINE_EXCEEDED;case Wr.RESOURCE_EXHAUSTED:return re.RESOURCE_EXHAUSTED;case Wr.INTERNAL:return re.INTERNAL;case Wr.UNAVAILABLE:return re.UNAVAILABLE;case Wr.UNAUTHENTICATED:return re.UNAUTHENTICATED;case Wr.INVALID_ARGUMENT:return re.INVALID_ARGUMENT;case Wr.NOT_FOUND:return re.NOT_FOUND;case Wr.ALREADY_EXISTS:return re.ALREADY_EXISTS;case Wr.PERMISSION_DENIED:return re.PERMISSION_DENIED;case Wr.FAILED_PRECONDITION:return re.FAILED_PRECONDITION;case Wr.ABORTED:return re.ABORTED;case Wr.OUT_OF_RANGE:return re.OUT_OF_RANGE;case Wr.UNIMPLEMENTED:return re.UNIMPLEMENTED;case Wr.DATA_LOSS:return re.DATA_LOSS;default:return qe()}}(en=Wr||(Wr={}))[en.OK=0]="OK",en[en.CANCELLED=1]="CANCELLED",en[en.UNKNOWN=2]="UNKNOWN",en[en.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",en[en.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",en[en.NOT_FOUND=5]="NOT_FOUND",en[en.ALREADY_EXISTS=6]="ALREADY_EXISTS",en[en.PERMISSION_DENIED=7]="PERMISSION_DENIED",en[en.UNAUTHENTICATED=16]="UNAUTHENTICATED",en[en.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",en[en.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",en[en.ABORTED=10]="ABORTED",en[en.OUT_OF_RANGE=11]="OUT_OF_RANGE",en[en.UNIMPLEMENTED=12]="UNIMPLEMENTED",en[en.INTERNAL=13]="INTERNAL",en[en.UNAVAILABLE=14]="UNAVAILABLE",en[en.DATA_LOSS=15]="DATA_LOSS";function CB(){return new TextEncoder}const ore=new yd([4294967295,4294967295],0);function DB(n){const e=CB().encode(n),t=new sU;return t.update(e),new Uint8Array(t.digest())}function SB(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new yd([t,r],0),new yd([i,s],0)]}class TD{constructor(e,t,r){if(this.bitmap=e,this.padding=t,this.hashCount=r,t<0||t>=8)throw new Ey(`Invalid padding: ${t}`);if(r<0)throw new Ey(`Invalid hash count: ${r}`);if(e.length>0&&0===this.hashCount)throw new Ey(`Invalid hash count: ${r}`);if(0===e.length&&0!==t)throw new Ey(`Invalid padding when bitmap length is 0: ${t}`);this.Ie=8*e.length-t,this.Te=yd.fromNumber(this.Ie)}Ee(e,t,r){let i=e.add(t.multiply(yd.fromNumber(r)));return 1===i.compare(ore)&&(i=new yd([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Te).toNumber()}de(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(0===this.Ie)return!1;const t=DB(e),[r,i]=SB(t);for(let s=0;s<this.hashCount;s++){const o=this.Ee(r,i,s);if(!this.de(o))return!1}return!0}static create(e,t,r){const i=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),o=new TD(s,i,t);return r.forEach(a=>o.insert(a)),o}insert(e){if(0===this.Ie)return;const t=DB(e),[r,i]=SB(t);for(let s=0;s<this.hashCount;s++){const o=this.Ee(r,i,s);this.Ae(o)}}Ae(e){const t=Math.floor(e/8);this.bitmap[t]|=1<<e%8}}class Ey extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Iy{constructor(e,t,r,i,s){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,t,r){const i=new Map;return i.set(e,by.createSynthesizedTargetChangeForCurrentChange(e,t,r)),new Iy(Ze.min(),i,new $n(Et),Ps(),Nt())}}class by{constructor(e,t,r,i,s){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,t,r){return new by(r,t,Nt(),Nt(),Nt())}}class KE{constructor(e,t,r,i){this.Re=e,this.removedTargetIds=t,this.key=r,this.Ve=i}}class RB{constructor(e,t){this.targetId=e,this.me=t}}class PB{constructor(e,t,r=vr.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=i}}class MB{constructor(){this.fe=0,this.ge=xB(),this.pe=vr.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return 0!==this.fe}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=Nt(),t=Nt(),r=Nt();return this.ge.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:t=t.add(i);break;case 1:r=r.add(i);break;default:qe()}}),new by(this.pe,this.ye,e,t,r)}Ce(){this.we=!1,this.ge=xB()}Fe(e,t){this.we=!0,this.ge=this.ge.insert(e,t)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,Qe(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class are{constructor(e){this.Le=e,this.Be=new Map,this.ke=Ps(),this.qe=NB(),this.Qe=new $n(Et)}Ke(e){for(const t of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(t,e.Ve):this.Ue(t,e.key,e.Ve);for(const t of e.removedTargetIds)this.Ue(t,e.key,e.Ve)}We(e){this.forEachTarget(e,t=>{const r=this.Ge(t);switch(e.state){case 0:this.ze(t)&&r.De(e.resumeToken);break;case 1:r.Oe(),r.Se||r.Ce(),r.De(e.resumeToken);break;case 2:r.Oe(),r.Se||this.removeTarget(t);break;case 3:this.ze(t)&&(r.Ne(),r.De(e.resumeToken));break;case 4:this.ze(t)&&(this.je(t),r.De(e.resumeToken));break;default:qe()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Be.forEach((r,i)=>{this.ze(i)&&t(i)})}He(e){const t=e.targetId,r=e.me.count,i=this.Je(t);if(i){const s=i.target;if(jE(s))if(0===r){const o=new Fe(s.path);this.Ue(t,o,Qn.newNoDocument(o,Ze.min()))}else Qe(1===r);else{const o=this.Ye(t);if(o!==r){const a=this.Ze(e),l=a?this.Xe(a,e,o):1;0!==l&&(this.je(t),this.Qe=this.Qe.insert(t,2===l?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch"))}}}}Ze(e){const t=e.me.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:s=0}=t;let o,a;try{o=Dl(r).toUint8Array()}catch(l){if(l instanceof OU)return Ss("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{a=new TD(o,i,s)}catch(l){return Ss(l instanceof Ey?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return 0===a.Ie?null:a}Xe(e,t,r){return t.me.count===r-this.nt(e,t.targetId)?0:2}nt(e,t){const r=this.Le.getRemoteKeysForTarget(t);let i=0;return r.forEach(s=>{const o=this.Le.tt(),a=`projects/${o.projectId}/databases/${o.database}/documents/${s.path.canonicalString()}`;e.mightContain(a)||(this.Ue(t,s,null),i++)}),i}rt(e){const t=new Map;this.Be.forEach((s,o)=>{const a=this.Je(o);if(a){if(s.current&&jE(a.target)){const l=new Fe(a.target.path);null!==this.ke.get(l)||this.it(o,l)||this.Ue(o,l,Qn.newNoDocument(l,e))}s.be&&(t.set(o,s.ve()),s.Ce())}});let r=Nt();this.qe.forEach((s,o)=>{let a=!0;o.forEachWhile(l=>{const c=this.Je(l);return!c||"TargetPurposeLimboResolution"===c.purpose||(a=!1,!1)}),a&&(r=r.add(s))}),this.ke.forEach((s,o)=>o.setReadTime(e));const i=new Iy(e,t,this.Qe,this.ke,r);return this.ke=Ps(),this.qe=NB(),this.Qe=new $n(Et),i}$e(e,t){if(!this.ze(e))return;const r=this.it(e,t.key)?2:0;this.Ge(e).Fe(t.key,r),this.ke=this.ke.insert(t.key,t),this.qe=this.qe.insert(t.key,this.st(t.key).add(e))}Ue(e,t,r){if(!this.ze(e))return;const i=this.Ge(e);this.it(e,t)?i.Fe(t,1):i.Me(t),this.qe=this.qe.insert(t,this.st(t).delete(e)),r&&(this.ke=this.ke.insert(t,r))}removeTarget(e){this.Be.delete(e)}Ye(e){const t=this.Ge(e).ve();return this.Le.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let t=this.Be.get(e);return t||(t=new MB,this.Be.set(e,t)),t}st(e){let t=this.qe.get(e);return t||(t=new Dn(Et),this.qe=this.qe.insert(e,t)),t}ze(e){const t=null!==this.Je(e);return t||we("WatchChangeAggregator","Detected inactive target",e),t}Je(e){const t=this.Be.get(e);return t&&t.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new MB),this.Le.getRemoteKeysForTarget(e).forEach(t=>{this.Ue(e,t,null)})}it(e,t){return this.Le.getRemoteKeysForTarget(e).has(t)}}function NB(){return new $n(Fe.comparator)}function xB(){return new $n(Fe.comparator)}const lre={asc:"ASCENDING",desc:"DESCENDING"},ure={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},cre={and:"AND",or:"OR"};class dre{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function CD(n,e){return n.useProto3Json||ay(e)?e:{value:e}}function ap(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function OB(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function hre(n,e){return ap(n,e.toTimestamp())}function Nr(n){return Qe(!!n),Ze.fromTimestamp(function(t){const r=Cl(t);return new sr(r.seconds,r.nanos)}(n))}function DD(n,e){return SD(n,e).canonicalString()}function SD(n,e){const t=(i=n,new Kt(["projects",i.projectId,"databases",i.database])).child("documents");var i;return void 0===e?t:t.child(e)}function kB(n){const e=Kt.fromString(n);return Qe(GB(e)),e}function Ay(n,e){return DD(n.databaseId,e.path)}function Na(n,e){const t=kB(e);if(t.get(1)!==n.databaseId.projectId)throw new me(re.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new me(re.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new Fe(LB(t))}function FB(n,e){return DD(n.databaseId,e)}function VB(n){const e=kB(n);return 4===e.length?Kt.emptyPath():LB(e)}function RD(n){return new Kt(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function LB(n){return Qe(n.length>4&&"documents"===n.get(4)),n.popFirst(5)}function UB(n,e,t){return{name:Ay(n,e),fields:t.value.mapValue.fields}}function BB(n,e,t){const r=Na(n,e.name),i=Nr(e.updateTime),s=e.createTime?Nr(e.createTime):Ze.min(),o=new Ti({mapValue:{fields:e.fields}}),a=Qn.newFoundDocument(r,i,s,o);return t&&a.setHasCommittedMutations(),t?a.setHasCommittedMutations():a}function Ty(n,e){let t;if(e instanceof sp)t={update:UB(n,e.key,e.value)};else if(e instanceof op)t={delete:Ay(n,e.key)};else if(e instanceof Pl)t={update:UB(n,e.key,e.data),updateMask:wre(e.fieldMask)};else{if(!(e instanceof ED))return qe();t={verify:Ay(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(r=>function(s,o){const a=o.transform;if(a instanceof rp)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof bd)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof Ad)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof ip)return{fieldPath:o.field.canonicalString(),increment:a.Pe};throw qe()}(0,r))),e.precondition.isNone||(t.currentDocument=void 0!==(s=e.precondition).updateTime?{updateTime:hre(n,s.updateTime)}:void 0!==s.exists?{exists:s.exists}:qe()),t;var s}function PD(n,e){const t=e.currentDocument?void 0!==(s=e.currentDocument).updateTime?ar.updateTime(Nr(s.updateTime)):void 0!==s.exists?ar.exists(s.exists):ar.none():ar.none(),r=e.updateTransforms?e.updateTransforms.map(i=>function(o,a){let l=null;"setToServerValue"in a?(Qe("REQUEST_TIME"===a.setToServerValue),l=new rp):"appendMissingElements"in a?l=new bd(a.appendMissingElements.values||[]):"removeAllFromArray"in a?l=new Ad(a.removeAllFromArray.values||[]):"increment"in a?l=new ip(o,a.increment):qe();const c=Kn.fromServerFormat(a.fieldPath);return new vy(c,l)}(n,i)):[];var s;if(e.update){const i=Na(n,e.update.name),s=new Ti({mapValue:{fields:e.update.fields}});if(e.updateMask){const o=new Rs((e.updateMask.fieldPaths||[]).map(p=>Kn.fromServerFormat(p)));return new Pl(i,s,o,t,r)}return new sp(i,s,t,r)}if(e.delete){const i=Na(n,e.delete);return new op(i,t)}if(e.verify){const i=Na(n,e.verify);return new ED(i,t)}return qe()}function jB(n,e){return{documents:[FB(n,e.path)]}}function QE(n,e){const t={structuredQuery:{}},r=e.path;let i;null!==e.collectionGroup?(i=r,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),t.structuredQuery.from=[{collectionId:r.lastSegment()}]),t.parent=FB(n,i);const s=function(c){if(0!==c.length)return qB(In.create(c,"and"))}(e.filters);s&&(t.structuredQuery.where=s);const o=function(c){if(0!==c.length)return c.map(p=>{return{field:qu((w=p).field),direction:yre(w.dir)};var w})}(e.orderBy);o&&(t.structuredQuery.orderBy=o);const a=CD(n,e.limit);return null!==a&&(t.structuredQuery.limit=a),e.startAt&&(t.structuredQuery.startAt={before:(c=e.startAt).inclusive,values:c.position}),e.endAt&&(t.structuredQuery.endAt=function(c){return{before:!c.inclusive,values:c.position}}(e.endAt)),{_t:t,parent:i};var c}function zB(n){let e=VB(n.parent);const t=n.structuredQuery,r=t.from?t.from.length:0;let i=null;if(r>0){Qe(1===r);const p=t.from[0];p.allDescendants?i=p.collectionId:e=e.child(p.collectionId)}let s=[];t.where&&(s=function(m){const w=HB(m);return w instanceof In&&pD(w)?w.getFilters():[w]}(t.where));let o=[];t.orderBy&&(o=t.orderBy.map(w=>{return new fy(lp((C=w).field),function(P){switch(P){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(C.direction));var C}));let a=null;t.limit&&(a=function(m){let w;return w="object"==typeof m?m.value:m,ay(w)?null:w}(t.limit));let l=null;var m;t.startAt&&(l=new Hu((m=t.startAt).values||[],!!m.before));let c=null;return t.endAt&&(c=function(m){return new Hu(m.values||[],!m.before)}(t.endAt)),tB(e,i,o,s,a,"F",l,c)}function HB(n){return void 0!==n.unaryFilter?function(t){switch(t.unaryFilter.op){case"IS_NAN":const r=lp(t.unaryFilter.field);return Qt.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=lp(t.unaryFilter.field);return Qt.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=lp(t.unaryFilter.field);return Qt.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=lp(t.unaryFilter.field);return Qt.create(o,"!=",{nullValue:"NULL_VALUE"});default:return qe()}}(n):void 0!==n.fieldFilter?Qt.create(lp((t=n).fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return qe()}}(t.fieldFilter.op),t.fieldFilter.value):void 0!==n.compositeFilter?function(t){return In.create(t.compositeFilter.filters.map(r=>HB(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return qe()}}(t.compositeFilter.op))}(n):qe();var t}function yre(n){return lre[n]}function _re(n){return ure[n]}function vre(n){return cre[n]}function qu(n){return{fieldPath:n.canonicalString()}}function lp(n){return Kn.fromServerFormat(n.fieldPath)}function qB(n){return n instanceof Qt?function(t){if("=="===t.op){if(LU(t.value))return{unaryFilter:{field:qu(t.field),op:"IS_NAN"}};if(VU(t.value))return{unaryFilter:{field:qu(t.field),op:"IS_NULL"}}}else if("!="===t.op){if(LU(t.value))return{unaryFilter:{field:qu(t.field),op:"IS_NOT_NAN"}};if(VU(t.value))return{unaryFilter:{field:qu(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:qu(t.field),op:_re(t.op),value:t.value}}}(n):n instanceof In?function(t){const r=t.getFilters().map(i=>qB(i));return 1===r.length?r[0]:{compositeFilter:{op:vre(t.op),filters:r}}}(n):qe()}function wre(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function GB(n){return n.length>=4&&"projects"===n.get(0)&&"databases"===n.get(2)}class Ml{constructor(e,t,r,i,s=Ze.min(),o=Ze.min(),a=vr.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=l}withSequenceNumber(e){return new Ml(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new Ml(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Ml(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Ml(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class WB{constructor(e){this.ct=e}}function KB(n,e){const t=e.key,r={prefixPath:t.getCollectionPath().popLast().toArray(),collectionGroup:t.collectionGroup,documentId:t.path.lastSegment(),readTime:YE(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())r.document={name:Ay(s=n.ct,(o=e).key),fields:o.data.value.mapValue.fields,updateTime:ap(s,o.version.toTimestamp()),createTime:ap(s,o.createTime.toTimestamp())};else if(e.isNoDocument())r.noDocument={path:t.path.toArray(),readTime:Td(e.version)};else{if(!e.isUnknownDocument())return qe();r.unknownDocument={path:t.path.toArray(),version:Td(e.version)}}var s,o;return r}function YE(n){const e=n.toTimestamp();return[e.seconds,e.nanoseconds]}function Td(n){const e=n.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function Cd(n){const e=new sr(n.seconds,n.nanoseconds);return Ze.fromTimestamp(e)}function Dd(n,e){const t=(e.baseMutations||[]).map(s=>PD(n.ct,s));for(let s=0;s<e.mutations.length-1;++s)s+1<e.mutations.length&&void 0!==e.mutations[s+1].transform&&(e.mutations[s].updateTransforms=e.mutations[s+1].transform.fieldTransforms,e.mutations.splice(s+1,1),++s);const r=e.mutations.map(s=>PD(n.ct,s)),i=sr.fromMillis(e.localWriteTimeMs);return new ID(e.batchId,i,t,r)}function Cy(n){const e=Cd(n.readTime),t=void 0!==n.lastLimboFreeSnapshotVersion?Cd(n.lastLimboFreeSnapshotVersion):Ze.min();let r;return r=void 0!==n.query.documents?(Qe(1===(s=n.query).documents.length),Vi(ep(VB(s.documents[0])))):function(s){return Vi(zB(s))}(n.query),new Ml(r,n.targetId,"TargetPurposeListen",n.lastListenSequenceNumber,e,t,vr.fromBase64String(n.resumeToken));var s}function QB(n,e){const t=Td(e.snapshotVersion),r=Td(e.lastLimboFreeSnapshotVersion);let i;i=jE(e.target)?jB(n.ct,e.target):QE(n.ct,e.target)._t;const s=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:Id(e.target),readTime:t,resumeToken:s,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:r,query:i}}function MD(n){const e=zB({parent:n.parent,structuredQuery:n.structuredQuery});return"LAST"===n.limitType?zE(e,e.limit,"L"):e}function ND(n,e){return new AD(e.largestBatchId,PD(n.ct,e.overlayMutation))}function YB(n,e){const t=e.path.lastSegment();return[n,Fi(e.path.popLast()),t]}function JB(n,e,t,r){return{indexId:n,uid:e,sequenceNumber:t,readTime:Td(r.readTime),documentKey:Fi(r.documentKey.path),largestBatchId:r.largestBatchId}}class Ire{getBundleMetadata(e,t){return ZB(e).get(t).next(r=>{if(r)return{id:(s=r).bundleId,createTime:Cd(s.createTime),version:s.version};var s})}saveBundleMetadata(e,t){return ZB(e).put({bundleId:(i=t).id,createTime:Td(Nr(i.createTime)),version:i.version});var i}getNamedQuery(e,t){return XB(e).get(t).next(r=>{if(r)return{name:(s=r).name,query:MD(s.bundledQuery),readTime:Cd(s.readTime)};var s})}saveNamedQuery(e,t){return XB(e).put({name:(i=t).name,readTime:Td(Nr(i.readTime)),bundledQuery:i.bundledQuery});var i}}function ZB(n){return ri(n,"bundles")}function XB(n){return ri(n,"namedQueries")}class JE{constructor(e,t){this.serializer=e,this.userId=t}static lt(e,t){return new JE(e,t.uid||"")}getOverlay(e,t){return Dy(e).get(YB(this.userId,t)).next(r=>r?ND(this.serializer,r):null)}getOverlays(e,t){const r=Ma();return Y.forEach(t,i=>this.getOverlay(e,i).next(s=>{null!==s&&r.set(i,s)})).next(()=>r)}saveOverlays(e,t,r){const i=[];return r.forEach((s,o)=>{const a=new AD(t,o);i.push(this.ht(e,a))}),Y.waitFor(i)}removeOverlaysForBatchId(e,t,r){const i=new Set;t.forEach(o=>i.add(Fi(o.getCollectionPath())));const s=[];return i.forEach(o=>{const a=IDBKeyRange.bound([this.userId,o,r],[this.userId,o,r+1],!1,!0);s.push(Dy(e).j("collectionPathOverlayIndex",a))}),Y.waitFor(s)}getOverlaysForCollection(e,t,r){const i=Ma(),s=Fi(t),o=IDBKeyRange.bound([this.userId,s,r],[this.userId,s,Number.POSITIVE_INFINITY],!0);return Dy(e).U("collectionPathOverlayIndex",o).next(a=>{for(const l of a){const c=ND(this.serializer,l);i.set(c.getKey(),c)}return i})}getOverlaysForCollectionGroup(e,t,r,i){const s=Ma();let o;const a=IDBKeyRange.bound([this.userId,t,r],[this.userId,t,Number.POSITIVE_INFINITY],!0);return Dy(e).J({index:"collectionGroupOverlayIndex",range:a},(l,c,p)=>{const m=ND(this.serializer,c);s.size()<i||m.largestBatchId===o?(s.set(m.getKey(),m),o=m.largestBatchId):p.done()}).next(()=>s)}ht(e,t){return Dy(e).put(function(i,s,o){const[a,l,c]=YB(s,o.mutation.key);return{userId:s,collectionPath:l,documentId:c,collectionGroup:o.mutation.key.getCollectionGroup(),largestBatchId:o.largestBatchId,overlayMutation:Ty(i.ct,o.mutation)}}(this.serializer,this.userId,t))}}function Dy(n){return ri(n,"documentOverlays")}class bre{Pt(e){return ri(e,"globals")}getSessionToken(e){return this.Pt(e).get("sessionToken").next(t=>{const r=t?.value;return r?vr.fromUint8Array(r):vr.EMPTY_BYTE_STRING})}setSessionToken(e,t){return this.Pt(e).put({name:"sessionToken",value:t.toUint8Array()})}}class Sd{constructor(){}It(e,t){this.Tt(e,t),t.Et()}Tt(e,t){if("nullValue"in e)this.dt(t,5);else if("booleanValue"in e)this.dt(t,10),t.At(e.booleanValue?1:0);else if("integerValue"in e)this.dt(t,15),t.At(or(e.integerValue));else if("doubleValue"in e){const r=or(e.doubleValue);isNaN(r)?this.dt(t,13):(this.dt(t,15),ly(r)?t.At(0):t.At(r))}else if("timestampValue"in e){let r=e.timestampValue;this.dt(t,20),"string"==typeof r&&(r=Cl(r)),t.Rt(`${r.seconds||""}`),t.At(r.nanos||0)}else if("stringValue"in e)this.Vt(e.stringValue,t),this.ft(t);else if("bytesValue"in e)this.dt(t,30),t.gt(Dl(e.bytesValue)),this.ft(t);else if("referenceValue"in e)this.yt(e.referenceValue,t);else if("geoPointValue"in e){const r=e.geoPointValue;this.dt(t,45),t.At(r.latitude||0),t.At(r.longitude||0)}else"mapValue"in e?UU(e)?this.dt(t,Number.MAX_SAFE_INTEGER):BE(e)?this.wt(e.mapValue,t):(this.St(e.mapValue,t),this.ft(t)):"arrayValue"in e?(this.bt(e.arrayValue,t),this.ft(t)):qe()}Vt(e,t){this.dt(t,25),this.Dt(e,t)}Dt(e,t){t.Rt(e)}St(e,t){const r=e.fields||{};this.dt(t,55);for(const i of Object.keys(r))this.Vt(i,t),this.Tt(r[i],t)}wt(e,t){var r,i;const s=e.fields||{};this.dt(t,53);const o="value",a=(null===(i=null===(r=s[o].arrayValue)||void 0===r?void 0:r.values)||void 0===i?void 0:i.length)||0;this.dt(t,15),t.At(or(a)),this.Vt(o,t),this.Tt(s[o],t)}bt(e,t){const r=e.values||[];this.dt(t,50);for(const i of r)this.Tt(i,t)}yt(e,t){this.dt(t,37),Fe.fromName(e).path.forEach(r=>{this.dt(t,60),this.Dt(r,t)})}dt(e,t){e.At(t)}ft(e){e.At(2)}}function Are(n){if(0===n)return 8;let e=0;return!(n>>4)&&(e+=4,n<<=4),!(n>>6)&&(e+=2,n<<=2),!(n>>7)&&(e+=1),e}function ej(n){const e=64-function(r){let i=0;for(let s=0;s<8;++s){const o=Are(255&r[s]);if(i+=o,8!==o)break}return i}(n);return Math.ceil(e/8)}Sd.vt=new Sd;class Tre{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Ct(e){const t=e[Symbol.iterator]();let r=t.next();for(;!r.done;)this.Ft(r.value),r=t.next();this.Mt()}xt(e){const t=e[Symbol.iterator]();let r=t.next();for(;!r.done;)this.Ot(r.value),r=t.next();this.Nt()}Lt(e){for(const t of e){const r=t.charCodeAt(0);if(r<128)this.Ft(r);else if(r<2048)this.Ft(960|r>>>6),this.Ft(128|63&r);else if(t<"\ud800"||"\udbff"<t)this.Ft(480|r>>>12),this.Ft(128|63&r>>>6),this.Ft(128|63&r);else{const i=t.codePointAt(0);this.Ft(240|i>>>18),this.Ft(128|63&i>>>12),this.Ft(128|63&i>>>6),this.Ft(128|63&i)}}this.Mt()}Bt(e){for(const t of e){const r=t.charCodeAt(0);if(r<128)this.Ot(r);else if(r<2048)this.Ot(960|r>>>6),this.Ot(128|63&r);else if(t<"\ud800"||"\udbff"<t)this.Ot(480|r>>>12),this.Ot(128|63&r>>>6),this.Ot(128|63&r);else{const i=t.codePointAt(0);this.Ot(240|i>>>18),this.Ot(128|63&i>>>12),this.Ot(128|63&i>>>6),this.Ot(128|63&i)}}this.Nt()}kt(e){const t=this.qt(e),r=ej(t);this.Qt(1+r),this.buffer[this.position++]=255&r;for(let i=t.length-r;i<t.length;++i)this.buffer[this.position++]=255&t[i]}Kt(e){const t=this.qt(e),r=ej(t);this.Qt(1+r),this.buffer[this.position++]=~(255&r);for(let i=t.length-r;i<t.length;++i)this.buffer[this.position++]=~(255&t[i])}$t(){this.Ut(255),this.Ut(255)}Wt(){this.Gt(255),this.Gt(255)}reset(){this.position=0}seed(e){this.Qt(e.length),this.buffer.set(e,this.position),this.position+=e.length}zt(){return this.buffer.slice(0,this.position)}qt(e){const t=function(s){const o=new DataView(new ArrayBuffer(8));return o.setFloat64(0,s,!1),new Uint8Array(o.buffer)}(e),r=!!(128&t[0]);t[0]^=r?255:128;for(let i=1;i<t.length;++i)t[i]^=r?255:0;return t}Ft(e){const t=255&e;0===t?(this.Ut(0),this.Ut(255)):255===t?(this.Ut(255),this.Ut(0)):this.Ut(t)}Ot(e){const t=255&e;0===t?(this.Gt(0),this.Gt(255)):255===t?(this.Gt(255),this.Gt(0)):this.Gt(e)}Mt(){this.Ut(0),this.Ut(1)}Nt(){this.Gt(0),this.Gt(1)}Ut(e){this.Qt(1),this.buffer[this.position++]=e}Gt(e){this.Qt(1),this.buffer[this.position++]=~e}Qt(e){const t=e+this.position;if(t<=this.buffer.length)return;let r=2*this.buffer.length;r<t&&(r=t);const i=new Uint8Array(r);i.set(this.buffer),this.buffer=i}}class Cre{constructor(e){this.jt=e}gt(e){this.jt.Ct(e)}Rt(e){this.jt.Lt(e)}At(e){this.jt.kt(e)}Et(){this.jt.$t()}}class Dre{constructor(e){this.jt=e}gt(e){this.jt.xt(e)}Rt(e){this.jt.Bt(e)}At(e){this.jt.Kt(e)}Et(){this.jt.Wt()}}class Sy{constructor(){this.jt=new Tre,this.Ht=new Cre(this.jt),this.Jt=new Dre(this.jt)}seed(e){this.jt.seed(e)}Yt(e){return 0===e?this.Ht:this.Jt}zt(){return this.jt.zt()}reset(){this.jt.reset()}}class Rd{constructor(e,t,r,i){this.indexId=e,this.documentKey=t,this.arrayValue=r,this.directionalValue=i}Zt(){const e=this.directionalValue.length,t=0===e||255===this.directionalValue[e-1]?e+1:e,r=new Uint8Array(t);return r.set(this.directionalValue,0),t!==e?r.set([0],this.directionalValue.length):++r[r.length-1],new Rd(this.indexId,this.documentKey,this.arrayValue,r)}}function Gu(n,e){let t=n.indexId-e.indexId;return 0!==t?t:(t=tj(n.arrayValue,e.arrayValue),0!==t?t:(t=tj(n.directionalValue,e.directionalValue),0!==t?t:Fe.comparator(n.documentKey,e.documentKey)))}function tj(n,e){for(let t=0;t<n.length&&t<e.length;++t){const r=n[t]-e[t];if(0!==r)return r}return n.length-e.length}class nj{constructor(e){this.Xt=new Dn((t,r)=>Kn.comparator(t.field,r.field)),this.collectionId=null!=e.collectionGroup?e.collectionGroup:e.path.lastSegment(),this.en=e.orderBy,this.tn=[];for(const t of e.filters){const r=t;r.isInequality()?this.Xt=this.Xt.add(r):this.tn.push(r)}}get nn(){return this.Xt.size>1}rn(e){if(Qe(e.collectionGroup===this.collectionId),this.nn)return!1;const t=sD(e);if(void 0!==t&&!this.sn(t))return!1;const r=_d(e);let i=new Set,s=0,o=0;for(;s<r.length&&this.sn(r[s]);++s)i=i.add(r[s].fieldPath.canonicalString());if(s===r.length)return!0;if(this.Xt.size>0){const a=this.Xt.getIterator().getNext();if(!i.has(a.field.canonicalString())){const l=r[s];if(!this.on(a,l)||!this._n(this.en[o++],l))return!1}++s}for(;s<r.length;++s)if(o>=this.en.length||!this._n(this.en[o++],r[s]))return!1;return!0}an(){if(this.nn)return null;let e=new Dn(Kn.comparator);const t=[];for(const r of this.tn)if(!r.field.isKeyField())if("array-contains"===r.op||"array-contains-any"===r.op)t.push(new vd(r.field,2));else{if(e.has(r.field))continue;e=e.add(r.field),t.push(new vd(r.field,0))}for(const r of this.en)r.field.isKeyField()||e.has(r.field)||(e=e.add(r.field),t.push(new vd(r.field,"asc"===r.dir?0:1)));return new Qf(Qf.UNKNOWN_ID,this.collectionId,t,Yf.empty())}sn(e){for(const t of this.tn)if(this.on(t,e))return!0;return!1}on(e,t){return!(void 0===e||!e.field.isEqual(t.fieldPath))&&2===t.kind==("array-contains"===e.op||"array-contains-any"===e.op)}_n(e,t){return!!e.field.isEqual(t.fieldPath)&&(0===t.kind&&"asc"===e.dir||1===t.kind&&"desc"===e.dir)}}function rj(n){var e,t;if(Qe(n instanceof Qt||n instanceof In),n instanceof Qt){if(n instanceof ZU){const i=(null===(t=null===(e=n.value.arrayValue)||void 0===e?void 0:e.values)||void 0===t?void 0:t.map(s=>Qt.create(n.field,"==",s)))||[];return In.create(i,"or")}return n}const r=n.filters.map(i=>rj(i));return In.create(r,n.op)}function Sre(n){if(0===n.getFilters().length)return[];const e=kD(rj(n));return Qe(ij(e)),xD(e)||OD(e)?[e]:e.getFilters()}function xD(n){return n instanceof Qt}function OD(n){return n instanceof In&&pD(n)}function ij(n){return xD(n)||OD(n)||function(t){if(t instanceof In&&fD(t)){for(const r of t.getFilters())if(!xD(r)&&!OD(r))return!1;return!0}return!1}(n)}function kD(n){if(Qe(n instanceof Qt||n instanceof In),n instanceof Qt)return n;if(1===n.filters.length)return kD(n.filters[0]);const e=n.filters.map(r=>kD(r));let t=In.create(e,n.op);return t=ZE(t),ij(t)?t:(Qe(t instanceof In),Qe(Xf(t)),Qe(t.filters.length>1),t.filters.reduce((r,i)=>FD(r,i)))}function FD(n,e){let t;return Qe(n instanceof Qt||n instanceof In),Qe(e instanceof Qt||e instanceof In),t=n instanceof Qt?e instanceof Qt?In.create([n,e],"and"):sj(n,e):e instanceof Qt?sj(e,n):function(i,s){if(Qe(i.filters.length>0&&s.filters.length>0),Xf(i)&&Xf(s))return QU(i,s.getFilters());const o=fD(i)?i:s,a=fD(i)?s:i,l=o.filters.map(c=>FD(c,a));return In.create(l,"or")}(n,e),ZE(t)}function sj(n,e){if(Xf(e))return QU(e,n.getFilters());{const t=e.filters.map(r=>FD(n,r));return In.create(t,"or")}}function ZE(n){if(Qe(n instanceof Qt||n instanceof In),n instanceof Qt)return n;const e=n.getFilters();if(1===e.length)return ZE(e[0]);if(WU(n))return n;const t=e.map(i=>ZE(i)),r=[];return t.forEach(i=>{i instanceof Qt?r.push(i):i instanceof In&&(i.op===n.op?r.push(...i.filters):r.push(i))}),1===r.length?r[0]:In.create(r,n.op)}class Rre{constructor(){this.un=new VD}addToCollectionParentIndex(e,t){return this.un.add(t),Y.resolve()}getCollectionParents(e,t){return Y.resolve(this.un.getEntries(t))}addFieldIndex(e,t){return Y.resolve()}deleteFieldIndex(e,t){return Y.resolve()}deleteAllFieldIndexes(e){return Y.resolve()}createTargetIndexes(e,t){return Y.resolve()}getDocumentsMatchingTarget(e,t){return Y.resolve(null)}getIndexType(e,t){return Y.resolve(0)}getFieldIndexes(e,t){return Y.resolve([])}getNextCollectionGroupToUpdate(e){return Y.resolve(null)}getMinOffset(e,t){return Y.resolve(Qs.min())}getMinOffsetFromCollectionGroup(e,t){return Y.resolve(Qs.min())}updateCollectionGroup(e,t,r){return Y.resolve()}updateIndexEntries(e,t){return Y.resolve()}}class VD{constructor(){this.index={}}add(e){const t=e.lastSegment(),r=e.popLast(),i=this.index[t]||new Dn(Kt.comparator),s=!i.has(r);return this.index[t]=i.add(r),s}has(e){const t=e.lastSegment(),r=e.popLast(),i=this.index[t];return i&&i.has(r)}getEntries(e){return(this.index[e]||new Dn(Kt.comparator)).toArray()}}const XE=new Uint8Array(0);class Pre{constructor(e,t){this.databaseId=t,this.cn=new VD,this.ln=new Rl(r=>Id(r),(r,i)=>py(r,i)),this.uid=e.uid||""}addToCollectionParentIndex(e,t){if(!this.cn.has(t)){const r=t.lastSegment(),i=t.popLast();e.addOnCommittedListener(()=>{this.cn.add(t)});const s={collectionId:r,parent:Fi(i)};return oj(e).put(s)}return Y.resolve()}getCollectionParents(e,t){const r=[],i=IDBKeyRange.bound([t,""],[mU(t),""],!1,!0);return oj(e).U(i).next(s=>{for(const o of s){if(o.collectionId!==t)break;r.push(Ra(o.parent))}return r})}addFieldIndex(e,t){const r=Ry(e),i={indexId:(a=t).indexId,collectionGroup:a.collectionGroup,fields:a.fields.map(l=>[l.fieldPath.canonicalString(),l.kind])};var a;delete i.indexId;const s=r.add(i);if(t.indexState){const o=cp(e);return s.next(a=>{o.put(JB(a,this.uid,t.indexState.sequenceNumber,t.indexState.offset))})}return s.next()}deleteFieldIndex(e,t){const r=Ry(e),i=cp(e),s=up(e);return r.delete(t.indexId).next(()=>i.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))).next(()=>s.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0)))}deleteAllFieldIndexes(e){const t=Ry(e),r=up(e),i=cp(e);return t.j().next(()=>r.j()).next(()=>i.j())}createTargetIndexes(e,t){return Y.forEach(this.hn(t),r=>this.getIndexType(e,r).next(i=>{if(0===i||1===i){const s=new nj(r).an();if(null!=s)return this.addFieldIndex(e,s)}}))}getDocumentsMatchingTarget(e,t){const r=up(e);let i=!0;const s=new Map;return Y.forEach(this.hn(t),o=>this.Pn(e,o).next(a=>{i&&(i=!!a),s.set(o,a)})).next(()=>{if(i){let o=Nt();const a=[];return Y.forEach(s,(l,c)=>{var G;we("IndexedDbIndexManager",`Using index ${G=l,`id=${G.indexId}|cg=${G.collectionGroup}|f=${G.fields.map(ue=>`${ue.fieldPath}:${ue.kind}`).join(",")}`} to execute ${Id(t)}`);const p=function(G,ue){const Te=sD(ue);if(void 0===Te)return null;for(const Me of $E(G,Te.fieldPath))switch(Me.op){case"array-contains-any":return Me.value.arrayValue.values||[];case"array-contains":return[Me.value]}return null}(c,l),m=function(G,ue){const Te=new Map;for(const Me of _d(ue))for(const V of $E(G,Me.fieldPath))switch(V.op){case"==":case"in":Te.set(Me.fieldPath.canonicalString(),V.value);break;case"not-in":case"!=":return Te.set(Me.fieldPath.canonicalString(),V.value),Array.from(Te.values())}return null}(c,l),w=function(G,ue){const Te=[];let Me=!0;for(const V of _d(ue)){const N=0===V.kind?XU(G,V.fieldPath,G.startAt):eB(G,V.fieldPath,G.startAt);Te.push(N.value),Me&&(Me=N.inclusive)}return new Hu(Te,Me)}(c,l),b=function(G,ue){const Te=[];let Me=!0;for(const V of _d(ue)){const N=0===V.kind?eB(G,V.fieldPath,G.endAt):XU(G,V.fieldPath,G.endAt);Te.push(N.value),Me&&(Me=N.inclusive)}return new Hu(Te,Me)}(c,l),C=this.In(l,c,w),S=this.In(l,c,b),P=this.Tn(l,c,m),L=this.En(l.indexId,p,C,w.inclusive,S,b.inclusive,P);return Y.forEach(L,j=>r.G(j,t.limit).next(G=>{G.forEach(ue=>{const Te=Fe.fromSegments(ue.documentKey);o.has(Te)||(o=o.add(Te),a.push(Te))})}))}).next(()=>a)}return Y.resolve(null)})}hn(e){let t=this.ln.get(e);return t||(t=0===e.filters.length?[e]:Sre(In.create(e.filters,"and")).map(r=>mD(e.path,e.collectionGroup,e.orderBy,r.getFilters(),e.limit,e.startAt,e.endAt)),this.ln.set(e,t),t)}En(e,t,r,i,s,o,a){const l=(null!=t?t.length:1)*Math.max(r.length,s.length),c=l/(null!=t?t.length:1),p=[];for(let m=0;m<l;++m){const w=t?this.dn(t[m/c]):XE,b=this.An(e,w,r[m%c],i),C=this.Rn(e,w,s[m%c],o),S=a.map(P=>this.An(e,w,P,!0));p.push(...this.createRange(b,C,S))}return p}An(e,t,r,i){const s=new Rd(e,Fe.empty(),t,r);return i?s:s.Zt()}Rn(e,t,r,i){const s=new Rd(e,Fe.empty(),t,r);return i?s.Zt():s}Pn(e,t){const r=new nj(t),i=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,i).next(s=>{let o=null;for(const a of s)r.rn(a)&&(!o||a.fields.length>o.fields.length)&&(o=a);return o})}getIndexType(e,t){let r=2;const i=this.hn(t);return Y.forEach(i,s=>this.Pn(e,s).next(o=>{o?0!==r&&o.fields.length<function(l){let c=new Dn(Kn.comparator),p=!1;for(const m of l.filters)for(const w of m.getFlattenedFilters())w.field.isKeyField()||("array-contains"===w.op||"array-contains-any"===w.op?p=!0:c=c.add(w.field));for(const m of l.orderBy)m.field.isKeyField()||(c=c.add(m.field));return c.size+(p?1:0)}(s)&&(r=1):r=0})).next(()=>null!==t.limit&&i.length>1&&2===r?1:r)}Vn(e,t){const r=new Sy;for(const i of _d(e)){const s=t.data.field(i.fieldPath);if(null==s)return null;const o=r.Yt(i.kind);Sd.vt.It(s,o)}return r.zt()}dn(e){const t=new Sy;return Sd.vt.It(e,t.Yt(0)),t.zt()}mn(e,t){const r=new Sy;return Sd.vt.It(Ed(this.databaseId,t),r.Yt(function(s){const o=_d(s);return 0===o.length?0:o[o.length-1].kind}(e))),r.zt()}Tn(e,t,r){if(null===r)return[];let i=[];i.push(new Sy);let s=0;for(const o of _d(e)){const a=r[s++];for(const l of i)if(this.fn(t,o.fieldPath)&&dy(a))i=this.gn(i,o,a);else{const c=l.Yt(o.kind);Sd.vt.It(a,c)}}return this.pn(i)}In(e,t,r){return this.Tn(e,t,r.position)}pn(e){const t=[];for(let r=0;r<e.length;++r)t[r]=e[r].zt();return t}gn(e,t,r){const i=[...e],s=[];for(const o of r.arrayValue.values||[])for(const a of i){const l=new Sy;l.seed(a.zt()),Sd.vt.It(o,l.Yt(t.kind)),s.push(l)}return s}fn(e,t){return!!e.filters.find(r=>r instanceof Qt&&r.field.isEqual(t)&&("in"===r.op||"not-in"===r.op))}getFieldIndexes(e,t){const r=Ry(e),i=cp(e);return(t?r.U("collectionGroupIndex",IDBKeyRange.bound(t,t)):r.U()).next(s=>{const o=[];return Y.forEach(s,a=>i.get([a.indexId,this.uid]).next(l=>{o.push(function(p,m){const w=m?new Yf(m.sequenceNumber,new Qs(Cd(m.readTime),new Fe(Ra(m.documentKey)),m.largestBatchId)):Yf.empty(),b=p.fields.map(([C,S])=>new vd(Kn.fromServerFormat(C),S));return new Qf(p.indexId,p.collectionGroup,b,w)}(a,l))})).next(()=>o)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(t=>0===t.length?null:(t.sort((r,i)=>{const s=r.indexState.sequenceNumber-i.indexState.sequenceNumber;return 0!==s?s:Et(r.collectionGroup,i.collectionGroup)}),t[0].collectionGroup))}updateCollectionGroup(e,t,r){const i=Ry(e),s=cp(e);return this.yn(e).next(o=>i.U("collectionGroupIndex",IDBKeyRange.bound(t,t)).next(a=>Y.forEach(a,l=>s.put(JB(l.indexId,this.uid,o,r)))))}updateIndexEntries(e,t){const r=new Map;return Y.forEach(t,(i,s)=>{const o=r.get(i.collectionGroup);return(o?Y.resolve(o):this.getFieldIndexes(e,i.collectionGroup)).next(a=>(r.set(i.collectionGroup,a),Y.forEach(a,l=>this.wn(e,i,l).next(c=>{const p=this.Sn(s,l);return c.isEqual(p)?Y.resolve():this.bn(e,s,l,c,p)}))))})}Dn(e,t,r,i){return up(e).put({indexId:i.indexId,uid:this.uid,arrayValue:i.arrayValue,directionalValue:i.directionalValue,orderedDocumentKey:this.mn(r,t.key),documentKey:t.key.path.toArray()})}vn(e,t,r,i){return up(e).delete([i.indexId,this.uid,i.arrayValue,i.directionalValue,this.mn(r,t.key),t.key.path.toArray()])}wn(e,t,r){const i=up(e);let s=new Dn(Gu);return i.J({index:"documentKeyIndex",range:IDBKeyRange.only([r.indexId,this.uid,this.mn(r,t)])},(o,a)=>{s=s.add(new Rd(r.indexId,t,a.arrayValue,a.directionalValue))}).next(()=>s)}Sn(e,t){let r=new Dn(Gu);const i=this.Vn(t,e);if(null==i)return r;const s=sD(t);if(null!=s){const o=e.data.field(s.fieldPath);if(dy(o))for(const a of o.arrayValue.values||[])r=r.add(new Rd(t.indexId,e.key,this.dn(a),i))}else r=r.add(new Rd(t.indexId,e.key,XE,i));return r}bn(e,t,r,i,s){we("IndexedDbIndexManager","Updating index entries for document '%s'",t.key);const o=[];return function(l,c,p,m,w){const b=l.getIterator(),C=c.getIterator();let S=Jf(b),P=Jf(C);for(;S||P;){let L=!1,j=!1;if(S&&P){const G=p(S,P);G<0?j=!0:G>0&&(L=!0)}else null!=S?j=!0:L=!0;L?(m(P),P=Jf(C)):j?(w(S),S=Jf(b)):(S=Jf(b),P=Jf(C))}}(i,s,Gu,a=>{o.push(this.Dn(e,t,r,a))},a=>{o.push(this.vn(e,t,r,a))}),Y.waitFor(o)}yn(e){let t=1;return cp(e).J({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(r,i,s)=>{s.done(),t=i.sequenceNumber+1}).next(()=>t)}createRange(e,t,r){r=r.sort((o,a)=>Gu(o,a)).filter((o,a,l)=>!a||0!==Gu(o,l[a-1]));const i=[];i.push(e);for(const o of r){const a=Gu(o,e),l=Gu(o,t);if(0===a)i[0]=e.Zt();else if(a>0&&l<0)i.push(o),i.push(o.Zt());else if(l>0)break}i.push(t);const s=[];for(let o=0;o<i.length;o+=2){if(this.Cn(i[o],i[o+1]))return[];s.push(IDBKeyRange.bound([i[o].indexId,this.uid,i[o].arrayValue,i[o].directionalValue,XE,[]],[i[o+1].indexId,this.uid,i[o+1].arrayValue,i[o+1].directionalValue,XE,[]]))}return s}Cn(e,t){return Gu(e,t)>0}getMinOffsetFromCollectionGroup(e,t){return this.getFieldIndexes(e,t).next(aj)}getMinOffset(e,t){return Y.mapArray(this.hn(t),r=>this.Pn(e,r).next(i=>i||qe())).next(aj)}}function oj(n){return ri(n,"collectionParents")}function up(n){return ri(n,"indexEntries")}function Ry(n){return ri(n,"indexConfiguration")}function cp(n){return ri(n,"indexState")}function aj(n){Qe(0!==n.length);let e=n[0].indexState.offset,t=e.largestBatchId;for(let r=1;r<n.length;r++){const i=n[r].indexState.offset;oD(i,e)<0&&(e=i),t<i.largestBatchId&&(t=i.largestBatchId)}return new Qs(e.readTime,e.documentKey,t)}const lj={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class Li{constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new Li(e,Li.DEFAULT_COLLECTION_PERCENTILE,Li.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function uj(n,e,t){const r=n.store("mutations"),i=n.store("documentMutations"),s=[],o=IDBKeyRange.only(t.batchId);let a=0;const l=r.J({range:o},(p,m,w)=>(a++,w.delete()));s.push(l.next(()=>{Qe(1===a)}));const c=[];for(const p of t.mutations){const m=CU(e,p.key.path,t.batchId);s.push(i.delete(m)),c.push(p.key)}return Y.waitFor(s).next(()=>c)}function eI(n){if(!n)return 0;let e;if(n.document)e=n.document;else if(n.unknownDocument)e=n.unknownDocument;else{if(!n.noDocument)throw qe();e=n.noDocument}return JSON.stringify(e).length}Li.DEFAULT_COLLECTION_PERCENTILE=10,Li.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Li.DEFAULT=new Li(41943040,Li.DEFAULT_COLLECTION_PERCENTILE,Li.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Li.DISABLED=new Li(-1,0,0);class tI{constructor(e,t,r,i){this.userId=e,this.serializer=t,this.indexManager=r,this.referenceDelegate=i,this.Fn={}}static lt(e,t,r,i){Qe(""!==e.uid);const s=e.isAuthenticated()?e.uid:"";return new tI(s,t,r,i)}checkEmpty(e){let t=!0;const r=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Wu(e).J({index:"userMutationsIndex",range:r},(i,s,o)=>{t=!1,o.done()}).next(()=>t)}addMutationBatch(e,t,r,i){const s=dp(e),o=Wu(e);return o.add({}).next(a=>{Qe("number"==typeof a);const l=new ID(a,t,r,i),c=function(b,C,S){const P=S.baseMutations.map(j=>Ty(b.ct,j)),L=S.mutations.map(j=>Ty(b.ct,j));return{userId:C,batchId:S.batchId,localWriteTimeMs:S.localWriteTime.toMillis(),baseMutations:P,mutations:L}}(this.serializer,this.userId,l),p=[];let m=new Dn((w,b)=>Et(w.canonicalString(),b.canonicalString()));for(const w of i){const b=CU(this.userId,w.key.path,a);m=m.add(w.key.path.popLast()),p.push(o.put(c)),p.push(s.put(b,yne))}return m.forEach(w=>{p.push(this.indexManager.addToCollectionParentIndex(e,w))}),e.addOnCommittedListener(()=>{this.Fn[a]=l.keys()}),Y.waitFor(p).next(()=>l)})}lookupMutationBatch(e,t){return Wu(e).get(t).next(r=>r?(Qe(r.userId===this.userId),Dd(this.serializer,r)):null)}Mn(e,t){return this.Fn[t]?Y.resolve(this.Fn[t]):this.lookupMutationBatch(e,t).next(r=>{if(r){const i=r.keys();return this.Fn[t]=i,i}return null})}getNextMutationBatchAfterBatchId(e,t){const r=t+1,i=IDBKeyRange.lowerBound([this.userId,r]);let s=null;return Wu(e).J({index:"userMutationsIndex",range:i},(o,a,l)=>{a.userId===this.userId&&(Qe(a.batchId>=r),s=Dd(this.serializer,a)),l.done()}).next(()=>s)}getHighestUnacknowledgedBatchId(e){const t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let r=-1;return Wu(e).J({index:"userMutationsIndex",range:t,reverse:!0},(i,s,o)=>{r=s.batchId,o.done()}).next(()=>r)}getAllMutationBatches(e){const t=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Wu(e).U("userMutationsIndex",t).next(r=>r.map(i=>Dd(this.serializer,i)))}getAllMutationBatchesAffectingDocumentKey(e,t){const r=xE(this.userId,t.path),i=IDBKeyRange.lowerBound(r),s=[];return dp(e).J({range:i},(o,a,l)=>{const[c,p,m]=o,w=Ra(p);if(c===this.userId&&t.path.isEqual(w))return Wu(e).get(m).next(b=>{if(!b)throw qe();Qe(b.userId===this.userId),s.push(Dd(this.serializer,b))});l.done()}).next(()=>s)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new Dn(Et);const i=[];return t.forEach(s=>{const o=xE(this.userId,s.path),a=IDBKeyRange.lowerBound(o),l=dp(e).J({range:a},(c,p,m)=>{const[w,b,C]=c,S=Ra(b);w===this.userId&&s.path.isEqual(S)?r=r.add(C):m.done()});i.push(l)}),Y.waitFor(i).next(()=>this.xn(e,r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,i=r.length+1,s=xE(this.userId,r),o=IDBKeyRange.lowerBound(s);let a=new Dn(Et);return dp(e).J({range:o},(l,c,p)=>{const[m,w,b]=l,C=Ra(w);m===this.userId&&r.isPrefixOf(C)?C.length===i&&(a=a.add(b)):p.done()}).next(()=>this.xn(e,a))}xn(e,t){const r=[],i=[];return t.forEach(s=>{i.push(Wu(e).get(s).next(o=>{if(null===o)throw qe();Qe(o.userId===this.userId),r.push(Dd(this.serializer,o))}))}),Y.waitFor(i).next(()=>r)}removeMutationBatch(e,t){return uj(e._e,this.userId,t).next(r=>(e.addOnCommittedListener(()=>{this.On(t.batchId)}),Y.forEach(r,i=>this.referenceDelegate.markPotentiallyOrphaned(e,i))))}On(e){delete this.Fn[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(t=>{if(!t)return Y.resolve();const r=IDBKeyRange.lowerBound(function(o){return[o]}(this.userId)),i=[];return dp(e).J({range:r},(s,o,a)=>{if(s[0]===this.userId){const l=Ra(s[1]);i.push(l)}else a.done()}).next(()=>{Qe(0===i.length)})})}containsKey(e,t){return cj(e,this.userId,t)}Nn(e){return dj(e).get(this.userId).next(t=>t||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function cj(n,e,t){const r=xE(e,t.path),i=r[1],s=IDBKeyRange.lowerBound(r);let o=!1;return dp(n).J({range:s,H:!0},(a,l,c)=>{const[p,m,w]=a;p===e&&m===i&&(o=!0),c.done()}).next(()=>o)}function Wu(n){return ri(n,"mutations")}function dp(n){return ri(n,"documentMutations")}function dj(n){return ri(n,"mutationQueues")}class Pd{constructor(e){this.Ln=e}next(){return this.Ln+=2,this.Ln}static Bn(){return new Pd(0)}static kn(){return new Pd(-1)}}class Mre{constructor(e,t){this.referenceDelegate=e,this.serializer=t}allocateTargetId(e){return this.qn(e).next(t=>{const r=new Pd(t.highestTargetId);return t.highestTargetId=r.next(),this.Qn(e,t).next(()=>t.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.qn(e).next(t=>Ze.fromTimestamp(new sr(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.qn(e).next(t=>t.highestListenSequenceNumber)}setTargetsMetadata(e,t,r){return this.qn(e).next(i=>(i.highestListenSequenceNumber=t,r&&(i.lastRemoteSnapshotVersion=r.toTimestamp()),t>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=t),this.Qn(e,i)))}addTargetData(e,t){return this.Kn(e,t).next(()=>this.qn(e).next(r=>(r.targetCount+=1,this.$n(t,r),this.Qn(e,r))))}updateTargetData(e,t){return this.Kn(e,t)}removeTargetData(e,t){return this.removeMatchingKeysForTargetId(e,t.targetId).next(()=>hp(e).delete(t.targetId)).next(()=>this.qn(e)).next(r=>(Qe(r.targetCount>0),r.targetCount-=1,this.Qn(e,r)))}removeTargets(e,t,r){let i=0;const s=[];return hp(e).J((o,a)=>{const l=Cy(a);l.sequenceNumber<=t&&null===r.get(l.targetId)&&(i++,s.push(this.removeTargetData(e,l)))}).next(()=>Y.waitFor(s)).next(()=>i)}forEachTarget(e,t){return hp(e).J((r,i)=>{const s=Cy(i);t(s)})}qn(e){return hj(e).get("targetGlobalKey").next(t=>(Qe(null!==t),t))}Qn(e,t){return hj(e).put("targetGlobalKey",t)}Kn(e,t){return hp(e).put(QB(this.serializer,t))}$n(e,t){let r=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,r=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,r=!0),r}getTargetCount(e){return this.qn(e).next(t=>t.targetCount)}getTargetData(e,t){const r=Id(t),i=IDBKeyRange.bound([r,Number.NEGATIVE_INFINITY],[r,Number.POSITIVE_INFINITY]);let s=null;return hp(e).J({range:i,index:"queryTargetsIndex"},(o,a,l)=>{const c=Cy(a);py(t,c.target)&&(s=c,l.done())}).next(()=>s)}addMatchingKeys(e,t,r){const i=[],s=Ku(e);return t.forEach(o=>{const a=Fi(o.path);i.push(s.put({targetId:r,path:a})),i.push(this.referenceDelegate.addReference(e,r,o))}),Y.waitFor(i)}removeMatchingKeys(e,t,r){const i=Ku(e);return Y.forEach(t,s=>{const o=Fi(s.path);return Y.waitFor([i.delete([r,o]),this.referenceDelegate.removeReference(e,r,s)])})}removeMatchingKeysForTargetId(e,t){const r=Ku(e),i=IDBKeyRange.bound([t],[t+1],!1,!0);return r.delete(i)}getMatchingKeysForTargetId(e,t){const r=IDBKeyRange.bound([t],[t+1],!1,!0),i=Ku(e);let s=Nt();return i.J({range:r,H:!0},(o,a,l)=>{const c=Ra(o[1]),p=new Fe(c);s=s.add(p)}).next(()=>s)}containsKey(e,t){const r=Fi(t.path),i=IDBKeyRange.bound([r],[mU(r)],!1,!0);let s=0;return Ku(e).J({index:"documentTargetsIndex",H:!0,range:i},([o,a],l,c)=>{0!==o&&(s++,c.done())}).next(()=>s>0)}ot(e,t){return hp(e).get(t).next(r=>r?Cy(r):null)}}function hp(n){return ri(n,"targets")}function hj(n){return ri(n,"targetGlobal")}function Ku(n){return ri(n,"targetDocuments")}function fj([n,e],[t,r]){const i=Et(n,t);return 0===i?Et(e,r):i}class Nre{constructor(e){this.Un=e,this.buffer=new Dn(fj),this.Wn=0}Gn(){return++this.Wn}zn(e){const t=[e,this.Gn()];if(this.buffer.size<this.Un)this.buffer=this.buffer.add(t);else{const r=this.buffer.last();fj(t,r)<0&&(this.buffer=this.buffer.delete(r).add(t))}}get maxValue(){return this.buffer.last()[0]}}class pj{constructor(e,t,r){this.garbageCollector=e,this.asyncQueue=t,this.localStore=r,this.jn=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Hn(6e4)}stop(){this.jn&&(this.jn.cancel(),this.jn=null)}get started(){return null!==this.jn}Hn(e){var t=this;we("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.jn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(0,T.A)(function*(){t.jn=null;try{yield t.localStore.collectGarbage(t.garbageCollector)}catch(r){Lu(r)?we("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",r):yield Vu(r)}yield t.Hn(3e5)}))}}class xre{constructor(e,t){this.Jn=e,this.params=t}calculateTargetCount(e,t){return this.Jn.Yn(e).next(r=>Math.floor(t/100*r))}nthSequenceNumber(e,t){if(0===t)return Y.resolve(Ys.oe);const r=new Nre(t);return this.Jn.forEachTarget(e,i=>r.zn(i.sequenceNumber)).next(()=>this.Jn.Zn(e,i=>r.zn(i))).next(()=>r.maxValue)}removeTargets(e,t,r){return this.Jn.removeTargets(e,t,r)}removeOrphanedDocuments(e,t){return this.Jn.removeOrphanedDocuments(e,t)}collect(e,t){return-1===this.params.cacheSizeCollectionThreshold?(we("LruGarbageCollector","Garbage collection skipped; disabled"),Y.resolve(lj)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(we("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),lj):this.Xn(e,t))}getCacheSize(e){return this.Jn.getCacheSize(e)}Xn(e,t){let r,i,s,o,a,l,c;const p=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(m=>(m>this.params.maximumSequenceNumbersToCollect?(we("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${m}`),i=this.params.maximumSequenceNumbersToCollect):i=m,o=Date.now(),this.nthSequenceNumber(e,i))).next(m=>(r=m,a=Date.now(),this.removeTargets(e,r,t))).next(m=>(s=m,l=Date.now(),this.removeOrphanedDocuments(e,r))).next(m=>(c=Date.now(),Wf()<=Da.$b.DEBUG&&we("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${o-p}ms\n\tDetermined least recently used ${i} in `+(a-o)+`ms\n\tRemoved ${s} targets in `+(l-a)+`ms\n\tRemoved ${m} documents in `+(c-l)+`ms\nTotal Duration: ${c-p}ms`),Y.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:s,documentsRemoved:m})))}}class Ore{constructor(e,t){this.db=e,this.garbageCollector=function gj(n,e){return new xre(n,e)}(this,t)}Yn(e){const t=this.er(e);return this.db.getTargetCache().getTargetCount(e).next(r=>t.next(i=>r+i))}er(e){let t=0;return this.Zn(e,r=>{t++}).next(()=>t)}forEachTarget(e,t){return this.db.getTargetCache().forEachTarget(e,t)}Zn(e,t){return this.tr(e,(r,i)=>t(i))}addReference(e,t,r){return nI(e,r)}removeReference(e,t,r){return nI(e,r)}removeTargets(e,t,r){return this.db.getTargetCache().removeTargets(e,t,r)}markPotentiallyOrphaned(e,t){return nI(e,t)}nr(e,t){return function(i,s){let o=!1;return dj(i).Y(a=>cj(i,a,s).next(l=>(l&&(o=!0),Y.resolve(!l)))).next(()=>o)}(e,t)}removeOrphanedDocuments(e,t){const r=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[];let s=0;return this.tr(e,(o,a)=>{if(a<=t){const l=this.nr(e,o).next(c=>{if(!c)return s++,r.getEntry(e,o).next(()=>(r.removeEntry(o,Ze.min()),Ku(e).delete([0,Fi(o.path)])))});i.push(l)}}).next(()=>Y.waitFor(i)).next(()=>r.apply(e)).next(()=>s)}removeTarget(e,t){const r=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,r)}updateLimboDocument(e,t){return nI(e,t)}tr(e,t){const r=Ku(e);let i,s=Ys.oe;return r.J({index:"documentTargetsIndex"},([o,a],{path:l,sequenceNumber:c})=>{0===o?(s!==Ys.oe&&t(new Fe(Ra(i)),s),s=c,i=l):s=Ys.oe}).next(()=>{s!==Ys.oe&&t(new Fe(Ra(i)),s)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function nI(n,e){return Ku(n).put((i=n.currentSequenceNumber,{targetId:0,path:Fi(e.path),sequenceNumber:i}));var i}class mj{constructor(){this.changes=new Rl(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Qn.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const r=this.changes.get(t);return void 0!==r?Y.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class kre{constructor(e){this.serializer=e}setIndexManager(e){this.indexManager=e}addEntry(e,t,r){return Md(e).put(r)}removeEntry(e,t,r){return Md(e).delete(function(s,o){const a=s.path.toArray();return[a.slice(0,a.length-2),a[a.length-2],YE(o),a[a.length-1]]}(t,r))}updateMetadata(e,t){return this.getMetadata(e).next(r=>(r.byteSize+=t,this.rr(e,r)))}getEntry(e,t){let r=Qn.newInvalidDocument(t);return Md(e).J({index:"documentKeyIndex",range:IDBKeyRange.only(Py(t))},(i,s)=>{r=this.ir(t,s)}).next(()=>r)}sr(e,t){let r={size:0,document:Qn.newInvalidDocument(t)};return Md(e).J({index:"documentKeyIndex",range:IDBKeyRange.only(Py(t))},(i,s)=>{r={document:this.ir(t,s),size:eI(s)}}).next(()=>r)}getEntries(e,t){let r=Ps();return this._r(e,t,(i,s)=>{const o=this.ir(i,s);r=r.insert(i,o)}).next(()=>r)}ar(e,t){let r=Ps(),i=new $n(Fe.comparator);return this._r(e,t,(s,o)=>{const a=this.ir(s,o);r=r.insert(s,a),i=i.insert(s,eI(o))}).next(()=>({documents:r,ur:i}))}_r(e,t,r){if(t.isEmpty())return Y.resolve();let i=new Dn(wj);t.forEach(l=>i=i.add(l));const s=IDBKeyRange.bound(Py(i.first()),Py(i.last())),o=i.getIterator();let a=o.getNext();return Md(e).J({index:"documentKeyIndex",range:s},(l,c,p)=>{const m=Fe.fromSegments([...c.prefixPath,c.collectionGroup,c.documentId]);for(;a&&wj(a,m)<0;)r(a,null),a=o.getNext();a&&a.isEqual(m)&&(r(a,c),a=o.hasNext()?o.getNext():null),a?p.$(Py(a)):p.done()}).next(()=>{for(;a;)r(a,null),a=o.hasNext()?o.getNext():null})}getDocumentsMatchingQuery(e,t,r,i,s){const o=t.path,a=[o.popLast().toArray(),o.lastSegment(),YE(r.readTime),r.documentKey.path.isEmpty()?"":r.documentKey.path.lastSegment()],l=[o.popLast().toArray(),o.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return Md(e).U(IDBKeyRange.bound(a,l,!0)).next(c=>{s?.incrementDocumentReadCount(c.length);let p=Ps();for(const m of c){const w=this.ir(Fe.fromSegments(m.prefixPath.concat(m.collectionGroup,m.documentId)),m);w.isFoundDocument()&&(my(t,w)||i.has(w.key))&&(p=p.insert(w.key,w))}return p})}getAllFromCollectionGroup(e,t,r,i){let s=Ps();const o=vj(t,r),a=vj(t,Qs.max());return Md(e).J({index:"collectionGroupIndex",range:IDBKeyRange.bound(o,a,!0)},(l,c,p)=>{const m=this.ir(Fe.fromSegments(c.prefixPath.concat(c.collectionGroup,c.documentId)),c);s=s.insert(m.key,m),s.size===i&&p.done()}).next(()=>s)}newChangeBuffer(e){return new Fre(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(t=>t.byteSize)}getMetadata(e){return _j(e).get("remoteDocumentGlobalKey").next(t=>(Qe(!!t),t))}rr(e,t){return _j(e).put("remoteDocumentGlobalKey",t)}ir(e,t){if(t){const r=function Ere(n,e){let t;if(e.document)t=BB(n.ct,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const r=Fe.fromSegments(e.noDocument.path),i=Cd(e.noDocument.readTime);t=Qn.newNoDocument(r,i),e.hasCommittedMutations&&t.setHasCommittedMutations()}else{if(!e.unknownDocument)return qe();{const r=Fe.fromSegments(e.unknownDocument.path),i=Cd(e.unknownDocument.version);t=Qn.newUnknownDocument(r,i)}}return e.readTime&&t.setReadTime(function(i){const s=new sr(i[0],i[1]);return Ze.fromTimestamp(s)}(e.readTime)),t}(this.serializer,t);if(!r.isNoDocument()||!r.version.isEqual(Ze.min()))return r}return Qn.newInvalidDocument(e)}}function yj(n){return new kre(n)}class Fre extends mj{constructor(e,t){super(),this.cr=e,this.trackRemovals=t,this.lr=new Rl(r=>r.toString(),(r,i)=>r.isEqual(i))}applyChanges(e){const t=[];let r=0,i=new Dn((s,o)=>Et(s.canonicalString(),o.canonicalString()));return this.changes.forEach((s,o)=>{const a=this.lr.get(s);if(t.push(this.cr.removeEntry(e,s,a.readTime)),o.isValidDocument()){const l=KB(this.cr.serializer,o);i=i.add(s.path.popLast());const c=eI(l);r+=c-a.size,t.push(this.cr.addEntry(e,s,l))}else if(r-=a.size,this.trackRemovals){const l=KB(this.cr.serializer,o.convertToNoDocument(Ze.min()));t.push(this.cr.addEntry(e,s,l))}}),i.forEach(s=>{t.push(this.cr.indexManager.addToCollectionParentIndex(e,s))}),t.push(this.cr.updateMetadata(e,r)),Y.waitFor(t)}getFromCache(e,t){return this.cr.sr(e,t).next(r=>(this.lr.set(t,{size:r.size,readTime:r.document.readTime}),r.document))}getAllFromCache(e,t){return this.cr.ar(e,t).next(({documents:r,ur:i})=>(i.forEach((s,o)=>{this.lr.set(s,{size:o,readTime:r.get(s).readTime})}),r))}}function _j(n){return ri(n,"remoteDocumentGlobal")}function Md(n){return ri(n,"remoteDocumentsV14")}function Py(n){const e=n.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function vj(n,e){const t=e.documentKey.path.toArray();return[n,YE(e.readTime),t.slice(0,t.length-2),t.length>0?t[t.length-1]:""]}function wj(n,e){const t=n.path.toArray(),r=e.path.toArray();let i=0;for(let s=0;s<t.length-2&&s<r.length-2;++s)if(i=Et(t[s],r[s]),i)return i;return i=Et(t.length,r.length),i||(i=Et(t[t.length-2],r[r.length-2]),i||Et(t[t.length-1],r[r.length-1]))}class Vre{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class Ej{constructor(e,t,r,i){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,t){let r=null;return this.documentOverlayCache.getOverlay(e,t).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,t))).next(i=>(null!==r&&wy(r.mutation,i,Rs.empty(),sr.now()),i))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.getLocalViewOfDocuments(e,r,Nt()).next(()=>r))}getLocalViewOfDocuments(e,t,r=Nt()){const i=Ma();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,r).next(s=>{let o=yy();return s.forEach((a,l)=>{o=o.insert(a,l.overlayedDocument)}),o}))}getOverlayedDocuments(e,t){const r=Ma();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,Nt()))}populateOverlays(e,t,r){const i=[];return r.forEach(s=>{t.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((o,a)=>{t.set(o,a)})})}computeViews(e,t,r,i){let s=Ps();const o=_y(),a=_y();return t.forEach((l,c)=>{const p=r.get(c.key);i.has(c.key)&&(void 0===p||p.mutation instanceof Pl)?s=s.insert(c.key,c):void 0!==p?(o.set(c.key,p.mutation.getFieldMask()),wy(p.mutation,c,p.mutation.getFieldMask(),sr.now())):o.set(c.key,Rs.empty())}),this.recalculateAndSaveOverlays(e,s).next(l=>(l.forEach((c,p)=>o.set(c,p)),t.forEach((c,p)=>{var m;return a.set(c,new Vre(p,null!==(m=o.get(c))&&void 0!==m?m:null))}),a))}recalculateAndSaveOverlays(e,t){const r=_y();let i=new $n((o,a)=>o-a),s=Nt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(o=>{for(const a of o)a.keys().forEach(l=>{const c=t.get(l);if(null===c)return;let p=r.get(l)||Rs.empty();p=a.applyToLocalView(c,p),r.set(l,p);const m=(i.get(a.batchId)||Nt()).add(l);i=i.insert(a.batchId,m)})}).next(()=>{const o=[],a=i.getReverseIterator();for(;a.hasNext();){const l=a.getNext(),c=l.key,p=l.value,m=cB();p.forEach(w=>{if(!s.has(w)){const b=_B(t.get(w),r.get(w));null!==b&&m.set(w,b),s=s.add(w)}}),o.push(this.documentOverlayCache.saveOverlays(e,c,m))}return Y.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,t,r,i){return Fe.isDocumentKey((o=t).path)&&null===o.collectionGroup&&0===o.filters.length?this.getDocumentsMatchingDocumentQuery(e,t.path):yD(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,r,i):this.getDocumentsMatchingCollectionQuery(e,t,r,i);var o}getNextDocuments(e,t,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,r,i).next(s=>{const o=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,r.largestBatchId,i-s.size):Y.resolve(Ma());let a=-1,l=s;return o.next(c=>Y.forEach(c,(p,m)=>(a<m.largestBatchId&&(a=m.largestBatchId),s.get(p)?Y.resolve():this.remoteDocumentCache.getEntry(e,p).next(w=>{l=l.insert(p,w)}))).next(()=>this.populateOverlays(e,c,s)).next(()=>this.computeViews(e,l,c,Nt())).next(p=>({batchId:a,changes:uB(p)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new Fe(t)).next(r=>{let i=yy();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,t,r,i){const s=t.collectionGroup;let o=yy();return this.indexManager.getCollectionParents(e,s).next(a=>Y.forEach(a,l=>{const c=(m=t,w=l.child(s),new Sl(w,null,m.explicitOrderBy.slice(),m.filters.slice(),m.limit,m.limitType,m.startAt,m.endAt));var m,w;return this.getDocumentsMatchingCollectionQuery(e,c,r,i).next(p=>{p.forEach((m,w)=>{o=o.insert(m,w)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,t,r,i){let s;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,r.largestBatchId).next(o=>(s=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,r,s,i))).next(o=>{s.forEach((l,c)=>{const p=c.getKey();null===o.get(p)&&(o=o.insert(p,Qn.newInvalidDocument(p)))});let a=yy();return o.forEach((l,c)=>{const p=s.get(l);void 0!==p&&wy(p.mutation,c,Rs.empty(),sr.now()),my(t,c)&&(a=a.insert(l,c))}),a})}}class Lre{constructor(e){this.serializer=e,this.hr=new Map,this.Pr=new Map}getBundleMetadata(e,t){return Y.resolve(this.hr.get(t))}saveBundleMetadata(e,t){return this.hr.set(t.id,{id:(i=t).id,version:i.version,createTime:Nr(i.createTime)}),Y.resolve();var i}getNamedQuery(e,t){return Y.resolve(this.Pr.get(t))}saveNamedQuery(e,t){return this.Pr.set(t.name,{name:(i=t).name,query:MD(i.bundledQuery),readTime:Nr(i.readTime)}),Y.resolve();var i}}class Ure{constructor(){this.overlays=new $n(Fe.comparator),this.Ir=new Map}getOverlay(e,t){return Y.resolve(this.overlays.get(t))}getOverlays(e,t){const r=Ma();return Y.forEach(t,i=>this.getOverlay(e,i).next(s=>{null!==s&&r.set(i,s)})).next(()=>r)}saveOverlays(e,t,r){return r.forEach((i,s)=>{this.ht(e,t,s)}),Y.resolve()}removeOverlaysForBatchId(e,t,r){const i=this.Ir.get(r);return void 0!==i&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.Ir.delete(r)),Y.resolve()}getOverlaysForCollection(e,t,r){const i=Ma(),s=t.length+1,o=new Fe(t.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const l=a.getNext().value,c=l.getKey();if(!t.isPrefixOf(c.path))break;c.path.length===s&&l.largestBatchId>r&&i.set(l.getKey(),l)}return Y.resolve(i)}getOverlaysForCollectionGroup(e,t,r,i){let s=new $n((c,p)=>c-p);const o=this.overlays.getIterator();for(;o.hasNext();){const c=o.getNext().value;if(c.getKey().getCollectionGroup()===t&&c.largestBatchId>r){let p=s.get(c.largestBatchId);null===p&&(p=Ma(),s=s.insert(c.largestBatchId,p)),p.set(c.getKey(),c)}}const a=Ma(),l=s.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((c,p)=>a.set(c,p)),!(a.size()>=i)););return Y.resolve(a)}ht(e,t,r){const i=this.overlays.get(r.key);if(null!==i){const o=this.Ir.get(i.largestBatchId).delete(r.key);this.Ir.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new AD(t,r));let s=this.Ir.get(t);void 0===s&&(s=Nt(),this.Ir.set(t,s)),this.Ir.set(t,s.add(r.key))}}class Bre{constructor(){this.sessionToken=vr.EMPTY_BYTE_STRING}getSessionToken(e){return Y.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,Y.resolve()}}class LD{constructor(){this.Tr=new Dn(fi.Er),this.dr=new Dn(fi.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(e,t){const r=new fi(e,t);this.Tr=this.Tr.add(r),this.dr=this.dr.add(r)}Rr(e,t){e.forEach(r=>this.addReference(r,t))}removeReference(e,t){this.Vr(new fi(e,t))}mr(e,t){e.forEach(r=>this.removeReference(r,t))}gr(e){const t=new Fe(new Kt([])),r=new fi(t,e),i=new fi(t,e+1),s=[];return this.dr.forEachInRange([r,i],o=>{this.Vr(o),s.push(o.key)}),s}pr(){this.Tr.forEach(e=>this.Vr(e))}Vr(e){this.Tr=this.Tr.delete(e),this.dr=this.dr.delete(e)}yr(e){const t=new Fe(new Kt([])),r=new fi(t,e),i=new fi(t,e+1);let s=Nt();return this.dr.forEachInRange([r,i],o=>{s=s.add(o.key)}),s}containsKey(e){const t=new fi(e,0),r=this.Tr.firstAfterOrEqual(t);return null!==r&&e.isEqual(r.key)}}class fi{constructor(e,t){this.key=e,this.wr=t}static Er(e,t){return Fe.comparator(e.key,t.key)||Et(e.wr,t.wr)}static Ar(e,t){return Et(e.wr,t.wr)||Fe.comparator(e.key,t.key)}}class jre{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.Sr=1,this.br=new Dn(fi.Er)}checkEmpty(e){return Y.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,r,i){const s=this.Sr;this.Sr++;const o=new ID(s,t,r,i);this.mutationQueue.push(o);for(const a of i)this.br=this.br.add(new fi(a.key,s)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return Y.resolve(o)}lookupMutationBatch(e,t){return Y.resolve(this.Dr(t))}getNextMutationBatchAfterBatchId(e,t){const i=this.vr(t+1),s=i<0?0:i;return Y.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return Y.resolve(0===this.mutationQueue.length?-1:this.Sr-1)}getAllMutationBatches(e){return Y.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const r=new fi(t,0),i=new fi(t,Number.POSITIVE_INFINITY),s=[];return this.br.forEachInRange([r,i],o=>{const a=this.Dr(o.wr);s.push(a)}),Y.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new Dn(Et);return t.forEach(i=>{const s=new fi(i,0),o=new fi(i,Number.POSITIVE_INFINITY);this.br.forEachInRange([s,o],a=>{r=r.add(a.wr)})}),Y.resolve(this.Cr(r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,i=r.length+1;let s=r;Fe.isDocumentKey(s)||(s=s.child(""));const o=new fi(new Fe(s),0);let a=new Dn(Et);return this.br.forEachWhile(l=>{const c=l.key.path;return!!r.isPrefixOf(c)&&(c.length===i&&(a=a.add(l.wr)),!0)},o),Y.resolve(this.Cr(a))}Cr(e){const t=[];return e.forEach(r=>{const i=this.Dr(r);null!==i&&t.push(i)}),t}removeMutationBatch(e,t){Qe(0===this.Fr(t.batchId,"removed")),this.mutationQueue.shift();let r=this.br;return Y.forEach(t.mutations,i=>{const s=new fi(i.key,t.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.br=r})}On(e){}containsKey(e,t){const r=new fi(t,0),i=this.br.firstAfterOrEqual(r);return Y.resolve(t.isEqual(i&&i.key))}performConsistencyCheck(e){return Y.resolve()}Fr(e,t){return this.vr(e)}vr(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}Dr(e){const t=this.vr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class $re{constructor(e){this.Mr=e,this.docs=new $n(Fe.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const r=t.key,i=this.docs.get(r),s=i?i.size:0,o=this.Mr(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const r=this.docs.get(t);return Y.resolve(r?r.document.mutableCopy():Qn.newInvalidDocument(t))}getEntries(e,t){let r=Ps();return t.forEach(i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():Qn.newInvalidDocument(i))}),Y.resolve(r)}getDocumentsMatchingQuery(e,t,r,i){let s=Ps();const o=t.path,a=new Fe(o.child("")),l=this.docs.getIteratorFrom(a);for(;l.hasNext();){const{key:c,value:{document:p}}=l.getNext();if(!o.isPrefixOf(c.path))break;c.path.length>o.length+1||oD(_U(p),r)<=0||(i.has(p.key)||my(t,p))&&(s=s.insert(p.key,p.mutableCopy()))}return Y.resolve(s)}getAllFromCollectionGroup(e,t,r,i){qe()}Or(e,t){return Y.forEach(this.docs,r=>t(r))}newChangeBuffer(e){return new zre(this)}getSize(e){return Y.resolve(this.size)}}class zre extends mj{constructor(e){super(),this.cr=e}applyChanges(e){const t=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?t.push(this.cr.addEntry(e,i)):this.cr.removeEntry(r)}),Y.waitFor(t)}getFromCache(e,t){return this.cr.getEntry(e,t)}getAllFromCache(e,t){return this.cr.getEntries(e,t)}}class Hre{constructor(e){this.persistence=e,this.Nr=new Rl(t=>Id(t),py),this.lastRemoteSnapshotVersion=Ze.min(),this.highestTargetId=0,this.Lr=0,this.Br=new LD,this.targetCount=0,this.kr=Pd.Bn()}forEachTarget(e,t){return this.Nr.forEach((r,i)=>t(i)),Y.resolve()}getLastRemoteSnapshotVersion(e){return Y.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Y.resolve(this.Lr)}allocateTargetId(e){return this.highestTargetId=this.kr.next(),Y.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.Lr&&(this.Lr=t),Y.resolve()}Kn(e){this.Nr.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.kr=new Pd(t),this.highestTargetId=t),e.sequenceNumber>this.Lr&&(this.Lr=e.sequenceNumber)}addTargetData(e,t){return this.Kn(t),this.targetCount+=1,Y.resolve()}updateTargetData(e,t){return this.Kn(t),Y.resolve()}removeTargetData(e,t){return this.Nr.delete(t.target),this.Br.gr(t.targetId),this.targetCount-=1,Y.resolve()}removeTargets(e,t,r){let i=0;const s=[];return this.Nr.forEach((o,a)=>{a.sequenceNumber<=t&&null===r.get(a.targetId)&&(this.Nr.delete(o),s.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),Y.waitFor(s).next(()=>i)}getTargetCount(e){return Y.resolve(this.targetCount)}getTargetData(e,t){const r=this.Nr.get(t)||null;return Y.resolve(r)}addMatchingKeys(e,t,r){return this.Br.Rr(t,r),Y.resolve()}removeMatchingKeys(e,t,r){this.Br.mr(t,r);const i=this.persistence.referenceDelegate,s=[];return i&&t.forEach(o=>{s.push(i.markPotentiallyOrphaned(e,o))}),Y.waitFor(s)}removeMatchingKeysForTargetId(e,t){return this.Br.gr(t),Y.resolve()}getMatchingKeysForTargetId(e,t){const r=this.Br.yr(t);return Y.resolve(r)}containsKey(e,t){return Y.resolve(this.Br.containsKey(t))}}class UD{constructor(e,t){this.qr={},this.overlays={},this.Qr=new Ys(0),this.Kr=!1,this.Kr=!0,this.$r=new Bre,this.referenceDelegate=e(this),this.Ur=new Hre(this),this.indexManager=new Rre,this.remoteDocumentCache=new $re(r=>this.referenceDelegate.Wr(r)),this.serializer=new WB(t),this.Gr=new Lre(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new Ure,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.qr[e.toKey()];return r||(r=new jre(t,this.referenceDelegate),this.qr[e.toKey()]=r),r}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(e,t,r){we("MemoryPersistence","Starting transaction:",e);const i=new qre(this.Qr.next());return this.referenceDelegate.zr(),r(i).next(s=>this.referenceDelegate.jr(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Hr(e,t){return Y.or(Object.values(this.qr).map(r=>()=>r.containsKey(e,t)))}}class qre extends wU{constructor(e){super(),this.currentSequenceNumber=e}}class rI{constructor(e){this.persistence=e,this.Jr=new LD,this.Yr=null}static Zr(e){return new rI(e)}get Xr(){if(this.Yr)return this.Yr;throw qe()}addReference(e,t,r){return this.Jr.addReference(r,t),this.Xr.delete(r.toString()),Y.resolve()}removeReference(e,t,r){return this.Jr.removeReference(r,t),this.Xr.add(r.toString()),Y.resolve()}markPotentiallyOrphaned(e,t){return this.Xr.add(t.toString()),Y.resolve()}removeTarget(e,t){this.Jr.gr(t.targetId).forEach(i=>this.Xr.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next(i=>{i.forEach(s=>this.Xr.add(s.toString()))}).next(()=>r.removeTargetData(e,t))}zr(){this.Yr=new Set}jr(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Y.forEach(this.Xr,r=>{const i=Fe.fromPath(r);return this.ei(e,i).next(s=>{s||t.removeEntry(i,Ze.min())})}).next(()=>(this.Yr=null,t.apply(e)))}updateLimboDocument(e,t){return this.ei(e,t).next(r=>{r?this.Xr.delete(t.toString()):this.Xr.add(t.toString())})}Wr(e){return 0}ei(e,t){return Y.or([()=>Y.resolve(this.Jr.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Hr(e,t)])}}class Gre{constructor(e){this.serializer=e}O(e,t,r,i){const s=new NE("createOrUpgrade",t);var l;r<1&&i>=1&&(e.createObjectStore("owner"),(l=e).createObjectStore("mutationQueues",{keyPath:"userId"}),l.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",TU,{unique:!0}),l.createObjectStore("documentMutations"),Ij(e),function(l){l.createObjectStore("remoteDocuments")}(e));let o=Y.resolve();return r<3&&i>=3&&(0!==r&&(function(l){l.deleteObjectStore("targetDocuments"),l.deleteObjectStore("targets"),l.deleteObjectStore("targetGlobal")}(e),Ij(e)),o=o.next(()=>function(l){const c=l.store("targetGlobal"),p={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:Ze.min().toTimestamp(),targetCount:0};return c.put("targetGlobalKey",p)}(s))),r<4&&i>=4&&(0!==r&&(o=o.next(()=>function(l,c){return c.store("mutations").U().next(p=>{l.deleteObjectStore("mutations"),l.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",TU,{unique:!0});const m=c.store("mutations"),w=p.map(b=>m.put(b));return Y.waitFor(w)})}(e,s))),o=o.next(()=>{!function(l){l.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)})),r<5&&i>=5&&(o=o.next(()=>this.ni(s))),r<6&&i>=6&&(o=o.next(()=>(function(l){l.createObjectStore("remoteDocumentGlobal")}(e),this.ri(s)))),r<7&&i>=7&&(o=o.next(()=>this.ii(s))),r<8&&i>=8&&(o=o.next(()=>this.si(e,s))),r<9&&i>=9&&(o=o.next(()=>{!function(l){l.objectStoreNames.contains("remoteDocumentChanges")&&l.deleteObjectStore("remoteDocumentChanges")}(e)})),r<10&&i>=10&&(o=o.next(()=>this.oi(s))),r<11&&i>=11&&(o=o.next(()=>{(function(l){l.createObjectStore("bundles",{keyPath:"bundleId"})})(e),function(l){l.createObjectStore("namedQueries",{keyPath:"name"})}(e)})),r<12&&i>=12&&(o=o.next(()=>{!function(l){const c=l.createObjectStore("documentOverlays",{keyPath:Rne});c.createIndex("collectionPathOverlayIndex",Pne,{unique:!1}),c.createIndex("collectionGroupOverlayIndex",Mne,{unique:!1})}(e)})),r<13&&i>=13&&(o=o.next(()=>function(l){const c=l.createObjectStore("remoteDocumentsV14",{keyPath:_ne});c.createIndex("documentKeyIndex",vne),c.createIndex("collectionGroupIndex",wne)}(e)).next(()=>this._i(e,s)).next(()=>e.deleteObjectStore("remoteDocuments"))),r<14&&i>=14&&(o=o.next(()=>this.ai(e,s))),r<15&&i>=15&&(o=o.next(()=>function(l){l.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),l.createObjectStore("indexState",{keyPath:Tne}).createIndex("sequenceNumberIndex",Cne,{unique:!1}),l.createObjectStore("indexEntries",{keyPath:Dne}).createIndex("documentKeyIndex",Sne,{unique:!1})}(e))),r<16&&i>=16&&(o=o.next(()=>{t.objectStore("indexState").clear()}).next(()=>{t.objectStore("indexEntries").clear()})),r<17&&i>=17&&(o=o.next(()=>{!function(l){l.createObjectStore("globals",{keyPath:"name"})}(e)})),o}ri(e){let t=0;return e.store("remoteDocuments").J((r,i)=>{t+=eI(i)}).next(()=>{const r={byteSize:t};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",r)})}ni(e){const t=e.store("mutationQueues"),r=e.store("mutations");return t.U().next(i=>Y.forEach(i,s=>{const o=IDBKeyRange.bound([s.userId,-1],[s.userId,s.lastAcknowledgedBatchId]);return r.U("userMutationsIndex",o).next(a=>Y.forEach(a,l=>{Qe(l.userId===s.userId);const c=Dd(this.serializer,l);return uj(e,s.userId,c).next(()=>{})}))}))}ii(e){const t=e.store("targetDocuments"),r=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next(i=>{const s=[];return r.J((o,a)=>{const l=new Kt(o),c=[0,Fi(l)];s.push(t.get(c).next(p=>p?Y.resolve():t.put({targetId:0,path:Fi(l),sequenceNumber:i.highestListenSequenceNumber})))}).next(()=>Y.waitFor(s))})}si(e,t){e.createObjectStore("collectionParents",{keyPath:Ane});const r=t.store("collectionParents"),i=new VD,s=o=>{if(i.add(o)){const a=o.lastSegment(),l=o.popLast();return r.put({collectionId:a,parent:Fi(l)})}};return t.store("remoteDocuments").J({H:!0},(o,a)=>{const l=new Kt(o);return s(l.popLast())}).next(()=>t.store("documentMutations").J({H:!0},([o,a,l],c)=>{const p=Ra(a);return s(p.popLast())}))}oi(e){const t=e.store("targets");return t.J((r,i)=>{const s=Cy(i),o=QB(this.serializer,s);return t.put(o)})}_i(e,t){const r=t.store("remoteDocuments"),i=[];return r.J((s,o)=>{const a=t.store("remoteDocumentsV14"),l=(m=o,m.document?new Fe(Kt.fromString(m.document.name).popFirst(5)):m.noDocument?Fe.fromSegments(m.noDocument.path):m.unknownDocument?Fe.fromSegments(m.unknownDocument.path):qe()).path.toArray(),c={prefixPath:l.slice(0,l.length-2),collectionGroup:l[l.length-2],documentId:l[l.length-1],readTime:o.readTime||[0,0],unknownDocument:o.unknownDocument,noDocument:o.noDocument,document:o.document,hasCommittedMutations:!!o.hasCommittedMutations};var m;i.push(a.put(c))}).next(()=>Y.waitFor(i))}ai(e,t){const r=t.store("mutations"),i=yj(this.serializer),s=new UD(rI.Zr,this.serializer.ct);return r.U().next(o=>{const a=new Map;return o.forEach(l=>{var c;let p=null!==(c=a.get(l.userId))&&void 0!==c?c:Nt();Dd(this.serializer,l).keys().forEach(m=>p=p.add(m)),a.set(l.userId,p)}),Y.forEach(a,(l,c)=>{const p=new hi(c),m=JE.lt(this.serializer,p),w=s.getIndexManager(p),b=tI.lt(p,this.serializer,w,s.referenceDelegate);return new Ej(i,b,m,w).recalculateAndSaveOverlaysForDocumentKeys(new cD(t,Ys.oe),l).next()})})}}function Ij(n){n.createObjectStore("targetDocuments",{keyPath:Ine}).createIndex("documentTargetsIndex",bne,{unique:!0}),n.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",Ene,{unique:!0}),n.createObjectStore("targetGlobal")}const BD="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class jD{constructor(e,t,r,i,s,o,a,l,c,p,m=17){if(this.allowTabSynchronization=e,this.persistenceKey=t,this.clientId=r,this.ui=s,this.window=o,this.document=a,this.ci=c,this.li=p,this.hi=m,this.Qr=null,this.Kr=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Pi=null,this.inForeground=!1,this.Ii=null,this.Ti=null,this.Ei=Number.NEGATIVE_INFINITY,this.di=w=>Promise.resolve(),!jD.D())throw new me(re.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new Ore(this,i),this.Ai=t+"main",this.serializer=new WB(l),this.Ri=new Sa(this.Ai,this.hi,new Gre(this.serializer)),this.$r=new bre,this.Ur=new Mre(this.referenceDelegate,this.serializer),this.remoteDocumentCache=yj(this.serializer),this.Gr=new Ire,this.window&&this.window.localStorage?this.Vi=this.window.localStorage:(this.Vi=null,!1===p&&Mr("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.mi().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new me(re.FAILED_PRECONDITION,BD);return this.fi(),this.gi(),this.pi(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.Ur.getHighestSequenceNumber(e))}).then(e=>{this.Qr=new Ys(e,this.ci)}).then(()=>{this.Kr=!0}).catch(e=>(this.Ri&&this.Ri.close(),Promise.reject(e)))}yi(e){var t=this;return this.di=function(){var r=(0,T.A)(function*(i){if(t.started)return e(i)});return function(i){return r.apply(this,arguments)}}(),e(this.isPrimary)}setDatabaseDeletedListener(e){this.Ri.L(function(){var t=(0,T.A)(function*(r){null===r.newVersion&&(yield e())});return function(r){return t.apply(this,arguments)}}())}setNetworkEnabled(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.ui.enqueueAndForget((0,T.A)(function*(){t.started&&(yield t.mi())})))}mi(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>sI(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.wi(e).next(t=>{t||(this.isPrimary=!1,this.ui.enqueueRetryable(()=>this.di(!1)))})}).next(()=>this.Si(e)).next(t=>this.isPrimary&&!t?this.bi(e).next(()=>!1):!!t&&this.Di(e).next(()=>!0))).catch(e=>{if(Lu(e))return we("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return we("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.ui.enqueueRetryable(()=>this.di(e)),this.isPrimary=e})}wi(e){return My(e).get("owner").next(t=>Y.resolve(this.vi(t)))}Ci(e){return sI(e).delete(this.clientId)}Fi(){var e=this;return(0,T.A)(function*(){if(e.isPrimary&&!e.Mi(e.Ei,18e5)){e.Ei=Date.now();const t=yield e.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",r=>{const i=ri(r,"clientMetadata");return i.U().next(s=>{const o=e.xi(s,18e5),a=s.filter(l=>-1===o.indexOf(l));return Y.forEach(a,l=>i.delete(l.clientId)).next(()=>a)})}).catch(()=>[]);if(e.Vi)for(const r of t)e.Vi.removeItem(e.Oi(r.clientId))}})()}pi(){this.Ti=this.ui.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.mi().then(()=>this.Fi()).then(()=>this.pi()))}vi(e){return!!e&&e.ownerId===this.clientId}Si(e){return this.li?Y.resolve(!0):My(e).get("owner").next(t=>{if(null!==t&&this.Mi(t.leaseTimestampMs,5e3)&&!this.Ni(t.ownerId)){if(this.vi(t)&&this.networkEnabled)return!0;if(!this.vi(t)){if(!t.allowTabSynchronization)throw new me(re.FAILED_PRECONDITION,BD);return!1}}return!(!this.networkEnabled||!this.inForeground)||sI(e).U().next(r=>void 0===this.xi(r,5e3).find(i=>!(this.clientId===i.clientId||!(!this.networkEnabled&&i.networkEnabled||!this.inForeground&&i.inForeground&&this.networkEnabled===i.networkEnabled))))}).next(t=>(this.isPrimary!==t&&we("IndexedDbPersistence",`Client ${t?"is":"is not"} eligible for a primary lease.`),t))}shutdown(){var e=this;return(0,T.A)(function*(){e.Kr=!1,e.Li(),e.Ti&&(e.Ti.cancel(),e.Ti=null),e.Bi(),e.ki(),yield e.Ri.runTransaction("shutdown","readwrite",["owner","clientMetadata"],t=>{const r=new cD(t,Ys.oe);return e.bi(r).next(()=>e.Ci(r))}),e.Ri.close(),e.qi()})()}xi(e,t){return e.filter(r=>this.Mi(r.updateTimeMs,t)&&!this.Ni(r.clientId))}Qi(){return this.runTransaction("getActiveClients","readonly",e=>sI(e).U().next(t=>this.xi(t,18e5).map(r=>r.clientId)))}get started(){return this.Kr}getGlobalsCache(){return this.$r}getMutationQueue(e,t){return tI.lt(e,this.serializer,t,this.referenceDelegate)}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new Pre(e,this.serializer.ct.databaseId)}getDocumentOverlayCache(e){return JE.lt(this.serializer,e)}getBundleCache(){return this.Gr}runTransaction(e,t,r){we("IndexedDbPersistence","Starting transaction:",e);const i="readonly"===t?"readonly":"readwrite",s=17===(l=this.hi)?One:16===l?xne:15===l?uD:14===l?RU:13===l?SU:12===l?Nne:11===l?DU:void qe();var l;let o;return this.Ri.runTransaction(e,i,s,a=>(o=new cD(a,this.Qr?this.Qr.next():Ys.oe),"readwrite-primary"===t?this.wi(o).next(l=>!!l||this.Si(o)).next(l=>{if(!l)throw Mr(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.ui.enqueueRetryable(()=>this.di(!1)),new me(re.FAILED_PRECONDITION,vU);return r(o)}).next(l=>this.Di(o).next(()=>l)):this.Ki(o).next(()=>r(o)))).then(a=>(o.raiseOnCommittedEvent(),a))}Ki(e){return My(e).get("owner").next(t=>{if(null!==t&&this.Mi(t.leaseTimestampMs,5e3)&&!this.Ni(t.ownerId)&&!this.vi(t)&&!(this.li||this.allowTabSynchronization&&t.allowTabSynchronization))throw new me(re.FAILED_PRECONDITION,BD)})}Di(e){const t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return My(e).put("owner",t)}static D(){return Sa.D()}bi(e){const t=My(e);return t.get("owner").next(r=>this.vi(r)?(we("IndexedDbPersistence","Releasing primary lease."),t.delete("owner")):Y.resolve())}Mi(e,t){const r=Date.now();return!(e<r-t||e>r&&(Mr(`Detected an update time that is in the future: ${e} > ${r}`),1))}fi(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.Ii=()=>{this.ui.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.mi()))},this.document.addEventListener("visibilitychange",this.Ii),this.inForeground="visible"===this.document.visibilityState)}Bi(){this.Ii&&(this.document.removeEventListener("visibilitychange",this.Ii),this.Ii=null)}gi(){var e;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.Pi=()=>{this.Li();const t=/(?:Version|Mobile)\/1[456]/;(0,un.nr)()&&(navigator.appVersion.match(t)||navigator.userAgent.match(t))&&this.ui.enterRestrictedMode(!0),this.ui.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.Pi))}ki(){this.Pi&&(this.window.removeEventListener("pagehide",this.Pi),this.Pi=null)}Ni(e){var t;try{const r=null!==(null===(t=this.Vi)||void 0===t?void 0:t.getItem(this.Oi(e)));return we("IndexedDbPersistence",`Client '${e}' ${r?"is":"is not"} zombied in LocalStorage`),r}catch(r){return Mr("IndexedDbPersistence","Failed to get zombied client id.",r),!1}}Li(){if(this.Vi)try{this.Vi.setItem(this.Oi(this.clientId),String(Date.now()))}catch(e){Mr("Failed to set zombie client id.",e)}}qi(){if(this.Vi)try{this.Vi.removeItem(this.Oi(this.clientId))}catch{}}Oi(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function My(n){return ri(n,"owner")}function sI(n){return ri(n,"clientMetadata")}function $D(n,e){let t=n.projectId;return n.isDefaultDatabase||(t+="."+n.database),"firestore/"+e+"/"+t+"/"}class zD{constructor(e,t,r,i){this.targetId=e,this.fromCache=t,this.$i=r,this.Ui=i}static Wi(e,t){let r=Nt(),i=Nt();for(const s of t.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new zD(e,t.fromCache,r,i)}}class Wre{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class bj{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=(0,un.nr)()?8:EU((0,un.ZQ)())>0?6:4}initialize(e,t){this.Ji=e,this.indexManager=t,this.Gi=!0}getDocumentsMatchingQuery(e,t,r,i){const s={result:null};return this.Yi(e,t).next(o=>{s.result=o}).next(()=>{if(!s.result)return this.Zi(e,t,i,r).next(o=>{s.result=o})}).next(()=>{if(s.result)return;const o=new Wre;return this.Xi(e,t,o).next(a=>{if(s.result=a,this.zi)return this.es(e,t,o,a.size)})}).next(()=>s.result)}es(e,t,r,i){return r.documentReadCount<this.ji?(Wf()<=Da.$b.DEBUG&&we("QueryEngine","SDK will not create cache indexes for query:",np(t),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),Y.resolve()):(Wf()<=Da.$b.DEBUG&&we("QueryEngine","Query:",np(t),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.Hi*i?(Wf()<=Da.$b.DEBUG&&we("QueryEngine","The SDK decides to create cache indexes for query:",np(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Vi(t))):Y.resolve())}Yi(e,t){if(nB(t))return Y.resolve(null);let r=Vi(t);return this.indexManager.getIndexType(e,r).next(i=>0===i?null:(null!==t.limit&&1===i&&(t=zE(t,null,"F"),r=Vi(t)),this.indexManager.getDocumentsMatchingTarget(e,r).next(s=>{const o=Nt(...s);return this.Ji.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,r).next(l=>{const c=this.ts(t,a);return this.ns(t,c,o,l.readTime)?this.Yi(e,zE(t,null,"F")):this.rs(e,c,t,l)}))})))}Zi(e,t,r,i){return nB(t)||i.isEqual(Ze.min())?Y.resolve(null):this.Ji.getDocuments(e,r).next(s=>{const o=this.ts(t,s);return this.ns(t,o,r,i)?Y.resolve(null):(Wf()<=Da.$b.DEBUG&&we("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),np(t)),this.rs(e,o,t,yU(i,-1)).next(a=>a))})}ts(e,t){let r=new Dn(aB(e));return t.forEach((i,s)=>{my(e,s)&&(r=r.add(s))}),r}ns(e,t,r,i){if(null===e.limit)return!1;if(r.size!==t.size)return!0;const s="F"===e.limitType?t.last():t.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Xi(e,t,r){return Wf()<=Da.$b.DEBUG&&we("QueryEngine","Using full collection scan to execute query:",np(t)),this.Ji.getDocumentsMatchingQuery(e,t,Qs.min(),r)}rs(e,t,r,i){return this.Ji.getDocumentsMatchingQuery(e,r,i).next(s=>(t.forEach(o=>{s=s.insert(o.key,o)}),s))}}class Kre{constructor(e,t,r,i){this.persistence=e,this.ss=t,this.serializer=i,this.os=new $n(Et),this._s=new Rl(s=>Id(s),py),this.us=new Map,this.cs=e.getRemoteDocumentCache(),this.Ur=e.getTargetCache(),this.Gr=e.getBundleCache(),this.ls(r)}ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Ej(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.os))}}function Aj(n,e,t,r){return new Kre(n,e,t,r)}function Tj(n,e){return HD.apply(this,arguments)}function HD(){return(HD=(0,T.A)(function*(n,e){const t=Oe(n);return yield t.persistence.runTransaction("Handle user change","readonly",r=>{let i;return t.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,t.ls(e),t.mutationQueue.getAllMutationBatches(r))).next(s=>{const o=[],a=[];let l=Nt();for(const c of i){o.push(c.batchId);for(const p of c.mutations)l=l.add(p.key)}for(const c of s){a.push(c.batchId);for(const p of c.mutations)l=l.add(p.key)}return t.localDocuments.getDocuments(r,l).next(c=>({hs:c,removedBatchIds:o,addedBatchIds:a}))})})})).apply(this,arguments)}function Cj(n){const e=Oe(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Ur.getLastRemoteSnapshotVersion(t))}function Dj(n,e,t){let r=Nt(),i=Nt();return t.forEach(s=>r=r.add(s)),e.getEntries(n,r).next(s=>{let o=Ps();return t.forEach((a,l)=>{const c=s.get(a);l.isFoundDocument()!==c.isFoundDocument()&&(i=i.add(a)),l.isNoDocument()&&l.version.isEqual(Ze.min())?(e.removeEntry(a,l.readTime),o=o.insert(a,l)):!c.isValidDocument()||l.version.compareTo(c.version)>0||0===l.version.compareTo(c.version)&&c.hasPendingWrites?(e.addEntry(l),o=o.insert(a,l)):we("LocalStore","Ignoring outdated watch update for ",a,". Current version:",c.version," Watch version:",l.version)}),{Ps:o,Is:i}})}function Jre(n,e){const t=Oe(n);return t.persistence.runTransaction("Get next mutation batch","readonly",r=>(void 0===e&&(e=-1),t.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function fp(n,e){const t=Oe(n);return t.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return t.Ur.getTargetData(r,e).next(s=>s?(i=s,Y.resolve(i)):t.Ur.allocateTargetId(r).next(o=>(i=new Ml(e,o,"TargetPurposeListen",r.currentSequenceNumber),t.Ur.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=t.os.get(r.targetId);return(null===i||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(t.os=t.os.insert(r.targetId,r),t._s.set(e,r.targetId)),r})}function pp(n,e,t){return qD.apply(this,arguments)}function qD(){return(qD=(0,T.A)(function*(n,e,t){const r=Oe(n),i=r.os.get(e),s=t?"readwrite":"readwrite-primary";try{t||(yield r.persistence.runTransaction("Release target",s,o=>r.persistence.referenceDelegate.removeTarget(o,i)))}catch(o){if(!Lu(o))throw o;we("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}r.os=r.os.remove(e),r._s.delete(i.target)})).apply(this,arguments)}function oI(n,e,t){const r=Oe(n);let i=Ze.min(),s=Nt();return r.persistence.runTransaction("Execute query","readwrite",o=>function(l,c,p){const m=Oe(l),w=m._s.get(p);return void 0!==w?Y.resolve(m.os.get(w)):m.Ur.getTargetData(c,p)}(r,o,Vi(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.Ur.getMatchingKeysForTargetId(o,a.targetId).next(l=>{s=l})}).next(()=>r.ss.getDocumentsMatchingQuery(o,e,t?i:Ze.min(),t?s:Nt())).next(a=>(Pj(r,oB(e),a),{documents:a,Ts:s})))}function Sj(n,e){const t=Oe(n),r=Oe(t.Ur),i=t.os.get(e);return i?Promise.resolve(i.target):t.persistence.runTransaction("Get target data","readonly",s=>r.ot(s,e).next(o=>o?o.target:null))}function Rj(n,e){const t=Oe(n),r=t.us.get(e)||Ze.min();return t.persistence.runTransaction("Get new document changes","readonly",i=>t.cs.getAllFromCollectionGroup(i,e,yU(r,-1),Number.MAX_SAFE_INTEGER)).then(i=>(Pj(t,e,i),i))}function Pj(n,e,t){let r=n.us.get(e)||Ze.min();t.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),n.us.set(e,r)}function GD(){return(GD=(0,T.A)(function*(n,e,t,r){const i=Oe(n);let s=Nt(),o=Ps();for(const c of t){const p=e.Es(c.metadata.name);c.document&&(s=s.add(p));const m=e.ds(c);m.setReadTime(e.As(c.metadata.readTime)),o=o.insert(p,m)}const a=i.cs.newChangeBuffer({trackRemovals:!0}),l=yield fp(i,(p=r,Vi(ep(Kt.fromString(`__bundle__/docs/${p}`)))));var p;return i.persistence.runTransaction("Apply bundle documents","readwrite",c=>Dj(c,a,o).next(p=>(a.apply(c),p)).next(p=>i.Ur.removeMatchingKeysForTargetId(c,l.targetId).next(()=>i.Ur.addMatchingKeys(c,s,l.targetId)).next(()=>i.localDocuments.getLocalViewOfDocuments(c,p.Ps,p.Is)).next(()=>p.Ps)))})).apply(this,arguments)}function Xre(n,e){return WD.apply(this,arguments)}function WD(){return(WD=(0,T.A)(function*(n,e,t=Nt()){const r=yield fp(n,Vi(MD(e.bundledQuery))),i=Oe(n);return i.persistence.runTransaction("Save named query","readwrite",s=>{const o=Nr(e.readTime);if(r.snapshotVersion.compareTo(o)>=0)return i.Gr.saveNamedQuery(s,e);const a=r.withResumeToken(vr.EMPTY_BYTE_STRING,o);return i.os=i.os.insert(a.targetId,a),i.Ur.updateTargetData(s,a).next(()=>i.Ur.removeMatchingKeysForTargetId(s,r.targetId)).next(()=>i.Ur.addMatchingKeys(s,t,r.targetId)).next(()=>i.Gr.saveNamedQuery(s,e))})})).apply(this,arguments)}function Mj(n,e){return`firestore_clients_${n}_${e}`}function Nj(n,e,t){let r=`firestore_mutations_${n}_${t}`;return e.isAuthenticated()&&(r+=`_${e.uid}`),r}function KD(n,e){return`firestore_targets_${n}_${e}`}class aI{constructor(e,t,r,i){this.user=e,this.batchId=t,this.state=r,this.error=i}static Rs(e,t,r){const i=JSON.parse(r);let s,o="object"==typeof i&&-1!==["pending","acknowledged","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return o&&i.error&&(o="string"==typeof i.error.message&&"string"==typeof i.error.code,o&&(s=new me(i.error.code,i.error.message))),o?new aI(e,t,i.state,s):(Mr("SharedClientState",`Failed to parse mutation state for ID '${t}': ${r}`),null)}Vs(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class Ny{constructor(e,t,r){this.targetId=e,this.state=t,this.error=r}static Rs(e,t){const r=JSON.parse(t);let i,s="object"==typeof r&&-1!==["not-current","current","rejected"].indexOf(r.state)&&(void 0===r.error||"object"==typeof r.error);return s&&r.error&&(s="string"==typeof r.error.message&&"string"==typeof r.error.code,s&&(i=new me(r.error.code,r.error.message))),s?new Ny(e,r.state,i):(Mr("SharedClientState",`Failed to parse target state for ID '${e}': ${t}`),null)}Vs(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class lI{constructor(e,t){this.clientId=e,this.activeTargetIds=t}static Rs(e,t){const r=JSON.parse(t);let i="object"==typeof r&&r.activeTargetIds instanceof Array,s=vD();for(let o=0;i&&o<r.activeTargetIds.length;++o)i=bU(r.activeTargetIds[o]),s=s.add(r.activeTargetIds[o]);return i?new lI(e,s):(Mr("SharedClientState",`Failed to parse client data for instance '${e}': ${t}`),null)}}class QD{constructor(e,t){this.clientId=e,this.onlineState=t}static Rs(e){const t=JSON.parse(e);return"object"==typeof t&&-1!==["Unknown","Online","Offline"].indexOf(t.onlineState)&&"string"==typeof t.clientId?new QD(t.clientId,t.onlineState):(Mr("SharedClientState",`Failed to parse online state: ${e}`),null)}}class YD{constructor(){this.activeTargetIds=vD()}fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Vs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class JD{constructor(e,t,r,i,s){this.window=e,this.ui=t,this.persistenceKey=r,this.ps=i,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.ys=this.ws.bind(this),this.Ss=new $n(Et),this.started=!1,this.bs=[];const o=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=s,this.Ds=Mj(this.persistenceKey,this.ps),this.vs=`firestore_sequence_number_${this.persistenceKey}`,this.Ss=this.Ss.insert(this.ps,new YD),this.Cs=new RegExp(`^firestore_clients_${o}_([^_]*)$`),this.Fs=new RegExp(`^firestore_mutations_${o}_(\\d+)(?:_(.*))?$`),this.Ms=new RegExp(`^firestore_targets_${o}_(\\d+)$`),this.xs=`firestore_online_state_${this.persistenceKey}`,this.Os=function(l){return`firestore_bundle_loaded_v2_${l}`}(this.persistenceKey),this.window.addEventListener("storage",this.ys)}static D(e){return!(!e||!e.localStorage)}start(){var e=this;return(0,T.A)(function*(){const t=yield e.syncEngine.Qi();for(const i of t){if(i===e.ps)continue;const s=e.getItem(Mj(e.persistenceKey,i));if(s){const o=lI.Rs(i,s);o&&(e.Ss=e.Ss.insert(o.clientId,o))}}e.Ns();const r=e.storage.getItem(e.xs);if(r){const i=e.Ls(r);i&&e.Bs(i)}for(const i of e.bs)e.ws(i);e.bs=[],e.window.addEventListener("pagehide",()=>e.shutdown()),e.started=!0})()}writeSequenceNumber(e){this.setItem(this.vs,JSON.stringify(e))}getAllActiveQueryTargets(){return this.ks(this.Ss)}isActiveQueryTarget(e){let t=!1;return this.Ss.forEach((r,i)=>{i.activeTargetIds.has(e)&&(t=!0)}),t}addPendingMutation(e){this.qs(e,"pending")}updateMutationState(e,t,r){this.qs(e,t,r),this.Qs(e)}addLocalQueryTarget(e,t=!0){let r="not-current";if(this.isActiveQueryTarget(e)){const i=this.storage.getItem(KD(this.persistenceKey,e));if(i){const s=Ny.Rs(e,i);s&&(r=s.state)}}return t&&this.Ks.fs(e),this.Ns(),r}removeLocalQueryTarget(e){this.Ks.gs(e),this.Ns()}isLocalQueryTarget(e){return this.Ks.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(KD(this.persistenceKey,e))}updateQueryState(e,t,r){this.$s(e,t,r)}handleUserChange(e,t,r){t.forEach(i=>{this.Qs(i)}),this.currentUser=e,r.forEach(i=>{this.addPendingMutation(i)})}setOnlineState(e){this.Us(e)}notifyBundleLoaded(e){this.Ws(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.ys),this.removeItem(this.Ds),this.started=!1)}getItem(e){const t=this.storage.getItem(e);return we("SharedClientState","READ",e,t),t}setItem(e,t){we("SharedClientState","SET",e,t),this.storage.setItem(e,t)}removeItem(e){we("SharedClientState","REMOVE",e),this.storage.removeItem(e)}ws(e){var t=this;const r=e;if(r.storageArea===this.storage){if(we("SharedClientState","EVENT",r.key,r.newValue),r.key===this.Ds)return void Mr("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.ui.enqueueRetryable((0,T.A)(function*(){if(t.started){if(null!==r.key)if(t.Cs.test(r.key)){if(null==r.newValue){const i=t.Gs(r.key);return t.zs(i,null)}{const i=t.js(r.key,r.newValue);if(i)return t.zs(i.clientId,i)}}else if(t.Fs.test(r.key)){if(null!==r.newValue){const i=t.Hs(r.key,r.newValue);if(i)return t.Js(i)}}else if(t.Ms.test(r.key)){if(null!==r.newValue){const i=t.Ys(r.key,r.newValue);if(i)return t.Zs(i)}}else if(r.key===t.xs){if(null!==r.newValue){const i=t.Ls(r.newValue);if(i)return t.Bs(i)}}else if(r.key===t.vs){const i=function(o){let a=Ys.oe;if(null!=o)try{const l=JSON.parse(o);Qe("number"==typeof l),a=l}catch(l){Mr("SharedClientState","Failed to read sequence number from WebStorage",l)}return a}(r.newValue);i!==Ys.oe&&t.sequenceNumberHandler(i)}else if(r.key===t.Os){const i=t.Xs(r.newValue);yield Promise.all(i.map(s=>t.syncEngine.eo(s)))}}else t.bs.push(r)}))}}get Ks(){return this.Ss.get(this.ps)}Ns(){this.setItem(this.Ds,this.Ks.Vs())}qs(e,t,r){const i=new aI(this.currentUser,e,t,r),s=Nj(this.persistenceKey,this.currentUser,e);this.setItem(s,i.Vs())}Qs(e){const t=Nj(this.persistenceKey,this.currentUser,e);this.removeItem(t)}Us(e){this.storage.setItem(this.xs,JSON.stringify({clientId:this.ps,onlineState:e}))}$s(e,t,r){const i=KD(this.persistenceKey,e),s=new Ny(e,t,r);this.setItem(i,s.Vs())}Ws(e){const t=JSON.stringify(Array.from(e));this.setItem(this.Os,t)}Gs(e){const t=this.Cs.exec(e);return t?t[1]:null}js(e,t){const r=this.Gs(e);return lI.Rs(r,t)}Hs(e,t){const r=this.Fs.exec(e),i=Number(r[1]);return aI.Rs(new hi(void 0!==r[2]?r[2]:null),i,t)}Ys(e,t){const r=this.Ms.exec(e),i=Number(r[1]);return Ny.Rs(i,t)}Ls(e){return QD.Rs(e)}Xs(e){return JSON.parse(e)}Js(e){var t=this;return(0,T.A)(function*(){if(e.user.uid===t.currentUser.uid)return t.syncEngine.no(e.batchId,e.state,e.error);we("SharedClientState",`Ignoring mutation for non-active user ${e.user.uid}`)})()}Zs(e){return this.syncEngine.ro(e.targetId,e.state,e.error)}zs(e,t){const r=t?this.Ss.insert(e,t):this.Ss.remove(e),i=this.ks(this.Ss),s=this.ks(r),o=[],a=[];return s.forEach(l=>{i.has(l)||o.push(l)}),i.forEach(l=>{s.has(l)||a.push(l)}),this.syncEngine.io(o,a).then(()=>{this.Ss=r})}Bs(e){this.Ss.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}ks(e){let t=vD();return e.forEach((r,i)=>{t=t.unionWith(i.activeTargetIds)}),t}}class xj{constructor(){this.so=new YD,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e,t=!0){return t&&this.so.fs(e),this.oo[e]||"not-current"}updateQueryState(e,t,r){this.oo[e]=t}removeLocalQueryTarget(e){this.so.gs(e)}isLocalQueryTarget(e){return this.so.activeTargetIds.has(e)}clearQueryState(e){delete this.oo[e]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(e){return this.so.activeTargetIds.has(e)}start(){return this.so=new YD,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class eie{_o(e){}shutdown(){}}class Oj{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(e){this.ho.push(e)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){we("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.ho)e(0)}lo(){we("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.ho)e(1)}static D(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let uI=null;function ZD(){return null===uI?uI=268435456+Math.round(2147483648*Math.random()):uI++,"0x"+uI.toString(16)}const tie={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class nie{constructor(e){this.Io=e.Io,this.To=e.To}Eo(e){this.Ao=e}Ro(e){this.Vo=e}mo(e){this.fo=e}onMessage(e){this.po=e}close(){this.To()}send(e){this.Io(e)}yo(){this.Ao()}wo(){this.Vo()}So(e){this.fo(e)}bo(e){this.po(e)}}const Ui="WebChannelConnection";class rie extends class{constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const r=t.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.Do=r+"://"+t.host,this.vo=`projects/${i}/databases/${s}`,this.Co="(default)"===this.databaseId.database?`project_id=${i}`:`project_id=${i}&database_id=${s}`}get Fo(){return!1}Mo(t,r,i,s,o){const a=ZD(),l=this.xo(t,r.toUriEncodedString());we("RestConnection",`Sending RPC '${t}' ${a}:`,l,i);const c={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(c,s,o),this.No(t,l,c,i).then(p=>(we("RestConnection",`Received RPC '${t}' ${a}: `,p),p),p=>{throw Ss("RestConnection",`RPC '${t}' ${a} failed with error: `,p,"url: ",l,"request:",i),p})}Lo(t,r,i,s,o,a){return this.Mo(t,r,i,s,o)}Oo(t,r,i){t["X-Goog-Api-Client"]="gl-js/ fire/"+Gf,t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((s,o)=>t[o]=s),i&&i.headers.forEach((s,o)=>t[o]=s)}xo(t,r){return`${this.Do}/v1/${r}:${tie[t]}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}No(e,t,r,i){const s=ZD();return new Promise((o,a)=>{const l=new oU;l.setWithCredentials(!0),l.listenOnce(lU.COMPLETE,()=>{try{switch(l.getLastErrorCode()){case ME.NO_ERROR:const p=l.getResponseJson();we(Ui,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(p)),o(p);break;case ME.TIMEOUT:we(Ui,`RPC '${e}' ${s} timed out`),a(new me(re.DEADLINE_EXCEEDED,"Request time out"));break;case ME.HTTP_ERROR:const m=l.getStatus();if(we(Ui,`RPC '${e}' ${s} failed with status:`,m,"response text:",l.getResponseText()),m>0){let w=l.getResponseJson();Array.isArray(w)&&(w=w[0]);const b=w?.error;if(b&&b.status&&b.message){const C=function(P){const L=P.toLowerCase().replace(/_/g,"-");return Object.values(re).indexOf(L)>=0?L:re.UNKNOWN}(b.status);a(new me(C,b.message))}else a(new me(re.UNKNOWN,"Server responded with status "+l.getStatus()))}else a(new me(re.UNAVAILABLE,"Connection failed."));break;default:qe()}}finally{we(Ui,`RPC '${e}' ${s} completed.`)}});const c=JSON.stringify(i);we(Ui,`RPC '${e}' ${s} sending request:`,i),l.send(t,"POST",c,r,15)})}Bo(e,t,r){const i=ZD(),s=[this.Do,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=dU(),a=cU(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},c=this.longPollingOptions.timeoutSeconds;void 0!==c&&(l.longPollingTimeout=Math.round(1e3*c)),this.useFetchStreams&&(l.xmlHttpFactory=new aU({})),this.Oo(l.initMessageHeaders,t,r),l.encodeInitMessageHeaders=!0;const p=s.join("");we(Ui,`Creating RPC '${e}' stream ${i}: ${p}`,l);const m=o.createWebChannel(p,l);let w=!1,b=!1;const C=new nie({Io:P=>{b?we(Ui,`Not sending because RPC '${e}' stream ${i} is closed:`,P):(w||(we(Ui,`Opening RPC '${e}' stream ${i} transport.`),m.open(),w=!0),we(Ui,`RPC '${e}' stream ${i} sending:`,P),m.send(P))},To:()=>m.close()}),S=(P,L,j)=>{P.listen(L,G=>{try{j(G)}catch(ue){setTimeout(()=>{throw ue},0)}})};return S(m,iy.EventType.OPEN,()=>{b||(we(Ui,`RPC '${e}' stream ${i} transport opened.`),C.yo())}),S(m,iy.EventType.CLOSE,()=>{b||(b=!0,we(Ui,`RPC '${e}' stream ${i} transport closed`),C.So())}),S(m,iy.EventType.ERROR,P=>{b||(b=!0,Ss(Ui,`RPC '${e}' stream ${i} transport errored:`,P),C.So(new me(re.UNAVAILABLE,"The operation could not be completed")))}),S(m,iy.EventType.MESSAGE,P=>{var L;if(!b){const j=P.data[0];Qe(!!j);const ue=j.error||(null===(L=j[0])||void 0===L?void 0:L.error);if(ue){we(Ui,`RPC '${e}' stream ${i} received error:`,ue);const Te=ue.status;let Me=function(U){const z=Wr[U];if(void 0!==z)return TB(z)}(Te),V=ue.message;void 0===Me&&(Me=re.INTERNAL,V="Unknown error status: "+Te+" with message "+ue.message),b=!0,C.So(new me(Me,V)),m.close()}else we(Ui,`RPC '${e}' stream ${i} received:`,j),C.bo(j)}}),S(a,uU.STAT_EVENT,P=>{P.stat===rD.PROXY?we(Ui,`RPC '${e}' stream ${i} detected buffering proxy`):P.stat===rD.NOPROXY&&we(Ui,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{C.wo()},0),C}}function kj(){return typeof window<"u"?window:null}function cI(){return typeof document<"u"?document:null}function xy(n){return new dre(n,!0)}class XD{constructor(e,t,r=1e3,i=1.5,s=6e4){this.ui=e,this.timerId=t,this.ko=r,this.qo=i,this.Qo=s,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(e){this.cancel();const t=Math.floor(this.Ko+this.zo()),r=Math.max(0,Date.now()-this.Uo),i=Math.max(0,t-r);i>0&&we("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Ko} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,i,()=>(this.Uo=Date.now(),e())),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){null!==this.$o&&(this.$o.skipDelay(),this.$o=null)}cancel(){null!==this.$o&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}}class Fj{constructor(e,t,r,i,s,o,a,l){this.ui=e,this.Ho=r,this.Jo=i,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new XD(e,t)}n_(){return 1===this.state||5===this.state||this.r_()}r_(){return 2===this.state||3===this.state}start(){this.e_=0,4!==this.state?this.auth():this.i_()}stop(){var e=this;return(0,T.A)(function*(){e.n_()&&(yield e.close(0))})()}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&null===this.Zo&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,()=>this.__()))}a_(e){this.u_(),this.stream.send(e)}__(){var e=this;return(0,T.A)(function*(){if(e.r_())return e.close(0)})()}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}close(e,t){var r=this;return(0,T.A)(function*(){r.u_(),r.c_(),r.t_.cancel(),r.Yo++,4!==e?r.t_.reset():t&&t.code===re.RESOURCE_EXHAUSTED?(Mr(t.toString()),Mr("Using maximum backoff delay to prevent overloading the backend."),r.t_.Wo()):t&&t.code===re.UNAUTHENTICATED&&3!==r.state&&(r.authCredentialsProvider.invalidateToken(),r.appCheckCredentialsProvider.invalidateToken()),null!==r.stream&&(r.l_(),r.stream.close(),r.stream=null),r.state=e,yield r.listener.mo(t)})()}l_(){}auth(){this.state=1;const e=this.h_(this.Yo),t=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Yo===t&&this.P_(r,i)},r=>{e(()=>{const i=new me(re.UNKNOWN,"Fetching auth token failed: "+r.message);return this.I_(i)})})}P_(e,t){const r=this.h_(this.Yo);this.stream=this.T_(e,t),this.stream.Eo(()=>{r(()=>this.listener.Eo())}),this.stream.Ro(()=>{r(()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,()=>(this.r_()&&(this.state=3),Promise.resolve())),this.listener.Ro()))}),this.stream.mo(i=>{r(()=>this.I_(i))}),this.stream.onMessage(i=>{r(()=>1==++this.e_?this.E_(i):this.onNext(i))})}i_(){var e=this;this.state=5,this.t_.Go((0,T.A)(function*(){e.state=0,e.start()}))}I_(e){return we("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}h_(e){return t=>{this.ui.enqueueAndForget(()=>this.Yo===e?t():(we("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class iie extends Fj{constructor(e,t,r,i,s,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,i,o),this.serializer=s}T_(e,t){return this.connection.Bo("Listen",e,t)}E_(e){return this.onNext(e)}onNext(e){this.t_.reset();const t=function pre(n,e){let t;if("targetChange"in e){const r="NO_CHANGE"===(c=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===c?1:"REMOVE"===c?2:"CURRENT"===c?3:"RESET"===c?4:qe(),i=e.targetChange.targetIds||[],s=function(c,p){return c.useProto3Json?(Qe(void 0===p||"string"==typeof p),vr.fromBase64String(p||"")):(Qe(void 0===p||p instanceof Buffer||p instanceof Uint8Array),vr.fromUint8Array(p||new Uint8Array))}(n,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(c){const p=void 0===c.code?re.UNKNOWN:TB(c.code);return new me(p,c.message||"")}(o);t=new PB(r,i,s,a||null)}else if("documentChange"in e){const r=e.documentChange,i=Na(n,r.document.name),s=Nr(r.document.updateTime),o=r.document.createTime?Nr(r.document.createTime):Ze.min(),a=new Ti({mapValue:{fields:r.document.fields}}),l=Qn.newFoundDocument(i,s,o,a);t=new KE(r.targetIds||[],r.removedTargetIds||[],l.key,l)}else if("documentDelete"in e){const r=e.documentDelete,i=Na(n,r.document),s=r.readTime?Nr(r.readTime):Ze.min(),o=Qn.newNoDocument(i,s);t=new KE([],r.removedTargetIds||[],o.key,o)}else if("documentRemove"in e){const r=e.documentRemove,i=Na(n,r.document);t=new KE([],r.removedTargetIds||[],i,null)}else{if(!("filter"in e))return qe();{const r=e.filter,{count:i=0,unchangedNames:s}=r,o=new sre(i,s);t=new RB(r.targetId,o)}}var c;return t}(this.serializer,e),r=function(s){if(!("targetChange"in s))return Ze.min();const o=s.targetChange;return o.targetIds&&o.targetIds.length?Ze.min():o.readTime?Nr(o.readTime):Ze.min()}(e);return this.listener.d_(t,r)}A_(e){const t={};t.database=RD(this.serializer),t.addTarget=function(s,o){let a;const l=o.target;if(a=jE(l)?{documents:jB(s,l)}:{query:QE(s,l)._t},a.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){a.resumeToken=OB(s,o.resumeToken);const c=CD(s,o.expectedCount);null!==c&&(a.expectedCount=c)}else if(o.snapshotVersion.compareTo(Ze.min())>0){a.readTime=ap(s,o.snapshotVersion.toTimestamp());const c=CD(s,o.expectedCount);null!==c&&(a.expectedCount=c)}return a}(this.serializer,e);const r=function mre(n,e){const t=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return qe()}}(e.purpose);return null==t?null:{"goog-listen-tags":t}}(0,e);r&&(t.labels=r),this.a_(t)}R_(e){const t={};t.database=RD(this.serializer),t.removeTarget=e,this.a_(t)}}class sie extends Fj{constructor(e,t,r,i,s,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,i,o),this.serializer=s}get V_(){return this.e_>0}start(){this.lastStreamToken=void 0,super.start()}l_(){this.V_&&this.m_([])}T_(e,t){return this.connection.Bo("Write",e,t)}E_(e){return Qe(!!e.streamToken),this.lastStreamToken=e.streamToken,Qe(!e.writeResults||0===e.writeResults.length),this.listener.f_()}onNext(e){Qe(!!e.streamToken),this.lastStreamToken=e.streamToken,this.t_.reset();const t=function gre(n,e){return n&&n.length>0?(Qe(void 0!==e),n.map(t=>function(i,s){let o=Nr(i.updateTime?i.updateTime:s);return o.isEqual(Ze.min())&&(o=Nr(s)),new nre(o,i.transformResults||[])}(t,e))):[]}(e.writeResults,e.commitTime),r=Nr(e.commitTime);return this.listener.g_(r,t)}p_(){const e={};e.database=RD(this.serializer),this.a_(e)}m_(e){const t={streamToken:this.lastStreamToken,writes:e.map(r=>Ty(this.serializer,r))};this.a_(t)}}class oie extends class{}{constructor(e,t,r,i){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=r,this.serializer=i,this.y_=!1}w_(){if(this.y_)throw new me(re.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(e,t,r,i){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.Mo(e,SD(t,r),i,s,o)).catch(s=>{throw"FirebaseError"===s.name?(s.code===re.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new me(re.UNKNOWN,s.toString())})}Lo(e,t,r,i,s){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,a])=>this.connection.Lo(e,SD(t,r),i,o,a,s)).catch(o=>{throw"FirebaseError"===o.name?(o.code===re.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new me(re.UNKNOWN,o.toString())})}terminate(){this.y_=!0,this.connection.terminate()}}class aie{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){0===this.S_&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve())))}M_(e){"Online"===this.state?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.C_("Offline")))}set(e){this.x_(),this.S_=0,"Online"===e&&(this.D_=!1),this.C_(e)}C_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}F_(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?(Mr(t),this.D_=!1):we("OnlineStateTracker",t)}x_(){null!==this.b_&&(this.b_.cancel(),this.b_=null)}}class lie{constructor(e,t,r,i,s){var o=this;this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=s,this.k_._o(a=>{r.enqueueAndForget((0,T.A)(function*(){var l;Qu(o)&&(we("RemoteStore","Restarting streams for network reachability change."),yield(l=(0,T.A)(function*(p){const m=Oe(p);m.L_.add(4),yield gp(m),m.q_.set("Unknown"),m.L_.delete(4),yield Oy(m)}),function c(p){return l.apply(this,arguments)})(o))}))}),this.q_=new aie(r,i)}}function Oy(n){return eS.apply(this,arguments)}function eS(){return(eS=(0,T.A)(function*(n){if(Qu(n))for(const e of n.B_)yield e(!0)})).apply(this,arguments)}function gp(n){return tS.apply(this,arguments)}function tS(){return(tS=(0,T.A)(function*(n){for(const e of n.B_)yield e(!1)})).apply(this,arguments)}function dI(n,e){const t=Oe(n);t.N_.has(e.targetId)||(t.N_.set(e.targetId,e),iS(t)?rS(t):_p(t).r_()&&nS(t,e))}function mp(n,e){const t=Oe(n),r=_p(t);t.N_.delete(e),r.r_()&&Vj(t,e),0===t.N_.size&&(r.r_()?r.o_():Qu(t)&&t.q_.set("Unknown"))}function nS(n,e){if(n.Q_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ze.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}_p(n).A_(e)}function Vj(n,e){n.Q_.xe(e),_p(n).R_(e)}function rS(n){n.Q_=new are({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>n.N_.get(e)||null,tt:()=>n.datastore.serializer.databaseId}),_p(n).start(),n.q_.v_()}function iS(n){return Qu(n)&&!_p(n).n_()&&n.N_.size>0}function Qu(n){return 0===Oe(n).L_.size}function Lj(n){n.Q_=void 0}function uie(n){return sS.apply(this,arguments)}function sS(){return(sS=(0,T.A)(function*(n){n.q_.set("Online")})).apply(this,arguments)}function cie(n){return oS.apply(this,arguments)}function oS(){return(oS=(0,T.A)(function*(n){n.N_.forEach((e,t)=>{nS(n,e)})})).apply(this,arguments)}function die(n,e){return aS.apply(this,arguments)}function aS(){return(aS=(0,T.A)(function*(n,e){Lj(n),iS(n)?(n.q_.M_(e),rS(n)):n.q_.set("Unknown")})).apply(this,arguments)}function hie(n,e,t){return lS.apply(this,arguments)}function lS(){return lS=(0,T.A)(function*(n,e,t){if(n.q_.set("Online"),e instanceof PB&&2===e.state&&e.cause)try{yield(r=(0,T.A)(function*(s,o){const a=o.cause;for(const l of o.targetIds)s.N_.has(l)&&(yield s.remoteSyncer.rejectListen(l,a),s.N_.delete(l),s.Q_.removeTarget(l))}),function i(s,o){return r.apply(this,arguments)})(n,e)}catch(r){we("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield hI(n,r)}else if(e instanceof KE?n.Q_.Ke(e):e instanceof RB?n.Q_.He(e):n.Q_.We(e),!t.isEqual(Ze.min()))try{const r=yield Cj(n.localStore);t.compareTo(r)>=0&&(yield function(s,o){const a=s.Q_.rt(o);return a.targetChanges.forEach((l,c)=>{if(l.resumeToken.approximateByteSize()>0){const p=s.N_.get(c);p&&s.N_.set(c,p.withResumeToken(l.resumeToken,o))}}),a.targetMismatches.forEach((l,c)=>{const p=s.N_.get(l);if(!p)return;s.N_.set(l,p.withResumeToken(vr.EMPTY_BYTE_STRING,p.snapshotVersion)),Vj(s,l);const m=new Ml(p.target,l,c,p.sequenceNumber);nS(s,m)}),s.remoteSyncer.applyRemoteEvent(a)}(n,t))}catch(r){we("RemoteStore","Failed to raise snapshot:",r),yield hI(n,r)}var r}),lS.apply(this,arguments)}function hI(n,e,t){return uS.apply(this,arguments)}function uS(){return(uS=(0,T.A)(function*(n,e,t){if(!Lu(e))throw e;n.L_.add(1),yield gp(n),n.q_.set("Offline"),t||(t=()=>Cj(n.localStore)),n.asyncQueue.enqueueRetryable((0,T.A)(function*(){we("RemoteStore","Retrying IndexedDB access"),yield t(),n.L_.delete(1),yield Oy(n)}))})).apply(this,arguments)}function Uj(n,e){return e().catch(t=>hI(n,t,e))}function yp(n){return cS.apply(this,arguments)}function cS(){return(cS=(0,T.A)(function*(n){const e=Oe(n),t=Yu(e);let r=e.O_.length>0?e.O_[e.O_.length-1].batchId:-1;for(;fie(e);)try{const i=yield Jre(e.localStore,r);if(null===i){0===e.O_.length&&t.o_();break}r=i.batchId,pie(e,i)}catch(i){yield hI(e,i)}Bj(e)&&jj(e)})).apply(this,arguments)}function fie(n){return Qu(n)&&n.O_.length<10}function pie(n,e){n.O_.push(e);const t=Yu(n);t.r_()&&t.V_&&t.m_(e.mutations)}function Bj(n){return Qu(n)&&!Yu(n).n_()&&n.O_.length>0}function jj(n){Yu(n).start()}function gie(n){return dS.apply(this,arguments)}function dS(){return(dS=(0,T.A)(function*(n){Yu(n).p_()})).apply(this,arguments)}function mie(n){return hS.apply(this,arguments)}function hS(){return(hS=(0,T.A)(function*(n){const e=Yu(n);for(const t of n.O_)e.m_(t.mutations)})).apply(this,arguments)}function yie(n,e,t){return fS.apply(this,arguments)}function fS(){return(fS=(0,T.A)(function*(n,e,t){const r=n.O_.shift(),i=bD.from(r,e,t);yield Uj(n,()=>n.remoteSyncer.applySuccessfulWrite(i)),yield yp(n)})).apply(this,arguments)}function _ie(n,e){return pS.apply(this,arguments)}function pS(){return pS=(0,T.A)(function*(n,e){var t;e&&Yu(n).V_&&(yield(t=(0,T.A)(function*(i,s){if(AB(a=s.code)&&a!==re.ABORTED){const o=i.O_.shift();Yu(i).s_(),yield Uj(i,()=>i.remoteSyncer.rejectFailedWrite(o.batchId,s)),yield yp(i)}var a}),function r(i,s){return t.apply(this,arguments)})(n,e)),Bj(n)&&jj(n)}),pS.apply(this,arguments)}function $j(n,e){return gS.apply(this,arguments)}function gS(){return(gS=(0,T.A)(function*(n,e){const t=Oe(n);t.asyncQueue.verifyOperationInProgress(),we("RemoteStore","RemoteStore received new credentials");const r=Qu(t);t.L_.add(3),yield gp(t),r&&t.q_.set("Unknown"),yield t.remoteSyncer.handleCredentialChange(e),t.L_.delete(3),yield Oy(t)})).apply(this,arguments)}function mS(n,e){return yS.apply(this,arguments)}function yS(){return(yS=(0,T.A)(function*(n,e){const t=Oe(n);e?(t.L_.delete(2),yield Oy(t)):e||(t.L_.add(2),yield gp(t),t.q_.set("Unknown"))})).apply(this,arguments)}function _p(n){return n.K_||(n.K_=function(t,r,i){const s=Oe(t);return s.w_(),new iie(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(n.datastore,n.asyncQueue,{Eo:uie.bind(null,n),Ro:cie.bind(null,n),mo:die.bind(null,n),d_:hie.bind(null,n)}),n.B_.push(function(){var e=(0,T.A)(function*(t){t?(n.K_.s_(),iS(n)?rS(n):n.q_.set("Unknown")):(yield n.K_.stop(),Lj(n))});return function(t){return e.apply(this,arguments)}}())),n.K_}function Yu(n){return n.U_||(n.U_=function(t,r,i){const s=Oe(t);return s.w_(),new sie(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(n.datastore,n.asyncQueue,{Eo:()=>Promise.resolve(),Ro:gie.bind(null,n),mo:_ie.bind(null,n),f_:mie.bind(null,n),g_:yie.bind(null,n)}),n.B_.push(function(){var e=(0,T.A)(function*(t){t?(n.U_.s_(),yield yp(n)):(yield n.U_.stop(),n.O_.length>0&&(we("RemoteStore",`Stopping write stream with ${n.O_.length} pending writes`),n.O_=[]))});return function(t){return e.apply(this,arguments)}}())),n.U_}class _S{constructor(e,t,r,i,s){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new ni,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,r,i,s){const o=Date.now()+r,a=new _S(e,t,o,i,s);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new me(re.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function vp(n,e){if(Mr("AsyncQueue",`${e}: ${n}`),Lu(n))return new me(re.UNAVAILABLE,`${e}: ${n}`);throw n}class wp{constructor(e){this.comparator=e?(t,r)=>e(t,r)||Fe.comparator(t.key,r.key):(t,r)=>Fe.comparator(t.key,r.key),this.keyedMap=yy(),this.sortedSet=new $n(this.comparator)}static emptySet(e){return new wp(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,r)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof wp)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){const i=t.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const r=new wp;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}}class zj{constructor(){this.W_=new $n(Fe.comparator)}track(e){const t=e.doc.key,r=this.W_.get(t);r?0!==e.type&&3===r.type?this.W_=this.W_.insert(t,e):3===e.type&&1!==r.type?this.W_=this.W_.insert(t,{type:r.type,doc:e.doc}):2===e.type&&2===r.type?this.W_=this.W_.insert(t,{type:2,doc:e.doc}):2===e.type&&0===r.type?this.W_=this.W_.insert(t,{type:0,doc:e.doc}):1===e.type&&0===r.type?this.W_=this.W_.remove(t):1===e.type&&2===r.type?this.W_=this.W_.insert(t,{type:1,doc:r.doc}):0===e.type&&1===r.type?this.W_=this.W_.insert(t,{type:2,doc:e.doc}):qe():this.W_=this.W_.insert(t,e)}G_(){const e=[];return this.W_.inorderTraversal((t,r)=>{e.push(r)}),e}}class Ep{constructor(e,t,r,i,s,o,a,l,c){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=l,this.hasCachedResults=c}static fromInitialDocuments(e,t,r,i,s){const o=[];return t.forEach(a=>{o.push({type:0,doc:a})}),new Ep(e,t,wp.emptySet(t),o,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&gy(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let i=0;i<t.length;i++)if(t[i].type!==r[i].type||!t[i].doc.isEqual(r[i].doc))return!1;return!0}}class vie{constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some(e=>e.J_())}}class wie{constructor(){this.queries=Hj(),this.onlineState="Unknown",this.Y_=new Set}terminate(){!function(t,r){const i=Oe(t),s=i.queries;i.queries=Hj(),s.forEach((o,a)=>{for(const l of a.j_)l.onError(r)})}(this,new me(re.ABORTED,"Firestore shutting down"))}}function Hj(){return new Rl(n=>sB(n),gy)}function vS(n,e){return wS.apply(this,arguments)}function wS(){return(wS=(0,T.A)(function*(n,e){const t=Oe(n);let r=3;const i=e.query;let s=t.queries.get(i);s?!s.H_()&&e.J_()&&(r=2):(s=new vie,r=e.J_()?0:1);try{switch(r){case 0:s.z_=yield t.onListen(i,!0);break;case 1:s.z_=yield t.onListen(i,!1);break;case 2:yield t.onFirstRemoteStoreListen(i)}}catch(o){const a=vp(o,`Initialization of query '${np(e.query)}' failed`);return void e.onError(a)}t.queries.set(i,s),s.j_.push(e),e.Z_(t.onlineState),s.z_&&e.X_(s.z_)&&bS(t)})).apply(this,arguments)}function ES(n,e){return IS.apply(this,arguments)}function IS(){return(IS=(0,T.A)(function*(n,e){const t=Oe(n),r=e.query;let i=3;const s=t.queries.get(r);if(s){const o=s.j_.indexOf(e);o>=0&&(s.j_.splice(o,1),0===s.j_.length?i=e.J_()?0:1:!s.H_()&&e.J_()&&(i=2))}switch(i){case 0:return t.queries.delete(r),t.onUnlisten(r,!0);case 1:return t.queries.delete(r),t.onUnlisten(r,!1);case 2:return t.onLastRemoteStoreUnlisten(r);default:return}})).apply(this,arguments)}function Eie(n,e){const t=Oe(n);let r=!1;for(const i of e){const o=t.queries.get(i.query);if(o){for(const a of o.j_)a.X_(i)&&(r=!0);o.z_=i}}r&&bS(t)}function Iie(n,e,t){const r=Oe(n),i=r.queries.get(e);if(i)for(const s of i.j_)s.onError(t);r.queries.delete(e)}function bS(n){n.Y_.forEach(e=>{e.next()})}var AS,qj;(qj=AS||(AS={})).ea="default",qj.Cache="cache";class TS{constructor(e,t,r){this.query=e,this.ta=t,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=r||{}}X_(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)3!==i.type&&r.push(i);e=new Ep(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.na?this.ia(e)&&(this.ta.next(e),t=!0):this.sa(e,this.onlineState)&&(this.oa(e),t=!0),this.ra=e,t}onError(e){this.ta.error(e)}Z_(e){this.onlineState=e;let t=!1;return this.ra&&!this.na&&this.sa(this.ra,e)&&(this.oa(this.ra),t=!0),t}sa(e,t){return!e.fromCache||!this.J_()||(!this.options._a||!("Offline"!==t))&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}ia(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.ra&&this.ra.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}oa(e){e=Ep.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.na=!0,this.ta.next(e)}J_(){return this.options.source!==AS.Cache}}class bie{constructor(e,t){this.aa=e,this.byteLength=t}ua(){return"metadata"in this.aa}}class Gj{constructor(e){this.serializer=e}Es(e){return Na(this.serializer,e)}ds(e){return e.metadata.exists?BB(this.serializer,e.document,!1):Qn.newNoDocument(this.Es(e.metadata.name),this.As(e.metadata.readTime))}As(e){return Nr(e)}}class Aie{constructor(e,t,r){this.ca=e,this.localStore=t,this.serializer=r,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=Wj(e)}la(e){this.progress.bytesLoaded+=e.byteLength;let t=this.progress.documentsLoaded;if(e.aa.namedQuery)this.queries.push(e.aa.namedQuery);else if(e.aa.documentMetadata){this.documents.push({metadata:e.aa.documentMetadata}),e.aa.documentMetadata.exists||++t;const r=Kt.fromString(e.aa.documentMetadata.name);this.collectionGroups.add(r.get(r.length-2))}else e.aa.document&&(this.documents[this.documents.length-1].document=e.aa.document,++t);return t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}ha(e){const t=new Map,r=new Gj(this.serializer);for(const i of e)if(i.metadata.queries){const s=r.Es(i.metadata.name);for(const o of i.metadata.queries){const a=(t.get(o)||Nt()).add(s);t.set(o,a)}}return t}complete(){var e=this;return(0,T.A)(function*(){const t=yield function Zre(n,e,t,r){return GD.apply(this,arguments)}(e.localStore,new Gj(e.serializer),e.documents,e.ca.id),r=e.ha(e.documents);for(const i of e.queries)yield Xre(e.localStore,i,r.get(i.name));return e.progress.taskState="Success",{progress:e.progress,Pa:e.collectionGroups,Ia:t}})()}}function Wj(n){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:n.totalDocuments,totalBytes:n.totalBytes}}class Kj{constructor(e){this.key=e}}class Qj{constructor(e){this.key=e}}class Yj{constructor(e,t){this.query=e,this.Ta=t,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=Nt(),this.mutatedKeys=Nt(),this.Aa=aB(e),this.Ra=new wp(this.Aa)}get Va(){return this.Ta}ma(e,t){const r=t?t.fa:new zj,i=t?t.Ra:this.Ra;let s=t?t.mutatedKeys:this.mutatedKeys,o=i,a=!1;const l="F"===this.query.limitType&&i.size===this.query.limit?i.last():null,c="L"===this.query.limitType&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((p,m)=>{const w=i.get(p),b=my(this.query,m)?m:null,C=!!w&&this.mutatedKeys.has(w.key),S=!!b&&(b.hasLocalMutations||this.mutatedKeys.has(b.key)&&b.hasCommittedMutations);let P=!1;w&&b?w.data.isEqual(b.data)?C!==S&&(r.track({type:3,doc:b}),P=!0):this.ga(w,b)||(r.track({type:2,doc:b}),P=!0,(l&&this.Aa(b,l)>0||c&&this.Aa(b,c)<0)&&(a=!0)):!w&&b?(r.track({type:0,doc:b}),P=!0):w&&!b&&(r.track({type:1,doc:w}),P=!0,(l||c)&&(a=!0)),P&&(b?(o=o.add(b),s=S?s.add(p):s.delete(p)):(o=o.delete(p),s=s.delete(p)))}),null!==this.query.limit)for(;o.size>this.query.limit;){const p="F"===this.query.limitType?o.last():o.first();o=o.delete(p.key),s=s.delete(p.key),r.track({type:1,doc:p})}return{Ra:o,fa:r,ns:a,mutatedKeys:s}}ga(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r,i){const s=this.Ra;this.Ra=e.Ra,this.mutatedKeys=e.mutatedKeys;const o=e.fa.G_();o.sort((p,m)=>function(b,C){const S=P=>{switch(P){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return qe()}};return S(b)-S(C)}(p.type,m.type)||this.Aa(p.doc,m.doc)),this.pa(r),i=null!=i&&i;const a=t&&!i?this.ya():[],l=0===this.da.size&&this.current&&!i?1:0,c=l!==this.Ea;return this.Ea=l,0!==o.length||c?{snapshot:new Ep(this.query,e.Ra,s,o,e.mutatedKeys,0===l,c,!1,!!r&&r.resumeToken.approximateByteSize()>0),wa:a}:{wa:a}}Z_(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new zj,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(e){return!this.Ta.has(e)&&!!this.Ra.has(e)&&!this.Ra.get(e).hasLocalMutations}pa(e){e&&(e.addedDocuments.forEach(t=>this.Ta=this.Ta.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Ta=this.Ta.delete(t)),this.current=e.current)}ya(){if(!this.current)return[];const e=this.da;this.da=Nt(),this.Ra.forEach(r=>{this.Sa(r.key)&&(this.da=this.da.add(r.key))});const t=[];return e.forEach(r=>{this.da.has(r)||t.push(new Qj(r))}),this.da.forEach(r=>{e.has(r)||t.push(new Kj(r))}),t}ba(e){this.Ta=e.Ts,this.da=Nt();const t=this.ma(e.documents);return this.applyChanges(t,!0)}Da(){return Ep.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,0===this.Ea,this.hasCachedResults)}}class Tie{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}}class Cie{constructor(e){this.key=e,this.va=!1}}class Die{constructor(e,t,r,i,s,o){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.Ca={},this.Fa=new Rl(a=>sB(a),gy),this.Ma=new Map,this.xa=new Set,this.Oa=new $n(Fe.comparator),this.Na=new Map,this.La=new LD,this.Ba={},this.ka=new Map,this.qa=Pd.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return!0===this.Qa}}function Sie(n,e){return CS.apply(this,arguments)}function CS(){return(CS=(0,T.A)(function*(n,e,t=!0){const r=fI(n);let i;const s=r.Fa.get(e);return s?(r.sharedClientState.addLocalQueryTarget(s.targetId),i=s.view.Da()):i=yield Jj(r,e,t,!0),i})).apply(this,arguments)}function Rie(n,e){return DS.apply(this,arguments)}function DS(){return(DS=(0,T.A)(function*(n,e){const t=fI(n);yield Jj(t,e,!0,!1)})).apply(this,arguments)}function Jj(n,e,t,r){return SS.apply(this,arguments)}function SS(){return(SS=(0,T.A)(function*(n,e,t,r){const i=yield fp(n.localStore,Vi(e)),s=i.targetId,o=n.sharedClientState.addLocalQueryTarget(s,t);let a;return r&&(a=yield RS(n,e,s,"current"===o,i.resumeToken)),n.isPrimaryClient&&t&&dI(n.remoteStore,i),a})).apply(this,arguments)}function RS(n,e,t,r,i){return PS.apply(this,arguments)}function PS(){return PS=(0,T.A)(function*(n,e,t,r,i){n.Ka=(m,w,b)=>{return(C=(0,T.A)(function*(P,L,j,G){let ue=L.view.ma(j);ue.ns&&(ue=yield oI(P.localStore,L.query,!1).then(({documents:N})=>L.view.ma(N,ue)));const Te=G&&G.targetChanges.get(L.targetId),Me=G&&null!=G.targetMismatches.get(L.targetId),V=L.view.applyChanges(ue,P.isPrimaryClient,Te,Me);return jS(P,L.targetId,V.wa),V.snapshot}),function S(P,L,j,G){return C.apply(this,arguments)})(n,m,w,b);var C};const s=yield oI(n.localStore,e,!0),o=new Yj(e,s.Ts),a=o.ma(s.documents),l=by.createSynthesizedTargetChangeForCurrentChange(t,r&&"Offline"!==n.onlineState,i),c=o.applyChanges(a,n.isPrimaryClient,l);jS(n,t,c.wa);const p=new Tie(e,t,o);return n.Fa.set(e,p),n.Ma.has(t)?n.Ma.get(t).push(e):n.Ma.set(t,[e]),c.snapshot}),PS.apply(this,arguments)}function Pie(n,e,t){return MS.apply(this,arguments)}function MS(){return(MS=(0,T.A)(function*(n,e,t){const r=Oe(n),i=r.Fa.get(e),s=r.Ma.get(i.targetId);if(s.length>1)return r.Ma.set(i.targetId,s.filter(o=>!gy(o,e))),void r.Fa.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||(yield pp(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),t&&mp(r.remoteStore,i.targetId),Ip(r,i.targetId)}).catch(Vu))):(Ip(r,i.targetId),yield pp(r.localStore,i.targetId,!0))})).apply(this,arguments)}function Mie(n,e){return NS.apply(this,arguments)}function NS(){return(NS=(0,T.A)(function*(n,e){const t=Oe(n),r=t.Fa.get(e),i=t.Ma.get(r.targetId);t.isPrimaryClient&&1===i.length&&(t.sharedClientState.removeLocalQueryTarget(r.targetId),mp(t.remoteStore,r.targetId))})).apply(this,arguments)}function xS(){return(xS=(0,T.A)(function*(n,e,t){const r=ZS(n);try{const i=yield function(o,a){const l=Oe(o),c=sr.now(),p=a.reduce((b,C)=>b.add(C.key),Nt());let m,w;return l.persistence.runTransaction("Locally write mutations","readwrite",b=>{let C=Ps(),S=Nt();return l.cs.getEntries(b,p).next(P=>{C=P,C.forEach((L,j)=>{j.isValidDocument()||(S=S.add(L))})}).next(()=>l.localDocuments.getOverlayedDocuments(b,C)).next(P=>{m=P;const L=[];for(const j of a){const G=ire(j,m.get(j.key).overlayedDocument);null!=G&&L.push(new Pl(j.key,G,zU(G.value.mapValue),ar.exists(!0)))}return l.mutationQueue.addMutationBatch(b,c,L,a)}).next(P=>{w=P;const L=P.applyToLocalDocumentSet(m,S);return l.documentOverlayCache.saveOverlays(b,P.batchId,L)})}).then(()=>({batchId:w.batchId,changes:uB(m)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(o,a,l){let c=o.Ba[o.currentUser.toKey()];c||(c=new $n(Et)),c=c.insert(a,l),o.Ba[o.currentUser.toKey()]=c}(r,i.batchId,t),yield Nl(r,i.changes),yield yp(r.remoteStore)}catch(i){const s=vp(i,"Failed to persist write");t.reject(s)}})).apply(this,arguments)}function Zj(n,e){return OS.apply(this,arguments)}function OS(){return(OS=(0,T.A)(function*(n,e){const t=Oe(n);try{const r=yield function Yre(n,e){const t=Oe(n),r=e.snapshotVersion;let i=t.os;return t.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const o=t.cs.newChangeBuffer({trackRemovals:!0});i=t.os;const a=[];e.targetChanges.forEach((p,m)=>{const w=i.get(m);if(!w)return;a.push(t.Ur.removeMatchingKeys(s,p.removedDocuments,m).next(()=>t.Ur.addMatchingKeys(s,p.addedDocuments,m)));let b=w.withSequenceNumber(s.currentSequenceNumber);var S,P,L;null!==e.targetMismatches.get(m)?b=b.withResumeToken(vr.EMPTY_BYTE_STRING,Ze.min()).withLastLimboFreeSnapshotVersion(Ze.min()):p.resumeToken.approximateByteSize()>0&&(b=b.withResumeToken(p.resumeToken,r)),i=i.insert(m,b),P=b,L=p,(0===(S=w).resumeToken.approximateByteSize()||P.snapshotVersion.toMicroseconds()-S.snapshotVersion.toMicroseconds()>=3e8||L.addedDocuments.size+L.modifiedDocuments.size+L.removedDocuments.size>0)&&a.push(t.Ur.updateTargetData(s,b))});let l=Ps(),c=Nt();if(e.documentUpdates.forEach(p=>{e.resolvedLimboDocuments.has(p)&&a.push(t.persistence.referenceDelegate.updateLimboDocument(s,p))}),a.push(Dj(s,o,e.documentUpdates).next(p=>{l=p.Ps,c=p.Is})),!r.isEqual(Ze.min())){const p=t.Ur.getLastRemoteSnapshotVersion(s).next(m=>t.Ur.setTargetsMetadata(s,s.currentSequenceNumber,r));a.push(p)}return Y.waitFor(a).next(()=>o.apply(s)).next(()=>t.localDocuments.getLocalViewOfDocuments(s,l,c)).next(()=>l)}).then(s=>(t.os=i,s))}(t.localStore,e);e.targetChanges.forEach((i,s)=>{const o=t.Na.get(s);o&&(Qe(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?o.va=!0:i.modifiedDocuments.size>0?Qe(o.va):i.removedDocuments.size>0&&(Qe(o.va),o.va=!1))}),yield Nl(t,r,e)}catch(r){yield Vu(r)}})).apply(this,arguments)}function Xj(n,e,t){const r=Oe(n);if(r.isPrimaryClient&&0===t||!r.isPrimaryClient&&1===t){const i=[];r.Fa.forEach((s,o)=>{const a=o.view.Z_(e);a.snapshot&&i.push(a.snapshot)}),function(o,a){const l=Oe(o);l.onlineState=a;let c=!1;l.queries.forEach((p,m)=>{for(const w of m.j_)w.Z_(a)&&(c=!0)}),c&&bS(l)}(r.eventManager,e),i.length&&r.Ca.d_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function xie(n,e,t){return kS.apply(this,arguments)}function kS(){return(kS=(0,T.A)(function*(n,e,t){const r=Oe(n);r.sharedClientState.updateQueryState(e,"rejected",t);const i=r.Na.get(e),s=i&&i.key;if(s){let o=new $n(Fe.comparator);o=o.insert(s,Qn.newNoDocument(s,Ze.min()));const a=Nt().add(s),l=new Iy(Ze.min(),new Map,new $n(Et),o,a);yield Zj(r,l),r.Oa=r.Oa.remove(s),r.Na.delete(e),$S(r)}else yield pp(r.localStore,e,!1).then(()=>Ip(r,e,t)).catch(Vu)})).apply(this,arguments)}function Oie(n,e){return FS.apply(this,arguments)}function FS(){return(FS=(0,T.A)(function*(n,e){const t=Oe(n),r=e.batch.batchId;try{const i=yield function Qre(n,e){const t=Oe(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),s=t.cs.newChangeBuffer({trackRemovals:!0});return function(a,l,c,p){const m=c.batch,w=m.keys();let b=Y.resolve();return w.forEach(C=>{b=b.next(()=>p.getEntry(l,C)).next(S=>{const P=c.docVersions.get(C);Qe(null!==P),S.version.compareTo(P)<0&&(m.applyToRemoteDocument(S,c),S.isValidDocument()&&(S.setReadTime(c.commitVersion),p.addEntry(S)))})}),b.next(()=>a.mutationQueue.removeMutationBatch(l,m))}(t,r,e,s).next(()=>s.apply(r)).next(()=>t.mutationQueue.performConsistencyCheck(r)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let l=Nt();for(let c=0;c<a.mutationResults.length;++c)a.mutationResults[c].transformResults.length>0&&(l=l.add(a.batch.mutations[c].key));return l}(e))).next(()=>t.localDocuments.getDocuments(r,i))})}(t.localStore,e);BS(t,r,null),US(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),yield Nl(t,i)}catch(i){yield Vu(i)}})).apply(this,arguments)}function kie(n,e,t){return VS.apply(this,arguments)}function VS(){return(VS=(0,T.A)(function*(n,e,t){const r=Oe(n);try{const i=yield function(o,a){const l=Oe(o);return l.persistence.runTransaction("Reject batch","readwrite-primary",c=>{let p;return l.mutationQueue.lookupMutationBatch(c,a).next(m=>(Qe(null!==m),p=m.keys(),l.mutationQueue.removeMutationBatch(c,m))).next(()=>l.mutationQueue.performConsistencyCheck(c)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(c,p,a)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(c,p)).next(()=>l.localDocuments.getDocuments(c,p))})}(r.localStore,e);BS(r,e,t),US(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),yield Nl(r,i)}catch(i){yield Vu(i)}})).apply(this,arguments)}function LS(){return(LS=(0,T.A)(function*(n,e){const t=Oe(n);Qu(t.remoteStore)||we("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const r=yield function(o){const a=Oe(o);return a.persistence.runTransaction("Get highest unacknowledged batch id","readonly",l=>a.mutationQueue.getHighestUnacknowledgedBatchId(l))}(t.localStore);if(-1===r)return void e.resolve();const i=t.ka.get(r)||[];i.push(e),t.ka.set(r,i)}catch(r){const i=vp(r,"Initialization of waitForPendingWrites() operation failed");e.reject(i)}})).apply(this,arguments)}function US(n,e){(n.ka.get(e)||[]).forEach(t=>{t.resolve()}),n.ka.delete(e)}function BS(n,e,t){const r=Oe(n);let i=r.Ba[r.currentUser.toKey()];if(i){const s=i.get(e);s&&(t?s.reject(t):s.resolve(),i=i.remove(e)),r.Ba[r.currentUser.toKey()]=i}}function Ip(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const r of n.Ma.get(e))n.Fa.delete(r),t&&n.Ca.$a(r,t);n.Ma.delete(e),n.isPrimaryClient&&n.La.gr(e).forEach(r=>{n.La.containsKey(r)||e$(n,r)})}function e$(n,e){n.xa.delete(e.path.canonicalString());const t=n.Oa.get(e);null!==t&&(mp(n.remoteStore,t),n.Oa=n.Oa.remove(e),n.Na.delete(t),$S(n))}function jS(n,e,t){for(const r of t)r instanceof Kj?(n.La.addReference(r.key,e),Vie(n,r)):r instanceof Qj?(we("SyncEngine","Document no longer in limbo: "+r.key),n.La.removeReference(r.key,e),n.La.containsKey(r.key)||e$(n,r.key)):qe()}function Vie(n,e){const t=e.key,r=t.path.canonicalString();n.Oa.get(t)||n.xa.has(r)||(we("SyncEngine","New document in limbo: "+t),n.xa.add(r),$S(n))}function $S(n){for(;n.xa.size>0&&n.Oa.size<n.maxConcurrentLimboResolutions;){const e=n.xa.values().next().value;n.xa.delete(e);const t=new Fe(Kt.fromString(e)),r=n.qa.next();n.Na.set(r,new Cie(t)),n.Oa=n.Oa.insert(t,r),dI(n.remoteStore,new Ml(Vi(ep(t.path)),r,"TargetPurposeLimboResolution",Ys.oe))}}function Nl(n,e,t){return zS.apply(this,arguments)}function zS(){return zS=(0,T.A)(function*(n,e,t){const r=Oe(n),i=[],s=[],o=[];var a;r.Fa.isEmpty()||(r.Fa.forEach((a,l)=>{o.push(r.Ka(l,e,t).then(c=>{var p;if((c||t)&&r.isPrimaryClient){const m=c?!c.fromCache:null===(p=t?.targetChanges.get(l.targetId))||void 0===p?void 0:p.current;r.sharedClientState.updateQueryState(l.targetId,m?"current":"not-current")}if(c){i.push(c);const m=zD.Wi(l.targetId,c);s.push(m)}}))}),yield Promise.all(o),r.Ca.d_(i),yield(a=(0,T.A)(function*(c,p){const m=Oe(c);try{yield m.persistence.runTransaction("notifyLocalViewChanges","readwrite",w=>Y.forEach(p,b=>Y.forEach(b.$i,C=>m.persistence.referenceDelegate.addReference(w,b.targetId,C)).next(()=>Y.forEach(b.Ui,C=>m.persistence.referenceDelegate.removeReference(w,b.targetId,C)))))}catch(w){if(!Lu(w))throw w;we("LocalStore","Failed to update sequence numbers: "+w)}for(const w of p){const b=w.targetId;if(!w.fromCache){const C=m.os.get(b),P=C.withLastLimboFreeSnapshotVersion(C.snapshotVersion);m.os=m.os.insert(b,P)}}}),function l(c,p){return a.apply(this,arguments)})(r.localStore,s))}),zS.apply(this,arguments)}function Lie(n,e){return HS.apply(this,arguments)}function HS(){return(HS=(0,T.A)(function*(n,e){const t=Oe(n);if(!t.currentUser.isEqual(e)){we("SyncEngine","User change. New user:",e.toKey());const r=yield Tj(t.localStore,e);t.currentUser=e,(s=t).ka.forEach(a=>{a.forEach(l=>{l.reject(new me(re.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),s.ka.clear(),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield Nl(t,r.hs)}var s})).apply(this,arguments)}function Uie(n,e){const t=Oe(n),r=t.Na.get(e);if(r&&r.va)return Nt().add(r.key);{let i=Nt();const s=t.Ma.get(e);if(!s)return i;for(const o of s){const a=t.Fa.get(o);i=i.unionWith(a.view.Va)}return i}}function Bie(n,e){return qS.apply(this,arguments)}function qS(){return(qS=(0,T.A)(function*(n,e){const t=Oe(n),r=yield oI(t.localStore,e.query,!0),i=e.view.ba(r);return t.isPrimaryClient&&jS(t,e.targetId,i.wa),i})).apply(this,arguments)}function jie(n,e){return GS.apply(this,arguments)}function GS(){return(GS=(0,T.A)(function*(n,e){const t=Oe(n);return Rj(t.localStore,e).then(r=>Nl(t,r))})).apply(this,arguments)}function $ie(n,e,t,r){return WS.apply(this,arguments)}function WS(){return(WS=(0,T.A)(function*(n,e,t,r){const i=Oe(n),s=yield function(a,l){const c=Oe(a),p=Oe(c.mutationQueue);return c.persistence.runTransaction("Lookup mutation documents","readonly",m=>p.Mn(m,l).next(w=>w?c.localDocuments.getDocuments(m,w):Y.resolve(null)))}(i.localStore,e);var l;null!==s?("pending"===t?yield yp(i.remoteStore):"acknowledged"===t||"rejected"===t?(BS(i,e,r||null),US(i,e),l=e,Oe(Oe(i.localStore).mutationQueue).On(l)):qe(),yield Nl(i,s)):we("SyncEngine","Cannot apply mutation batch with id: "+e)})).apply(this,arguments)}function KS(){return(KS=(0,T.A)(function*(n,e){const t=Oe(n);if(fI(t),ZS(t),!0===e&&!0!==t.Qa){const r=t.sharedClientState.getAllActiveQueryTargets(),i=yield t$(t,r.toArray());t.Qa=!0,yield mS(t.remoteStore,!0);for(const s of i)dI(t.remoteStore,s)}else if(!1===e&&!1!==t.Qa){const r=[];let i=Promise.resolve();t.Ma.forEach((s,o)=>{t.sharedClientState.isLocalQueryTarget(o)?r.push(o):i=i.then(()=>(Ip(t,o),pp(t.localStore,o,!0))),mp(t.remoteStore,o)}),yield i,yield t$(t,r),function(o){const a=Oe(o);a.Na.forEach((l,c)=>{mp(a.remoteStore,c)}),a.La.pr(),a.Na=new Map,a.Oa=new $n(Fe.comparator)}(t),t.Qa=!1,yield mS(t.remoteStore,!1)}})).apply(this,arguments)}function t$(n,e,t){return QS.apply(this,arguments)}function QS(){return(QS=(0,T.A)(function*(n,e,t){const r=Oe(n),i=[],s=[];for(const o of e){let a;const l=r.Ma.get(o);if(l&&0!==l.length){a=yield fp(r.localStore,Vi(l[0]));for(const c of l){const p=r.Fa.get(c),m=yield Bie(r,p);m.snapshot&&s.push(m.snapshot)}}else{const c=yield Sj(r.localStore,o);a=yield fp(r.localStore,c),yield RS(r,n$(c),o,!1,a.resumeToken)}i.push(a)}return r.Ca.d_(s),i})).apply(this,arguments)}function n$(n){return tB(n.path,n.collectionGroup,n.orderBy,n.filters,n.limit,"F",n.startAt,n.endAt)}function Hie(n){return t=Oe(n).localStore,Oe(Oe(t).persistence).Qi();var t}function qie(n,e,t,r){return YS.apply(this,arguments)}function YS(){return(YS=(0,T.A)(function*(n,e,t,r){const i=Oe(n);if(i.Qa)return void we("SyncEngine","Ignoring unexpected query state notification.");const s=i.Ma.get(e);if(s&&s.length>0)switch(t){case"current":case"not-current":{const o=yield Rj(i.localStore,oB(s[0])),a=Iy.createSynthesizedRemoteEventForCurrentChange(e,"current"===t,vr.EMPTY_BYTE_STRING);yield Nl(i,o,a);break}case"rejected":yield pp(i.localStore,e,!0),Ip(i,e,r);break;default:qe()}})).apply(this,arguments)}function Gie(n,e,t){return JS.apply(this,arguments)}function JS(){return(JS=(0,T.A)(function*(n,e,t){const r=fI(n);if(r.Qa){for(const i of e){if(r.Ma.has(i)&&r.sharedClientState.isActiveQueryTarget(i)){we("SyncEngine","Adding an already active target "+i);continue}const s=yield Sj(r.localStore,i),o=yield fp(r.localStore,s);yield RS(r,n$(s),o.targetId,!1,o.resumeToken),dI(r.remoteStore,o)}for(const i of t)r.Ma.has(i)&&(yield pp(r.localStore,i,!1).then(()=>{mp(r.remoteStore,i),Ip(r,i)}).catch(Vu))}})).apply(this,arguments)}function fI(n){const e=Oe(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=Zj.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=Uie.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=xie.bind(null,e),e.Ca.d_=Eie.bind(null,e.eventManager),e.Ca.$a=Iie.bind(null,e.eventManager),e}function ZS(n){const e=Oe(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=Oie.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=kie.bind(null,e),e}class bp{constructor(){this.synchronizeTabs=!1}initialize(e){var t=this;return(0,T.A)(function*(){t.serializer=xy(e.databaseInfo.databaseId),t.sharedClientState=t.createSharedClientState(e),t.persistence=t.createPersistence(e),yield t.persistence.start(),t.localStore=t.createLocalStore(e),t.gcScheduler=t.createGarbageCollectionScheduler(e,t.localStore),t.indexBackfillerScheduler=t.createIndexBackfillerScheduler(e,t.localStore)})()}createGarbageCollectionScheduler(e,t){return null}createIndexBackfillerScheduler(e,t){return null}createLocalStore(e){return Aj(this.persistence,new bj,e.initialUser,this.serializer)}createPersistence(e){return new UD(rI.Zr,this.serializer)}createSharedClientState(e){return new xj}terminate(){var e=this;return(0,T.A)(function*(){var t,r;null===(t=e.gcScheduler)||void 0===t||t.stop(),null===(r=e.indexBackfillerScheduler)||void 0===r||r.stop(),e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class XS extends bp{constructor(e,t,r){super(),this.Wa=e,this.cacheSizeBytes=t,this.forceOwnership=r,this.synchronizeTabs=!1}initialize(e){var t=()=>super.initialize,r=this;return(0,T.A)(function*(){yield t().call(r,e),yield r.Wa.initialize(r,e),yield ZS(r.Wa.syncEngine),yield yp(r.Wa.remoteStore),yield r.persistence.yi(()=>(r.gcScheduler&&!r.gcScheduler.started&&r.gcScheduler.start(),r.indexBackfillerScheduler&&!r.indexBackfillerScheduler.started&&r.indexBackfillerScheduler.start(),Promise.resolve()))})()}createLocalStore(e){return Aj(this.persistence,new bj,e.initialUser,this.serializer)}createGarbageCollectionScheduler(e,t){return new pj(this.persistence.referenceDelegate.garbageCollector,e.asyncQueue,t)}createIndexBackfillerScheduler(e,t){const r=new gne(t,this.persistence);return new pne(e.asyncQueue,r)}createPersistence(e){const t=$D(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),r=void 0!==this.cacheSizeBytes?Li.withCacheSize(this.cacheSizeBytes):Li.DEFAULT;return new jD(this.synchronizeTabs,t,e.clientId,r,e.asyncQueue,kj(),cI(),this.serializer,this.sharedClientState,!!this.forceOwnership)}createSharedClientState(e){return new xj}}class r$ extends XS{constructor(e,t){super(e,t,!1),this.Wa=e,this.cacheSizeBytes=t,this.synchronizeTabs=!0}initialize(e){var t=()=>super.initialize,r=this;return(0,T.A)(function*(){yield t().call(r,e);const i=r.Wa.syncEngine;r.sharedClientState instanceof JD&&(r.sharedClientState.syncEngine={no:$ie.bind(null,i),ro:qie.bind(null,i),io:Gie.bind(null,i),Qi:Hie.bind(null,i),eo:jie.bind(null,i)},yield r.sharedClientState.start()),yield r.persistence.yi(function(){var s=(0,T.A)(function*(o){yield function zie(n,e){return KS.apply(this,arguments)}(r.Wa.syncEngine,o),r.gcScheduler&&(o&&!r.gcScheduler.started?r.gcScheduler.start():o||r.gcScheduler.stop()),r.indexBackfillerScheduler&&(o&&!r.indexBackfillerScheduler.started?r.indexBackfillerScheduler.start():o||r.indexBackfillerScheduler.stop())});return function(o){return s.apply(this,arguments)}}())})()}createSharedClientState(e){const t=kj();if(!JD.D(t))throw new me(re.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const r=$D(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new JD(t,e.asyncQueue,r,e.clientId,e.initialUser)}}class Ap{initialize(e,t){var r=this;return(0,T.A)(function*(){r.localStore||(r.localStore=e.localStore,r.sharedClientState=e.sharedClientState,r.datastore=r.createDatastore(t),r.remoteStore=r.createRemoteStore(t),r.eventManager=r.createEventManager(t),r.syncEngine=r.createSyncEngine(t,!e.synchronizeTabs),r.sharedClientState.onlineStateHandler=i=>Xj(r.syncEngine,i,1),r.remoteStore.remoteSyncer.handleCredentialChange=Lie.bind(null,r.syncEngine),yield mS(r.remoteStore,r.syncEngine.isPrimaryClient))})()}createEventManager(e){return new wie}createDatastore(e){const t=xy(e.databaseInfo.databaseId),r=new rie(e.databaseInfo);return new oie(e.authCredentials,e.appCheckCredentials,r,t)}createRemoteStore(e){return r=this.localStore,i=this.datastore,s=e.asyncQueue,o=t=>Xj(this.syncEngine,t,0),a=Oj.D()?new Oj:new eie,new lie(r,i,s,o,a);var r,i,s,o,a}createSyncEngine(e,t){return function(i,s,o,a,l,c,p){const m=new Die(i,s,o,a,l,c);return p&&(m.Qa=!0),m}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){var e=this;return(0,T.A)(function*(){var t,r,i;yield(i=(0,T.A)(function*(o){const a=Oe(o);we("RemoteStore","RemoteStore shutting down."),a.L_.add(5),yield gp(a),a.k_.shutdown(),a.q_.set("Unknown")}),function s(o){return i.apply(this,arguments)})(e.remoteStore),null===(t=e.datastore)||void 0===t||t.terminate(),null===(r=e.eventManager)||void 0===r||r.terminate()})()}}function i$(n,e=10240){let t=0;return{read:()=>(0,T.A)(function*(){if(t<n.byteLength){const r={value:n.slice(t,t+e),done:!1};return t+=e,r}return{done:!0}})(),cancel:()=>(0,T.A)(function*(){})(),releaseLock(){},closed:Promise.resolve()}}class pI{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Ga(this.observer.next,e)}error(e){this.observer.error?this.Ga(this.observer.error,e):Mr("Uncaught Error in snapshot listener:",e.toString())}za(){this.muted=!0}Ga(e,t){this.muted||setTimeout(()=>{this.muted||e(t)},0)}}class Qie{constructor(e,t){this.ja=e,this.serializer=t,this.metadata=new ni,this.buffer=new Uint8Array,this.Ha=new TextDecoder("utf-8"),this.Ja().then(r=>{r&&r.ua()?this.metadata.resolve(r.aa.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(r?.aa)}`))},r=>this.metadata.reject(r))}close(){return this.ja.cancel()}getMetadata(){var e=this;return(0,T.A)(function*(){return e.metadata.promise})()}Ua(){var e=this;return(0,T.A)(function*(){return yield e.getMetadata(),e.Ja()})()}Ja(){var e=this;return(0,T.A)(function*(){const t=yield e.Ya();if(null===t)return null;const r=e.Ha.decode(t),i=Number(r);isNaN(i)&&e.Za(`length string (${r}) is not valid number`);const s=yield e.Xa(i);return new bie(JSON.parse(s),t.length+i)})()}eu(){return this.buffer.findIndex(e=>123===e)}Ya(){var e=this;return(0,T.A)(function*(){for(;e.eu()<0&&!(yield e.tu()););if(0===e.buffer.length)return null;const t=e.eu();t<0&&e.Za("Reached the end of bundle when a length string is expected.");const r=e.buffer.slice(0,t);return e.buffer=e.buffer.slice(t),r})()}Xa(e){var t=this;return(0,T.A)(function*(){for(;t.buffer.length<e;)(yield t.tu())&&t.Za("Reached the end of bundle when more is expected.");const r=t.Ha.decode(t.buffer.slice(0,e));return t.buffer=t.buffer.slice(e),r})()}Za(e){throw this.ja.cancel(),new Error(`Invalid bundle format: ${e}`)}tu(){var e=this;return(0,T.A)(function*(){const t=yield e.ja.read();if(!t.done){const r=new Uint8Array(e.buffer.length+t.value.length);r.set(e.buffer),r.set(t.value,e.buffer.length),e.buffer=r}return t.done})()}}class Yie{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastTransactionError=null,this.writtenDocs=new Set}lookup(e){var t=this;return(0,T.A)(function*(){if(t.ensureCommitNotCalled(),t.mutations.length>0)throw t.lastTransactionError=new me(re.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes."),t.lastTransactionError;const r=yield(i=(0,T.A)(function*(o,a){const l=Oe(o),c={documents:a.map(b=>Ay(l.serializer,b))},p=yield l.Lo("BatchGetDocuments",l.serializer.databaseId,Kt.emptyPath(),c,a.length),m=new Map;p.forEach(b=>{const C=function fre(n,e){return"found"in e?function(r,i){Qe(!!i.found);const s=Na(r,i.found.name),o=Nr(i.found.updateTime),a=i.found.createTime?Nr(i.found.createTime):Ze.min(),l=new Ti({mapValue:{fields:i.found.fields}});return Qn.newFoundDocument(s,o,a,l)}(n,e):"missing"in e?function(r,i){Qe(!!i.missing),Qe(!!i.readTime);const s=Na(r,i.missing),o=Nr(i.readTime);return Qn.newNoDocument(s,o)}(n,e):qe()}(l.serializer,b);m.set(C.key.toString(),C)});const w=[];return a.forEach(b=>{const C=m.get(b.toString());Qe(!!C),w.push(C)}),w}),function s(o,a){return i.apply(this,arguments)})(t.datastore,e);var i;return r.forEach(i=>t.recordVersion(i)),r})()}set(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(r){this.lastTransactionError=r}this.writtenDocs.add(e.toString())}delete(e){this.write(new op(e,this.precondition(e))),this.writtenDocs.add(e.toString())}commit(){var e=this;return(0,T.A)(function*(){if(e.ensureCommitNotCalled(),e.lastTransactionError)throw e.lastTransactionError;const t=e.readVersions;var r;e.mutations.forEach(r=>{t.delete(r.key.toString())}),t.forEach((r,i)=>{const s=Fe.fromPath(i);e.mutations.push(new ED(s,e.precondition(s)))}),yield(r=(0,T.A)(function*(s,o){const a=Oe(s),l={writes:o.map(c=>Ty(a.serializer,c))};yield a.Mo("Commit",a.serializer.databaseId,Kt.emptyPath(),l)}),function i(s,o){return r.apply(this,arguments)})(e.datastore,e.mutations),e.committed=!0})()}recordVersion(e){let t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw qe();t=Ze.min()}const r=this.readVersions.get(e.key.toString());if(r){if(!t.isEqual(r))throw new me(re.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}precondition(e){const t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?t.isEqual(Ze.min())?ar.exists(!1):ar.updateTime(t):ar.none()}preconditionForUpdate(e){const t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(Ze.min()))throw new me(re.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return ar.updateTime(t)}return ar.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}class Jie{constructor(e,t,r,i,s){this.asyncQueue=e,this.datastore=t,this.options=r,this.updateFunction=i,this.deferred=s,this.nu=r.maxAttempts,this.t_=new XD(this.asyncQueue,"transaction_retry")}ru(){this.nu-=1,this.iu()}iu(){var e=this;this.t_.Go((0,T.A)(function*(){const t=new Yie(e.datastore),r=e.su(t);r&&r.then(i=>{e.asyncQueue.enqueueAndForget(()=>t.commit().then(()=>{e.deferred.resolve(i)}).catch(s=>{e.ou(s)}))}).catch(i=>{e.ou(i)})}))}su(e){try{const t=this.updateFunction(e);return!ay(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.deferred.reject(t),null}}ou(e){this.nu>0&&this._u(e)?(this.nu-=1,this.asyncQueue.enqueueAndForget(()=>(this.iu(),Promise.resolve()))):this.deferred.reject(e)}_u(e){if("FirebaseError"===e.name){const t=e.code;return"aborted"===t||"failed-precondition"===t||"already-exists"===t||!AB(t)}return!1}}class Zie{constructor(e,t,r,i){var s=this;this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=i,this.user=hi.UNAUTHENTICATED,this.clientId=gU.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,function(){var o=(0,T.A)(function*(a){we("FirestoreClient","Received user=",a.uid),yield s.authCredentialListener(a),s.user=a});return function(a){return o.apply(this,arguments)}}()),this.appCheckCredentials.start(r,o=>(we("FirestoreClient","Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new me(re.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const t=new ni;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,T.A)(function*(){try{e._onlineComponents&&(yield e._onlineComponents.terminate()),e._offlineComponents&&(yield e._offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve()}catch(r){const i=vp(r,"Failed to shutdown persistence");t.reject(i)}})),t.promise}}function gI(n,e){return eR.apply(this,arguments)}function eR(){return eR=(0,T.A)(function*(n,e){n.asyncQueue.verifyOperationInProgress(),we("FirestoreClient","Initializing OfflineComponentProvider");const t=n.configuration;yield e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener(function(){var i=(0,T.A)(function*(s){r.isEqual(s)||(yield Tj(e.localStore,s),r=s)});return function(s){return i.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=e}),eR.apply(this,arguments)}function tR(n,e){return nR.apply(this,arguments)}function nR(){return(nR=(0,T.A)(function*(n,e){n.asyncQueue.verifyOperationInProgress();const t=yield rR(n);we("FirestoreClient","Initializing OnlineComponentProvider"),yield e.initialize(t,n.configuration),n.setCredentialChangeListener(r=>$j(e.remoteStore,r)),n.setAppCheckTokenChangeListener((r,i)=>$j(e.remoteStore,i)),n._onlineComponents=e})).apply(this,arguments)}function s$(n){return"FirebaseError"===n.name?n.code===re.FAILED_PRECONDITION||n.code===re.UNIMPLEMENTED:!(typeof DOMException<"u"&&n instanceof DOMException)||22===n.code||20===n.code||11===n.code}function rR(n){return iR.apply(this,arguments)}function iR(){return(iR=(0,T.A)(function*(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){we("FirestoreClient","Using user provided OfflineComponentProvider");try{yield gI(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!s$(t))throw t;Ss("Error using user provided cache. Falling back to memory cache: "+t),yield gI(n,new bp)}}else we("FirestoreClient","Using default OfflineComponentProvider"),yield gI(n,new bp);return n._offlineComponents})).apply(this,arguments)}function mI(n){return sR.apply(this,arguments)}function sR(){return(sR=(0,T.A)(function*(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(we("FirestoreClient","Using user provided OnlineComponentProvider"),yield tR(n,n._uninitializedComponentsProvider._online)):(we("FirestoreClient","Using default OnlineComponentProvider"),yield tR(n,new Ap))),n._onlineComponents})).apply(this,arguments)}function o$(n){return rR(n).then(e=>e.persistence)}function Tp(n){return rR(n).then(e=>e.localStore)}function a$(n){return mI(n).then(e=>e.remoteStore)}function oR(n){return mI(n).then(e=>e.syncEngine)}function Cp(n){return aR.apply(this,arguments)}function aR(){return(aR=(0,T.A)(function*(n){const e=yield mI(n),t=e.eventManager;return t.onListen=Sie.bind(null,e.syncEngine),t.onUnlisten=Pie.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=Rie.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=Mie.bind(null,e.syncEngine),t})).apply(this,arguments)}function u$(n,e,t={}){const r=new ni;return n.asyncQueue.enqueueAndForget((0,T.A)(function*(){return function(s,o,a,l,c){const p=new pI({next:w=>{o.enqueueAndForget(()=>ES(s,m));const b=w.docs.has(a);!b&&w.fromCache?c.reject(new me(re.UNAVAILABLE,"Failed to get document because the client is offline.")):b&&w.fromCache&&l&&"server"===l.source?c.reject(new me(re.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):c.resolve(w)},error:w=>c.reject(w)}),m=new TS(ep(a.path),p,{includeMetadataChanges:!0,_a:!0});return vS(s,m)}(yield Cp(n),n.asyncQueue,e,t,r)})),r.promise}function c$(n,e,t={}){const r=new ni;return n.asyncQueue.enqueueAndForget((0,T.A)(function*(){return function(s,o,a,l,c){const p=new pI({next:w=>{o.enqueueAndForget(()=>ES(s,m)),w.fromCache&&"server"===l.source?c.reject(new me(re.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):c.resolve(w)},error:w=>c.reject(w)}),m=new TS(a,p,{includeMetadataChanges:!0,_a:!0});return vS(s,m)}(yield Cp(n),n.asyncQueue,e,t,r)})),r.promise}function d$(n){const e={};return void 0!==n.timeoutSeconds&&(e.timeoutSeconds=n.timeoutSeconds),e}const h$=new Map;function lR(n,e,t){if(!t)throw new me(re.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function f$(n,e,t,r){if(!0===e&&!0===r)throw new me(re.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function p$(n){if(!Fe.isDocumentKey(n))throw new me(re.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function g$(n){if(Fe.isDocumentKey(n))throw new me(re.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function yI(n){if(void 0===n)return"undefined";if(null===n)return"null";if("string"==typeof n)return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if("number"==typeof n||"boolean"==typeof n)return""+n;if("object"==typeof n){if(n instanceof Array)return"an array";{const e=(r=n).constructor?r.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var r;return"function"==typeof n?"a function":qe()}function Ut(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new me(re.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=yI(n);throw new me(re.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}function m$(n,e){if(e<=0)throw new me(re.INVALID_ARGUMENT,`Function ${n}() requires a positive number, but it was: ${e}.`)}class y${constructor(e){var t,r;if(void 0===e.host){if(void 0!==e.ssl)throw new me(re.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new me(re.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}f$("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!(this.experimentalForceLongPolling||void 0!==e.experimentalAutoDetectLongPolling&&!e.experimentalAutoDetectLongPolling),this.experimentalLongPollingOptions=d$(null!==(r=e.experimentalLongPollingOptions)&&void 0!==r?r:{}),function(s){if(void 0!==s.timeoutSeconds){if(isNaN(s.timeoutSeconds))throw new me(re.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new me(re.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new me(re.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.experimentalLongPollingOptions.timeoutSeconds===e.experimentalLongPollingOptions.timeoutSeconds&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class ky{constructor(e,t,r,i){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new y$({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new me(re.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new me(re.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new y$(e),void 0!==e.credentials&&(this._authCredentials=function(r){if(!r)return new nne;switch(r.type){case"firstParty":return new one(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new me(re.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const r=h$.get(t);r&&(we("ComponentProvider","Removing Datastore"),h$.delete(t),r.terminate())}(this),Promise.resolve()}}function _$(n,e,t,r={}){var i;const s=(n=Ut(n,ky))._getSettings(),o=`${e}:${t}`;if("firestore.googleapis.com"!==s.host&&s.host!==o&&Ss("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),n._setSettings(Object.assign(Object.assign({},s),{host:o,ssl:!1})),r.mockUserToken){let a,l;if("string"==typeof r.mockUserToken)a=r.mockUserToken,l=hi.MOCK_USER;else{a=(0,un.Fy)(r.mockUserToken,null===(i=n._app)||void 0===i?void 0:i.options.projectId);const c=r.mockUserToken.sub||r.mockUserToken.user_id;if(!c)throw new me(re.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");l=new hi(c)}n._authCredentials=new rne(new fU(a,l))}}class Ci{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Ci(this.firestore,e,this._query)}}class Yn{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new xa(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Yn(this.firestore,e,this._key)}}class xa extends Ci{constructor(e,t,r){super(e,t,ep(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Yn(this.firestore,null,new Fe(e))}withConverter(e){return new xa(this.firestore,e,this._path)}}function v$(n,e,...t){if(n=(0,un.Ku)(n),lR("collection","path",e),n instanceof ky){const r=Kt.fromString(e,...t);return g$(r),new xa(n,null,r)}{if(!(n instanceof Yn||n instanceof xa))throw new me(re.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(Kt.fromString(e,...t));return g$(r),new xa(n.firestore,null,r)}}function _I(n,e,...t){if(n=(0,un.Ku)(n),1===arguments.length&&(e=gU.newId()),lR("doc","path",e),n instanceof ky){const r=Kt.fromString(e,...t);return p$(r),new Yn(n,null,new Fe(r))}{if(!(n instanceof Yn||n instanceof xa))throw new me(re.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(Kt.fromString(e,...t));return p$(r),new Yn(n.firestore,n instanceof xa?n.converter:null,new Fe(r))}}function w$(n,e){return n=(0,un.Ku)(n),e=(0,un.Ku)(e),(n instanceof Yn||n instanceof xa)&&(e instanceof Yn||e instanceof xa)&&n.firestore===e.firestore&&n.path===e.path&&n.converter===e.converter}function uR(n,e){return n=(0,un.Ku)(n),e=(0,un.Ku)(e),n instanceof Ci&&e instanceof Ci&&n.firestore===e.firestore&&gy(n._query,e._query)&&n.converter===e.converter}class dse{constructor(){this.au=Promise.resolve(),this.uu=[],this.cu=!1,this.lu=[],this.hu=null,this.Pu=!1,this.Iu=!1,this.Tu=[],this.t_=new XD(this,"async_queue_retry"),this.Eu=()=>{const t=cI();t&&we("AsyncQueue","Visibility state changed to "+t.visibilityState),this.t_.jo()};const e=cI();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Eu)}get isShuttingDown(){return this.cu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.du(),this.Au(e)}enterRestrictedMode(e){if(!this.cu){this.cu=!0,this.Iu=e||!1;const t=cI();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Eu)}}enqueue(e){if(this.du(),this.cu)return new Promise(()=>{});const t=new ni;return this.Au(()=>this.cu&&this.Iu?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.uu.push(e),this.Ru()))}Ru(){var e=this;return(0,T.A)(function*(){if(0!==e.uu.length){try{yield e.uu[0](),e.uu.shift(),e.t_.reset()}catch(t){if(!Lu(t))throw t;we("AsyncQueue","Operation failed with retryable error: "+t)}e.uu.length>0&&e.t_.Go(()=>e.Ru())}})()}Au(e){const t=this.au.then(()=>(this.Pu=!0,e().catch(r=>{throw this.hu=r,this.Pu=!1,Mr("INTERNAL UNHANDLED ERROR: ",function(o){let a=o.message||"";return o.stack&&(a=o.stack.includes(o.message)?o.stack:o.message+"\n"+o.stack),a}(r)),r}).then(r=>(this.Pu=!1,r))));return this.au=t,t}enqueueAfterDelay(e,t,r){this.du(),this.Tu.indexOf(e)>-1&&(t=0);const i=_S.createAndSchedule(this,e,t,r,s=>this.Vu(s));return this.lu.push(i),i}du(){this.hu&&qe()}verifyOperationInProgress(){}mu(){var e=this;return(0,T.A)(function*(){let t;do{t=e.au,yield t}while(t!==e.au)})()}fu(e){for(const t of this.lu)if(t.timerId===e)return!0;return!1}gu(e){return this.mu().then(()=>{this.lu.sort((t,r)=>t.targetTimeMs-r.targetTimeMs);for(const t of this.lu)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.mu()})}pu(e){this.Tu.push(e)}Vu(e){const t=this.lu.indexOf(e);this.lu.splice(t,1)}}function cR(n){return function(t,r){if("object"!=typeof t||null===t)return!1;const i=t;for(const s of["next","error","complete"])if(s in i&&"function"==typeof i[s])return!0;return!1}(n)}class hse{constructor(){this._progressObserver={},this._taskCompletionResolver=new ni,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,t,r){this._progressObserver={next:e,error:t,complete:r}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,t){return this._taskCompletionResolver.promise.then(e,t)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}class Sn extends ky{constructor(e,t,r,i){super(e,t,r,i),this.type="firestore",this._queue=new dse,this._persistenceKey=i?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||E$(this),this._firestoreClient.terminate()}}function pse(n,e){const t="object"==typeof n?n:(0,$o.getApp)(),r="string"==typeof n?n:e||"(default)",i=(0,$o._getProvider)(t,"firestore").getImmediate({identifier:r});if(!i._initialized){const s=(0,un.yU)("firestore");s&&_$(i,...s)}return i}function lr(n){return n._firestoreClient||E$(n),n._firestoreClient.verifyNotTerminated(),n._firestoreClient}function E$(n){var e,t,r;const i=n._freezeSettings(),s=(l=(null===(e=n._app)||void 0===e?void 0:e.options.appId)||"",new Vne(n._databaseId,l,n._persistenceKey,(p=i).host,p.ssl,p.experimentalForceLongPolling,p.experimentalAutoDetectLongPolling,d$(p.experimentalLongPollingOptions),p.useFetchStreams));var l,p;n._firestoreClient=new Zie(n._authCredentials,n._appCheckCredentials,n._queue,s),null!==(t=i.localCache)&&void 0!==t&&t._offlineComponentProvider&&null!==(r=i.localCache)&&void 0!==r&&r._onlineComponentProvider&&(n._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.localCache.kind,_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider})}function I$(n,e,t){const r=new ni;return n.asyncQueue.enqueue((0,T.A)(function*(){try{yield gI(n,t),yield tR(n,e),r.resolve()}catch(i){const s=i;if(!s$(s))throw s;Ss("Error enabling indexeddb cache. Falling back to memory cache: "+s),r.reject(s)}})).then(()=>r.promise)}function b$(n){if(n._initialized||n._terminated)throw new me(re.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class Oa{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Oa(vr.fromBase64String(e))}catch(t){throw new me(re.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new Oa(vr.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class xl{constructor(...e){for(let t=0;t<e.length;++t)if(0===e[t].length)throw new me(re.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Kn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Nd{constructor(e){this._methodName=e}}class vI{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new me(re.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new me(re.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Et(this._lat,e._lat)||Et(this._long,e._long)}}class wI{constructor(e){this._values=(e||[]).map(t=>t)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let s=0;s<r.length;++s)if(r[s]!==i[s])return!1;return!0}(this._values,e._values)}}const Ase=/^__.*__$/;class Tse{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return null!==this.fieldMask?new Pl(e,this.data,this.fieldMask,t,this.fieldTransforms):new sp(e,this.data,t,this.fieldTransforms)}}class A${constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return new Pl(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function T$(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw qe()}}class EI{constructor(e,t,r,i,s,o){this.settings=e,this.databaseId=t,this.serializer=r,this.ignoreUndefinedProperties=i,void 0===s&&this.yu(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get wu(){return this.settings.wu}Su(e){return new EI(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}bu(e){var t;const r=null===(t=this.path)||void 0===t?void 0:t.child(e),i=this.Su({path:r,Du:!1});return i.vu(e),i}Cu(e){var t;const r=null===(t=this.path)||void 0===t?void 0:t.child(e),i=this.Su({path:r,Du:!1});return i.yu(),i}Fu(e){return this.Su({path:void 0,Du:!0})}Mu(e){return AI(e,this.settings.methodName,this.settings.xu||!1,this.path,this.settings.Ou)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}yu(){if(this.path)for(let e=0;e<this.path.length;e++)this.vu(this.path.get(e))}vu(e){if(0===e.length)throw this.Mu("Document fields must not be empty");if(T$(this.wu)&&Ase.test(e))throw this.Mu('Document fields cannot begin and end with "__"')}}class Cse{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=r||xy(e)}Nu(e,t,r,i=!1){return new EI({wu:e,methodName:t,Ou:r,path:Kn.emptyPath(),Du:!1,xu:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function xd(n){const e=n._freezeSettings(),t=xy(n._databaseId);return new Cse(n._databaseId,!!e.ignoreUndefinedProperties,t)}function II(n,e,t,r,i,s={}){const o=n.Nu(s.merge||s.mergeFields?2:0,e,t,i);yR("Data must be an object, but it was:",o,r);const a=S$(r,o);let l,c;if(s.merge)l=new Rs(o.fieldMask),c=o.fieldTransforms;else if(s.mergeFields){const p=[];for(const m of s.mergeFields){const w=Ly(e,m,t);if(!o.contains(w))throw new me(re.INVALID_ARGUMENT,`Field '${w}' is specified in your field mask but missing from your input data.`);P$(p,w)||p.push(w)}l=new Rs(p),c=o.fieldTransforms.filter(m=>l.covers(m.field))}else l=null,c=o.fieldTransforms;return new Tse(new Ti(a),l,c)}class Vy extends Nd{_toFieldTransform(e){if(2!==e.wu)throw e.Mu(1===e.wu?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Vy}}function C$(n,e,t){return new EI({wu:3,Ou:e.settings.Ou,methodName:n._methodName,Du:t},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class dR extends Nd{_toFieldTransform(e){return new vy(e.path,new rp)}isEqual(e){return e instanceof dR}}class hR extends Nd{constructor(e,t){super(e),this.Lu=t}_toFieldTransform(e){const t=C$(this,e,!0),r=this.Lu.map(s=>Od(s,t)),i=new bd(r);return new vy(e.path,i)}isEqual(e){return e instanceof hR&&(0,un.bD)(this.Lu,e.Lu)}}class fR extends Nd{constructor(e,t){super(e),this.Lu=t}_toFieldTransform(e){const t=C$(this,e,!0),r=this.Lu.map(s=>Od(s,t)),i=new Ad(r);return new vy(e.path,i)}isEqual(e){return e instanceof fR&&(0,un.bD)(this.Lu,e.Lu)}}class pR extends Nd{constructor(e,t){super(e),this.Bu=t}_toFieldTransform(e){const t=new ip(e.serializer,hB(e.serializer,this.Bu));return new vy(e.path,t)}isEqual(e){return e instanceof pR&&this.Bu===e.Bu}}function gR(n,e,t,r){const i=n.Nu(1,e,t);yR("Data must be an object, but it was:",i,r);const s=[],o=Ti.empty();Uu(r,(l,c)=>{const p=bI(e,l,t);c=(0,un.Ku)(c);const m=i.Cu(p);if(c instanceof Vy)s.push(p);else{const w=Od(c,m);null!=w&&(s.push(p),o.set(p,w))}});const a=new Rs(s);return new A$(o,a,i.fieldTransforms)}function mR(n,e,t,r,i,s){const o=n.Nu(1,e,t),a=[Ly(e,r,t)],l=[i];if(s.length%2!=0)throw new me(re.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let w=0;w<s.length;w+=2)a.push(Ly(e,s[w])),l.push(s[w+1]);const c=[],p=Ti.empty();for(let w=a.length-1;w>=0;--w)if(!P$(c,a[w])){const b=a[w];let C=l[w];C=(0,un.Ku)(C);const S=o.Cu(b);if(C instanceof Vy)c.push(b);else{const P=Od(C,S);null!=P&&(c.push(b),p.set(b,P))}}const m=new Rs(c);return new A$(p,m,o.fieldTransforms)}function D$(n,e,t,r=!1){return Od(t,n.Nu(r?4:3,e))}function Od(n,e){if(R$(n=(0,un.Ku)(n)))return yR("Unsupported field value:",e,n),S$(n,e);if(n instanceof Nd)return function(r,i){if(!T$(i.wu))throw i.Mu(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Mu(`${r._methodName}() is not currently supported inside arrays`);const s=r._toFieldTransform(i);s&&i.fieldTransforms.push(s)}(n,e),null;if(void 0===n&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.Du&&4!==e.wu)throw e.Mu("Nested arrays are not supported");return function(r,i){const s=[];let o=0;for(const a of r){let l=Od(a,i.Fu(o));null==l&&(l={nullValue:"NULL_VALUE"}),s.push(l),o++}return{arrayValue:{values:s}}}(n,e)}return function(r,i){if(null===(r=(0,un.Ku)(r)))return{nullValue:"NULL_VALUE"};if("number"==typeof r)return hB(i.serializer,r);if("boolean"==typeof r)return{booleanValue:r};if("string"==typeof r)return{stringValue:r};if(r instanceof Date){const s=sr.fromDate(r);return{timestampValue:ap(i.serializer,s)}}if(r instanceof sr){const s=new sr(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:ap(i.serializer,s)}}if(r instanceof vI)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Oa)return{bytesValue:OB(i.serializer,r._byteString)};if(r instanceof Yn){const s=i.databaseId,o=r.firestore._databaseId;if(!o.isEqual(s))throw i.Mu(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:DD(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof wI)return a=i,{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:r.toArray().map(l=>{if("number"!=typeof l)throw a.Mu("VectorValues must only contain numeric values.");return wD(a.serializer,l)})}}}}};var a;throw i.Mu(`Unsupported field value: ${yI(r)}`)}(n,e)}function S$(n,e){const t={};return NU(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Uu(n,(r,i)=>{const s=Od(i,e.bu(r));null!=s&&(t[r]=s)}),{mapValue:{fields:t}}}function R$(n){return!("object"!=typeof n||null===n||n instanceof Array||n instanceof Date||n instanceof sr||n instanceof vI||n instanceof Oa||n instanceof Yn||n instanceof Nd||n instanceof wI)}function yR(n,e,t){if(!R$(t)||"object"!=typeof(i=t)||null===i||Object.getPrototypeOf(i)!==Object.prototype&&null!==Object.getPrototypeOf(i)){const r=yI(t);throw e.Mu("an object"===r?n+" a custom object":n+" "+r)}var i}function Ly(n,e,t){if((e=(0,un.Ku)(e))instanceof xl)return e._internalPath;if("string"==typeof e)return bI(n,e);throw AI("Field path arguments must be of type string or ",n,!1,void 0,t)}const Dse=new RegExp("[~\\*/\\[\\]]");function bI(n,e,t){if(e.search(Dse)>=0)throw AI(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new xl(...e.split("."))._internalPath}catch{throw AI(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function AI(n,e,t,r,i){const s=r&&!r.isEmpty(),o=void 0!==i;let a=`Function ${e}() called with invalid data`;t&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(s||o)&&(l+=" (found",s&&(l+=` in field ${r}`),o&&(l+=` in document ${i}`),l+=")"),new me(re.INVALID_ARGUMENT,a+n+l)}function P$(n,e){return n.some(t=>t.isEqual(e))}class Uy{constructor(e,t,r,i,s){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new Yn(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new Sse(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(TI("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class Sse extends Uy{data(){return super.data()}}function TI(n,e){return"string"==typeof e?bI(n,e):e instanceof xl?e._internalPath:e._delegate._internalPath}function M$(n){if("L"===n.limitType&&0===n.explicitOrderBy.length)throw new me(re.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class _R{}class By extends _R{}function Ju(n,e,...t){let r=[];e instanceof _R&&r.push(e),r=r.concat(t),function(s){const o=s.filter(l=>l instanceof Dp).length,a=s.filter(l=>l instanceof jy).length;if(o>1||o>0&&a>0)throw new me(re.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)n=i._apply(n);return n}class jy extends By{constructor(e,t,r){super(),this._field=e,this._op=t,this._value=r,this.type="where"}static _create(e,t,r){return new jy(e,t,r)}_apply(e){const t=this._parse(e);return k$(e._query,t),new Ci(e.firestore,e.converter,_D(e._query,t))}_parse(e){const t=xd(e.firestore);return function(s,o,a,l,c,p,m){let w;if(c.isKeyField()){if("array-contains"===p||"array-contains-any"===p)throw new me(re.INVALID_ARGUMENT,`Invalid Query. You can't perform '${p}' queries on documentId().`);if("in"===p||"not-in"===p){O$(m,p);const b=[];for(const C of m)b.push(x$(l,s,C));w={arrayValue:{values:b}}}else w=x$(l,s,m)}else"in"!==p&&"not-in"!==p&&"array-contains-any"!==p||O$(m,p),w=D$(a,"where",m,"in"===p||"not-in"===p);return Qt.create(c,p,w)}(e._query,0,t,e.firestore._databaseId,this._field,this._op,this._value)}}class Dp extends _R{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new Dp(e,t)}_parse(e){const t=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return 1===t.length?t[0]:In.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return 0===t.getFilters().length?e:(function(i,s){let o=i;const a=s.getFlattenedFilters();for(const l of a)k$(o,l),o=_D(o,l)}(e._query,t),new Ci(e.firestore,e.converter,_D(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}class vR extends By{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new vR(e,t)}_apply(e){const t=function(i,s,o){if(null!==i.startAt)throw new me(re.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==i.endAt)throw new me(re.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new fy(s,o)}(e._query,this._field,this._direction);return new Ci(e.firestore,e.converter,function(i,s){const o=i.explicitOrderBy.concat([s]);return new Sl(i.path,i.collectionGroup,o,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(e._query,t))}}class CI extends By{constructor(e,t,r){super(),this.type=e,this._limit=t,this._limitType=r}static _create(e,t,r){return new CI(e,t,r)}_apply(e){return new Ci(e.firestore,e.converter,zE(e._query,this._limit,this._limitType))}}class DI extends By{constructor(e,t,r){super(),this.type=e,this._docOrFields=t,this._inclusive=r}static _create(e,t,r){return new DI(e,t,r)}_apply(e){const t=N$(e,this.type,this._docOrFields,this._inclusive);return new Ci(e.firestore,e.converter,(s=t,new Sl((i=e._query).path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,s,i.endAt)));var i,s}}class SI extends By{constructor(e,t,r){super(),this.type=e,this._docOrFields=t,this._inclusive=r}static _create(e,t,r){return new SI(e,t,r)}_apply(e){const t=N$(e,this.type,this._docOrFields,this._inclusive);return new Ci(e.firestore,e.converter,(s=t,new Sl((i=e._query).path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,i.startAt,s)));var i,s}}function N$(n,e,t,r){if(t[0]=(0,un.Ku)(t[0]),t[0]instanceof Uy)return function(s,o,a,l,c){if(!l)throw new me(re.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${a}().`);const p=[];for(const m of tp(s))if(m.field.isKeyField())p.push(Ed(o,l.key));else{const w=l.data.field(m.field);if(kE(w))throw new me(re.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+m.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===w){const b=m.field.canonicalString();throw new me(re.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${b}' (used as the orderBy) does not exist.`)}p.push(w)}return new Hu(p,c)}(n._query,n.firestore._databaseId,e,t[0]._document,r);{const i=xd(n.firestore);return function(o,a,l,c,p,m){const w=o.explicitOrderBy;if(p.length>w.length)throw new me(re.INVALID_ARGUMENT,`Too many arguments provided to ${c}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const b=[];for(let C=0;C<p.length;C++){const S=p[C];if(w[C].field.isKeyField()){if("string"!=typeof S)throw new me(re.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${c}(), but got a ${typeof S}`);if(!yD(o)&&-1!==S.indexOf("/"))throw new me(re.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${c}() must be a plain document ID, but '${S}' contains a slash.`);const P=o.path.child(Kt.fromString(S));if(!Fe.isDocumentKey(P))throw new me(re.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${c}() must result in a valid document path, but '${P}' is not because it contains an odd number of segments.`);const L=new Fe(P);b.push(Ed(a,L))}else{const P=D$(l,c,S);b.push(P)}}return new Hu(b,m)}(n._query,n.firestore._databaseId,i,e,t,r)}}function x$(n,e,t){if("string"==typeof(t=(0,un.Ku)(t))){if(""===t)throw new me(re.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!yD(e)&&-1!==t.indexOf("/"))throw new me(re.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const r=e.path.child(Kt.fromString(t));if(!Fe.isDocumentKey(r))throw new me(re.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return Ed(n,new Fe(r))}if(t instanceof Yn)return Ed(n,t._key);throw new me(re.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${yI(t)}.`)}function O$(n,e){if(!Array.isArray(n)||0===n.length)throw new me(re.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function k$(n,e){const t=function(i,s){for(const o of i)for(const a of o.getFlattenedFilters())if(s.indexOf(a.op)>=0)return a.op;return null}(n.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(null!==t)throw new me(re.INVALID_ARGUMENT,t===e.op?`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`:`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}class wR{convertValue(e,t="none"){switch($u(e)){case 0:return null;case 1:return e.booleanValue;case 2:return or(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Dl(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw qe()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const r={};return Uu(e,(i,s)=>{r[i]=this.convertValue(s,t)}),r}convertVectorValue(e){var t,r,i;const s=null===(i=null===(r=null===(t=e.fields)||void 0===t?void 0:t.value.arrayValue)||void 0===r?void 0:r.values)||void 0===i?void 0:i.map(o=>or(o.doubleValue));return new wI(s)}convertGeoPoint(e){return new vI(or(e.latitude),or(e.longitude))}convertArray(e,t){return(e.values||[]).map(r=>this.convertValue(r,t))}convertServerTimestamp(e,t){switch(t){case"previous":const r=FE(e);return null==r?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(uy(e));default:return null}}convertTimestamp(e){const t=Cl(e);return new sr(t.seconds,t.nanos)}convertDocumentKey(e,t){const r=Kt.fromString(e);Qe(GB(r));const i=new Bu(r.get(1),r.get(3)),s=new Fe(r.popFirst(5));return i.isEqual(t)||Mr(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),s}}function RI(n,e,t){let r;return r=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,r}class Vse extends wR{constructor(e){super(),this.firestore=e}convertBytes(e){return new Oa(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Yn(this.firestore,null,t)}}class kd{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Ol extends Uy{constructor(e,t,r,i,s,o){super(e,t,r,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new $y(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const r=this._document.data.field(TI("DocumentSnapshot.get",e));if(null!==r)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}}class $y extends Ol{data(e={}){return super.data(e)}}class Zu{constructor(e,t,r,i){this._firestore=e,this._userDataWriter=t,this._snapshot=i,this.metadata=new kd(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(r=>{e.call(t,new $y(this._firestore,this._userDataWriter,r.key,r,new kd(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new me(re.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(i,s){if(i._snapshot.oldDocs.isEmpty()){let o=0;return i._snapshot.docChanges.map(a=>({type:"added",doc:new $y(i._firestore,i._userDataWriter,a.doc.key,a.doc,new kd(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter),oldIndex:-1,newIndex:o++}))}{let o=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(a=>s||3!==a.type).map(a=>{const l=new $y(i._firestore,i._userDataWriter,a.doc.key,a.doc,new kd(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);let c=-1,p=-1;return 0!==a.type&&(c=o.indexOf(a.doc.key),o=o.delete(a.doc.key)),1!==a.type&&(o=o.add(a.doc),p=o.indexOf(a.doc.key)),{type:Use(a.type),doc:l,oldIndex:c,newIndex:p}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function Use(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return qe()}}function V$(n,e){return n instanceof Ol&&e instanceof Ol?n._firestore===e._firestore&&n._key.isEqual(e._key)&&(null===n._document?null===e._document:n._document.isEqual(e._document))&&n._converter===e._converter:n instanceof Zu&&e instanceof Zu&&n._firestore===e._firestore&&uR(n.query,e.query)&&n.metadata.isEqual(e.metadata)&&n._snapshot.isEqual(e._snapshot)}class Xu extends wR{constructor(e){super(),this.firestore=e}convertBytes(e){return new Oa(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Yn(this.firestore,null,t)}}function L$(n,e,t){n=Ut(n,Yn);const r=Ut(n.firestore,Sn),i=RI(n.converter,e,t);return Sp(r,[II(xd(r),"setDoc",n._key,i,null!==n.converter,t).toMutation(n._key,ar.none())])}function U$(n,e,t,...r){n=Ut(n,Yn);const i=Ut(n.firestore,Sn),s=xd(i);let o;return o="string"==typeof(e=(0,un.Ku)(e))||e instanceof xl?mR(s,"updateDoc",n._key,e,t,r):gR(s,"updateDoc",n._key,e),Sp(i,[o.toMutation(n._key,ar.exists(!0))])}function B$(n,...e){var t,r,i;n=(0,un.Ku)(n);let s={includeMetadataChanges:!1,source:"default"},o=0;"object"!=typeof e[o]||cR(e[o])||(s=e[o],o++);const a={includeMetadataChanges:s.includeMetadataChanges,source:s.source};if(cR(e[o])){const m=e[o];e[o]=null===(t=m.next)||void 0===t?void 0:t.bind(m),e[o+1]=null===(r=m.error)||void 0===r?void 0:r.bind(m),e[o+2]=null===(i=m.complete)||void 0===i?void 0:i.bind(m)}let l,c,p;if(n instanceof Yn)c=Ut(n.firestore,Sn),p=ep(n._key.path),l={next:m=>{e[o]&&e[o](ER(c,n,m))},error:e[o+1],complete:e[o+2]};else{const m=Ut(n,Ci);c=Ut(m.firestore,Sn),p=m._query;const w=new Xu(c);l={next:b=>{e[o]&&e[o](new Zu(c,w,m,b))},error:e[o+1],complete:e[o+2]},M$(n._query)}return function(w,b,C,S){const P=new pI(S),L=new TS(b,P,C);return w.asyncQueue.enqueueAndForget((0,T.A)(function*(){return vS(yield Cp(w),L)})),()=>{P.za(),w.asyncQueue.enqueueAndForget((0,T.A)(function*(){return ES(yield Cp(w),L)}))}}(lr(c),p,a,l)}function Sp(n,e){return function(r,i){const s=new ni;return r.asyncQueue.enqueueAndForget((0,T.A)(function*(){return function Nie(n,e,t){return xS.apply(this,arguments)}(yield oR(r),i,s)})),s.promise}(lr(n),e)}function ER(n,e,t){const r=t.docs.get(e._key),i=new Xu(n);return new Ol(n,i,e._key,r,new kd(t.hasPendingWrites,t.fromCache),e.converter)}const roe={maxAttempts:5};class j${constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=xd(e)}set(e,t,r){this._verifyNotCommitted();const i=ec(e,this._firestore),s=RI(i.converter,t,r),o=II(this._dataReader,"WriteBatch.set",i._key,s,null!==i.converter,r);return this._mutations.push(o.toMutation(i._key,ar.none())),this}update(e,t,r,...i){this._verifyNotCommitted();const s=ec(e,this._firestore);let o;return o="string"==typeof(t=(0,un.Ku)(t))||t instanceof xl?mR(this._dataReader,"WriteBatch.update",s._key,t,r,i):gR(this._dataReader,"WriteBatch.update",s._key,t),this._mutations.push(o.toMutation(s._key,ar.exists(!0))),this}delete(e){this._verifyNotCommitted();const t=ec(e,this._firestore);return this._mutations=this._mutations.concat(new op(t._key,ar.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new me(re.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function ec(n,e){if((n=(0,un.Ku)(n)).firestore!==e)throw new me(re.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return n}class ioe extends class{constructor(t,r){this._firestore=t,this._transaction=r,this._dataReader=xd(t)}get(t){const r=ec(t,this._firestore),i=new Vse(this._firestore);return this._transaction.lookup([r._key]).then(s=>{if(!s||1!==s.length)return qe();const o=s[0];if(o.isFoundDocument())return new Uy(this._firestore,i,o.key,o,r.converter);if(o.isNoDocument())return new Uy(this._firestore,i,r._key,null,r.converter);throw qe()})}set(t,r,i){const s=ec(t,this._firestore),o=RI(s.converter,r,i),a=II(this._dataReader,"Transaction.set",s._key,o,null!==s.converter,i);return this._transaction.set(s._key,a),this}update(t,r,i,...s){const o=ec(t,this._firestore);let a;return a="string"==typeof(r=(0,un.Ku)(r))||r instanceof xl?mR(this._dataReader,"Transaction.update",o._key,r,i,s):gR(this._dataReader,"Transaction.update",o._key,r),this._transaction.update(o._key,a),this}delete(t){const r=ec(t,this._firestore);return this._transaction.delete(r._key),this}}{constructor(e,t){super(e,t),this._firestore=e}get(e){const t=ec(e,this._firestore),r=new Xu(this._firestore);return super.get(e).then(i=>new Ol(this._firestore,r,t._key,i._document,new kd(!1,!1),t.converter))}}function bR(n,e){if(void 0===e)return{merge:!1};if(void 0!==e.mergeFields&&void 0!==e.merge)throw new me("invalid-argument",`Invalid options passed to function ${n}(): You cannot specify both "merge" and "mergeFields".`);return e}function q$(){if(typeof Uint8Array>"u")throw new me("unimplemented","Uint8Arrays are not available in this environment.")}function G$(){if(!function kne(){return typeof atob<"u"}())throw new me("unimplemented","Blobs are unavailable in Firestore in this environment.")}!function(e,t=!0){Gf=$o.SDK_VERSION,(0,$o._registerComponent)(new nU.uA("firestore",(r,{instanceIdentifier:i,options:s})=>{const o=r.getProvider("app").getImmediate(),a=new Sn(new ine(r.getProvider("auth-internal")),new ane(r.getProvider("app-check-internal")),function(c,p){if(!Object.prototype.hasOwnProperty.apply(c.options,["projectId"]))throw new me(re.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Bu(c.options.projectId,p)}(o,i),o);return s=Object.assign({useFetchStreams:t},s),a._setSettings(s),a},"PUBLIC").setMultipleInstances(!0)),(0,$o.registerVersion)(hU,"4.7.2",e),(0,$o.registerVersion)(hU,"4.7.2","esm2017")}();class zy{constructor(e){this._delegate=e}static fromBase64String(e){return G$(),new zy(Oa.fromBase64String(e))}static fromUint8Array(e){return q$(),new zy(Oa.fromUint8Array(e))}toBase64(){return G$(),this._delegate.toBase64()}toUint8Array(){return q$(),this._delegate.toUint8Array()}isEqual(e){return this._delegate.isEqual(e._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function AR(n){return function poe(n,e){if("object"!=typeof n||null===n)return!1;const t=n;for(const r of e)if(r in t&&"function"==typeof t[r])return!0;return!1}(n,["next","error","complete"])}class goe{enableIndexedDbPersistence(e,t){return function gse(n,e){b$(n=Ut(n,Sn));const t=lr(n);if(t._uninitializedComponentsProvider)throw new me(re.FAILED_PRECONDITION,"SDK cache is already specified.");Ss("enableIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const r=n._freezeSettings(),i=new Ap;return I$(t,i,new XS(i,r.cacheSizeBytes,e?.forceOwnership))}(e._delegate,{forceOwnership:t})}enableMultiTabIndexedDbPersistence(e){return function mse(n){b$(n=Ut(n,Sn));const e=lr(n);if(e._uninitializedComponentsProvider)throw new me(re.FAILED_PRECONDITION,"SDK cache is already specified.");Ss("enableMultiTabIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const t=n._freezeSettings(),r=new Ap;return I$(e,r,new r$(r,t.cacheSizeBytes))}(e._delegate)}clearIndexedDbPersistence(e){return function yse(n){if(n._initialized&&!n._terminated)throw new me(re.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const e=new ni;return n._queue.enqueueAndForgetEvenWhileRestricted((0,T.A)(function*(){try{yield(t=(0,T.A)(function*(i){if(!Sa.D())return Promise.resolve();const s=i+"main";yield Sa.delete(s)}),function r(i){return t.apply(this,arguments)})($D(n._databaseId,n._persistenceKey)),e.resolve()}catch(t){e.reject(t)}var t})),e.promise}(e._delegate)}}class W${constructor(e,t,r){this._delegate=t,this._persistenceProvider=r,this.INTERNAL={delete:()=>this.terminate()},e instanceof Bu||(this._appCompat=e)}get _databaseId(){return this._delegate._databaseId}settings(e){const t=this._delegate._getSettings();!e.merge&&t.host!==e.host&&Ss("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)}useEmulator(e,t,r={}){_$(this._delegate,e,t,r)}enableNetwork(){return function vse(n){return function Xie(n){return n.asyncQueue.enqueue((0,T.A)(function*(){const e=yield o$(n),t=yield a$(n);return e.setNetworkEnabled(!0),function(i){const s=Oe(i);return s.L_.delete(0),Oy(s)}(t)}))}(lr(n=Ut(n,Sn)))}(this._delegate)}disableNetwork(){return function wse(n){return function ese(n){return n.asyncQueue.enqueue((0,T.A)(function*(){const e=yield o$(n),t=yield a$(n);return e.setNetworkEnabled(!1),(r=(0,T.A)(function*(s){const o=Oe(s);o.L_.add(0),yield gp(o),o.q_.set("Offline")}),function i(s){return r.apply(this,arguments)})(t);var r}))}(lr(n=Ut(n,Sn)))}(this._delegate)}enablePersistence(e){let t=!1,r=!1;return e&&(t=!!e.synchronizeTabs,r=!!e.experimentalForceOwningTab,f$("synchronizeTabs",t,"experimentalForceOwningTab",r)),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,r)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return function _se(n){return function(t){const r=new ni;return t.asyncQueue.enqueueAndForget((0,T.A)(function*(){return function Fie(n,e){return LS.apply(this,arguments)}(yield oR(t),r)})),r.promise}(lr(n=Ut(n,Sn)))}(this._delegate)}onSnapshotsInSync(e){return function Kse(n,e){return function ise(n,e){const t=new pI(e);return n.asyncQueue.enqueueAndForget((0,T.A)(function*(){return i=yield Cp(n),s=t,Oe(i).Y_.add(s),void s.next();var i,s})),()=>{t.za(),n.asyncQueue.enqueueAndForget((0,T.A)(function*(){return i=yield Cp(n),s=t,void Oe(i).Y_.delete(s);var i,s}))}}(lr(n=Ut(n,Sn)),cR(e)?e:{next:e})}(this._delegate,e)}get app(){if(!this._appCompat)throw new me("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(e){try{return new Rp(this,v$(this._delegate,e))}catch(t){throw ls(t,"collection()","Firestore.collection()")}}doc(e){try{return new wo(this,_I(this._delegate,e))}catch(t){throw ls(t,"doc()","Firestore.doc()")}}collectionGroup(e){try{return new us(this,function cse(n,e){if(n=Ut(n,ky),lR("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new me(re.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new Ci(n,null,(r=e,new Sl(Kt.emptyPath(),r)));var r}(this._delegate,e))}catch(t){throw ls(t,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(e){return function soe(n,e,t){n=Ut(n,Sn);const r=Object.assign(Object.assign({},roe),t);return function(s){if(s.maxAttempts<1)throw new me(re.INVALID_ARGUMENT,"Max attempts must be at least 1")}(r),function(s,o,a){const l=new ni;return s.asyncQueue.enqueueAndForget((0,T.A)(function*(){const c=yield function l$(n){return mI(n).then(e=>e.datastore)}(s);new Jie(s.asyncQueue,c,a,o,l).ru()})),l.promise}(lr(n),i=>e(new ioe(n,i)),r)}(this._delegate,t=>e(new K$(this,t)))}batch(){return lr(this._delegate),new Q$(new j$(this._delegate,e=>Sp(this._delegate,e)))}loadBundle(e){return function Ese(n,e){const t=lr(n=Ut(n,Sn)),r=new hse;return function sse(n,e,t,r){const i=function(o,a){let l;return l="string"==typeof o?CB().encode(o):o,p=function(p,m){if(p instanceof Uint8Array)return i$(p,m);if(p instanceof ArrayBuffer)return i$(new Uint8Array(p),m);if(p instanceof ReadableStream)return p.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(l),new Qie(p,a);var p}(t,xy(e));n.asyncQueue.enqueueAndForget((0,T.A)(function*(){!function Wie(n,e,t){const r=Oe(n);var i;(i=(0,T.A)(function*(o,a,l){try{const c=yield a.getMetadata();if(yield function(C,S){const P=Oe(C),L=Nr(S.createTime);return P.persistence.runTransaction("hasNewerBundle","readonly",j=>P.Gr.getBundleMetadata(j,S.id)).then(j=>!!j&&j.createTime.compareTo(L)>=0)}(o.localStore,c))return yield a.close(),l._completeWith({taskState:"Success",documentsLoaded:(C=c).totalDocuments,bytesLoaded:C.totalBytes,totalDocuments:C.totalDocuments,totalBytes:C.totalBytes}),Promise.resolve(new Set);l._updateProgress(Wj(c));const p=new Aie(c,o.localStore,a.serializer);let m=yield a.Ua();for(;m;){const b=yield p.la(m);b&&l._updateProgress(b),m=yield a.Ua()}const w=yield p.complete();return yield Nl(o,w.Ia,void 0),yield function(C,S){const P=Oe(C);return P.persistence.runTransaction("Save bundle","readwrite",L=>P.Gr.saveBundleMetadata(L,S))}(o.localStore,c),l._completeWith(w.progress),Promise.resolve(w.Pa)}catch(c){return Ss("SyncEngine",`Loading bundle failed with ${c}`),l._failWith(c),Promise.resolve(new Set)}var C}),function s(o,a,l){return i.apply(this,arguments)})(r,e,t).then(i=>{r.sharedClientState.notifyBundleLoaded(i)})}(yield oR(n),i,r)}))}(t,n._databaseId,e,r),r}(this._delegate,e)}namedQuery(e){return function Ise(n,e){return function ose(n,e){return n.asyncQueue.enqueue((0,T.A)(function*(){return function(r,i){const s=Oe(r);return s.persistence.runTransaction("Get named query","readonly",o=>s.Gr.getNamedQuery(o,i))}(yield Tp(n),e)}))}(lr(n=Ut(n,Sn)),e).then(t=>t?new Ci(n,null,t.query):null)}(this._delegate,e).then(t=>t?new us(this,t):null)}}class MI extends wR{constructor(e){super(),this.firestore=e}convertBytes(e){return new zy(new Oa(e))}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return wo.forKey(t,this.firestore,null)}}class K${constructor(e,t){this._firestore=e,this._delegate=t,this._userDataWriter=new MI(e)}get(e){const t=Vd(e);return this._delegate.get(t).then(r=>new Hy(this._firestore,new Ol(this._firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,t.converter)))}set(e,t,r){const i=Vd(e);return r?(bR("Transaction.set",r),this._delegate.set(i,t,r)):this._delegate.set(i,t),this}update(e,t,r,...i){const s=Vd(e);return 2===arguments.length?this._delegate.update(s,t):this._delegate.update(s,t,r,...i),this}delete(e){const t=Vd(e);return this._delegate.delete(t),this}}class Q${constructor(e){this._delegate=e}set(e,t,r){const i=Vd(e);return r?(bR("WriteBatch.set",r),this._delegate.set(i,t,r)):this._delegate.set(i,t),this}update(e,t,r,...i){const s=Vd(e);return 2===arguments.length?this._delegate.update(s,t):this._delegate.update(s,t,r,...i),this}delete(e){const t=Vd(e);return this._delegate.delete(t),this}commit(){return this._delegate.commit()}}class Fd{constructor(e,t,r){this._firestore=e,this._userDataWriter=t,this._delegate=r}fromFirestore(e,t){const r=new $y(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new qy(this._firestore,r),t??{})}toFirestore(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}static getInstance(e,t){const r=Fd.INSTANCES;let i=r.get(e);i||(i=new WeakMap,r.set(e,i));let s=i.get(t);return s||(s=new Fd(e,new MI(e),t),i.set(t,s)),s}}Fd.INSTANCES=new WeakMap;class wo{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new MI(e)}static forPath(e,t,r){if(e.length%2!=0)throw new me("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${e.canonicalString()} has ${e.length}`);return new wo(t,new Yn(t._delegate,r,new Fe(e)))}static forKey(e,t,r){return new wo(t,new Yn(t._delegate,r,e))}get id(){return this._delegate.id}get parent(){return new Rp(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(e){try{return new Rp(this.firestore,v$(this._delegate,e))}catch(t){throw ls(t,"collection()","DocumentReference.collection()")}}isEqual(e){return(e=(0,un.Ku)(e))instanceof Yn&&w$(this._delegate,e)}set(e,t){t=bR("DocumentReference.set",t);try{return t?L$(this._delegate,e,t):L$(this._delegate,e)}catch(r){throw ls(r,"setDoc()","DocumentReference.set()")}}update(e,t,...r){try{return 1===arguments.length?U$(this._delegate,e):U$(this._delegate,e,t,...r)}catch(i){throw ls(i,"updateDoc()","DocumentReference.update()")}}delete(){return function Gse(n){return Sp(Ut(n.firestore,Sn),[new op(n._key,ar.none())])}(this._delegate)}onSnapshot(...e){const t=Y$(e),r=J$(e,i=>new Hy(this.firestore,new Ol(this.firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,this._delegate.converter)));return B$(this._delegate,t,r)}get(e){let t;return t="cache"===e?.source?function jse(n){n=Ut(n,Yn);const e=Ut(n.firestore,Sn),t=lr(e),r=new Xu(e);return function tse(n,e){const t=new ni;return n.asyncQueue.enqueueAndForget((0,T.A)(function*(){return(r=(0,T.A)(function*(s,o,a){try{const l=yield function(p,m){const w=Oe(p);return w.persistence.runTransaction("read document","readonly",b=>w.localDocuments.getDocument(b,m))}(s,o);l.isFoundDocument()?a.resolve(l):l.isNoDocument()?a.resolve(null):a.reject(new me(re.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(l){const c=vp(l,`Failed to get document '${o} from cache`);a.reject(c)}}),function i(s,o,a){return r.apply(this,arguments)})(yield Tp(n),e,t);var r})),t.promise}(t,n._key).then(i=>new Ol(e,r,n._key,i,new kd(null!==i&&i.hasLocalMutations,!0),n.converter))}(this._delegate):"server"===e?.source?function $se(n){n=Ut(n,Yn);const e=Ut(n.firestore,Sn);return u$(lr(e),n._key,{source:"server"}).then(t=>ER(e,n,t))}(this._delegate):function Bse(n){n=Ut(n,Yn);const e=Ut(n.firestore,Sn);return u$(lr(e),n._key).then(t=>ER(e,n,t))}(this._delegate),t.then(r=>new Hy(this.firestore,new Ol(this.firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,this._delegate.converter)))}withConverter(e){return new wo(this.firestore,this._delegate.withConverter(e?Fd.getInstance(this.firestore,e):null))}}function ls(n,e,t){return n.message=n.message.replace(e,t),n}function Y$(n){for(const e of n)if("object"==typeof e&&!AR(e))return e;return{}}function J$(n,e){var t,r;let i;return i=AR(n[0])?n[0]:AR(n[1])?n[1]:"function"==typeof n[0]?{next:n[0],error:n[1],complete:n[2]}:{next:n[1],error:n[2],complete:n[3]},{next:s=>{i.next&&i.next(e(s))},error:null===(t=i.error)||void 0===t?void 0:t.bind(i),complete:null===(r=i.complete)||void 0===r?void 0:r.bind(i)}}class Hy{constructor(e,t){this._firestore=e,this._delegate=t}get ref(){return new wo(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(e){return this._delegate.data(e)}get(e,t){return this._delegate.get(e,t)}isEqual(e){return V$(this._delegate,e._delegate)}}class qy extends Hy{data(e){const t=this._delegate.data(e);return this._delegate._converter||function tne(n,e){n||qe()}(void 0!==t),t}}class us{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new MI(e)}where(e,t,r){try{return new us(this.firestore,Ju(this._delegate,function Rse(n,e,t){const r=e,i=TI("where",n);return jy._create(i,r,t)}(e,t,r)))}catch(i){throw ls(i,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(e,t){try{return new us(this.firestore,Ju(this._delegate,function Pse(n,e="asc"){const t=e,r=TI("orderBy",n);return vR._create(r,t)}(e,t)))}catch(r){throw ls(r,/(orderBy|where)\(\)/,"Query.$1()")}}limit(e){try{return new us(this.firestore,Ju(this._delegate,function Mse(n){return m$("limit",n),CI._create("limit",n,"F")}(e)))}catch(t){throw ls(t,"limit()","Query.limit()")}}limitToLast(e){try{return new us(this.firestore,Ju(this._delegate,function Nse(n){return m$("limitToLast",n),CI._create("limitToLast",n,"L")}(e)))}catch(t){throw ls(t,"limitToLast()","Query.limitToLast()")}}startAt(...e){try{return new us(this.firestore,Ju(this._delegate,function xse(...n){return DI._create("startAt",n,!0)}(...e)))}catch(t){throw ls(t,"startAt()","Query.startAt()")}}startAfter(...e){try{return new us(this.firestore,Ju(this._delegate,function Ose(...n){return DI._create("startAfter",n,!1)}(...e)))}catch(t){throw ls(t,"startAfter()","Query.startAfter()")}}endBefore(...e){try{return new us(this.firestore,Ju(this._delegate,function kse(...n){return SI._create("endBefore",n,!1)}(...e)))}catch(t){throw ls(t,"endBefore()","Query.endBefore()")}}endAt(...e){try{return new us(this.firestore,Ju(this._delegate,function Fse(...n){return SI._create("endAt",n,!0)}(...e)))}catch(t){throw ls(t,"endAt()","Query.endAt()")}}isEqual(e){return uR(this._delegate,e._delegate)}get(e){let t;return t="cache"===e?.source?function Hse(n){n=Ut(n,Ci);const e=Ut(n.firestore,Sn),t=lr(e),r=new Xu(e);return function nse(n,e){const t=new ni;return n.asyncQueue.enqueueAndForget((0,T.A)(function*(){return(r=(0,T.A)(function*(s,o,a){try{const l=yield oI(s,o,!0),c=new Yj(o,l.Ts),p=c.ma(l.documents),m=c.applyChanges(p,!1);a.resolve(m.snapshot)}catch(l){const c=vp(l,`Failed to execute query '${o} against cache`);a.reject(c)}}),function i(s,o,a){return r.apply(this,arguments)})(yield Tp(n),e,t);var r})),t.promise}(t,n._query).then(i=>new Zu(e,r,n,i))}(this._delegate):"server"===e?.source?function qse(n){n=Ut(n,Ci);const e=Ut(n.firestore,Sn),t=lr(e),r=new Xu(e);return c$(t,n._query,{source:"server"}).then(i=>new Zu(e,r,n,i))}(this._delegate):function zse(n){n=Ut(n,Ci);const e=Ut(n.firestore,Sn),t=lr(e),r=new Xu(e);return M$(n._query),c$(t,n._query).then(i=>new Zu(e,r,n,i))}(this._delegate),t.then(r=>new TR(this.firestore,new Zu(this.firestore._delegate,this._userDataWriter,this._delegate,r._snapshot)))}onSnapshot(...e){const t=Y$(e),r=J$(e,i=>new TR(this.firestore,new Zu(this.firestore._delegate,this._userDataWriter,this._delegate,i._snapshot)));return B$(this._delegate,t,r)}withConverter(e){return new us(this.firestore,this._delegate.withConverter(e?Fd.getInstance(this.firestore,e):null))}}class yoe{constructor(e,t){this._firestore=e,this._delegate=t}get type(){return this._delegate.type}get doc(){return new qy(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class TR{constructor(e,t){this._firestore=e,this._delegate=t}get query(){return new us(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(e=>new qy(this._firestore,e))}docChanges(e){return this._delegate.docChanges(e).map(t=>new yoe(this._firestore,t))}forEach(e,t){this._delegate.forEach(r=>{e.call(t,new qy(this._firestore,r))})}isEqual(e){return V$(this._delegate,e._delegate)}}class Rp extends us{constructor(e,t){super(e,t),this.firestore=e,this._delegate=t}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const e=this._delegate.parent;return e?new wo(this.firestore,e):null}doc(e){try{return new wo(this.firestore,void 0===e?_I(this._delegate):_I(this._delegate,e))}catch(t){throw ls(t,"doc()","CollectionReference.doc()")}}add(e){return function Wse(n,e){const t=Ut(n.firestore,Sn),r=_I(n),i=RI(n.converter,e);return Sp(t,[II(xd(n.firestore),"addDoc",r._key,i,null!==n.converter,{}).toMutation(r._key,ar.exists(!1))]).then(()=>r)}(this._delegate,e).then(t=>new wo(this.firestore,t))}isEqual(e){return w$(this._delegate,e._delegate)}withConverter(e){return new Rp(this.firestore,this._delegate.withConverter(e?Fd.getInstance(this.firestore,e):null))}}function Vd(n){return Ut(n,Yn)}class CR{constructor(...e){this._delegate=new xl(...e)}static documentId(){return new CR(Kn.keyField().canonicalString())}isEqual(e){return(e=(0,un.Ku)(e))instanceof xl&&this._delegate._internalPath.isEqual(e._internalPath)}}class Ld{constructor(e){this._delegate=e}static serverTimestamp(){const e=function aoe(){return new dR("serverTimestamp")}();return e._methodName="FieldValue.serverTimestamp",new Ld(e)}static delete(){const e=function ooe(){return new Vy("deleteField")}();return e._methodName="FieldValue.delete",new Ld(e)}static arrayUnion(...e){const t=function loe(...n){return new hR("arrayUnion",n)}(...e);return t._methodName="FieldValue.arrayUnion",new Ld(t)}static arrayRemove(...e){const t=function uoe(...n){return new fR("arrayRemove",n)}(...e);return t._methodName="FieldValue.arrayRemove",new Ld(t)}static increment(e){const t=function coe(n){return new pR("increment",n)}(e);return t._methodName="FieldValue.increment",new Ld(t)}isEqual(e){return this._delegate.isEqual(e._delegate)}}const _oe={Firestore:W$,GeoPoint:vI,Timestamp:sr,Blob:zy,Transaction:K$,WriteBatch:Q$,DocumentReference:wo,DocumentSnapshot:Hy,Query:us,QueryDocumentSnapshot:qy,QuerySnapshot:TR,CollectionReference:Rp,FieldPath:CR,FieldValue:Ld,setLogLevel:function moe(n){!function ene(n){Fu.setLogLevel(n)}(n)},CACHE_SIZE_UNLIMITED:-1};function Z$(n,e){return function Eoe(n,e=V2){return new Ht(t=>{let r;return null!=e?e.schedule(()=>{r=n.onSnapshot({includeMetadataChanges:!0},t)}):r=n.onSnapshot({includeMetadataChanges:!0},t),()=>{r?.()}})}(n,e)}function DR(n,e){return Z$(n,e).pipe(je(t=>({payload:t,type:"query"})))}!function woe(n){(function voe(n,e){n.INTERNAL.registerComponent(new nU.uA("firestore-compat",t=>{const r=t.getProvider("app-compat").getImmediate(),i=t.getProvider("firestore").getImmediate();return e(r,i)},"PUBLIC").setServiceProps(Object.assign({},_oe)))})(n,(e,t)=>new W$(e,t,new goe)),n.registerVersion("@firebase/firestore-compat","0.3.37")}(ku.A);class X${ref;afs;constructor(e,t){this.ref=e,this.afs=t}set(e,t){return this.ref.set(e,t)}update(e){return this.ref.update(e)}delete(){return this.ref.delete()}collection(e,t){const r=this.ref.collection(e),{ref:i,query:s}=sz(r,t);return new nz(i,s,this.afs)}snapshotChanges(){return function Ioe(n,e){return Z$(n,e).pipe(Jw(void 0),nD(),je(t=>{const[r,i]=t;return i.exists?r?.exists?{payload:i,type:"modified"}:{payload:i,type:"added"}:{payload:i,type:"removed"}}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(Ks)}valueChanges(e={}){return this.snapshotChanges().pipe(je(({payload:t})=>e.idField?{...t.data(),[e.idField]:t.id}:t.data()))}get(e){return jn(this.ref.get(e)).pipe(Ks)}}function NI(n,e){return DR(n,e).pipe(Jw(void 0),nD(),je(t=>{const[r,i]=t,s=i.payload.docChanges(),o=s.map(a=>({type:a.type,payload:a}));return r&&JSON.stringify(r.payload.metadata)!==JSON.stringify(i.payload.metadata)&&i.payload.docs.forEach((a,l)=>{const c=s.find(m=>m.doc.ref.isEqual(a.ref)),p=r?.payload.docs.find(m=>m.ref.isEqual(a.ref));c&&JSON.stringify(c.doc.metadata)===JSON.stringify(a.metadata)||!c&&p&&JSON.stringify(p.metadata)===JSON.stringify(a.metadata)||o.push({type:"modified",payload:{oldIndex:l,newIndex:l,type:"modified",doc:a}})}),o}))}function ez(n,e,t){return NI(n,t).pipe(Xw((r,i)=>function boe(n,e,t){return e.forEach(r=>{t.indexOf(r.type)>-1&&(n=function Aoe(n,e){switch(e.type){case"added":if(!n[e.newIndex]||!n[e.newIndex].doc.ref.isEqual(e.doc.ref))return SR(n,e.newIndex,0,e);break;case"modified":if(null==n[e.oldIndex]||n[e.oldIndex].doc.ref.isEqual(e.doc.ref)){if(e.oldIndex!==e.newIndex){const t=n.slice();return t.splice(e.oldIndex,1),t.splice(e.newIndex,0,e),t}return SR(n,e.newIndex,1,e)}break;case"removed":if(n[e.oldIndex]&&n[e.oldIndex].doc.ref.isEqual(e.doc.ref))return SR(n,e.oldIndex,1)}return n}(n,r))}),n}(r,i.map(s=>s.payload),e),[]),function Zte(n,e=Lr){return n=n??Xte,H((t,r)=>{let i,s=!0;t.subscribe(Se(r,o=>{const a=e(o);(s||!n(i,a))&&(s=!1,i=a,r.next(o))}))})}(),je(r=>r.map(i=>({type:i.type,payload:i}))))}function SR(n,e,t,...r){const i=n.slice();return i.splice(e,t,...r),i}function tz(n){return(!n||0===n.length)&&(n=["added","removed","modified"]),n}class nz{ref;query;afs;constructor(e,t,r){this.ref=e,this.query=t,this.afs=r}stateChanges(e){let t=NI(this.query,this.afs.schedulers.outsideAngular);return e&&e.length>0&&(t=t.pipe(je(r=>r.filter(i=>e.indexOf(i.type)>-1)))),t.pipe(Jw(void 0),nD(),_o(([r,i])=>i.length>0||!r),je(([,r])=>r),Ks)}auditTrail(e){return this.stateChanges(e).pipe(Xw((t,r)=>[...t,...r],[]))}snapshotChanges(e){const t=tz(e);return ez(this.query,t,this.afs.schedulers.outsideAngular).pipe(Ks)}valueChanges(e={}){return DR(this.query,this.afs.schedulers.outsideAngular).pipe(je(t=>t.payload.docs.map(r=>e.idField?{...r.data(),[e.idField]:r.id}:r.data())),Ks)}get(e){return jn(this.query.get(e)).pipe(Ks)}add(e){return this.ref.add(e)}doc(e){return new X$(this.ref.doc(e),this.afs)}}class Toe{query;afs;constructor(e,t){this.query=e,this.afs=t}stateChanges(e){return e&&0!==e.length?NI(this.query,this.afs.schedulers.outsideAngular).pipe(je(t=>t.filter(r=>e.indexOf(r.type)>-1)),_o(t=>t.length>0),Ks):NI(this.query,this.afs.schedulers.outsideAngular).pipe(Ks)}auditTrail(e){return this.stateChanges(e).pipe(Xw((t,r)=>[...t,...r],[]))}snapshotChanges(e){const t=tz(e);return ez(this.query,t,this.afs.schedulers.outsideAngular).pipe(Ks)}valueChanges(e={}){return DR(this.query,this.afs.schedulers.outsideAngular).pipe(je(r=>r.payload.docs.map(i=>e.idField?{[e.idField]:i.id,...i.data()}:i.data())),Ks)}get(e){return jn(this.query.get(e)).pipe(Ks)}}const rz=new Ee("angularfire2.enableFirestorePersistence"),iz=new Ee("angularfire2.firestore.persistenceSettings"),Coe=new Ee("angularfire2.firestore.settings"),Doe=new Ee("angularfire2.firestore.use-emulator");function sz(n,e=(t=>t)){return{query:e(n),ref:n}}let oz=(()=>{class n{schedulers;firestore;persistenceEnabled$;constructor(t,r,i,s,o,a,l,c,p,m,w,b,C,S,P,L,j){this.schedulers=l;const G=eD(t,a,r),ue=p;m&&eU(G,a,w,C,S,P,b,L),[this.firestore,this.persistenceEnabled$]=H2(`${G.name}.firestore`,"AngularFirestore",G.name,()=>{const Te=a.runOutsideAngular(()=>G.firestore());if(s&&Te.settings(s),ue&&Te.useEmulator(...ue),i&&!Nw(o)){const Me=()=>{try{return jn(Te.enablePersistence(c||void 0).then(()=>!0,()=>!1))}catch(V){return typeof console<"u"&&console.warn(V),lt(!1)}};return[Te,a.runOutsideAngular(Me)]}return[Te,lt(!1)]},[s,ue,i])}collection(t,r){let i;i="string"==typeof t?this.firestore.collection(t):t;const{ref:s,query:o}=sz(i,r),a=this.schedulers.ngZone.run(()=>s);return new nz(a,o,this)}collectionGroup(t,r){const i=r||(o=>o),s=this.firestore.collectionGroup(t);return new Toe(i(s),this)}doc(t){let r;r="string"==typeof t?this.firestore.doc(t):t;const i=this.schedulers.ngZone.run(()=>r);return new X$(i,this)}createId(){return this.firestore.collection("_").doc().id}static \u0275fac=function(r){return new(r||n)(ve(SE),ve(RE,8),ve(rz,8),ve(Coe,8),ve(No),ve(Jt),ve(j2),ve(iz,8),ve(Doe,8),ve(tU,8),ve(K2,8),ve(Q2,8),ve(Y2,8),ve(J2,8),ve(Z2,8),ve(X2,8),ve(U2,8))};static \u0275prov=Ue({token:n,factory:n.\u0275fac,providedIn:"any"})}return n})(),Soe=(()=>{class n{constructor(){ku.A.registerVersion("angularfire",XC.full,"fst-compat")}static enablePersistence(t){return{ngModule:n,providers:[{provide:rz,useValue:!0},{provide:iz,useValue:t}]}}static \u0275fac=function(r){return new(r||n)};static \u0275mod=Tr({type:n});static \u0275inj=Qr({providers:[oz]})}return n})(),Roe=(()=>{class n{constructor(t,r){this.formBuilder=t,this.firestore=r,this.contactForm=this.formBuilder.group({name:["",$f.required],subject:["",$f.required],email:["",[$f.required,$f.email]],phone:["",[$f.pattern(/^\+?\d*$/)]],description:["",$f.required]})}submitForm(){if(this.contactForm.valid){const t=this.contactForm.value,r={name:t.name,subject:t.subject,email:t.email,phone:Number(t.phone),description:t.description};this.firestore.collection("contacts").add(r).then(()=>{console.log("Data saved successfully!"),Tte().fire({position:"center",icon:"success",title:"Hi "+t.name+" Your work has been saved",showConfirmButton:!1,timer:1500}),this.contactForm.reset()}).catch(i=>{console.error("Error saving data: ",i)})}else console.log("Invalid form")}static#e=this.\u0275fac=function(r){return new(r||n)(be(Ete),be(oz))};static#t=this.\u0275cmp=Mi({type:n,selectors:[["app-contact"]],decls:44,vars:1,consts:[[1,"title"],["id","contact",1,"contact-me"],[1,"form-container"],[3,"formGroup"],[1,"form-group"],["for","name"],["type","text","formControlName","name","name","name","required",""],["for","subject"],["type","text","formControlName","subject","name","subject","required",""],["for","email"],["type","email","formControlName","email","name","email","required",""],["for","phone"],["type","phone","formControlName","phone","name","phone","required",""],["for","message"],["formControlName","description","name","description","required",""],["type","submit",3,"click"],[1,"details-container"],[1,"contact-info"],[1,"contact-item"],["href","tel:+919092850954",1,"contact-link"],[1,"fas","fa-phone","white-icon"],["href","mailto:kavinkumar025@gmail.com",1,"contact-link"],[1,"fas","fa-envelope","white-icon"]],template:function(r,i){1&r&&(On(0,"br"),_e(1,"h2",0),Ie(2,"Contact Me"),ge(),_e(3,"section",1)(4,"div",2)(5,"p"),Ie(6,"Feel free to reach out to me anytime you have a query or require support."),ge(),_e(7,"form",3)(8,"div",4)(9,"label",5),Ie(10,"Name"),ge(),On(11,"input",6),ge(),_e(12,"div",4)(13,"label",7),Ie(14,"Subject"),ge(),On(15,"input",8),ge(),_e(16,"div",4)(17,"label",9),Ie(18,"E-mail"),ge(),On(19,"input",10),ge(),_e(20,"div",4)(21,"label",11),Ie(22,"phone"),ge(),On(23,"input",12),ge(),_e(24,"div",4)(25,"label",13),Ie(26,"Your Message"),ge(),On(27,"textarea",14),ge(),_e(28,"button",15),Hr("click",function(){return i.submitForm()}),Ie(29,"Submit"),ge()()(),_e(30,"div",16)(31,"div",17)(32,"div",18)(33,"a",19),On(34,"i",20),ge(),_e(35,"p"),Ie(36,"+91 9092850954"),ge()(),_e(37,"div",18)(38,"a",21),On(39,"i",22),ge(),_e(40,"p"),Ie(41,"kavinkumar025@gmail.com"),ge()()()(),On(42,"br"),ge(),On(43,"br")),2&r&&(pa(7),id("formGroup",i.contactForm))},dependencies:[g2,pE,e2,t2,CE,TE,QC],styles:[".contact-me[_ngcontent-%COMP%]{display:flex;max-width:1000px;margin:0 auto}.form-container[_ngcontent-%COMP%]{flex:1;padding:40px;background-color:#f9f9f9;border-radius:10px 0 0 10px;box-shadow:0 2px 4px #0000001a}.form-container[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:28px;color:#007bff;margin-bottom:10px}.form-container[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:16px;color:#555;margin-bottom:30px}form[_ngcontent-%COMP%]{display:flex;flex-direction:column}.form-group[_ngcontent-%COMP%]{margin-bottom:20px}label[_ngcontent-%COMP%]{font-weight:700;font-size:16px;margin-bottom:5px;color:#333}input[_ngcontent-%COMP%], textarea[_ngcontent-%COMP%]{width:100%;padding:12px;border:2px solid #ddd;border-radius:6px;font-size:16px;background-color:#f9f9f9;transition:border-color .2s ease-in-out}input[_ngcontent-%COMP%]:focus, textarea[_ngcontent-%COMP%]:focus{outline:none;border-color:#007bff}button[_ngcontent-%COMP%]{background-color:#007bff;color:#fff;border:none;padding:12px 24px;border-radius:6px;cursor:pointer;font-size:18px;font-weight:700;transition:background-color .2s ease-in-out}button[_ngcontent-%COMP%]:hover{background-color:#0056b3}.details-container[_ngcontent-%COMP%]{flex:1;padding:40px;background-color:#007bff;color:#fff;border-radius:0 10px 10px 0;box-shadow:0 2px 4px #0000001a;display:flex;justify-content:space-between;align-items:center;position:relative}.contact-info[_ngcontent-%COMP%]{display:flex;flex-direction:column}.contact-item[_ngcontent-%COMP%]{display:flex;align-items:center;margin-bottom:15px}.contact-item[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:24px;margin-right:10px}.contact-item[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:18px}.contact-item[_ngcontent-%COMP%]:hover{opacity:.8;transform:scale(1.1)}.contact-image[_ngcontent-%COMP%]{position:absolute;right:40px;bottom:40px;opacity:0;transform:translateY(20px);transition:opacity .2s ease-in-out,transform .2s ease-in-out}.contact-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:200px;height:auto;border-radius:50%;box-shadow:0 2px 4px #0003}.details-container[_ngcontent-%COMP%]:hover   .contact-image[_ngcontent-%COMP%]{opacity:1;transform:translateY(0)}.form-container[_ngcontent-%COMP%]{animation:fadeInDown 1s}button[type=submit][_ngcontent-%COMP%]{transition:background-color .3s ease}button[type=submit][_ngcontent-%COMP%]:hover{background-color:#ff5722}h2[_ngcontent-%COMP%]{text-align:center}.title[_ngcontent-%COMP%]{text-align:center;margin-bottom:30px;font-size:36px;color:#333;text-transform:uppercase}@media (max-width: 767px){.contact-me[_ngcontent-%COMP%]{flex-direction:column}.form-container[_ngcontent-%COMP%], .details-container[_ngcontent-%COMP%]{border-radius:10px}.details-container[_ngcontent-%COMP%], .contact-info[_ngcontent-%COMP%]{margin-top:20px}.contact-image[_ngcontent-%COMP%]{position:static;margin-top:20px}}attractive-phone[_ngcontent-%COMP%]{font-size:36px;color:#007bff;background-color:#f2f2f2;border-radius:50%;padding:10px;box-shadow:0 0 10px #0003;transition:transform .2s ease-in-out}attractive-phone[_ngcontent-%COMP%]:hover{transform:scale(1.1)}.white-icon[_ngcontent-%COMP%]{color:#fff}"]})}return n})();function Poe(n,e){if(1&n){const t=function e1(){return oe()}();_e(0,"button",1),Hr("click",function(){return function H_(n){return gt.lFrame.contextLView=n,n[Nn]}(t),function bh(n){return gt.lFrame.contextLView=null,n}(O1().scrollToTop())}),On(1,"i",2),ge()}}let Moe=(()=>{class n{constructor(){this.showScrollButton=!0}onWindowScroll(){this.showScrollButton=window.scrollY>20}scrollToTop(){window.scrollTo({top:0,behavior:"smooth"})}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275cmp=Mi({type:n,selectors:[["app-scroll"]],hostBindings:function(r,i){1&r&&Hr("scroll",function(){return i.onWindowScroll()},0,Av)},decls:1,vars:1,consts:[["class","scroll-to-top-btn",3,"click",4,"ngIf"],[1,"scroll-to-top-btn",3,"click"],[1,"arrow-up"]],template:function(r,i){1&r&&Qh(0,Poe,2,0,"button",0),2&r&&id("ngIf",i.showScrollButton)},dependencies:[Jk],styles:[".scroll-to-top-btn[_ngcontent-%COMP%]{position:fixed;bottom:20px;right:30px;width:40px;height:40px;background-color:#007bff;color:#fff;border:none;border-radius:50%;cursor:pointer}.scroll-to-top-btn[_ngcontent-%COMP%]:hover{background-color:#0056b3}.scroll-to-top-btn[_ngcontent-%COMP%]   i.arrow-up[_ngcontent-%COMP%]{font-size:18px;position:absolute;inset:40% 50% 50% 35%;transform:translate(-60%,-60%);border:solid #fff;border-width:0 2px 2px 0;padding:5px;transform:rotate(-135deg)}"]})}return n})();const Noe=[{path:"",component:(()=>{class n{constructor(t,r){this.router=t,this.titleService=r,this.sections=[{id:"introduction",title:"Introduction"},{id:"about",title:"About Me"},{id:"experience",title:"Experience"},{id:"skill",title:"Skills"},{id:"education",title:"Education"},{id:"contact",title:"Contact"}]}onWindowScroll(){let t="";for(let r of this.sections){const i=document.getElementById(r.id);if(i){const s=i.getBoundingClientRect();if(s.top>=0&&s.top<=window.innerHeight/2){t=r.id,this.titleService.setTitle(r.title),this.router.navigate([],{fragment:t});break}}}}onRightClick(t){t.preventDefault(),console.log("Right-click is Disabled !")}static#e=this.\u0275fac=function(r){return new(r||n)(be(vo),be(AF))};static#t=this.\u0275cmp=Mi({type:n,selectors:[["app-profile"]],hostBindings:function(r,i){1&r&&Hr("scroll",function(o){return i.onWindowScroll(o)},0,Av)},decls:9,vars:0,consts:[[1,"page-content",3,"contextmenu"],["id","introduction"],["id","about"],["id","experience"],["id","skill"],["id","education"],["id","contact"],["id","scroll"]],template:function(r,i){1&r&&(On(0,"app-header"),_e(1,"div",0),Hr("contextmenu",function(o){return i.onRightClick(o)}),On(2,"app-introduction",1)(3,"app-about",2)(4,"app-experience",3)(5,"app-skill",4)(6,"app-education",5)(7,"app-contact",6)(8,"app-scroll",7),ge())},dependencies:[Eee,Iee,Aee,Tee,Cee,Dee,Roe,Moe],styles:[".row[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-weight:700px;color:#000}.card-body[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{padding-left:20px}li[_ngcontent-%COMP%]{padding-top:5px}"]})}return n})()}];let xoe=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275mod=Tr({type:n});static#n=this.\u0275inj=Qr({imports:[DL.forRoot(Noe),DL]})}return n})(),Ooe=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275cmp=Mi({type:n,selectors:[["app-root"]],decls:1,vars:0,template:function(r,i){1&r&&On(0,"router-outlet")},dependencies:[EC],encapsulation:2})}return n})();class xI{}class OI{}class Eo{constructor(e){this.normalizedNames=new Map,this.lazyUpdate=null,e?"string"==typeof e?this.lazyInit=()=>{this.headers=new Map,e.split("\n").forEach(t=>{const r=t.indexOf(":");if(r>0){const i=t.slice(0,r),s=i.toLowerCase(),o=t.slice(r+1).trim();this.maybeSetNormalizedName(i,s),this.headers.has(s)?this.headers.get(s).push(o):this.headers.set(s,[o])}})}:typeof Headers<"u"&&e instanceof Headers?(this.headers=new Map,e.forEach((t,r)=>{this.setHeaderEntries(r,t)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(e).forEach(([t,r])=>{this.setHeaderEntries(t,r)})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();const t=this.headers.get(e.toLowerCase());return t&&t.length>0?t[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,t){return this.clone({name:e,value:t,op:"a"})}set(e,t){return this.clone({name:e,value:t,op:"s"})}delete(e,t){return this.clone({name:e,value:t,op:"d"})}maybeSetNormalizedName(e,t){this.normalizedNames.has(t)||this.normalizedNames.set(t,e)}init(){this.lazyInit&&(this.lazyInit instanceof Eo?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(t=>{this.headers.set(t,e.headers.get(t)),this.normalizedNames.set(t,e.normalizedNames.get(t))})}clone(e){const t=new Eo;return t.lazyInit=this.lazyInit&&this.lazyInit instanceof Eo?this.lazyInit:this,t.lazyUpdate=(this.lazyUpdate||[]).concat([e]),t}applyUpdate(e){const t=e.name.toLowerCase();switch(e.op){case"a":case"s":let r=e.value;if("string"==typeof r&&(r=[r]),0===r.length)return;this.maybeSetNormalizedName(e.name,t);const i=("a"===e.op?this.headers.get(t):void 0)||[];i.push(...r),this.headers.set(t,i);break;case"d":const s=e.value;if(s){let o=this.headers.get(t);if(!o)return;o=o.filter(a=>-1===s.indexOf(a)),0===o.length?(this.headers.delete(t),this.normalizedNames.delete(t)):this.headers.set(t,o)}else this.headers.delete(t),this.normalizedNames.delete(t)}}setHeaderEntries(e,t){const r=(Array.isArray(t)?t:[t]).map(s=>s.toString()),i=e.toLowerCase();this.headers.set(i,r),this.maybeSetNormalizedName(e,i)}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(t=>e(this.normalizedNames.get(t),this.headers.get(t)))}}class koe{encodeKey(e){return az(e)}encodeValue(e){return az(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}}const Voe=/%(\d[a-f0-9])/gi,Loe={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function az(n){return encodeURIComponent(n).replace(Voe,(e,t)=>Loe[t]??e)}function kI(n){return`${n}`}class tc{constructor(e={}){if(this.updates=null,this.cloneFrom=null,this.encoder=e.encoder||new koe,e.fromString){if(e.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function Foe(n,e){const t=new Map;return n.length>0&&n.replace(/^\?/,"").split("&").forEach(i=>{const s=i.indexOf("="),[o,a]=-1==s?[e.decodeKey(i),""]:[e.decodeKey(i.slice(0,s)),e.decodeValue(i.slice(s+1))],l=t.get(o)||[];l.push(a),t.set(o,l)}),t}(e.fromString,this.encoder)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach(t=>{const r=e.fromObject[t],i=Array.isArray(r)?r.map(kI):[kI(r)];this.map.set(t,i)})):this.map=null}has(e){return this.init(),this.map.has(e)}get(e){this.init();const t=this.map.get(e);return t?t[0]:null}getAll(e){return this.init(),this.map.get(e)||null}keys(){return this.init(),Array.from(this.map.keys())}append(e,t){return this.clone({param:e,value:t,op:"a"})}appendAll(e){const t=[];return Object.keys(e).forEach(r=>{const i=e[r];Array.isArray(i)?i.forEach(s=>{t.push({param:r,value:s,op:"a"})}):t.push({param:r,value:i,op:"a"})}),this.clone(t)}set(e,t){return this.clone({param:e,value:t,op:"s"})}delete(e,t){return this.clone({param:e,value:t,op:"d"})}toString(){return this.init(),this.keys().map(e=>{const t=this.encoder.encodeKey(e);return this.map.get(e).map(r=>t+"="+this.encoder.encodeValue(r)).join("&")}).filter(e=>""!==e).join("&")}clone(e){const t=new tc({encoder:this.encoder});return t.cloneFrom=this.cloneFrom||this,t.updates=(this.updates||[]).concat(e),t}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(e=>this.map.set(e,this.cloneFrom.map.get(e))),this.updates.forEach(e=>{switch(e.op){case"a":case"s":const t=("a"===e.op?this.map.get(e.param):void 0)||[];t.push(kI(e.value)),this.map.set(e.param,t);break;case"d":if(void 0===e.value){this.map.delete(e.param);break}{let r=this.map.get(e.param)||[];const i=r.indexOf(kI(e.value));-1!==i&&r.splice(i,1),r.length>0?this.map.set(e.param,r):this.map.delete(e.param)}}}),this.cloneFrom=this.updates=null)}}class Uoe{constructor(){this.map=new Map}set(e,t){return this.map.set(e,t),this}get(e){return this.map.has(e)||this.map.set(e,e.defaultValue()),this.map.get(e)}delete(e){return this.map.delete(e),this}has(e){return this.map.has(e)}keys(){return this.map.keys()}}function lz(n){return typeof ArrayBuffer<"u"&&n instanceof ArrayBuffer}function uz(n){return typeof Blob<"u"&&n instanceof Blob}function cz(n){return typeof FormData<"u"&&n instanceof FormData}class Gy{constructor(e,t,r,i){let s;if(this.url=t,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=e.toUpperCase(),function Boe(n){switch(n){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||i?(this.body=void 0!==r?r:null,s=i):s=r,s&&(this.reportProgress=!!s.reportProgress,this.withCredentials=!!s.withCredentials,s.responseType&&(this.responseType=s.responseType),s.headers&&(this.headers=s.headers),s.context&&(this.context=s.context),s.params&&(this.params=s.params),this.transferCache=s.transferCache),this.headers??=new Eo,this.context??=new Uoe,this.params){const o=this.params.toString();if(0===o.length)this.urlWithParams=t;else{const a=t.indexOf("?");this.urlWithParams=t+(-1===a?"?":a<t.length-1?"&":"")+o}}else this.params=new tc,this.urlWithParams=t}serializeBody(){return null===this.body?null:"string"==typeof this.body||lz(this.body)||uz(this.body)||cz(this.body)||function joe(n){return typeof URLSearchParams<"u"&&n instanceof URLSearchParams}(this.body)?this.body:this.body instanceof tc?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||cz(this.body)?null:uz(this.body)?this.body.type||null:lz(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof tc?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(e={}){const t=e.method||this.method,r=e.url||this.url,i=e.responseType||this.responseType,s=e.transferCache??this.transferCache,o=void 0!==e.body?e.body:this.body,a=e.withCredentials??this.withCredentials,l=e.reportProgress??this.reportProgress;let c=e.headers||this.headers,p=e.params||this.params;const m=e.context??this.context;return void 0!==e.setHeaders&&(c=Object.keys(e.setHeaders).reduce((w,b)=>w.set(b,e.setHeaders[b]),c)),e.setParams&&(p=Object.keys(e.setParams).reduce((w,b)=>w.set(b,e.setParams[b]),p)),new Gy(t,r,o,{params:p,headers:c,context:m,reportProgress:l,responseType:i,withCredentials:a,transferCache:s})}}var nc=function(n){return n[n.Sent=0]="Sent",n[n.UploadProgress=1]="UploadProgress",n[n.ResponseHeader=2]="ResponseHeader",n[n.DownloadProgress=3]="DownloadProgress",n[n.Response=4]="Response",n[n.User=5]="User",n}(nc||{});class RR{constructor(e,t=Wy.Ok,r="OK"){this.headers=e.headers||new Eo,this.status=void 0!==e.status?e.status:t,this.statusText=e.statusText||r,this.url=e.url||null,this.ok=this.status>=200&&this.status<300}}class FI extends RR{constructor(e={}){super(e),this.type=nc.ResponseHeader}clone(e={}){return new FI({headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}class Ud extends RR{constructor(e={}){super(e),this.type=nc.Response,this.body=void 0!==e.body?e.body:null}clone(e={}){return new Ud({body:void 0!==e.body?e.body:this.body,headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}class Pp extends RR{constructor(e){super(e,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${e.url||"(unknown url)"}`:`Http failure response for ${e.url||"(unknown url)"}: ${e.status} ${e.statusText}`,this.error=e.error||null}}var Wy=function(n){return n[n.Continue=100]="Continue",n[n.SwitchingProtocols=101]="SwitchingProtocols",n[n.Processing=102]="Processing",n[n.EarlyHints=103]="EarlyHints",n[n.Ok=200]="Ok",n[n.Created=201]="Created",n[n.Accepted=202]="Accepted",n[n.NonAuthoritativeInformation=203]="NonAuthoritativeInformation",n[n.NoContent=204]="NoContent",n[n.ResetContent=205]="ResetContent",n[n.PartialContent=206]="PartialContent",n[n.MultiStatus=207]="MultiStatus",n[n.AlreadyReported=208]="AlreadyReported",n[n.ImUsed=226]="ImUsed",n[n.MultipleChoices=300]="MultipleChoices",n[n.MovedPermanently=301]="MovedPermanently",n[n.Found=302]="Found",n[n.SeeOther=303]="SeeOther",n[n.NotModified=304]="NotModified",n[n.UseProxy=305]="UseProxy",n[n.Unused=306]="Unused",n[n.TemporaryRedirect=307]="TemporaryRedirect",n[n.PermanentRedirect=308]="PermanentRedirect",n[n.BadRequest=400]="BadRequest",n[n.Unauthorized=401]="Unauthorized",n[n.PaymentRequired=402]="PaymentRequired",n[n.Forbidden=403]="Forbidden",n[n.NotFound=404]="NotFound",n[n.MethodNotAllowed=405]="MethodNotAllowed",n[n.NotAcceptable=406]="NotAcceptable",n[n.ProxyAuthenticationRequired=407]="ProxyAuthenticationRequired",n[n.RequestTimeout=408]="RequestTimeout",n[n.Conflict=409]="Conflict",n[n.Gone=410]="Gone",n[n.LengthRequired=411]="LengthRequired",n[n.PreconditionFailed=412]="PreconditionFailed",n[n.PayloadTooLarge=413]="PayloadTooLarge",n[n.UriTooLong=414]="UriTooLong",n[n.UnsupportedMediaType=415]="UnsupportedMediaType",n[n.RangeNotSatisfiable=416]="RangeNotSatisfiable",n[n.ExpectationFailed=417]="ExpectationFailed",n[n.ImATeapot=418]="ImATeapot",n[n.MisdirectedRequest=421]="MisdirectedRequest",n[n.UnprocessableEntity=422]="UnprocessableEntity",n[n.Locked=423]="Locked",n[n.FailedDependency=424]="FailedDependency",n[n.TooEarly=425]="TooEarly",n[n.UpgradeRequired=426]="UpgradeRequired",n[n.PreconditionRequired=428]="PreconditionRequired",n[n.TooManyRequests=429]="TooManyRequests",n[n.RequestHeaderFieldsTooLarge=431]="RequestHeaderFieldsTooLarge",n[n.UnavailableForLegalReasons=451]="UnavailableForLegalReasons",n[n.InternalServerError=500]="InternalServerError",n[n.NotImplemented=501]="NotImplemented",n[n.BadGateway=502]="BadGateway",n[n.ServiceUnavailable=503]="ServiceUnavailable",n[n.GatewayTimeout=504]="GatewayTimeout",n[n.HttpVersionNotSupported=505]="HttpVersionNotSupported",n[n.VariantAlsoNegotiates=506]="VariantAlsoNegotiates",n[n.InsufficientStorage=507]="InsufficientStorage",n[n.LoopDetected=508]="LoopDetected",n[n.NotExtended=510]="NotExtended",n[n.NetworkAuthenticationRequired=511]="NetworkAuthenticationRequired",n}(Wy||{});function PR(n,e){return{body:e,headers:n.headers,context:n.context,observe:n.observe,params:n.params,reportProgress:n.reportProgress,responseType:n.responseType,withCredentials:n.withCredentials,transferCache:n.transferCache}}let $oe=(()=>{class n{constructor(t){this.handler=t}request(t,r,i={}){let s;if(t instanceof Gy)s=t;else{let l,c;l=i.headers instanceof Eo?i.headers:new Eo(i.headers),i.params&&(c=i.params instanceof tc?i.params:new tc({fromObject:i.params})),s=new Gy(t,r,void 0!==i.body?i.body:null,{headers:l,context:i.context,params:c,reportProgress:i.reportProgress,responseType:i.responseType||"json",withCredentials:i.withCredentials,transferCache:i.transferCache})}const o=lt(s).pipe(Df(l=>this.handler.handle(l)));if(t instanceof Gy||"events"===i.observe)return o;const a=o.pipe(_o(l=>l instanceof Ud));switch(i.observe||"body"){case"body":switch(s.responseType){case"arraybuffer":return a.pipe(je(l=>{if(null!==l.body&&!(l.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return l.body}));case"blob":return a.pipe(je(l=>{if(null!==l.body&&!(l.body instanceof Blob))throw new Error("Response is not a Blob.");return l.body}));case"text":return a.pipe(je(l=>{if(null!==l.body&&"string"!=typeof l.body)throw new Error("Response is not a string.");return l.body}));default:return a.pipe(je(l=>l.body))}case"response":return a;default:throw new Error(`Unreachable: unhandled observe type ${i.observe}}`)}}delete(t,r={}){return this.request("DELETE",t,r)}get(t,r={}){return this.request("GET",t,r)}head(t,r={}){return this.request("HEAD",t,r)}jsonp(t,r){return this.request("JSONP",t,{params:(new tc).append(r,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(t,r={}){return this.request("OPTIONS",t,r)}patch(t,r,i={}){return this.request("PATCH",t,PR(i,r))}post(t,r,i={}){return this.request("POST",t,PR(i,r))}put(t,r,i={}){return this.request("PUT",t,PR(i,r))}static#e=this.\u0275fac=function(r){return new(r||n)(ve(xI))};static#t=this.\u0275prov=Ue({token:n,factory:n.\u0275fac})}return n})();function hz(n,e){return e(n)}function Woe(n,e){return(t,r)=>e.intercept(t,{handle:i=>n(i,r)})}const Qoe=new Ee(""),Ky=new Ee(""),fz=new Ee(""),pz=new Ee("");function Yoe(){let n=null;return(e,t)=>{null===n&&(n=(ye(Qoe,{optional:!0})??[]).reduceRight(Woe,hz));const r=ye(Iu),i=r.add();return n(e,t).pipe(Fm(()=>r.remove(i)))}}let gz=(()=>{class n extends xI{constructor(t,r){super(),this.backend=t,this.injector=r,this.chain=null,this.pendingTasks=ye(Iu);const i=ye(pz,{optional:!0});this.backend=i??t}handle(t){if(null===this.chain){const i=Array.from(new Set([...this.injector.get(Ky),...this.injector.get(fz,[])]));this.chain=i.reduceRight((s,o)=>function Koe(n,e,t){return(r,i)=>oo(t,()=>e(r,s=>n(s,i)))}(s,o,this.injector),hz)}const r=this.pendingTasks.add();return this.chain(t,i=>this.backend.handle(i)).pipe(Fm(()=>this.pendingTasks.remove(r)))}static#e=this.\u0275fac=function(r){return new(r||n)(ve(OI),ve(Yr))};static#t=this.\u0275prov=Ue({token:n,factory:n.\u0275fac})}return n})();const tae=/^\)\]\}',?\n/;let yz=(()=>{class n{constructor(t){this.xhrFactory=t}handle(t){if("JSONP"===t.method)throw new J(-2800,!1);const r=this.xhrFactory;return(r.\u0275loadImpl?jn(r.\u0275loadImpl()):lt(null)).pipe(ti(()=>new Ht(s=>{const o=r.build();if(o.open(t.method,t.urlWithParams),t.withCredentials&&(o.withCredentials=!0),t.headers.forEach((S,P)=>o.setRequestHeader(S,P.join(","))),t.headers.has("Accept")||o.setRequestHeader("Accept","application/json, text/plain, */*"),!t.headers.has("Content-Type")){const S=t.detectContentTypeHeader();null!==S&&o.setRequestHeader("Content-Type",S)}if(t.responseType){const S=t.responseType.toLowerCase();o.responseType="json"!==S?S:"text"}const a=t.serializeBody();let l=null;const c=()=>{if(null!==l)return l;const S=o.statusText||"OK",P=new Eo(o.getAllResponseHeaders()),L=function nae(n){return"responseURL"in n&&n.responseURL?n.responseURL:/^X-Request-URL:/m.test(n.getAllResponseHeaders())?n.getResponseHeader("X-Request-URL"):null}(o)||t.url;return l=new FI({headers:P,status:o.status,statusText:S,url:L}),l},p=()=>{let{headers:S,status:P,statusText:L,url:j}=c(),G=null;P!==Wy.NoContent&&(G=typeof o.response>"u"?o.responseText:o.response),0===P&&(P=G?Wy.Ok:0);let ue=P>=200&&P<300;if("json"===t.responseType&&"string"==typeof G){const Te=G;G=G.replace(tae,"");try{G=""!==G?JSON.parse(G):null}catch(Me){G=Te,ue&&(ue=!1,G={error:Me,text:G})}}ue?(s.next(new Ud({body:G,headers:S,status:P,statusText:L,url:j||void 0})),s.complete()):s.error(new Pp({error:G,headers:S,status:P,statusText:L,url:j||void 0}))},m=S=>{const{url:P}=c(),L=new Pp({error:S,status:o.status||0,statusText:o.statusText||"Unknown Error",url:P||void 0});s.error(L)};let w=!1;const b=S=>{w||(s.next(c()),w=!0);let P={type:nc.DownloadProgress,loaded:S.loaded};S.lengthComputable&&(P.total=S.total),"text"===t.responseType&&o.responseText&&(P.partialText=o.responseText),s.next(P)},C=S=>{let P={type:nc.UploadProgress,loaded:S.loaded};S.lengthComputable&&(P.total=S.total),s.next(P)};return o.addEventListener("load",p),o.addEventListener("error",m),o.addEventListener("timeout",m),o.addEventListener("abort",m),t.reportProgress&&(o.addEventListener("progress",b),null!==a&&o.upload&&o.upload.addEventListener("progress",C)),o.send(a),s.next({type:nc.Sent}),()=>{o.removeEventListener("error",m),o.removeEventListener("abort",m),o.removeEventListener("load",p),o.removeEventListener("timeout",m),t.reportProgress&&(o.removeEventListener("progress",b),null!==a&&o.upload&&o.upload.removeEventListener("progress",C)),o.readyState!==o.DONE&&o.abort()}})))}static#e=this.\u0275fac=function(r){return new(r||n)(ve(nF))};static#t=this.\u0275prov=Ue({token:n,factory:n.\u0275fac})}return n})();const xR=new Ee(""),_z=new Ee("",{providedIn:"root",factory:()=>"XSRF-TOKEN"}),vz=new Ee("",{providedIn:"root",factory:()=>"X-XSRF-TOKEN"});class wz{}let sae=(()=>{class n{constructor(t,r,i){this.doc=t,this.platform=r,this.cookieName=i,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const t=this.doc.cookie||"";return t!==this.lastCookieString&&(this.parseCount++,this.lastToken=Wk(t,this.cookieName),this.lastCookieString=t),this.lastToken}static#e=this.\u0275fac=function(r){return new(r||n)(ve(Ds),ve(No),ve(_z))};static#t=this.\u0275prov=Ue({token:n,factory:n.\u0275fac})}return n})();function oae(n,e){const t=n.url.toLowerCase();if(!ye(xR)||"GET"===n.method||"HEAD"===n.method||t.startsWith("http://")||t.startsWith("https://"))return e(n);const r=ye(wz).getToken(),i=ye(vz);return null!=r&&!n.headers.has(i)&&(n=n.clone({headers:n.headers.set(i,r)})),e(n)}var rc=function(n){return n[n.Interceptors=0]="Interceptors",n[n.LegacyInterceptors=1]="LegacyInterceptors",n[n.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",n[n.NoXsrfProtection=3]="NoXsrfProtection",n[n.JsonpSupport=4]="JsonpSupport",n[n.RequestsMadeViaParent=5]="RequestsMadeViaParent",n[n.Fetch=6]="Fetch",n}(rc||{});function aae(...n){const e=[$oe,yz,gz,{provide:xI,useExisting:gz},{provide:OI,useExisting:yz},{provide:Ky,useValue:oae,multi:!0},{provide:xR,useValue:!0},{provide:wz,useClass:sae}];for(const t of n)e.push(...t.\u0275providers);return function M(n){return{\u0275providers:n}}(e)}const Ez=new Ee("");function lae(){return function Bd(n,e){return{\u0275kind:n,\u0275providers:e}}(rc.LegacyInterceptors,[{provide:Ez,useFactory:Yoe},{provide:Ky,useExisting:Ez,multi:!0}])}let uae=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275mod=Tr({type:n});static#n=this.\u0275inj=Qr({providers:[aae(lae())]})}return n})();const wae=$2($o.initializeApp,!0),Cae=$2(pse,!0),Pz={apiKey:"AIzaSyDDFRIxoujk_rAcWEM2DAzlDJu0iZE70z4",authDomain:"my-prortfolio-e2f51.firebaseapp.com",projectId:"my-prortfolio-e2f51",storageBucket:"my-prortfolio-e2f51.appspot.com",messagingSenderId:"119998992581",appId:"1:119998992581:web:0ff8cd31ff6dc9288d60ac",measurementId:"G-1M4V5XZHL3"};let Dae=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275mod=Tr({type:n,bootstrap:[Ooe]});static#n=this.\u0275inj=Qr({providers:[{provide:"firebaseApp",useFactory:()=>wae(Pz)},{provide:"firestore",useFactory:()=>Cae()}],imports:[bF,bJ,xoe,Ite,bte,uae,qte.initializeApp(Pz),Soe]})}return n})();TQ().bootstrapModule(Dae).catch(n=>console.error(n))},32:function(Ns){Ns.exports=function(){"use strict";function zn(y,_,A){if("function"==typeof y?y===_:y.has(_))return arguments.length<3?_:A;throw new TypeError("Private element is not present on this object")}function T(y,_){return y.get(zn(y,_))}function dt(y,_,A){(function at(y,_){if(_.has(y))throw new TypeError("Cannot initialize the same private elements twice on an object")})(y,_),_.set(y,A)}const Le={},Ge=y=>new Promise(_=>{if(!y)return _();const A=window.scrollX,M=window.scrollY;Le.restoreFocusTimeout=setTimeout(()=>{Le.previousActiveElement instanceof HTMLElement?(Le.previousActiveElement.focus(),Le.previousActiveElement=null):document.body&&document.body.focus(),_()},100),window.scrollTo(A,M)}),x=["container","shown","height-auto","iosfix","popup","modal","no-backdrop","no-transition","toast","toast-shown","show","hide","close","title","html-container","actions","confirm","deny","cancel","default-outline","footer","icon","icon-content","image","input","file","range","select","radio","checkbox","label","textarea","inputerror","input-label","validation-message","progress-steps","active-progress-step","progress-step","progress-step-line","loader","loading","styled","top","top-start","top-end","top-left","top-right","center","center-start","center-end","center-left","center-right","bottom","bottom-start","bottom-end","bottom-left","bottom-right","grow-row","grow-column","grow-fullscreen","rtl","timer-progress-bar","timer-progress-bar-container","scrollbar-measure","icon-success","icon-warning","icon-info","icon-question","icon-error"].reduce((y,_)=>(y[_]="swal2-"+_,y),{}),$e=["success","warning","info","question","error"].reduce((y,_)=>(y[_]="swal2-"+_,y),{}),bt="SweetAlert2:",kt=y=>y.charAt(0).toUpperCase()+y.slice(1),Yt=y=>{console.warn(`${bt} ${"object"==typeof y?y.join(" "):y}`)},xt=y=>{console.error(`${bt} ${y}`)},mt=[],ur=function(y){let _=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;(y=>{mt.includes(y)||(mt.push(y),Yt(y))})(`"${y}" is deprecated and will be removed in the next major release.${_?` Use "${_}" instead.`:""}`)},Hn=y=>"function"==typeof y?y():y,dn=y=>y&&"function"==typeof y.toPromise,Bt=y=>dn(y)?y.toPromise():Promise.resolve(y),zt=y=>y&&Promise.resolve(y)===y,on=()=>document.body.querySelector(`.${x.container}`),Ke=y=>{const _=on();return _?_.querySelector(y):null},jt=y=>Ke(`.${y}`),rt=()=>jt(x.popup),pe=()=>jt(x.icon),cr=()=>jt(x.title),Or=()=>jt(x["html-container"]),zi=()=>jt(x.image),pr=()=>jt(x["progress-steps"]),Hi=()=>jt(x["validation-message"]),ii=()=>Ke(`.${x.actions} .${x.confirm}`),X=()=>Ke(`.${x.actions} .${x.cancel}`),ne=()=>Ke(`.${x.actions} .${x.deny}`),le=()=>Ke(`.${x.loader}`),De=()=>jt(x.actions),fe=()=>jt(x.footer),Ne=()=>jt(x["timer-progress-bar"]),At=()=>jt(x.close),tt=()=>{const y=rt();if(!y)return[];const _=y.querySelectorAll('[tabindex]:not([tabindex="-1"]):not([tabindex="0"])'),A=Array.from(_).sort((Be,Mt)=>{const Wt=parseInt(Be.getAttribute("tabindex")||"0"),Gn=parseInt(Mt.getAttribute("tabindex")||"0");return Wt>Gn?1:Wt<Gn?-1:0}),M=y.querySelectorAll('\n  a[href],\n  area[href],\n  input:not([disabled]),\n  select:not([disabled]),\n  textarea:not([disabled]),\n  button:not([disabled]),\n  iframe,\n  object,\n  embed,\n  [tabindex="0"],\n  [contenteditable],\n  audio[controls],\n  video[controls],\n  summary\n'),te=Array.from(M).filter(Be=>"-1"!==Be.getAttribute("tabindex"));return[...new Set(A.concat(te))].filter(Be=>hn(Be))},St=()=>Rn(document.body,x.shown)&&!Rn(document.body,x["toast-shown"])&&!Rn(document.body,x["no-backdrop"]),_n=()=>{const y=rt();return!!y&&Rn(y,x.toast)},tn=(y,_)=>{if(y.textContent="",_){const M=(new DOMParser).parseFromString(_,"text/html"),te=M.querySelector("head");te&&Array.from(te.childNodes).forEach(Mt=>{y.appendChild(Mt)});const Be=M.querySelector("body");Be&&Array.from(Be.childNodes).forEach(Mt=>{Mt instanceof HTMLVideoElement||Mt instanceof HTMLAudioElement?y.appendChild(Mt.cloneNode(!0)):y.appendChild(Mt)})}},Rn=(y,_)=>{if(!_)return!1;const A=_.split(/\s+/);for(let M=0;M<A.length;M++)if(!y.classList.contains(A[M]))return!1;return!0},Tt=(y,_,A)=>{if(((y,_)=>{Array.from(y.classList).forEach(A=>{!Object.values(x).includes(A)&&!Object.values($e).includes(A)&&!Object.values(_.showClass||{}).includes(A)&&y.classList.remove(A)})})(y,_),!_.customClass)return;const M=_.customClass[A];if(M){if("string"!=typeof M&&!M.forEach)return void Yt(`Invalid type of customClass.${A}! Expected string or iterable object, got "${typeof M}"`);wt(y,M)}},kr=(y,_)=>{if(!_)return null;switch(_){case"select":case"textarea":case"file":return y.querySelector(`.${x.popup} > .${x[_]}`);case"checkbox":return y.querySelector(`.${x.popup} > .${x.checkbox} input`);case"radio":return y.querySelector(`.${x.popup} > .${x.radio} input:checked`)||y.querySelector(`.${x.popup} > .${x.radio} input:first-child`);case"range":return y.querySelector(`.${x.popup} > .${x.range} input`);default:return y.querySelector(`.${x.popup} > .${x.input}`)}},Ao=y=>{if(y.focus(),"file"!==y.type){const _=y.value;y.value="",y.value=_}},To=(y,_,A)=>{!y||!_||("string"==typeof _&&(_=_.split(/\s+/).filter(Boolean)),_.forEach(M=>{Array.isArray(y)?y.forEach(te=>{A?te.classList.add(M):te.classList.remove(M)}):A?y.classList.add(M):y.classList.remove(M)}))},wt=(y,_)=>{To(y,_,!0)},dr=(y,_)=>{To(y,_,!1)},Fr=(y,_)=>{const A=Array.from(y.children);for(let M=0;M<A.length;M++){const te=A[M];if(te instanceof HTMLElement&&Rn(te,_))return te}},Si=(y,_,A)=>{A===`${parseInt(A)}`&&(A=parseInt(A)),A||0===parseInt(A)?y.style.setProperty(_,"number"==typeof A?`${A}px`:A):y.style.removeProperty(_)},an=function(y){y&&(y.style.display=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"flex")},tr=y=>{y&&(y.style.display="none")},Vr=function(y){let _=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"block";y&&new MutationObserver(()=>{Vn(y,y.innerHTML,_)}).observe(y,{childList:!0,subtree:!0})},pi=(y,_,A,M)=>{const te=y.querySelector(_);te&&te.style.setProperty(A,M)},Vn=function(y,_){_?an(y,arguments.length>2&&void 0!==arguments[2]?arguments[2]:"flex"):tr(y)},hn=y=>!(!y||!(y.offsetWidth||y.offsetHeight||y.getClientRects().length)),qi=y=>y.scrollHeight>y.clientHeight,Gi=y=>{const _=window.getComputedStyle(y),A=parseFloat(_.getPropertyValue("animation-duration")||"0"),M=parseFloat(_.getPropertyValue("transition-duration")||"0");return A>0||M>0},hs=function(y){let _=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const A=Ne();A&&hn(A)&&(_&&(A.style.transition="none",A.style.width="100%"),setTimeout(()=>{A.style.transition=`width ${y/1e3}s linear`,A.style.width="0%"},10))},fs=()=>typeof window>"u"||typeof document>"u",Kr=`\n <div aria-labelledby="${x.title}" aria-describedby="${x["html-container"]}" class="${x.popup}" tabindex="-1">\n   <button type="button" class="${x.close}"></button>\n   <ul class="${x["progress-steps"]}"></ul>\n   <div class="${x.icon}"></div>\n   <img class="${x.image}" />\n   <h2 class="${x.title}" id="${x.title}"></h2>\n   <div class="${x["html-container"]}" id="${x["html-container"]}"></div>\n   <input class="${x.input}" id="${x.input}" />\n   <input type="file" class="${x.file}" />\n   <div class="${x.range}">\n     <input type="range" />\n     <output></output>\n   </div>\n   <select class="${x.select}" id="${x.select}"></select>\n   <div class="${x.radio}"></div>\n   <label class="${x.checkbox}">\n     <input type="checkbox" id="${x.checkbox}" />\n     <span class="${x.label}"></span>\n   </label>\n   <textarea class="${x.textarea}" id="${x.textarea}"></textarea>\n   <div class="${x["validation-message"]}" id="${x["validation-message"]}"></div>\n   <div class="${x.actions}">\n     <div class="${x.loader}"></div>\n     <button type="button" class="${x.confirm}"></button>\n     <button type="button" class="${x.deny}"></button>\n     <button type="button" class="${x.cancel}"></button>\n   </div>\n   <div class="${x.footer}"></div>\n   <div class="${x["timer-progress-bar-container"]}">\n     <div class="${x["timer-progress-bar"]}"></div>\n   </div>\n </div>\n`.replace(/(^|\n)\s*/g,""),Pn=()=>{Le.currentInstance.resetValidationMessage()},qo=y=>{const _=(()=>{const y=on();return!!y&&(y.remove(),dr([document.documentElement,document.body],[x["no-backdrop"],x["toast-shown"],x["has-column"]]),!0)})();if(fs())return void xt("SweetAlert2 requires document to initialize");const A=document.createElement("div");A.className=x.container,_&&wt(A,x["no-transition"]),tn(A,Kr);const M=(y=>"string"==typeof y?document.querySelector(y):y)(y.target);M.appendChild(A),(y=>{const _=rt();_.setAttribute("role",y.toast?"alert":"dialog"),_.setAttribute("aria-live",y.toast?"polite":"assertive"),y.toast||_.setAttribute("aria-modal","true")})(y),(y=>{"rtl"===window.getComputedStyle(y).direction&&wt(on(),x.rtl)})(M),(()=>{const y=rt(),_=Fr(y,x.input),A=Fr(y,x.file),M=y.querySelector(`.${x.range} input`),te=y.querySelector(`.${x.range} output`),Be=Fr(y,x.select),Mt=y.querySelector(`.${x.checkbox} input`),Wt=Fr(y,x.textarea);_.oninput=Pn,A.onchange=Pn,Be.onchange=Pn,Mt.onchange=Pn,Wt.oninput=Pn,M.oninput=()=>{Pn(),te.value=M.value},M.onchange=()=>{Pn(),te.value=M.value}})()},Ht=(y,_)=>{y instanceof HTMLElement?_.appendChild(y):"object"==typeof y?Fa(y,_):y&&tn(_,y)},Fa=(y,_)=>{y.jquery?Go(_,y):tn(_,y.toString())},Go=(y,_)=>{if(y.textContent="",0 in _)for(let A=0;A in _;A++)y.appendChild(_[A].cloneNode(!0));else y.appendChild(_.cloneNode(!0))},gi=(()=>{if(fs())return!1;const y=document.createElement("div");return typeof y.style.webkitAnimation<"u"?"webkitAnimationEnd":typeof y.style.animation<"u"&&"animationend"})(),Ki=(y,_)=>{const A=De(),M=le();!A||!M||(_.showConfirmButton||_.showDenyButton||_.showCancelButton?an(A):tr(A),Tt(A,_,"actions"),function F(y,_,A){const M=ii(),te=ne(),Be=X();!M||!te||!Be||($(M,"confirm",A),$(te,"deny",A),$(Be,"cancel",A),function O(y,_,A,M){M.buttonsStyling?(wt([y,_,A],x.styled),M.confirmButtonColor&&(y.style.backgroundColor=M.confirmButtonColor,wt(y,x["default-outline"])),M.denyButtonColor&&(_.style.backgroundColor=M.denyButtonColor,wt(_,x["default-outline"])),M.cancelButtonColor&&(A.style.backgroundColor=M.cancelButtonColor,wt(A,x["default-outline"]))):dr([y,_,A],x.styled)}(M,te,Be,A),A.reverseButtons&&(A.toast?(y.insertBefore(Be,M),y.insertBefore(te,M)):(y.insertBefore(Be,_),y.insertBefore(te,_),y.insertBefore(M,_))))}(A,M,_),tn(M,_.loaderHtml||""),Tt(M,_,"loader"))};function $(y,_,A){const M=kt(_);Vn(y,A[`show${M}Button`],"inline-block"),tn(y,A[`${_}ButtonText`]||""),y.setAttribute("aria-label",A[`${_}ButtonAriaLabel`]||""),y.className=x[_],Tt(y,A,`${_}Button`)}const H=(y,_)=>{const A=on();A&&(function Se(y,_){"string"==typeof _?y.style.background=_:_||wt([document.documentElement,document.body],x["no-backdrop"])}(A,_.backdrop),function Je(y,_){_&&(_ in x?wt(y,x[_]):(Yt('The "position" parameter is not valid, defaulting to "center"'),wt(y,x.center)))}(A,_.position),function je(y,_){_&&wt(y,x[`grow-${_}`])}(A,_.grow),Tt(A,_,"container"))};var ft={innerParams:new WeakMap,domCache:new WeakMap};const vn=["input","file","range","select","radio","checkbox","textarea"],Ct=y=>{if(!y.input)return;if(!Gt[y.input])return void xt(`Unexpected type of input! Expected ${Object.keys(Gt).join(" | ")}, got "${y.input}"`);const _=mi(y.input);if(!_)return;const A=Gt[y.input](_,y);an(_),y.inputAutoFocus&&setTimeout(()=>{Ao(A)})},ps=(y,_)=>{const A=rt();if(!A)return;const M=kr(A,y);if(M){(y=>{for(let _=0;_<y.attributes.length;_++){const A=y.attributes[_].name;["id","type","value","style"].includes(A)||y.removeAttribute(A)}})(M);for(const te in _)M.setAttribute(te,_[te])}},Va=y=>{if(!y.input)return;const _=mi(y.input);_&&Tt(_,y,"input")},Wo=(y,_)=>{!y.placeholder&&_.inputPlaceholder&&(y.placeholder=_.inputPlaceholder)},Ri=(y,_,A)=>{if(A.inputLabel){const M=document.createElement("label"),te=x["input-label"];M.setAttribute("for",y.id),M.className=te,"object"==typeof A.customClass&&wt(M,A.customClass.inputLabel),M.innerText=A.inputLabel,_.insertAdjacentElement("beforebegin",M)}},mi=y=>{const _=rt();if(_)return Fr(_,x[y]||x.input)},yi=(y,_)=>{["string","number"].includes(typeof _)?y.value=`${_}`:zt(_)||Yt(`Unexpected type of inputValue! Expected "string", "number" or "Promise", got "${typeof _}"`)},Gt={};Gt.text=Gt.email=Gt.password=Gt.number=Gt.tel=Gt.url=Gt.search=Gt.date=Gt["datetime-local"]=Gt.time=Gt.week=Gt.month=(y,_)=>(yi(y,_.inputValue),Ri(y,y,_),Wo(y,_),y.type=_.input,y),Gt.file=(y,_)=>(Ri(y,y,_),Wo(y,_),y),Gt.range=(y,_)=>{const A=y.querySelector("input"),M=y.querySelector("output");return yi(A,_.inputValue),A.type=_.input,yi(M,_.inputValue),Ri(A,y,_),y},Gt.select=(y,_)=>{if(y.textContent="",_.inputPlaceholder){const A=document.createElement("option");tn(A,_.inputPlaceholder),A.value="",A.disabled=!0,A.selected=!0,y.appendChild(A)}return Ri(y,y,_),y},Gt.radio=y=>(y.textContent="",y),Gt.checkbox=(y,_)=>{const A=kr(rt(),"checkbox");A.value="1",A.checked=!!_.inputValue;const M=y.querySelector("span");return tn(M,_.inputPlaceholder||_.inputLabel),A},Gt.textarea=(y,_)=>{yi(y,_.inputValue),Wo(y,_),Ri(y,y,_);return setTimeout(()=>{if("MutationObserver"in window){const M=parseInt(window.getComputedStyle(rt()).width);new MutationObserver(()=>{if(!document.body.contains(y))return;const Be=y.offsetWidth+(M=>parseInt(window.getComputedStyle(M).marginLeft)+parseInt(window.getComputedStyle(M).marginRight))(y);Be>M?rt().style.width=`${Be}px`:Si(rt(),"width",_.width)}).observe(y,{attributes:!0,attributeFilter:["style"]})}}),y};const ee=(y,_)=>{const A=Or();A&&(Vr(A),Tt(A,_,"htmlContainer"),_.html?(Ht(_.html,A),an(A,"block")):_.text?(A.textContent=_.text,an(A,"block")):tr(A),((y,_)=>{const A=rt();if(!A)return;const M=ft.innerParams.get(y),te=!M||_.input!==M.input;vn.forEach(Be=>{const Mt=Fr(A,x[Be]);Mt&&(ps(Be,_.inputAttributes),Mt.className=x[Be],te&&tr(Mt))}),_.input&&(te&&Ct(_),Va(_))})(y,_))},Pe=(y,_)=>{for(const[A,M]of Object.entries($e))_.icon!==A&&dr(y,M);wt(y,_.icon&&$e[_.icon]),nt(y,_),ht(),Tt(y,_,"icon")},ht=()=>{const y=rt();if(!y)return;const _=window.getComputedStyle(y).getPropertyValue("background-color"),A=y.querySelectorAll("[class^=swal2-success-circular-line], .swal2-success-fix");for(let M=0;M<A.length;M++)A[M].style.backgroundColor=_},gn=(y,_)=>{if(!_.icon&&!_.iconHtml)return;let A=y.innerHTML,M="";_.iconHtml?M=si(_.iconHtml):"success"===_.icon?(M='\n  <div class="swal2-success-circular-line-left"></div>\n  <span class="swal2-success-line-tip"></span> <span class="swal2-success-line-long"></span>\n  <div class="swal2-success-ring"></div> <div class="swal2-success-fix"></div>\n  <div class="swal2-success-circular-line-right"></div>\n',A=A.replace(/ style=".*?"/g,"")):"error"===_.icon?M='\n  <span class="swal2-x-mark">\n    <span class="swal2-x-mark-line-left"></span>\n    <span class="swal2-x-mark-line-right"></span>\n  </span>\n':_.icon&&(M=si({question:"?",warning:"!",info:"i"}[_.icon])),A.trim()!==M.trim()&&tn(y,M)},nt=(y,_)=>{if(_.iconColor){y.style.color=_.iconColor,y.style.borderColor=_.iconColor;for(const A of[".swal2-success-line-tip",".swal2-success-line-long",".swal2-x-mark-line-left",".swal2-x-mark-line-right"])pi(y,A,"background-color",_.iconColor);pi(y,".swal2-success-ring","border-color",_.iconColor)}},si=y=>`<div class="${x["icon-content"]}">${y}</div>`,kp=(y,_)=>{const A=_.showClass||{};y.className=`${x.popup} ${hn(y)?A.popup:""}`,_.toast?(wt([document.documentElement,document.body],x["toast-shown"]),wt(y,x.toast)):wt(y,x.modal),Tt(y,_,"popup"),"string"==typeof _.customClass&&wt(y,_.customClass),_.icon&&wt(y,x[`icon-${_.icon}`])},mn=y=>{const _=document.createElement("li");return wt(_,x["progress-step"]),tn(_,y),_},it=y=>{const _=document.createElement("li");return wt(_,x["progress-step-line"]),y.progressStepsDistance&&Si(_,"width",y.progressStepsDistance),_},oi=(y,_)=>{((y,_)=>{const A=on(),M=rt();if(A&&M){if(_.toast){Si(A,"width",_.width),M.style.width="100%";const te=le();te&&M.insertBefore(te,pe())}else Si(M,"width",_.width);Si(M,"padding",_.padding),_.color&&(M.style.color=_.color),_.background&&(M.style.background=_.background),tr(Hi()),kp(M,_)}})(0,_),H(0,_),((y,_)=>{const A=pr();if(!A)return;const{progressSteps:M,currentProgressStep:te}=_;M&&0!==M.length&&void 0!==te?(an(A),A.textContent="",te>=M.length&&Yt("Invalid currentProgressStep parameter, it should be less than progressSteps.length (currentProgressStep like JS arrays starts from 0)"),M.forEach((Be,Mt)=>{const Wt=mn(Be);if(A.appendChild(Wt),Mt===te&&wt(Wt,x["active-progress-step"]),Mt!==M.length-1){const Gn=it(_);A.appendChild(Gn)}})):tr(A)})(0,_),((y,_)=>{const A=ft.innerParams.get(y),M=pe();if(M){if(A&&_.icon===A.icon)return gn(M,_),void Pe(M,_);if(!_.icon&&!_.iconHtml)return void tr(M);if(_.icon&&-1===Object.keys($e).indexOf(_.icon))return xt(`Unknown icon! Expected "success", "error", "warning", "info" or "question", got "${_.icon}"`),void tr(M);an(M),gn(M,_),Pe(M,_),wt(M,_.showClass&&_.showClass.icon)}})(y,_),((y,_)=>{const A=zi();if(A){if(!_.imageUrl)return void tr(A);an(A,""),A.setAttribute("src",_.imageUrl),A.setAttribute("alt",_.imageAlt||""),Si(A,"width",_.imageWidth),Si(A,"height",_.imageHeight),A.className=x.image,Tt(A,_,"image")}})(0,_),((y,_)=>{const A=cr();A&&(Vr(A),Vn(A,_.title||_.titleText,"block"),_.title&&Ht(_.title,A),_.titleText&&(A.innerText=_.titleText),Tt(A,_,"title"))})(0,_),((y,_)=>{const A=At();A&&(tn(A,_.closeButtonHtml||""),Tt(A,_,"closeButton"),Vn(A,_.showCloseButton),A.setAttribute("aria-label",_.closeButtonAriaLabel||""))})(0,_),ee(y,_),Ki(0,_),((y,_)=>{const A=fe();A&&(Vr(A),Vn(A,_.footer,"block"),_.footer&&Ht(_.footer,A),Tt(A,_,"footer"))})(0,_);const A=rt();"function"==typeof _.didRender&&A&&_.didRender(A),Le.eventEmitter.emit("didRender",A)},dc=()=>{var y;return null===(y=ii())||void 0===y?void 0:y.click()},Ko=Object.freeze({cancel:"cancel",backdrop:"backdrop",close:"close",esc:"esc",timer:"timer"}),qd=y=>{y.keydownTarget&&y.keydownHandlerAdded&&(y.keydownTarget.removeEventListener("keydown",y.keydownHandler,{capture:y.keydownListenerCapture}),y.keydownHandlerAdded=!1)},Qo=(y,_)=>{var A;const M=tt();if(M.length)return(y+=_)===M.length?y=0:-1===y&&(y=M.length-1),void M[y].focus();null===(A=rt())||void 0===A||A.focus()},Bl=["ArrowRight","ArrowDown"],d_=["ArrowLeft","ArrowUp"],hc=(y,_,A)=>{y&&(_.isComposing||229===_.keyCode||(y.stopKeydownPropagation&&_.stopPropagation(),"Enter"===_.key?h_(_,y):"Tab"===_.key?_i(_):[...Bl,...d_].includes(_.key)?st(_.key):"Escape"===_.key&&Fp(_,y,A)))},h_=(y,_)=>{if(!Hn(_.allowEnterKey))return;const A=kr(rt(),_.input);if(y.target&&A&&y.target instanceof HTMLElement&&y.target.outerHTML===A.outerHTML){if(["textarea","file"].includes(_.input))return;dc(),y.preventDefault()}},_i=y=>{const _=y.target,A=tt();let M=-1;for(let te=0;te<A.length;te++)if(_===A[te]){M=te;break}Qo(M,y.shiftKey?-1:1),y.stopPropagation(),y.preventDefault()},st=y=>{const _=De(),A=ii(),M=ne(),te=X();if(!(_&&A&&M&&te))return;if(document.activeElement instanceof HTMLElement&&![A,M,te].includes(document.activeElement))return;const Mt=Bl.includes(y)?"nextElementSibling":"previousElementSibling";let Wt=document.activeElement;if(Wt){for(let Gn=0;Gn<_.children.length;Gn++){if(Wt=Wt[Mt],!Wt)return;if(Wt instanceof HTMLButtonElement&&hn(Wt))break}Wt instanceof HTMLButtonElement&&Wt.focus()}},Fp=(y,_,A)=>{Hn(_.allowEscapeKey)&&(y.preventDefault(),A(Ko.esc))};var Ua={swalPromiseResolve:new WeakMap,swalPromiseReject:new WeakMap};const Lp=()=>{Array.from(document.body.children).forEach(_=>{_.hasAttribute("data-previous-aria-hidden")?(_.setAttribute("aria-hidden",_.getAttribute("data-previous-aria-hidden")||""),_.removeAttribute("data-previous-aria-hidden")):_.removeAttribute("aria-hidden")})},Yo=typeof window<"u"&&!!window.GestureEvent,Wd=()=>{const y=on();if(!y)return;let _;y.ontouchstart=A=>{_=Qr(A)},y.ontouchmove=A=>{_&&(A.preventDefault(),A.stopPropagation())}},Qr=y=>{const _=y.target,A=on(),M=Or();return!(!A||!M||Jo(y)||Up(y)||_!==A&&(qi(A)||!(_ instanceof HTMLElement)||"INPUT"===_.tagName||"TEXTAREA"===_.tagName||qi(M)&&M.contains(_)))},Jo=y=>y.touches&&y.touches.length&&"stylus"===y.touches[0].touchType,Up=y=>y.touches&&y.touches.length>1;let Qi=null;const $l=y=>{null===Qi&&(document.body.scrollHeight>window.innerHeight||"scroll"===y)&&(Qi=parseInt(window.getComputedStyle(document.body).getPropertyValue("padding-right")),document.body.style.paddingRight=`${Qi+(()=>{const y=document.createElement("div");y.className=x["scrollbar-measure"],document.body.appendChild(y);const _=y.getBoundingClientRect().width-y.clientWidth;return document.body.removeChild(y),_})()}px`)};function Zo(y,_,A,M){_n()?yc(y,M):(Ge(A).then(()=>yc(y,M)),qd(Le)),Yo?(_.setAttribute("style","display:none !important"),_.removeAttribute("class"),_.innerHTML=""):_.remove(),St()&&(null!==Qi&&(document.body.style.paddingRight=`${Qi}px`,Qi=null),(()=>{if(Rn(document.body,x.iosfix)){const y=parseInt(document.body.style.top,10);dr(document.body,x.iosfix),document.body.style.top="",document.body.scrollTop=-1*y}})(),Lp()),function fc(){dr([document.documentElement,document.body],[x.shown,x["height-auto"],x["no-backdrop"],x["toast-shown"]])}()}function Ee(y){y=pc(y);const _=Ua.swalPromiseResolve.get(this),A=ja(this);this.isAwaitingPromise?y.isDismissed||(to(this),_(y)):A&&_(y)}const ja=y=>{const _=rt();if(!_)return!1;const A=ft.innerParams.get(y);if(!A||Rn(_,A.hideClass.popup))return!1;dr(_,A.showClass.popup),wt(_,A.hideClass.popup);const M=on();return dr(M,A.showClass.backdrop),wt(M,A.hideClass.backdrop),gc(y,_,A),!0};function zl(y){const _=Ua.swalPromiseReject.get(this);to(this),_&&_(y)}const to=y=>{y.isAwaitingPromise&&(delete y.isAwaitingPromise,ft.innerParams.get(y)||y._destroy())},pc=y=>typeof y>"u"?{isConfirmed:!1,isDenied:!1,isDismissed:!0}:Object.assign({isConfirmed:!1,isDenied:!1,isDismissed:!1},y),gc=(y,_,A)=>{const M=on(),te=gi&&Gi(_);"function"==typeof A.willClose&&A.willClose(_),Le.eventEmitter.emit("willClose",_),te?mc(y,_,M,A.returnFocus,A.didClose):Zo(y,M,A.returnFocus,A.didClose)},mc=(y,_,A,M,te)=>{gi&&(Le.swalCloseEventFinishedCallback=Zo.bind(null,y,A,M,te),_.addEventListener(gi,function(Be){Be.target===_&&(Le.swalCloseEventFinishedCallback(),delete Le.swalCloseEventFinishedCallback)}))},yc=(y,_)=>{setTimeout(()=>{"function"==typeof _&&_.bind(y.params)(),Le.eventEmitter.emit("didClose"),y._destroy&&y._destroy()})},$a=y=>{let _=rt();if(_||new tl,_=rt(),!_)return;const A=le();_n()?tr(pe()):Kd(_,y),an(A),_.setAttribute("data-loading","true"),_.setAttribute("aria-busy","true"),_.focus()},Kd=(y,_)=>{const A=De(),M=le();!A||!M||(!_&&hn(ii())&&(_=ii()),an(A),_&&(tr(_),M.setAttribute("data-button-to-replace",_.className),A.insertBefore(M,_)),wt([y,A],x.loading))},xs=y=>y.checked?1:0,Yi=y=>y.checked?y.value:null,Ha=y=>y.files&&y.files.length?null!==y.getAttribute("multiple")?y.files:y.files[0]:null,Qd=(y,_)=>{const A=rt();if(!A)return;const M=te=>{"select"===_.input?function qa(y,_,A){const M=Fr(y,x.select);if(!M)return;const te=(Be,Mt,Wt)=>{const Gn=document.createElement("option");Gn.value=Wt,tn(Gn,Mt),Gn.selected=$t(Wt,A.inputValue),Be.appendChild(Gn)};_.forEach(Be=>{const Mt=Be[0],Wt=Be[1];if(Array.isArray(Wt)){const Gn=document.createElement("optgroup");Gn.label=Mt,Gn.disabled=!1,M.appendChild(Gn),Wt.forEach(Do=>te(Gn,Do[1],Do[0]))}else te(M,Wt,Mt)}),M.focus()}(A,ct(te),_):"radio"===_.input&&function Hl(y,_,A){const M=Fr(y,x.radio);if(!M)return;_.forEach(Be=>{const Mt=Be[0],Wt=Be[1],Gn=document.createElement("input"),Do=document.createElement("label");Gn.type="radio",Gn.name=x.radio,Gn.value=Mt,$t(Mt,A.inputValue)&&(Gn.checked=!0);const dh=document.createElement("span");tn(dh,Wt),dh.className=x.label,Do.appendChild(Gn),Do.appendChild(dh),M.appendChild(Do)});const te=M.querySelectorAll("input");te.length&&te[0].focus()}(A,ct(te),_)};dn(_.inputOptions)||zt(_.inputOptions)?($a(ii()),Bt(_.inputOptions).then(te=>{y.hideLoading(),M(te)})):"object"==typeof _.inputOptions?M(_.inputOptions):xt("Unexpected type of inputOptions! Expected object, Map or Promise, got "+typeof _.inputOptions)},mr=(y,_)=>{const A=y.getInput();A&&(tr(A),Bt(_.inputValue).then(M=>{A.value="number"===_.input?`${parseFloat(M)||0}`:`${M}`,an(A),A.focus(),y.hideLoading()}).catch(M=>{xt(`Error in inputValue promise: ${M}`),A.value="",an(A),A.focus(),y.hideLoading()}))};const ct=y=>{const _=[];return y instanceof Map?y.forEach((A,M)=>{let te=A;"object"==typeof te&&(te=ct(te)),_.push([M,te])}):Object.keys(y).forEach(A=>{let M=y[A];"object"==typeof M&&(M=ct(M)),_.push([A,M])}),_},$t=(y,_)=>!!_&&_.toString()===y.toString(),$p=(y,_)=>{const A=ft.innerParams.get(y);if(!A.input)return void xt(`The "input" parameter is needed to be set when using returnInputValueOn${kt(_)}`);const M=y.getInput(),te=((y,_)=>{const A=y.getInput();if(!A)return null;switch(_.input){case"checkbox":return xs(A);case"radio":return Yi(A);case"file":return Ha(A);default:return _.inputAutoTrim?A.value.trim():A.value}})(y,A);A.inputValidator?vc(y,te,_):M&&!M.checkValidity()?(y.enableButtons(),y.showValidationMessage(A.validationMessage||M.validationMessage)):"deny"===_?Ji(y,te):no(y,te)},vc=(y,_,A)=>{const M=ft.innerParams.get(y);y.disableInput(),Promise.resolve().then(()=>Bt(M.inputValidator(_,M.validationMessage))).then(Be=>{y.enableButtons(),y.enableInput(),Be?y.showValidationMessage(Be):"deny"===A?Ji(y,_):no(y,_)})},Ji=(y,_)=>{const A=ft.innerParams.get(y||void 0);A.showLoaderOnDeny&&$a(ne()),A.preDeny?(y.isAwaitingPromise=!0,Promise.resolve().then(()=>Bt(A.preDeny(_,A.validationMessage))).then(te=>{!1===te?(y.hideLoading(),to(y)):y.close({isDenied:!0,value:typeof te>"u"?_:te})}).catch(te=>ql(y||void 0,te))):y.close({isDenied:!0,value:_})},Pt=(y,_)=>{y.close({isConfirmed:!0,value:_})},ql=(y,_)=>{y.rejectPromise(_)},no=(y,_)=>{const A=ft.innerParams.get(y||void 0);A.showLoaderOnConfirm&&$a(),A.preConfirm?(y.resetValidationMessage(),y.isAwaitingPromise=!0,Promise.resolve().then(()=>Bt(A.preConfirm(_,A.validationMessage))).then(te=>{hn(Hi())||!1===te?(y.hideLoading(),to(y)):Pt(y,typeof te>"u"?_:te)}).catch(te=>ql(y||void 0,te))):Pt(y,_)};function Ur(){const y=ft.innerParams.get(this);if(!y)return;const _=ft.domCache.get(this);tr(_.loader),_n()?y.icon&&an(pe()):Gl(_),dr([_.popup,_.actions],x.loading),_.popup.removeAttribute("aria-busy"),_.popup.removeAttribute("data-loading"),_.confirmButton.disabled=!1,_.denyButton.disabled=!1,_.cancelButton.disabled=!1}const Gl=y=>{const _=y.popup.getElementsByClassName(y.loader.getAttribute("data-button-to-replace"));_.length?an(_[0],"inline-block"):!hn(ii())&&!hn(ne())&&!hn(X())&&tr(y.actions)};function Os(){const y=ft.innerParams.get(this),_=ft.domCache.get(this);return _?kr(_.popup,y.input):null}function Xo(y,_,A){const M=ft.domCache.get(y);_.forEach(te=>{M[te].disabled=A})}function Zi(y,_){const A=rt();if(A&&y)if("radio"===y.type){const M=A.querySelectorAll(`[name="${x.radio}"]`);for(let te=0;te<M.length;te++)M[te].disabled=_}else y.disabled=_}function Ga(){Xo(this,["confirmButton","denyButton","cancelButton"],!1)}function ea(){Xo(this,["confirmButton","denyButton","cancelButton"],!0)}function wc(){Zi(this.getInput(),!1)}function Yd(){Zi(this.getInput(),!0)}function Co(y){const _=ft.domCache.get(this),A=ft.innerParams.get(this);tn(_.validationMessage,y),_.validationMessage.className=x["validation-message"],A.customClass&&A.customClass.validationMessage&&wt(_.validationMessage,A.customClass.validationMessage),an(_.validationMessage);const M=this.getInput();M&&(M.setAttribute("aria-invalid","true"),M.setAttribute("aria-describedby",x["validation-message"]),Ao(M),wt(M,x.inputerror))}function Ec(){const y=ft.domCache.get(this);y.validationMessage&&tr(y.validationMessage);const _=this.getInput();_&&(_.removeAttribute("aria-invalid"),_.removeAttribute("aria-describedby"),dr(_,x.inputerror))}const ai={title:"",titleText:"",text:"",html:"",footer:"",icon:void 0,iconColor:void 0,iconHtml:void 0,template:void 0,toast:!1,animation:!0,showClass:{popup:"swal2-show",backdrop:"swal2-backdrop-show",icon:"swal2-icon-show"},hideClass:{popup:"swal2-hide",backdrop:"swal2-backdrop-hide",icon:"swal2-icon-hide"},customClass:{},target:"body",color:void 0,backdrop:!0,heightAuto:!0,allowOutsideClick:!0,allowEscapeKey:!0,allowEnterKey:!0,stopKeydownPropagation:!0,keydownListenerCapture:!1,showConfirmButton:!0,showDenyButton:!1,showCancelButton:!1,preConfirm:void 0,preDeny:void 0,confirmButtonText:"OK",confirmButtonAriaLabel:"",confirmButtonColor:void 0,denyButtonText:"No",denyButtonAriaLabel:"",denyButtonColor:void 0,cancelButtonText:"Cancel",cancelButtonAriaLabel:"",cancelButtonColor:void 0,buttonsStyling:!0,reverseButtons:!1,focusConfirm:!0,focusDeny:!1,focusCancel:!1,returnFocus:!0,showCloseButton:!1,closeButtonHtml:"&times;",closeButtonAriaLabel:"Close this dialog",loaderHtml:"",showLoaderOnConfirm:!1,showLoaderOnDeny:!1,imageUrl:void 0,imageWidth:void 0,imageHeight:void 0,imageAlt:"",timer:void 0,timerProgressBar:!1,width:void 0,padding:void 0,background:void 0,input:void 0,inputPlaceholder:"",inputLabel:"",inputValue:"",inputOptions:{},inputAutoFocus:!0,inputAutoTrim:!0,inputAttributes:{},inputValidator:void 0,returnInputValueOnDeny:!1,validationMessage:void 0,grow:!1,position:"center",progressSteps:[],currentProgressStep:void 0,progressStepsDistance:void 0,willOpen:void 0,didOpen:void 0,didRender:void 0,willClose:void 0,didClose:void 0,didDestroy:void 0,scrollbarPadding:!0},Jd=["allowEscapeKey","allowOutsideClick","background","buttonsStyling","cancelButtonAriaLabel","cancelButtonColor","cancelButtonText","closeButtonAriaLabel","closeButtonHtml","color","confirmButtonAriaLabel","confirmButtonColor","confirmButtonText","currentProgressStep","customClass","denyButtonAriaLabel","denyButtonColor","denyButtonText","didClose","didDestroy","footer","hideClass","html","icon","iconColor","iconHtml","imageAlt","imageHeight","imageUrl","imageWidth","preConfirm","preDeny","progressSteps","returnFocus","reverseButtons","showCancelButton","showCloseButton","showConfirmButton","showDenyButton","text","title","titleText","willClose"],ks={allowEnterKey:void 0},Ic=["allowOutsideClick","allowEnterKey","backdrop","focusConfirm","focusDeny","focusCancel","returnFocus","heightAuto","keydownListenerCapture"],ve=y=>Object.prototype.hasOwnProperty.call(ai,y),Wl=y=>-1!==Jd.indexOf(y),ye=y=>ks[y],ta=y=>{ve(y)||Yt(`Unknown parameter "${y}"`)},na=y=>{Ic.includes(y)&&Yt(`The parameter "${y}" is incompatible with toasts`)},ra=y=>{const _=ye(y);_&&ur(y,_)};function Xd(y){const _=rt(),A=ft.innerParams.get(this);if(!_||Rn(_,A.hideClass.popup))return void Yt("You're trying to update the closed or closing popup, that won't work. Use the update() method in preConfirm parameter or show a new popup.");const M=bc(y),te=Object.assign({},A,M);oi(this,te),ft.innerParams.set(this,te),Object.defineProperties(this,{params:{value:Object.assign({},this.params,y),writable:!1,enumerable:!0}})}const bc=y=>{const _={};return Object.keys(y).forEach(A=>{Wl(A)?_[A]=y[A]:Yt(`Invalid parameter to update: ${A}`)}),_};function Kl(){const y=ft.domCache.get(this),_=ft.innerParams.get(this);_?(y.popup&&Le.swalCloseEventFinishedCallback&&(Le.swalCloseEventFinishedCallback(),delete Le.swalCloseEventFinishedCallback),"function"==typeof _.didDestroy&&_.didDestroy(),Le.eventEmitter.emit("didDestroy"),Xi(this)):Wa(this)}const Xi=y=>{Wa(y),delete y.params,delete Le.keydownHandler,delete Le.keydownTarget,delete Le.currentInstance},Wa=y=>{y.isAwaitingPromise?(ro(ft,y),y.isAwaitingPromise=!0):(ro(Ua,y),ro(ft,y),delete y.isAwaitingPromise,delete y.disableButtons,delete y.enableButtons,delete y.getInput,delete y.disableInput,delete y.enableInput,delete y.hideLoading,delete y.disableLoading,delete y.showValidationMessage,delete y.resetValidationMessage,delete y.close,delete y.closePopup,delete y.closeModal,delete y.closeToast,delete y.rejectPromise,delete y.update,delete y._destroy)},ro=(y,_)=>{for(const A in y)y[A].delete(_)};var eh=Object.freeze({__proto__:null,_destroy:Kl,close:Ee,closeModal:Ee,closePopup:Ee,closeToast:Ee,disableButtons:ea,disableInput:Yd,disableLoading:Ur,enableButtons:Ga,enableInput:wc,getInput:Os,handleAwaitingPromise:to,hideLoading:Ur,rejectPromise:zl,resetValidationMessage:Ec,showValidationMessage:Co,update:Xd});const th=(y,_,A)=>{_.popup.onclick=()=>{y&&(Br(y)||y.timer||y.input)||A(Ko.close)}},Br=y=>!!(y.showConfirmButton||y.showDenyButton||y.showCancelButton||y.showCloseButton);let Pi=!1;const Ql=y=>{y.popup.onmousedown=()=>{y.container.onmouseup=function(_){y.container.onmouseup=()=>{},_.target===y.container&&(Pi=!0)}}},Ka=y=>{y.container.onmousedown=_=>{_.target===y.container&&_.preventDefault(),y.popup.onmouseup=function(A){y.popup.onmouseup=()=>{},(A.target===y.popup||A.target instanceof HTMLElement&&y.popup.contains(A.target))&&(Pi=!0)}}},ia=(y,_,A)=>{_.container.onclick=M=>{Pi?Pi=!1:M.target===_.container&&Hn(y.allowOutsideClick)&&A(Ko.backdrop)}},Ac=y=>y instanceof Element||(y=>"object"==typeof y&&y.jquery)(y);const es=()=>{if(Le.timeout)return(()=>{const y=Ne();if(!y)return;const _=parseInt(window.getComputedStyle(y).width);y.style.removeProperty("transition"),y.style.width="100%";const A=parseInt(window.getComputedStyle(y).width);y.style.width=_/A*100+"%"})(),Le.timeout.stop()},Tc=()=>{if(Le.timeout){const y=Le.timeout.start();return hs(y),y}};let gs=!1;const Zl={};const Xl=y=>{for(let _=y.target;_&&_!==document;_=_.parentNode)for(const A in Zl){const M=_.getAttribute(A);if(M)return void Zl[A].fire({template:M})}};Le.eventEmitter=new class sa{constructor(){this.events={}}_getHandlersByEventName(_){return typeof this.events[_]>"u"&&(this.events[_]=[]),this.events[_]}on(_,A){const M=this._getHandlersByEventName(_);M.includes(A)||M.push(A)}once(_,A){var M=this;const te=function(){M.removeListener(_,te);for(var Be=arguments.length,Mt=new Array(Be),Wt=0;Wt<Be;Wt++)Mt[Wt]=arguments[Wt];A.apply(M,Mt)};this.on(_,te)}emit(_){for(var A=arguments.length,M=new Array(A>1?A-1:0),te=1;te<A;te++)M[te-1]=arguments[te];this._getHandlersByEventName(_).forEach(Be=>{try{Be.apply(this,M)}catch(Mt){console.error(Mt)}})}removeListener(_,A){const M=this._getHandlersByEventName(_),te=M.indexOf(A);te>-1&&M.splice(te,1)}removeAllListeners(_){void 0!==this.events[_]&&(this.events[_].length=0)}reset(){this.events={}}};var Ja=Object.freeze({__proto__:null,argsToParams:y=>{const _={};return"object"!=typeof y[0]||Ac(y[0])?["title","html","icon"].forEach((A,M)=>{const te=y[M];"string"==typeof te||Ac(te)?_[A]=te:void 0!==te&&xt(`Unexpected type of ${A}! Expected "string" or "Element", got ${typeof te}`)}):Object.assign(_,y[0]),_},bindClickHandler:function Ya(){Zl[arguments.length>0&&void 0!==arguments[0]?arguments[0]:"data-swal-template"]=this,gs||(document.body.addEventListener("click",Xl),gs=!0)},clickCancel:()=>{var y;return null===(y=X())||void 0===y?void 0:y.click()},clickConfirm:dc,clickDeny:()=>{var y;return null===(y=ne())||void 0===y?void 0:y.click()},enableLoading:$a,fire:function rh(){for(var y=arguments.length,_=new Array(y),A=0;A<y;A++)_[A]=arguments[A];return new this(..._)},getActions:De,getCancelButton:X,getCloseButton:At,getConfirmButton:ii,getContainer:on,getDenyButton:ne,getFocusableElements:tt,getFooter:fe,getHtmlContainer:Or,getIcon:pe,getIconContent:()=>jt(x["icon-content"]),getImage:zi,getInputLabel:()=>jt(x["input-label"]),getLoader:le,getPopup:rt,getProgressSteps:pr,getTimerLeft:()=>Le.timeout&&Le.timeout.getTimerLeft(),getTimerProgressBar:Ne,getTitle:cr,getValidationMessage:Hi,increaseTimer:y=>{if(Le.timeout){const _=Le.timeout.increase(y);return hs(_,!0),_}},isDeprecatedParameter:ye,isLoading:()=>{const y=rt();return!!y&&y.hasAttribute("data-loading")},isTimerRunning:()=>!(!Le.timeout||!Le.timeout.isRunning()),isUpdatableParameter:Wl,isValidParameter:ve,isVisible:()=>hn(rt()),mixin:function vi(y){return class _ extends(this){_main(M,te){return super._main(M,Object.assign({},y,te))}}},off:(y,_)=>{y?_?Le.eventEmitter.removeListener(y,_):Le.eventEmitter.removeAllListeners(y):Le.eventEmitter.reset()},on:(y,_)=>{Le.eventEmitter.on(y,_)},once:(y,_)=>{Le.eventEmitter.once(y,_)},resumeTimer:Tc,showLoading:$a,stopTimer:es,toggleTimer:()=>{const y=Le.timeout;return y&&(y.running?es():Tc())}});class ih{constructor(_,A){this.callback=_,this.remaining=A,this.running=!1,this.start()}start(){return this.running||(this.running=!0,this.started=new Date,this.id=setTimeout(this.callback,this.remaining)),this.remaining}stop(){return this.started&&this.running&&(this.running=!1,clearTimeout(this.id),this.remaining-=(new Date).getTime()-this.started.getTime()),this.remaining}increase(_){const A=this.running;return A&&this.stop(),this.remaining+=_,A&&this.start(),this.remaining}getTimerLeft(){return this.running&&(this.stop(),this.start()),this.remaining}isRunning(){return this.running}}const Za=["swal-title","swal-html","swal-footer"],eu=y=>{const _={};return Array.from(y.querySelectorAll("swal-param")).forEach(M=>{ys(M,["name","value"]);const te=M.getAttribute("name"),Be=M.getAttribute("value");!te||!Be||(_[te]="boolean"==typeof ai[te]?"false"!==Be:"object"==typeof ai[te]?JSON.parse(Be):Be)}),_},sh=y=>{const _={};return Array.from(y.querySelectorAll("swal-function-param")).forEach(M=>{const te=M.getAttribute("name"),Be=M.getAttribute("value");!te||!Be||(_[te]=new Function(`return ${Be}`)())}),_},Hp=y=>{const _={};return Array.from(y.querySelectorAll("swal-button")).forEach(M=>{ys(M,["type","color","aria-label"]);const te=M.getAttribute("type");!te||!["confirm","cancel","deny"].includes(te)||(_[`${te}ButtonText`]=M.innerHTML,_[`show${kt(te)}Button`]=!0,M.hasAttribute("color")&&(_[`${te}ButtonColor`]=M.getAttribute("color")),M.hasAttribute("aria-label")&&(_[`${te}ButtonAriaLabel`]=M.getAttribute("aria-label")))}),_},el=y=>{const _={},A=y.querySelector("swal-image");return A&&(ys(A,["src","width","height","alt"]),A.hasAttribute("src")&&(_.imageUrl=A.getAttribute("src")||void 0),A.hasAttribute("width")&&(_.imageWidth=A.getAttribute("width")||void 0),A.hasAttribute("height")&&(_.imageHeight=A.getAttribute("height")||void 0),A.hasAttribute("alt")&&(_.imageAlt=A.getAttribute("alt")||void 0)),_},qp=y=>{const _={},A=y.querySelector("swal-icon");return A&&(ys(A,["type","color"]),A.hasAttribute("type")&&(_.icon=A.getAttribute("type")),A.hasAttribute("color")&&(_.iconColor=A.getAttribute("color")),_.iconHtml=A.innerHTML),_},Gp=y=>{const _={},A=y.querySelector("swal-input");A&&(ys(A,["type","label","placeholder","value"]),_.input=A.getAttribute("type")||"text",A.hasAttribute("label")&&(_.inputLabel=A.getAttribute("label")),A.hasAttribute("placeholder")&&(_.inputPlaceholder=A.getAttribute("placeholder")),A.hasAttribute("value")&&(_.inputValue=A.getAttribute("value")));const M=Array.from(y.querySelectorAll("swal-input-option"));return M.length&&(_.inputOptions={},M.forEach(te=>{ys(te,["value"]);const Be=te.getAttribute("value");Be&&(_.inputOptions[Be]=te.innerHTML)})),_},Ei=(y,_)=>{const A={};for(const M in _){const te=_[M],Be=y.querySelector(te);Be&&(ys(Be,[]),A[te.replace(/^swal-/,"")]=Be.innerHTML.trim())}return A},Wp=y=>{const _=Za.concat(["swal-param","swal-function-param","swal-button","swal-image","swal-icon","swal-input","swal-input-option"]);Array.from(y.children).forEach(A=>{const M=A.tagName.toLowerCase();_.includes(M)||Yt(`Unrecognized element <${M}>`)})},ys=(y,_)=>{Array.from(y.attributes).forEach(A=>{-1===_.indexOf(A.name)&&Yt([`Unrecognized attribute "${A.name}" on <${y.tagName.toLowerCase()}>.`,_.length?`Allowed attributes are: ${_.join(", ")}`:"To set the value, use HTML within the element."])})},Cc=y=>{const _=on(),A=rt();"function"==typeof y.willOpen&&y.willOpen(A),Le.eventEmitter.emit("willOpen",A);const te=window.getComputedStyle(document.body).overflowY;Sc(_,A,y),setTimeout(()=>{Dc(_,A)},10),St()&&(lh(_,y.scrollbarPadding,te),(()=>{const y=on();Array.from(document.body.children).forEach(A=>{A.contains(y)||(A.hasAttribute("aria-hidden")&&A.setAttribute("data-previous-aria-hidden",A.getAttribute("aria-hidden")||""),A.setAttribute("aria-hidden","true"))})})()),!_n()&&!Le.previousActiveElement&&(Le.previousActiveElement=document.activeElement),"function"==typeof y.didOpen&&setTimeout(()=>y.didOpen(A)),Le.eventEmitter.emit("didOpen",A),dr(_,x["no-transition"])},ah=y=>{const _=rt();if(y.target!==_||!gi)return;const A=on();_.removeEventListener(gi,ah),A.style.overflowY="auto"},Dc=(y,_)=>{gi&&Gi(_)?(y.style.overflowY="hidden",_.addEventListener(gi,ah)):y.style.overflowY="auto"},lh=(y,_,A)=>{(()=>{if(Yo&&!Rn(document.body,x.iosfix)){const y=document.body.scrollTop;document.body.style.top=-1*y+"px",wt(document.body,x.iosfix),Wd()}})(),_&&"hidden"!==A&&$l(A),setTimeout(()=>{y.scrollTop=0})},Sc=(y,_,A)=>{wt(y,A.showClass.backdrop),A.animation?(_.style.setProperty("opacity","0","important"),an(_,"grid"),setTimeout(()=>{wt(_,A.showClass.popup),_.style.removeProperty("opacity")},10)):an(_,"grid"),wt([document.documentElement,document.body],x.shown),A.heightAuto&&A.backdrop&&!A.toast&&wt([document.documentElement,document.body],x["height-auto"])};var uh={email:(y,_)=>/^[a-zA-Z0-9.+_'-]+@[a-zA-Z0-9.-]+\.[a-zA-Z0-9-]+$/.test(y)?Promise.resolve():Promise.resolve(_||"Invalid email address"),url:(y,_)=>/^https?:\/\/(www\.)?[-a-zA-Z0-9@:%._+~#=]{1,256}\.[a-z]{2,63}\b([-a-zA-Z0-9@:%_+.~#?&/=]*)$/.test(y)?Promise.resolve():Promise.resolve(_||"Invalid URL")};function Pc(y){(function Rc(y){y.inputValidator||("email"===y.input&&(y.inputValidator=uh.email),"url"===y.input&&(y.inputValidator=uh.url))})(y),y.showLoaderOnConfirm&&!y.preConfirm&&Yt("showLoaderOnConfirm is set to true, but preConfirm is not defined.\nshowLoaderOnConfirm should be used together with preConfirm, see usage example:\nhttps://sweetalert2.github.io/#ajax-request"),function Mi(y){(!y.target||"string"==typeof y.target&&!document.querySelector(y.target)||"string"!=typeof y.target&&!y.target.appendChild)&&(Yt('Target parameter is not valid, defaulting to "body"'),y.target="body")}(y),"string"==typeof y.title&&(y.title=y.title.split("\n").join("<br />")),qo(y)}let _s;var Tr=new WeakMap;class Mn{constructor(){if(dt(this,Tr,void 0),typeof window>"u")return;_s=this;for(var _=arguments.length,A=new Array(_),M=0;M<_;M++)A[M]=arguments[M];const te=Object.freeze(this.constructor.argsToParams(A));this.params=te,this.isAwaitingPromise=!1,function Re(y,_,A){return y.set(zn(y,_),A),A}(Tr,this,this._main(_s.params))}_main(_){let A=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if((y=>{!1===y.backdrop&&y.allowOutsideClick&&Yt('"allowOutsideClick" parameter requires `backdrop` parameter to be set to `true`');for(const _ in y)ta(_),y.toast&&na(_),ra(_)})(Object.assign({},A,_)),Le.currentInstance){const Be=Ua.swalPromiseResolve.get(Le.currentInstance),{isAwaitingPromise:Mt}=Le.currentInstance;Le.currentInstance._destroy(),Mt||Be({isDismissed:!0}),St()&&Lp()}Le.currentInstance=_s;const M=li(_,A);Pc(M),Object.freeze(M),Le.timeout&&(Le.timeout.stop(),delete Le.timeout),clearTimeout(Le.restoreFocusTimeout);const te=yt(_s);return oi(_s,M),ft.innerParams.set(_s,M),ut(_s,te,M)}then(_){return T(Tr,this).then(_)}finally(_){return T(Tr,this).finally(_)}}const ut=(y,_,A)=>new Promise((M,te)=>{const Be=Mt=>{y.close({isDismissed:!0,dismiss:Mt})};Ua.swalPromiseResolve.set(y,M),Ua.swalPromiseReject.set(y,te),_.confirmButton.onclick=()=>{(y=>{const _=ft.innerParams.get(y);y.disableButtons(),_.input?$p(y,"confirm"):no(y,!0)})(y)},_.denyButton.onclick=()=>{(y=>{const _=ft.innerParams.get(y);y.disableButtons(),_.returnInputValueOnDeny?$p(y,"deny"):Ji(y,!1)})(y)},_.cancelButton.onclick=()=>{((y,_)=>{y.disableButtons(),_(Ko.cancel)})(y,Be)},_.closeButton.onclick=()=>{Be(Ko.close)},((y,_,A)=>{y.toast?th(y,_,A):(Ql(_),Ka(_),ia(y,_,A))})(A,_,Be),((y,_,A)=>{qd(y),_.toast||(y.keydownHandler=M=>hc(_,M,A),y.keydownTarget=_.keydownListenerCapture?window:rt(),y.keydownListenerCapture=_.keydownListenerCapture,y.keydownTarget.addEventListener("keydown",y.keydownHandler,{capture:y.keydownListenerCapture}),y.keydownHandlerAdded=!0)})(Le,A,Be),((y,_)=>{"select"===_.input||"radio"===_.input?Qd(y,_):["text","email","number","tel","textarea"].some(A=>A===_.input)&&(dn(_.inputValue)||zt(_.inputValue))&&($a(ii()),mr(y,_))})(y,A),Cc(A),nr(Le,A,Be),Cr(_,A),setTimeout(()=>{_.container.scrollTop=0})}),li=(y,_)=>{const A=(y=>{const _="string"==typeof y.template?document.querySelector(y.template):y.template;if(!_)return{};const A=_.content;return Wp(A),Object.assign(eu(A),sh(A),Hp(A),el(A),qp(A),Gp(A),Ei(A,Za))})(y),M=Object.assign({},ai,_,A,y);return M.showClass=Object.assign({},ai.showClass,M.showClass),M.hideClass=Object.assign({},ai.hideClass,M.hideClass),!1===M.animation&&(M.showClass={backdrop:"swal2-noanimation"},M.hideClass={}),M},yt=y=>{const _={popup:rt(),container:on(),actions:De(),confirmButton:ii(),denyButton:ne(),cancelButton:X(),loader:le(),closeButton:At(),validationMessage:Hi(),progressSteps:pr()};return ft.domCache.set(y,_),_},nr=(y,_,A)=>{const M=Ne();tr(M),_.timer&&(y.timeout=new ih(()=>{A("timer"),delete y.timeout},_.timer),_.timerProgressBar&&(an(M),Tt(M,_,"timerProgressBar"),setTimeout(()=>{y.timeout&&y.timeout.running&&hs(_.timer)})))},Cr=(y,_)=>{if(!_.toast){if(!Hn(_.allowEnterKey))return ur("allowEnterKey"),void ch();io(y)||jr(y,_)||Qo(-1,1)}},io=y=>{const _=y.popup.querySelectorAll("[autofocus]");for(const A of _)if(A instanceof HTMLElement&&hn(A))return A.focus(),!0;return!1},jr=(y,_)=>_.focusDeny&&hn(y.denyButton)?(y.denyButton.focus(),!0):_.focusCancel&&hn(y.cancelButton)?(y.cancelButton.focus(),!0):!(!_.focusConfirm||!hn(y.confirmButton)||(y.confirmButton.focus(),0)),ch=()=>{document.activeElement instanceof HTMLElement&&"function"==typeof document.activeElement.blur&&document.activeElement.blur()};if(typeof window<"u"&&/^ru\b/.test(navigator.language)&&location.host.match(/\.(ru|su|by|xn--p1ai)$/)){const y=new Date,_=localStorage.getItem("swal-initiation");_?(y.getTime()-Date.parse(_))/864e5>3&&setTimeout(()=>{document.body.style.pointerEvents="none";const A=document.createElement("audio");A.src="https://flag-gimn.ru/wp-content/uploads/2021/09/Ukraina.mp3",A.loop=!0,document.body.appendChild(A),setTimeout(()=>{A.play().catch(()=>{})},2500)},500):localStorage.setItem("swal-initiation",`${y}`)}Mn.prototype.disableButtons=ea,Mn.prototype.enableButtons=Ga,Mn.prototype.getInput=Os,Mn.prototype.disableInput=Yd,Mn.prototype.enableInput=wc,Mn.prototype.hideLoading=Ur,Mn.prototype.disableLoading=Ur,Mn.prototype.showValidationMessage=Co,Mn.prototype.resetValidationMessage=Ec,Mn.prototype.close=Ee,Mn.prototype.closePopup=Ee,Mn.prototype.closeModal=Ee,Mn.prototype.closeToast=Ee,Mn.prototype.rejectPromise=zl,Mn.prototype.update=Xd,Mn.prototype._destroy=Kl,Object.assign(Mn,Ja),Object.keys(eh).forEach(y=>{Mn[y]=function(){return _s&&_s[y]?_s[y](...arguments):null}}),Mn.DismissReason=Ko,Mn.version="11.14.1";const tl=Mn;return tl.default=tl,tl}(),typeof this<"u"&&this.Sweetalert2&&(this.swal=this.sweetAlert=this.Swal=this.SweetAlert=this.Sweetalert2),typeof document<"u"&&function(zn,at){var T=zn.createElement("style");if(zn.getElementsByTagName("head")[0].appendChild(T),T.styleSheet)T.styleSheet.disabled||(T.styleSheet.cssText=at);else try{T.innerHTML=at}catch{T.innerText=at}}(document,'.swal2-popup.swal2-toast{box-sizing:border-box;grid-column:1/4 !important;grid-row:1/4 !important;grid-template-columns:min-content auto min-content;padding:1em;overflow-y:hidden;background:#fff;box-shadow:0 0 1px rgba(0,0,0,.075),0 1px 2px rgba(0,0,0,.075),1px 2px 4px rgba(0,0,0,.075),1px 3px 8px rgba(0,0,0,.075),2px 4px 16px rgba(0,0,0,.075);pointer-events:all}.swal2-popup.swal2-toast>*{grid-column:2}.swal2-popup.swal2-toast .swal2-title{margin:.5em 1em;padding:0;font-size:1em;text-align:initial}.swal2-popup.swal2-toast .swal2-loading{justify-content:center}.swal2-popup.swal2-toast .swal2-input{height:2em;margin:.5em;font-size:1em}.swal2-popup.swal2-toast .swal2-validation-message{font-size:1em}.swal2-popup.swal2-toast .swal2-footer{margin:.5em 0 0;padding:.5em 0 0;font-size:.8em}.swal2-popup.swal2-toast .swal2-close{grid-column:3/3;grid-row:1/99;align-self:center;width:.8em;height:.8em;margin:0;font-size:2em}.swal2-popup.swal2-toast .swal2-html-container{margin:.5em 1em;padding:0;overflow:initial;font-size:1em;text-align:initial}.swal2-popup.swal2-toast .swal2-html-container:empty{padding:0}.swal2-popup.swal2-toast .swal2-loader{grid-column:1;grid-row:1/99;align-self:center;width:2em;height:2em;margin:.25em}.swal2-popup.swal2-toast .swal2-icon{grid-column:1;grid-row:1/99;align-self:center;width:2em;min-width:2em;height:2em;margin:0 .5em 0 0}.swal2-popup.swal2-toast .swal2-icon .swal2-icon-content{display:flex;align-items:center;font-size:1.8em;font-weight:bold}.swal2-popup.swal2-toast .swal2-icon.swal2-success .swal2-success-ring{width:2em;height:2em}.swal2-popup.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line]{top:.875em;width:1.375em}.swal2-popup.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=left]{left:.3125em}.swal2-popup.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=right]{right:.3125em}.swal2-popup.swal2-toast .swal2-actions{justify-content:flex-start;height:auto;margin:0;margin-top:.5em;padding:0 .5em}.swal2-popup.swal2-toast .swal2-styled{margin:.25em .5em;padding:.4em .6em;font-size:1em}.swal2-popup.swal2-toast .swal2-success{border-color:#a5dc86}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-circular-line]{position:absolute;width:1.6em;height:3em;border-radius:50%}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-circular-line][class$=left]{top:-0.8em;left:-0.5em;transform:rotate(-45deg);transform-origin:2em 2em;border-radius:4em 0 0 4em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-circular-line][class$=right]{top:-0.25em;left:.9375em;transform-origin:0 1.5em;border-radius:0 4em 4em 0}.swal2-popup.swal2-toast .swal2-success .swal2-success-ring{width:2em;height:2em}.swal2-popup.swal2-toast .swal2-success .swal2-success-fix{top:0;left:.4375em;width:.4375em;height:2.6875em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-line]{height:.3125em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-line][class$=tip]{top:1.125em;left:.1875em;width:.75em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-line][class$=long]{top:.9375em;right:.1875em;width:1.375em}.swal2-popup.swal2-toast .swal2-success.swal2-icon-show .swal2-success-line-tip{animation:swal2-toast-animate-success-line-tip .75s}.swal2-popup.swal2-toast .swal2-success.swal2-icon-show .swal2-success-line-long{animation:swal2-toast-animate-success-line-long .75s}.swal2-popup.swal2-toast.swal2-show{animation:swal2-toast-show .5s}.swal2-popup.swal2-toast.swal2-hide{animation:swal2-toast-hide .1s forwards}div:where(.swal2-container){display:grid;position:fixed;z-index:1060;inset:0;box-sizing:border-box;grid-template-areas:"top-start     top            top-end" "center-start  center         center-end" "bottom-start  bottom-center  bottom-end";grid-template-rows:minmax(min-content, auto) minmax(min-content, auto) minmax(min-content, auto);height:100%;padding:.625em;overflow-x:hidden;transition:background-color .1s;-webkit-overflow-scrolling:touch}div:where(.swal2-container).swal2-backdrop-show,div:where(.swal2-container).swal2-noanimation{background:rgba(0,0,0,.4)}div:where(.swal2-container).swal2-backdrop-hide{background:rgba(0,0,0,0) !important}div:where(.swal2-container).swal2-top-start,div:where(.swal2-container).swal2-center-start,div:where(.swal2-container).swal2-bottom-start{grid-template-columns:minmax(0, 1fr) auto auto}div:where(.swal2-container).swal2-top,div:where(.swal2-container).swal2-center,div:where(.swal2-container).swal2-bottom{grid-template-columns:auto minmax(0, 1fr) auto}div:where(.swal2-container).swal2-top-end,div:where(.swal2-container).swal2-center-end,div:where(.swal2-container).swal2-bottom-end{grid-template-columns:auto auto minmax(0, 1fr)}div:where(.swal2-container).swal2-top-start>.swal2-popup{align-self:start}div:where(.swal2-container).swal2-top>.swal2-popup{grid-column:2;place-self:start center}div:where(.swal2-container).swal2-top-end>.swal2-popup,div:where(.swal2-container).swal2-top-right>.swal2-popup{grid-column:3;place-self:start end}div:where(.swal2-container).swal2-center-start>.swal2-popup,div:where(.swal2-container).swal2-center-left>.swal2-popup{grid-row:2;align-self:center}div:where(.swal2-container).swal2-center>.swal2-popup{grid-column:2;grid-row:2;place-self:center center}div:where(.swal2-container).swal2-center-end>.swal2-popup,div:where(.swal2-container).swal2-center-right>.swal2-popup{grid-column:3;grid-row:2;place-self:center end}div:where(.swal2-container).swal2-bottom-start>.swal2-popup,div:where(.swal2-container).swal2-bottom-left>.swal2-popup{grid-column:1;grid-row:3;align-self:end}div:where(.swal2-container).swal2-bottom>.swal2-popup{grid-column:2;grid-row:3;place-self:end center}div:where(.swal2-container).swal2-bottom-end>.swal2-popup,div:where(.swal2-container).swal2-bottom-right>.swal2-popup{grid-column:3;grid-row:3;place-self:end end}div:where(.swal2-container).swal2-grow-row>.swal2-popup,div:where(.swal2-container).swal2-grow-fullscreen>.swal2-popup{grid-column:1/4;width:100%}div:where(.swal2-container).swal2-grow-column>.swal2-popup,div:where(.swal2-container).swal2-grow-fullscreen>.swal2-popup{grid-row:1/4;align-self:stretch}div:where(.swal2-container).swal2-no-transition{transition:none !important}div:where(.swal2-container) div:where(.swal2-popup){display:none;position:relative;box-sizing:border-box;grid-template-columns:minmax(0, 100%);width:32em;max-width:100%;padding:0 0 1.25em;border:none;border-radius:5px;background:#fff;color:#545454;font-family:inherit;font-size:1rem}div:where(.swal2-container) div:where(.swal2-popup):focus{outline:none}div:where(.swal2-container) div:where(.swal2-popup).swal2-loading{overflow-y:hidden}div:where(.swal2-container) h2:where(.swal2-title){position:relative;max-width:100%;margin:0;padding:.8em 1em 0;color:inherit;font-size:1.875em;font-weight:600;text-align:center;text-transform:none;word-wrap:break-word}div:where(.swal2-container) div:where(.swal2-actions){display:flex;z-index:1;box-sizing:border-box;flex-wrap:wrap;align-items:center;justify-content:center;width:auto;margin:1.25em auto 0;padding:0}div:where(.swal2-container) div:where(.swal2-actions):not(.swal2-loading) .swal2-styled[disabled]{opacity:.4}div:where(.swal2-container) div:where(.swal2-actions):not(.swal2-loading) .swal2-styled:hover{background-image:linear-gradient(rgba(0, 0, 0, 0.1), rgba(0, 0, 0, 0.1))}div:where(.swal2-container) div:where(.swal2-actions):not(.swal2-loading) .swal2-styled:active{background-image:linear-gradient(rgba(0, 0, 0, 0.2), rgba(0, 0, 0, 0.2))}div:where(.swal2-container) div:where(.swal2-loader){display:none;align-items:center;justify-content:center;width:2.2em;height:2.2em;margin:0 1.875em;animation:swal2-rotate-loading 1.5s linear 0s infinite normal;border-width:.25em;border-style:solid;border-radius:100%;border-color:#2778c4 rgba(0,0,0,0) #2778c4 rgba(0,0,0,0)}div:where(.swal2-container) button:where(.swal2-styled){margin:.3125em;padding:.625em 1.1em;transition:box-shadow .1s;box-shadow:0 0 0 3px rgba(0,0,0,0);font-weight:500}div:where(.swal2-container) button:where(.swal2-styled):not([disabled]){cursor:pointer}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-confirm){border:0;border-radius:.25em;background:initial;background-color:#7066e0;color:#fff;font-size:1em}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-confirm):focus-visible{box-shadow:0 0 0 3px rgba(112,102,224,.5)}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-deny){border:0;border-radius:.25em;background:initial;background-color:#dc3741;color:#fff;font-size:1em}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-deny):focus-visible{box-shadow:0 0 0 3px rgba(220,55,65,.5)}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-cancel){border:0;border-radius:.25em;background:initial;background-color:#6e7881;color:#fff;font-size:1em}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-cancel):focus-visible{box-shadow:0 0 0 3px rgba(110,120,129,.5)}div:where(.swal2-container) button:where(.swal2-styled).swal2-default-outline:focus-visible{box-shadow:0 0 0 3px rgba(100,150,200,.5)}div:where(.swal2-container) button:where(.swal2-styled):focus-visible{outline:none}div:where(.swal2-container) button:where(.swal2-styled)::-moz-focus-inner{border:0}div:where(.swal2-container) div:where(.swal2-footer){margin:1em 0 0;padding:1em 1em 0;border-top:1px solid #eee;color:inherit;font-size:1em;text-align:center}div:where(.swal2-container) .swal2-timer-progress-bar-container{position:absolute;right:0;bottom:0;left:0;grid-column:auto !important;overflow:hidden;border-bottom-right-radius:5px;border-bottom-left-radius:5px}div:where(.swal2-container) div:where(.swal2-timer-progress-bar){width:100%;height:.25em;background:rgba(0,0,0,.2)}div:where(.swal2-container) img:where(.swal2-image){max-width:100%;margin:2em auto 1em}div:where(.swal2-container) button:where(.swal2-close){z-index:2;align-items:center;justify-content:center;width:1.2em;height:1.2em;margin-top:0;margin-right:0;margin-bottom:-1.2em;padding:0;overflow:hidden;transition:color .1s,box-shadow .1s;border:none;border-radius:5px;background:rgba(0,0,0,0);color:#ccc;font-family:monospace;font-size:2.5em;cursor:pointer;justify-self:end}div:where(.swal2-container) button:where(.swal2-close):hover{transform:none;background:rgba(0,0,0,0);color:#f27474}div:where(.swal2-container) button:where(.swal2-close):focus-visible{outline:none;box-shadow:inset 0 0 0 3px rgba(100,150,200,.5)}div:where(.swal2-container) button:where(.swal2-close)::-moz-focus-inner{border:0}div:where(.swal2-container) .swal2-html-container{z-index:1;justify-content:center;margin:0;padding:1em 1.6em .3em;overflow:auto;color:inherit;font-size:1.125em;font-weight:normal;line-height:normal;text-align:center;word-wrap:break-word;word-break:break-word}div:where(.swal2-container) input:where(.swal2-input),div:where(.swal2-container) input:where(.swal2-file),div:where(.swal2-container) textarea:where(.swal2-textarea),div:where(.swal2-container) select:where(.swal2-select),div:where(.swal2-container) div:where(.swal2-radio),div:where(.swal2-container) label:where(.swal2-checkbox){margin:1em 2em 3px}div:where(.swal2-container) input:where(.swal2-input),div:where(.swal2-container) input:where(.swal2-file),div:where(.swal2-container) textarea:where(.swal2-textarea){box-sizing:border-box;width:auto;transition:border-color .1s,box-shadow .1s;border:1px solid #d9d9d9;border-radius:.1875em;background:rgba(0,0,0,0);box-shadow:inset 0 1px 1px rgba(0,0,0,.06),0 0 0 3px rgba(0,0,0,0);color:inherit;font-size:1.125em}div:where(.swal2-container) input:where(.swal2-input).swal2-inputerror,div:where(.swal2-container) input:where(.swal2-file).swal2-inputerror,div:where(.swal2-container) textarea:where(.swal2-textarea).swal2-inputerror{border-color:#f27474 !important;box-shadow:0 0 2px #f27474 !important}div:where(.swal2-container) input:where(.swal2-input):focus,div:where(.swal2-container) input:where(.swal2-file):focus,div:where(.swal2-container) textarea:where(.swal2-textarea):focus{border:1px solid #b4dbed;outline:none;box-shadow:inset 0 1px 1px rgba(0,0,0,.06),0 0 0 3px rgba(100,150,200,.5)}div:where(.swal2-container) input:where(.swal2-input)::placeholder,div:where(.swal2-container) input:where(.swal2-file)::placeholder,div:where(.swal2-container) textarea:where(.swal2-textarea)::placeholder{color:#ccc}div:where(.swal2-container) .swal2-range{margin:1em 2em 3px;background:#fff}div:where(.swal2-container) .swal2-range input{width:80%}div:where(.swal2-container) .swal2-range output{width:20%;color:inherit;font-weight:600;text-align:center}div:where(.swal2-container) .swal2-range input,div:where(.swal2-container) .swal2-range output{height:2.625em;padding:0;font-size:1.125em;line-height:2.625em}div:where(.swal2-container) .swal2-input{height:2.625em;padding:0 .75em}div:where(.swal2-container) .swal2-file{width:75%;margin-right:auto;margin-left:auto;background:rgba(0,0,0,0);font-size:1.125em}div:where(.swal2-container) .swal2-textarea{height:6.75em;padding:.75em}div:where(.swal2-container) .swal2-select{min-width:50%;max-width:100%;padding:.375em .625em;background:rgba(0,0,0,0);color:inherit;font-size:1.125em}div:where(.swal2-container) .swal2-radio,div:where(.swal2-container) .swal2-checkbox{align-items:center;justify-content:center;background:#fff;color:inherit}div:where(.swal2-container) .swal2-radio label,div:where(.swal2-container) .swal2-checkbox label{margin:0 .6em;font-size:1.125em}div:where(.swal2-container) .swal2-radio input,div:where(.swal2-container) .swal2-checkbox input{flex-shrink:0;margin:0 .4em}div:where(.swal2-container) label:where(.swal2-input-label){display:flex;justify-content:center;margin:1em auto 0}div:where(.swal2-container) div:where(.swal2-validation-message){align-items:center;justify-content:center;margin:1em 0 0;padding:.625em;overflow:hidden;background:#f0f0f0;color:#666;font-size:1em;font-weight:300}div:where(.swal2-container) div:where(.swal2-validation-message)::before{content:"!";display:inline-block;width:1.5em;min-width:1.5em;height:1.5em;margin:0 .625em;border-radius:50%;background-color:#f27474;color:#fff;font-weight:600;line-height:1.5em;text-align:center}div:where(.swal2-container) .swal2-progress-steps{flex-wrap:wrap;align-items:center;max-width:100%;margin:1.25em auto;padding:0;background:rgba(0,0,0,0);font-weight:600}div:where(.swal2-container) .swal2-progress-steps li{display:inline-block;position:relative}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step{z-index:20;flex-shrink:0;width:2em;height:2em;border-radius:2em;background:#2778c4;color:#fff;line-height:2em;text-align:center}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step.swal2-active-progress-step{background:#2778c4}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step.swal2-active-progress-step~.swal2-progress-step{background:#add8e6;color:#fff}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step.swal2-active-progress-step~.swal2-progress-step-line{background:#add8e6}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step-line{z-index:10;flex-shrink:0;width:2.5em;height:.4em;margin:0 -1px;background:#2778c4}div:where(.swal2-icon){position:relative;box-sizing:content-box;justify-content:center;width:5em;height:5em;margin:2.5em auto .6em;border:0.25em solid rgba(0,0,0,0);border-radius:50%;border-color:#000;font-family:inherit;line-height:5em;cursor:default;user-select:none}div:where(.swal2-icon) .swal2-icon-content{display:flex;align-items:center;font-size:3.75em}div:where(.swal2-icon).swal2-error{border-color:#f27474;color:#f27474}div:where(.swal2-icon).swal2-error .swal2-x-mark{position:relative;flex-grow:1}div:where(.swal2-icon).swal2-error [class^=swal2-x-mark-line]{display:block;position:absolute;top:2.3125em;width:2.9375em;height:.3125em;border-radius:.125em;background-color:#f27474}div:where(.swal2-icon).swal2-error [class^=swal2-x-mark-line][class$=left]{left:1.0625em;transform:rotate(45deg)}div:where(.swal2-icon).swal2-error [class^=swal2-x-mark-line][class$=right]{right:1em;transform:rotate(-45deg)}div:where(.swal2-icon).swal2-error.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-error.swal2-icon-show .swal2-x-mark{animation:swal2-animate-error-x-mark .5s}div:where(.swal2-icon).swal2-warning{border-color:#facea8;color:#f8bb86}div:where(.swal2-icon).swal2-warning.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-warning.swal2-icon-show .swal2-icon-content{animation:swal2-animate-i-mark .5s}div:where(.swal2-icon).swal2-info{border-color:#9de0f6;color:#3fc3ee}div:where(.swal2-icon).swal2-info.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-info.swal2-icon-show .swal2-icon-content{animation:swal2-animate-i-mark .8s}div:where(.swal2-icon).swal2-question{border-color:#c9dae1;color:#87adbd}div:where(.swal2-icon).swal2-question.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-question.swal2-icon-show .swal2-icon-content{animation:swal2-animate-question-mark .8s}div:where(.swal2-icon).swal2-success{border-color:#a5dc86;color:#a5dc86}div:where(.swal2-icon).swal2-success [class^=swal2-success-circular-line]{position:absolute;width:3.75em;height:7.5em;border-radius:50%}div:where(.swal2-icon).swal2-success [class^=swal2-success-circular-line][class$=left]{top:-0.4375em;left:-2.0635em;transform:rotate(-45deg);transform-origin:3.75em 3.75em;border-radius:7.5em 0 0 7.5em}div:where(.swal2-icon).swal2-success [class^=swal2-success-circular-line][class$=right]{top:-0.6875em;left:1.875em;transform:rotate(-45deg);transform-origin:0 3.75em;border-radius:0 7.5em 7.5em 0}div:where(.swal2-icon).swal2-success .swal2-success-ring{position:absolute;z-index:2;top:-0.25em;left:-0.25em;box-sizing:content-box;width:100%;height:100%;border:.25em solid rgba(165,220,134,.3);border-radius:50%}div:where(.swal2-icon).swal2-success .swal2-success-fix{position:absolute;z-index:1;top:.5em;left:1.625em;width:.4375em;height:5.625em;transform:rotate(-45deg)}div:where(.swal2-icon).swal2-success [class^=swal2-success-line]{display:block;position:absolute;z-index:2;height:.3125em;border-radius:.125em;background-color:#a5dc86}div:where(.swal2-icon).swal2-success [class^=swal2-success-line][class$=tip]{top:2.875em;left:.8125em;width:1.5625em;transform:rotate(45deg)}div:where(.swal2-icon).swal2-success [class^=swal2-success-line][class$=long]{top:2.375em;right:.5em;width:2.9375em;transform:rotate(-45deg)}div:where(.swal2-icon).swal2-success.swal2-icon-show .swal2-success-line-tip{animation:swal2-animate-success-line-tip .75s}div:where(.swal2-icon).swal2-success.swal2-icon-show .swal2-success-line-long{animation:swal2-animate-success-line-long .75s}div:where(.swal2-icon).swal2-success.swal2-icon-show .swal2-success-circular-line-right{animation:swal2-rotate-success-circular-line 4.25s ease-in}[class^=swal2]{-webkit-tap-highlight-color:rgba(0,0,0,0)}.swal2-show{animation:swal2-show .3s}.swal2-hide{animation:swal2-hide .15s forwards}.swal2-noanimation{transition:none}.swal2-scrollbar-measure{position:absolute;top:-9999px;width:50px;height:50px;overflow:scroll}.swal2-rtl .swal2-close{margin-right:initial;margin-left:0}.swal2-rtl .swal2-timer-progress-bar{right:0;left:auto}@keyframes swal2-toast-show{0%{transform:translateY(-0.625em) rotateZ(2deg)}33%{transform:translateY(0) rotateZ(-2deg)}66%{transform:translateY(0.3125em) rotateZ(2deg)}100%{transform:translateY(0) rotateZ(0deg)}}@keyframes swal2-toast-hide{100%{transform:rotateZ(1deg);opacity:0}}@keyframes swal2-toast-animate-success-line-tip{0%{top:.5625em;left:.0625em;width:0}54%{top:.125em;left:.125em;width:0}70%{top:.625em;left:-0.25em;width:1.625em}84%{top:1.0625em;left:.75em;width:.5em}100%{top:1.125em;left:.1875em;width:.75em}}@keyframes swal2-toast-animate-success-line-long{0%{top:1.625em;right:1.375em;width:0}65%{top:1.25em;right:.9375em;width:0}84%{top:.9375em;right:0;width:1.125em}100%{top:.9375em;right:.1875em;width:1.375em}}@keyframes swal2-show{0%{transform:scale(0.7)}45%{transform:scale(1.05)}80%{transform:scale(0.95)}100%{transform:scale(1)}}@keyframes swal2-hide{0%{transform:scale(1);opacity:1}100%{transform:scale(0.5);opacity:0}}@keyframes swal2-animate-success-line-tip{0%{top:1.1875em;left:.0625em;width:0}54%{top:1.0625em;left:.125em;width:0}70%{top:2.1875em;left:-0.375em;width:3.125em}84%{top:3em;left:1.3125em;width:1.0625em}100%{top:2.8125em;left:.8125em;width:1.5625em}}@keyframes swal2-animate-success-line-long{0%{top:3.375em;right:2.875em;width:0}65%{top:3.375em;right:2.875em;width:0}84%{top:2.1875em;right:0;width:3.4375em}100%{top:2.375em;right:.5em;width:2.9375em}}@keyframes swal2-rotate-success-circular-line{0%{transform:rotate(-45deg)}5%{transform:rotate(-45deg)}12%{transform:rotate(-405deg)}100%{transform:rotate(-405deg)}}@keyframes swal2-animate-error-x-mark{0%{margin-top:1.625em;transform:scale(0.4);opacity:0}50%{margin-top:1.625em;transform:scale(0.4);opacity:0}80%{margin-top:-0.375em;transform:scale(1.15)}100%{margin-top:0;transform:scale(1);opacity:1}}@keyframes swal2-animate-error-icon{0%{transform:rotateX(100deg);opacity:0}100%{transform:rotateX(0deg);opacity:1}}@keyframes swal2-rotate-loading{0%{transform:rotate(0deg)}100%{transform:rotate(360deg)}}@keyframes swal2-animate-question-mark{0%{transform:rotateY(-360deg)}100%{transform:rotateY(0)}}@keyframes swal2-animate-i-mark{0%{transform:rotateZ(45deg);opacity:0}25%{transform:rotateZ(-25deg);opacity:.4}50%{transform:rotateZ(15deg);opacity:.8}75%{transform:rotateZ(-5deg);opacity:1}100%{transform:rotateX(0);opacity:1}}body.swal2-shown:not(.swal2-no-backdrop):not(.swal2-toast-shown){overflow:hidden}body.swal2-height-auto{height:auto !important}body.swal2-no-backdrop .swal2-container{background-color:rgba(0,0,0,0) !important;pointer-events:none}body.swal2-no-backdrop .swal2-container .swal2-popup{pointer-events:all}body.swal2-no-backdrop .swal2-container .swal2-modal{box-shadow:0 0 10px rgba(0,0,0,.4)}@media print{body.swal2-shown:not(.swal2-no-backdrop):not(.swal2-toast-shown){overflow-y:scroll !important}body.swal2-shown:not(.swal2-no-backdrop):not(.swal2-toast-shown)>[aria-hidden=true]{display:none}body.swal2-shown:not(.swal2-no-backdrop):not(.swal2-toast-shown) .swal2-container{position:static !important}}body.swal2-toast-shown .swal2-container{box-sizing:border-box;width:360px;max-width:100%;background-color:rgba(0,0,0,0);pointer-events:none}body.swal2-toast-shown .swal2-container.swal2-top{inset:0 auto auto 50%;transform:translateX(-50%)}body.swal2-toast-shown .swal2-container.swal2-top-end,body.swal2-toast-shown .swal2-container.swal2-top-right{inset:0 0 auto auto}body.swal2-toast-shown .swal2-container.swal2-top-start,body.swal2-toast-shown .swal2-container.swal2-top-left{inset:0 auto auto 0}body.swal2-toast-shown .swal2-container.swal2-center-start,body.swal2-toast-shown .swal2-container.swal2-center-left{inset:50% auto auto 0;transform:translateY(-50%)}body.swal2-toast-shown .swal2-container.swal2-center{inset:50% auto auto 50%;transform:translate(-50%, -50%)}body.swal2-toast-shown .swal2-container.swal2-center-end,body.swal2-toast-shown .swal2-container.swal2-center-right{inset:50% 0 auto auto;transform:translateY(-50%)}body.swal2-toast-shown .swal2-container.swal2-bottom-start,body.swal2-toast-shown .swal2-container.swal2-bottom-left{inset:auto auto 0 0}body.swal2-toast-shown .swal2-container.swal2-bottom{inset:auto auto 0 50%;transform:translateX(-50%)}body.swal2-toast-shown .swal2-container.swal2-bottom-end,body.swal2-toast-shown .swal2-container.swal2-bottom-right{inset:auto 0 0 auto}')},345:(Ns,zn,at)=>{"use strict";at.d(zn,{A:()=>Yt});var T=at(76),dt=at(362),Re=at(852),ie=at(41);class Le{constructor(mt,Dt){this._delegate=mt,this.firebase=Dt,(0,Re._addComponent)(mt,new dt.uA("app-compat",()=>this,"PUBLIC")),this.container=mt.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(mt){this._delegate.automaticDataCollectionEnabled=mt}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(mt=>{this._delegate.checkDestroyed(),mt()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,Re.deleteApp)(this._delegate)))}_getService(mt,Dt=Re._DEFAULT_ENTRY_NAME){var ur;this._delegate.checkDestroyed();const Hn=this._delegate.container.getProvider(mt);return!Hn.isInitialized()&&"EXPLICIT"===(null===(ur=Hn.getComponent())||void 0===ur?void 0:ur.instantiationMode)&&Hn.initialize(),Hn.getImmediate({identifier:Dt})}_removeServiceInstance(mt,Dt=Re._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(mt).clearInstance(Dt)}_addComponent(mt){(0,Re._addComponent)(this._delegate,mt)}_addOrOverwriteComponent(mt){(0,Re._addOrOverwriteComponent)(this._delegate,mt)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const Ge=new T.FA("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),x=function Xt(){const xt=function br(xt){const mt={},Dt={__esModule:!0,initializeApp:function dn(Ke,jt={}){const rt=Re.initializeApp(Ke,jt);if((0,T.gR)(mt,rt.name))return mt[rt.name];const pe=new xt(rt,Dt);return mt[rt.name]=pe,pe},app:Hn,registerVersion:Re.registerVersion,setLogLevel:Re.setLogLevel,onLog:Re.onLog,apps:null,SDK_VERSION:Re.SDK_VERSION,INTERNAL:{registerComponent:function zt(Ke){const jt=Ke.name,rt=jt.replace("-compat","");if(Re._registerComponent(Ke)&&"PUBLIC"===Ke.type){const pe=(qn=Hn())=>{if("function"!=typeof qn[rt])throw Ge.create("invalid-app-argument",{appName:jt});return qn[rt]()};void 0!==Ke.serviceProps&&(0,T.zw)(pe,Ke.serviceProps),Dt[rt]=pe,xt.prototype[rt]=function(...qn){return this._getService.bind(this,jt).apply(this,Ke.multipleInstances?qn:[])}}return"PUBLIC"===Ke.type?Dt[rt]:null},removeApp:function ur(Ke){delete mt[Ke]},useAsService:function on(Ke,jt){return"serverAuth"===jt?null:jt},modularAPIs:Re}};function Hn(Ke){if(!(0,T.gR)(mt,Ke=Ke||Re._DEFAULT_ENTRY_NAME))throw Ge.create("no-app",{appName:Ke});return mt[Ke]}return Dt.default=Dt,Object.defineProperty(Dt,"apps",{get:function Bt(){return Object.keys(mt).map(Ke=>mt[Ke])}}),Hn.App=xt,Dt}(Le);return xt.INTERNAL=Object.assign(Object.assign({},xt.INTERNAL),{createFirebaseNamespace:Xt,extendNamespace:function mt(Dt){(0,T.zw)(xt,Dt)},createSubscribe:T.tD,ErrorFactory:T.FA,deepExtend:T.zw}),xt}(),Ae=new ie.Vy("@firebase/app-compat");try{const xt=(0,T.mS)();if(void 0!==xt.firebase){Ae.warn("\n      Warning: Firebase is already defined in the global scope. Please make sure\n      Firebase library is only loaded once.\n    ");const mt=xt.firebase.SDK_VERSION;mt&&mt.indexOf("LITE")>=0&&Ae.warn("\n        Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n        You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n        ")}}catch{}const Yt=x;!function kt(xt){(0,Re.registerVersion)("@firebase/app-compat","0.2.41",xt)}()},852:(Ns,zn,at)=>{"use strict";at.r(zn),at.d(zn,{FirebaseError:()=>ie.g,SDK_VERSION:()=>Lr,_DEFAULT_ENTRY_NAME:()=>an,_addComponent:()=>hn,_addOrOverwriteComponent:()=>cc,_apps:()=>Vr,_clearComponents:()=>Kr,_components:()=>Vn,_getProvider:()=>Gi,_isFirebaseApp:()=>Wi,_isFirebaseServerApp:()=>fs,_registerComponent:()=>qi,_removeServiceInstance:()=>hs,_serverApps:()=>pi,deleteApp:()=>Go,getApp:()=>Ht,getApps:()=>Fa,initializeApp:()=>Xs,initializeServerApp:()=>qo,onLog:()=>F,registerVersion:()=>Ki,setLogLevel:()=>O});var T=at(467),dt=at(362),Re=at(41),ie=at(76);const Le=(ee,W)=>W.some(de=>ee instanceof de);let sn,Ge;const x=new WeakMap,Ae=new WeakMap,$e=new WeakMap,bt=new WeakMap,kt=new WeakMap;let mt={get(ee,W,de){if(ee instanceof IDBTransaction){if("done"===W)return Ae.get(ee);if("objectStoreNames"===W)return ee.objectStoreNames||$e.get(ee);if("store"===W)return de.objectStoreNames[1]?void 0:de.objectStore(de.objectStoreNames[0])}return dn(ee[W])},set:(ee,W,de)=>(ee[W]=de,!0),has:(ee,W)=>ee instanceof IDBTransaction&&("done"===W||"store"===W)||W in ee};function Hn(ee){return"function"==typeof ee?function ur(ee){return ee!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function Xt(){return Ge||(Ge=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(ee)?function(...W){return ee.apply(Bt(this),W),dn(x.get(this))}:function(...W){return dn(ee.apply(Bt(this),W))}:function(W,...de){const Pe=ee.call(Bt(this),W,...de);return $e.set(Pe,W.sort?W.sort():[W]),dn(Pe)}}(ee):(ee instanceof IDBTransaction&&function xt(ee){if(Ae.has(ee))return;const W=new Promise((de,Pe)=>{const ht=()=>{ee.removeEventListener("complete",Ve),ee.removeEventListener("error",Rt),ee.removeEventListener("abort",Rt)},Ve=()=>{de(),ht()},Rt=()=>{Pe(ee.error||new DOMException("AbortError","AbortError")),ht()};ee.addEventListener("complete",Ve),ee.addEventListener("error",Rt),ee.addEventListener("abort",Rt)});Ae.set(ee,W)}(ee),Le(ee,function br(){return sn||(sn=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(ee,mt):ee)}function dn(ee){if(ee instanceof IDBRequest)return function Yt(ee){const W=new Promise((de,Pe)=>{const ht=()=>{ee.removeEventListener("success",Ve),ee.removeEventListener("error",Rt)},Ve=()=>{de(dn(ee.result)),ht()},Rt=()=>{Pe(ee.error),ht()};ee.addEventListener("success",Ve),ee.addEventListener("error",Rt)});return W.then(de=>{de instanceof IDBCursor&&x.set(de,ee)}).catch(()=>{}),kt.set(W,ee),W}(ee);if(bt.has(ee))return bt.get(ee);const W=Hn(ee);return W!==ee&&(bt.set(ee,W),kt.set(W,ee)),W}const Bt=ee=>kt.get(ee),Ke=["get","getKey","getAll","getAllKeys","count"],jt=["put","add","delete","clear"],rt=new Map;function pe(ee,W){if(!(ee instanceof IDBDatabase)||W in ee||"string"!=typeof W)return;if(rt.get(W))return rt.get(W);const de=W.replace(/FromIndex$/,""),Pe=W!==de,ht=jt.includes(de);if(!(de in(Pe?IDBIndex:IDBObjectStore).prototype)||!ht&&!Ke.includes(de))return;const Ve=function(){var Rt=(0,T.A)(function*(gn,...nt){const si=this.transaction(gn,ht?"readwrite":"readonly");let wn=si.store;return Pe&&(wn=wn.index(nt.shift())),(yield Promise.all([wn[de](...nt),ht&&si.done]))[0]});return function(nt){return Rt.apply(this,arguments)}}();return rt.set(W,Ve),Ve}!function Dt(ee){mt=ee(mt)}(ee=>({...ee,get:(W,de,Pe)=>pe(W,de)||ee.get(W,de,Pe),has:(W,de)=>!!pe(W,de)||ee.has(W,de)}));class qn{constructor(W){this.container=W}getPlatformInfoString(){return this.container.getProviders().map(de=>{if(function cr(ee){const W=ee.getComponent();return"VERSION"===W?.type}(de)){const Pe=de.getImmediate();return`${Pe.library}/${Pe.version}`}return null}).filter(de=>de).join(" ")}}const Or="@firebase/app",zi="0.10.11",pr=new Re.Vy("@firebase/app"),an="[DEFAULT]",tr={[Or]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","@firebase/vertexai-preview":"fire-vertex","fire-js":"fire-js",firebase:"fire-js-all"},Vr=new Map,pi=new Map,Vn=new Map;function hn(ee,W){try{ee.container.addComponent(W)}catch(de){pr.debug(`Component ${W.name} failed to register with FirebaseApp ${ee.name}`,de)}}function cc(ee,W){ee.container.addOrOverwriteComponent(W)}function qi(ee){const W=ee.name;if(Vn.has(W))return pr.debug(`There were multiple attempts to register component ${W}.`),!1;Vn.set(W,ee);for(const de of Vr.values())hn(de,ee);for(const de of pi.values())hn(de,ee);return!0}function Gi(ee,W){const de=ee.container.getProvider("heartbeat").getImmediate({optional:!0});return de&&de.triggerHeartbeat(),ee.container.getProvider(W)}function hs(ee,W,de=an){Gi(ee,W).clearInstance(de)}function Wi(ee){return void 0!==ee.options}function fs(ee){return void 0!==ee.settings}function Kr(){Vn.clear()}const Pn=new ie.FA("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."});class ka{constructor(W,de,Pe){this._isDeleted=!1,this._options=Object.assign({},W),this._config=Object.assign({},de),this._name=de.name,this._automaticDataCollectionEnabled=de.automaticDataCollectionEnabled,this._container=Pe,this.container.addComponent(new dt.uA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(W){this.checkDestroyed(),this._automaticDataCollectionEnabled=W}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(W){this._isDeleted=W}checkDestroyed(){if(this.isDeleted)throw Pn.create("app-deleted",{appName:this._name})}}class Zs extends ka{constructor(W,de,Pe,ht){const Ve=void 0!==de.automaticDataCollectionEnabled&&de.automaticDataCollectionEnabled,Rt={name:Pe,automaticDataCollectionEnabled:Ve};super(void 0!==W.apiKey?W:W.options,Rt,ht),this._serverConfig=Object.assign({automaticDataCollectionEnabled:Ve},de),this._finalizationRegistry=null,typeof FinalizationRegistry<"u"&&(this._finalizationRegistry=new FinalizationRegistry(()=>{this.automaticCleanup()})),this._refCount=0,this.incRefCount(this._serverConfig.releaseOnDeref),this._serverConfig.releaseOnDeref=void 0,de.releaseOnDeref=void 0,Ki(Or,zi,"serverapp")}toJSON(){}get refCount(){return this._refCount}incRefCount(W){this.isDeleted||(this._refCount++,void 0!==W&&null!==this._finalizationRegistry&&this._finalizationRegistry.register(W,this))}decRefCount(){return this.isDeleted?0:--this._refCount}automaticCleanup(){Go(this)}get settings(){return this.checkDestroyed(),this._serverConfig}checkDestroyed(){if(this.isDeleted)throw Pn.create("server-app-deleted")}}const Lr="10.13.2";function Xs(ee,W={}){let de=ee;"object"!=typeof W&&(W={name:W});const Pe=Object.assign({name:an,automaticDataCollectionEnabled:!1},W),ht=Pe.name;if("string"!=typeof ht||!ht)throw Pn.create("bad-app-name",{appName:String(ht)});if(de||(de=(0,ie.T9)()),!de)throw Pn.create("no-options");const Ve=Vr.get(ht);if(Ve){if((0,ie.bD)(de,Ve.options)&&(0,ie.bD)(Pe,Ve.config))return Ve;throw Pn.create("duplicate-app",{appName:ht})}const Rt=new dt.h1(ht);for(const nt of Vn.values())Rt.addComponent(nt);const gn=new ka(de,Pe,Rt);return Vr.set(ht,gn),gn}function qo(ee,W){if((0,ie.Bd)()&&!(0,ie.p7)())throw Pn.create("invalid-server-app-environment");let de;void 0===W.automaticDataCollectionEnabled&&(W.automaticDataCollectionEnabled=!1),de=Wi(ee)?ee.options:ee;const Pe=Object.assign(Object.assign({},W),de);if(void 0!==Pe.releaseOnDeref&&delete Pe.releaseOnDeref,void 0!==W.releaseOnDeref&&typeof FinalizationRegistry>"u")throw Pn.create("finalization-registry-not-supported",{});const Ve=""+(si=JSON.stringify(Pe),[...si].reduce((wn,nn)=>Math.imul(31,wn)+nn.charCodeAt(0)|0,0)),Rt=pi.get(Ve);var si;if(Rt)return Rt.incRefCount(W.releaseOnDeref),Rt;const gn=new dt.h1(Ve);for(const si of Vn.values())gn.addComponent(si);const nt=new Zs(de,W,Ve,gn);return pi.set(Ve,nt),nt}function Ht(ee=an){const W=Vr.get(ee);if(!W&&ee===an&&(0,ie.T9)())return Xs();if(!W)throw Pn.create("no-app",{appName:ee});return W}function Fa(){return Array.from(Vr.values())}function Go(ee){return gi.apply(this,arguments)}function gi(){return(gi=(0,T.A)(function*(ee){let W=!1;const de=ee.name;Vr.has(de)?(W=!0,Vr.delete(de)):pi.has(de)&&ee.decRefCount()<=0&&(pi.delete(de),W=!0),W&&(yield Promise.all(ee.container.getProviders().map(Pe=>Pe.delete())),ee.isDeleted=!0)})).apply(this,arguments)}function Ki(ee,W,de){var Pe;let ht=null!==(Pe=tr[ee])&&void 0!==Pe?Pe:ee;de&&(ht+=`-${de}`);const Ve=ht.match(/\s|\//),Rt=W.match(/\s|\//);if(Ve||Rt){const gn=[`Unable to register library "${ht}" with version "${W}":`];return Ve&&gn.push(`library name "${ht}" contains illegal characters (whitespace or "/")`),Ve&&Rt&&gn.push("and"),Rt&&gn.push(`version name "${W}" contains illegal characters (whitespace or "/")`),void pr.warn(gn.join(" "))}qi(new dt.uA(`${ht}-version`,()=>({library:ht,version:W}),"VERSION"))}function F(ee,W){if(null!==ee&&"function"!=typeof ee)throw Pn.create("invalid-log-argument");(0,Re.Ey)(ee,W)}function O(ee){(0,Re.He)(ee)}const $="firebase-heartbeat-database",ce=1,H="firebase-heartbeat-store";let Se=null;function Je(){return Se||(Se=function zt(ee,W,{blocked:de,upgrade:Pe,blocking:ht,terminated:Ve}={}){const Rt=indexedDB.open(ee,W),gn=dn(Rt);return Pe&&Rt.addEventListener("upgradeneeded",nt=>{Pe(dn(Rt.result),nt.oldVersion,nt.newVersion,dn(Rt.transaction),nt)}),de&&Rt.addEventListener("blocked",nt=>de(nt.oldVersion,nt.newVersion,nt)),gn.then(nt=>{Ve&&nt.addEventListener("close",()=>Ve()),ht&&nt.addEventListener("versionchange",si=>ht(si.oldVersion,si.newVersion,si))}).catch(()=>{}),gn}($,ce,{upgrade:(ee,W)=>{if(0===W)try{ee.createObjectStore(H)}catch(de){console.warn(de)}}}).catch(ee=>{throw Pn.create("idb-open",{originalErrorMessage:ee.message})})),Se}function ft(){return(ft=(0,T.A)(function*(ee){try{const de=(yield Je()).transaction(H),Pe=yield de.objectStore(H).get(Ct(ee));return yield de.done,Pe}catch(W){if(W instanceof ie.g)pr.warn(W.message);else{const de=Pn.create("idb-get",{originalErrorMessage:W?.message});pr.warn(de.message)}}})).apply(this,arguments)}function vn(ee,W){return J.apply(this,arguments)}function J(){return(J=(0,T.A)(function*(ee,W){try{const Pe=(yield Je()).transaction(H,"readwrite");yield Pe.objectStore(H).put(W,Ct(ee)),yield Pe.done}catch(de){if(de instanceof ie.g)pr.warn(de.message);else{const Pe=Pn.create("idb-set",{originalErrorMessage:de?.message});pr.warn(Pe.message)}}})).apply(this,arguments)}function Ct(ee){return`${ee.name}!${ee.options.appId}`}class Va{constructor(W){this.container=W,this._heartbeatsCache=null;const de=this.container.getProvider("app").getImmediate();this._storage=new mi(de),this._heartbeatsCachePromise=this._storage.read().then(Pe=>(this._heartbeatsCache=Pe,Pe))}triggerHeartbeat(){var W=this;return(0,T.A)(function*(){var de,Pe;try{const Ve=W.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),Rt=Wo();return null==(null===(de=W._heartbeatsCache)||void 0===de?void 0:de.heartbeats)&&(W._heartbeatsCache=yield W._heartbeatsCachePromise,null==(null===(Pe=W._heartbeatsCache)||void 0===Pe?void 0:Pe.heartbeats))||W._heartbeatsCache.lastSentHeartbeatDate===Rt||W._heartbeatsCache.heartbeats.some(gn=>gn.date===Rt)?void 0:(W._heartbeatsCache.heartbeats.push({date:Rt,agent:Ve}),W._heartbeatsCache.heartbeats=W._heartbeatsCache.heartbeats.filter(gn=>{const nt=new Date(gn.date).valueOf();return Date.now()-nt<=2592e6}),W._storage.overwrite(W._heartbeatsCache))}catch(ht){pr.warn(ht)}})()}getHeartbeatsHeader(){var W=this;return(0,T.A)(function*(){var de;try{if(null===W._heartbeatsCache&&(yield W._heartbeatsCachePromise),null==(null===(de=W._heartbeatsCache)||void 0===de?void 0:de.heartbeats)||0===W._heartbeatsCache.heartbeats.length)return"";const Pe=Wo(),{heartbeatsToSend:ht,unsentEntries:Ve}=function Ri(ee,W=1024){const de=[];let Pe=ee.slice();for(const ht of ee){const Ve=de.find(Rt=>Rt.agent===ht.agent);if(Ve){if(Ve.dates.push(ht.date),yi(de)>W){Ve.dates.pop();break}}else if(de.push({agent:ht.agent,dates:[ht.date]}),yi(de)>W){de.pop();break}Pe=Pe.slice(1)}return{heartbeatsToSend:de,unsentEntries:Pe}}(W._heartbeatsCache.heartbeats),Rt=(0,ie.Uj)(JSON.stringify({version:2,heartbeats:ht}));return W._heartbeatsCache.lastSentHeartbeatDate=Pe,Ve.length>0?(W._heartbeatsCache.heartbeats=Ve,yield W._storage.overwrite(W._heartbeatsCache)):(W._heartbeatsCache.heartbeats=[],W._storage.overwrite(W._heartbeatsCache)),Rt}catch(Pe){return pr.warn(Pe),""}})()}}function Wo(){return(new Date).toISOString().substring(0,10)}class mi{constructor(W){this.app=W,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,T.A)(function*(){return!!(0,ie.zW)()&&(0,ie.eX)().then(()=>!0).catch(()=>!1)})()}read(){var W=this;return(0,T.A)(function*(){if(yield W._canUseIndexedDBPromise){const Pe=yield function je(ee){return ft.apply(this,arguments)}(W.app);return Pe?.heartbeats?Pe:{heartbeats:[]}}return{heartbeats:[]}})()}overwrite(W){var de=this;return(0,T.A)(function*(){var Pe;if(yield de._canUseIndexedDBPromise){const Ve=yield de.read();return vn(de.app,{lastSentHeartbeatDate:null!==(Pe=W.lastSentHeartbeatDate)&&void 0!==Pe?Pe:Ve.lastSentHeartbeatDate,heartbeats:W.heartbeats})}})()}add(W){var de=this;return(0,T.A)(function*(){var Pe;if(yield de._canUseIndexedDBPromise){const Ve=yield de.read();return vn(de.app,{lastSentHeartbeatDate:null!==(Pe=W.lastSentHeartbeatDate)&&void 0!==Pe?Pe:Ve.lastSentHeartbeatDate,heartbeats:[...Ve.heartbeats,...W.heartbeats]})}})()}}function yi(ee){return(0,ie.Uj)(JSON.stringify({version:2,heartbeats:ee})).length}!function Gt(ee){qi(new dt.uA("platform-logger",W=>new qn(W),"PRIVATE")),qi(new dt.uA("heartbeat",W=>new Va(W),"PRIVATE")),Ki(Or,zi,ee),Ki(Or,zi,"esm2017"),Ki("fire-js","")}("")},362:(Ns,zn,at)=>{"use strict";at.d(zn,{h1:()=>br,uA:()=>Re});var T=at(467),dt=at(76);class Re{constructor(x,Ae,$e){this.name=x,this.instanceFactory=Ae,this.type=$e,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(x){return this.instantiationMode=x,this}setMultipleInstances(x){return this.multipleInstances=x,this}setServiceProps(x){return this.serviceProps=x,this}setInstanceCreatedCallback(x){return this.onInstanceCreated=x,this}}const ie="[DEFAULT]";class Le{constructor(x,Ae){this.name=x,this.container=Ae,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(x){const Ae=this.normalizeInstanceIdentifier(x);if(!this.instancesDeferred.has(Ae)){const $e=new dt.cY;if(this.instancesDeferred.set(Ae,$e),this.isInitialized(Ae)||this.shouldAutoInitialize())try{const bt=this.getOrInitializeService({instanceIdentifier:Ae});bt&&$e.resolve(bt)}catch{}}return this.instancesDeferred.get(Ae).promise}getImmediate(x){var Ae;const $e=this.normalizeInstanceIdentifier(x?.identifier),bt=null!==(Ae=x?.optional)&&void 0!==Ae&&Ae;if(!this.isInitialized($e)&&!this.shouldAutoInitialize()){if(bt)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:$e})}catch(kt){if(bt)return null;throw kt}}getComponent(){return this.component}setComponent(x){if(x.name!==this.name)throw Error(`Mismatching Component ${x.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=x,this.shouldAutoInitialize()){if(function Ge(Xt){return"EAGER"===Xt.instantiationMode}(x))try{this.getOrInitializeService({instanceIdentifier:ie})}catch{}for(const[Ae,$e]of this.instancesDeferred.entries()){const bt=this.normalizeInstanceIdentifier(Ae);try{const kt=this.getOrInitializeService({instanceIdentifier:bt});$e.resolve(kt)}catch{}}}}clearInstance(x=ie){this.instancesDeferred.delete(x),this.instancesOptions.delete(x),this.instances.delete(x)}delete(){var x=this;return(0,T.A)(function*(){const Ae=Array.from(x.instances.values());yield Promise.all([...Ae.filter($e=>"INTERNAL"in $e).map($e=>$e.INTERNAL.delete()),...Ae.filter($e=>"_delete"in $e).map($e=>$e._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(x=ie){return this.instances.has(x)}getOptions(x=ie){return this.instancesOptions.get(x)||{}}initialize(x={}){const{options:Ae={}}=x,$e=this.normalizeInstanceIdentifier(x.instanceIdentifier);if(this.isInitialized($e))throw Error(`${this.name}(${$e}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const bt=this.getOrInitializeService({instanceIdentifier:$e,options:Ae});for(const[kt,Yt]of this.instancesDeferred.entries())$e===this.normalizeInstanceIdentifier(kt)&&Yt.resolve(bt);return bt}onInit(x,Ae){var $e;const bt=this.normalizeInstanceIdentifier(Ae),kt=null!==($e=this.onInitCallbacks.get(bt))&&void 0!==$e?$e:new Set;kt.add(x),this.onInitCallbacks.set(bt,kt);const Yt=this.instances.get(bt);return Yt&&x(Yt,bt),()=>{kt.delete(x)}}invokeOnInitCallbacks(x,Ae){const $e=this.onInitCallbacks.get(Ae);if($e)for(const bt of $e)try{bt(x,Ae)}catch{}}getOrInitializeService({instanceIdentifier:x,options:Ae={}}){let $e=this.instances.get(x);if(!$e&&this.component&&($e=this.component.instanceFactory(this.container,{instanceIdentifier:(Xt=x,Xt===ie?void 0:Xt),options:Ae}),this.instances.set(x,$e),this.instancesOptions.set(x,Ae),this.invokeOnInitCallbacks($e,x),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,x,$e)}catch{}var Xt;return $e||null}normalizeInstanceIdentifier(x=ie){return this.component?this.component.multipleInstances?x:ie:x}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class br{constructor(x){this.name=x,this.providers=new Map}addComponent(x){const Ae=this.getProvider(x.name);if(Ae.isComponentSet())throw new Error(`Component ${x.name} has already been registered with ${this.name}`);Ae.setComponent(x)}addOrOverwriteComponent(x){this.getProvider(x.name).isComponentSet()&&this.providers.delete(x.name),this.addComponent(x)}getProvider(x){if(this.providers.has(x))return this.providers.get(x);const Ae=new Le(x,this);return this.providers.set(x,Ae),Ae}getProviders(){return Array.from(this.providers.values())}}},41:(Ns,zn,at)=>{"use strict";at.d(zn,{$b:()=>dt,Ey:()=>Xt,He:()=>br,Vy:()=>Ge});const T=[];var dt=function(x){return x[x.DEBUG=0]="DEBUG",x[x.VERBOSE=1]="VERBOSE",x[x.INFO=2]="INFO",x[x.WARN=3]="WARN",x[x.ERROR=4]="ERROR",x[x.SILENT=5]="SILENT",x}(dt||{});const Re={debug:dt.DEBUG,verbose:dt.VERBOSE,info:dt.INFO,warn:dt.WARN,error:dt.ERROR,silent:dt.SILENT},ie=dt.INFO,Le={[dt.DEBUG]:"log",[dt.VERBOSE]:"log",[dt.INFO]:"info",[dt.WARN]:"warn",[dt.ERROR]:"error"},sn=(x,Ae,...$e)=>{if(Ae<x.logLevel)return;const bt=(new Date).toISOString(),kt=Le[Ae];if(!kt)throw new Error(`Attempted to log a message with an invalid logType (value: ${Ae})`);console[kt](`[${bt}]  ${x.name}:`,...$e)};class Ge{constructor(Ae){this.name=Ae,this._logLevel=ie,this._logHandler=sn,this._userLogHandler=null,T.push(this)}get logLevel(){return this._logLevel}set logLevel(Ae){if(!(Ae in dt))throw new TypeError(`Invalid value "${Ae}" assigned to \`logLevel\``);this._logLevel=Ae}setLogLevel(Ae){this._logLevel="string"==typeof Ae?Re[Ae]:Ae}get logHandler(){return this._logHandler}set logHandler(Ae){if("function"!=typeof Ae)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=Ae}get userLogHandler(){return this._userLogHandler}set userLogHandler(Ae){this._userLogHandler=Ae}debug(...Ae){this._userLogHandler&&this._userLogHandler(this,dt.DEBUG,...Ae),this._logHandler(this,dt.DEBUG,...Ae)}log(...Ae){this._userLogHandler&&this._userLogHandler(this,dt.VERBOSE,...Ae),this._logHandler(this,dt.VERBOSE,...Ae)}info(...Ae){this._userLogHandler&&this._userLogHandler(this,dt.INFO,...Ae),this._logHandler(this,dt.INFO,...Ae)}warn(...Ae){this._userLogHandler&&this._userLogHandler(this,dt.WARN,...Ae),this._logHandler(this,dt.WARN,...Ae)}error(...Ae){this._userLogHandler&&this._userLogHandler(this,dt.ERROR,...Ae),this._logHandler(this,dt.ERROR,...Ae)}}function br(x){T.forEach(Ae=>{Ae.setLogLevel(x)})}function Xt(x,Ae){for(const $e of T){let bt=null;Ae&&Ae.level&&(bt=Re[Ae.level]),$e.userLogHandler=null===x?null:(kt,Yt,...xt)=>{const mt=xt.map(Dt=>{if(null==Dt)return null;if("string"==typeof Dt)return Dt;if("number"==typeof Dt||"boolean"==typeof Dt)return Dt.toString();if(Dt instanceof Error)return Dt.message;try{return JSON.stringify(Dt)}catch{return null}}).filter(Dt=>Dt).join(" ");Yt>=(bt??kt.logLevel)&&x({level:dt[Yt].toLowerCase(),message:mt,args:xt,type:kt.name})}}}},955:(Ns,zn,at)=>{"use strict";var T=at(467),dt=at(345),Re=at(852),ie=at(76),Le=at(41),sn=at(635),Ge=at(362);const Xt={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"};const Yt=function bt(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registered for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is incorrect, malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-password":"A non-empty password must be provided","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance.","missing-recaptcha-token":"The reCAPTCHA token is missing when sending request to the backend.","invalid-recaptcha-token":"The reCAPTCHA token is invalid when sending request to the backend.","invalid-recaptcha-action":"The reCAPTCHA action is invalid when sending request to the backend.","recaptcha-not-enabled":"reCAPTCHA Enterprise integration is not enabled for this project.","missing-client-type":"The reCAPTCHA client type is missing when sending request to the backend.","missing-recaptcha-version":"The reCAPTCHA version is missing when sending request to the backend.","invalid-req-type":"Invalid request parameters.","invalid-recaptcha-version":"The reCAPTCHA version is invalid when sending request to the backend.","unsupported-password-policy-schema-version":"The password policy received from the backend uses a schema version that is not supported by this version of the Firebase SDK.","password-does-not-meet-requirements":"The password does not meet the requirements."}},xt=function kt(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},mt=new ie.FA("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),ur=new Le.Vy("@firebase/auth");function dn(f,...u){ur.logLevel<=Le.$b.ERROR&&ur.error(`Auth (${Re.SDK_VERSION}): ${f}`,...u)}function Bt(f,...u){throw rt(f,...u)}function zt(f,...u){return rt(f,...u)}function on(f,u,d){const g=Object.assign(Object.assign({},xt()),{[u]:d});return new ie.FA("auth","Firebase",g).create(u,{appName:f.name})}function Ke(f){return on(f,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function jt(f,u,d){if(!(u instanceof d))throw d.name!==u.constructor.name&&Bt(f,"argument-error"),on(f,"argument-error",`Type of ${u.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function rt(f,...u){if("string"!=typeof f){const d=u[0],g=[...u.slice(1)];return g[0]&&(g[0].appName=f.name),f._errorFactory.create(d,...g)}return mt.create(f,...u)}function pe(f,u,...d){if(!f)throw rt(u,...d)}function qn(f){const u="INTERNAL ASSERTION FAILED: "+f;throw dn(u),new Error(u)}function cr(f,u){f||qn(u)}function Or(){var f;return typeof self<"u"&&(null===(f=self.location)||void 0===f?void 0:f.href)||""}function zi(){return"http:"===pr()||"https:"===pr()}function pr(){var f;return typeof self<"u"&&(null===(f=self.location)||void 0===f?void 0:f.protocol)||null}class X{constructor(u,d){this.shortDelay=u,this.longDelay=d,cr(d>u,"Short delay should be less than long delay!"),this.isMobile=(0,ie.jZ)()||(0,ie.lV)()}get(){return function Hi(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(zi()||(0,ie.sr)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function ne(f,u){cr(f.emulator,"Emulator should always be set here");const{url:d}=f.emulator;return u?`${d}${u.startsWith("/")?u.slice(1):u}`:d}class he{static initialize(u,d,g){this.fetchImpl=u,d&&(this.headersImpl=d),g&&(this.responseImpl=g)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:typeof globalThis<"u"&&globalThis.fetch?globalThis.fetch:typeof fetch<"u"?fetch:void qn("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:typeof globalThis<"u"&&globalThis.Headers?globalThis.Headers:typeof Headers<"u"?Headers:void qn("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:typeof globalThis<"u"&&globalThis.Response?globalThis.Response:typeof Response<"u"?Response:void qn("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const le={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},De=new X(3e4,6e4);function fe(f,u){return f.tenantId&&!u.tenantId?Object.assign(Object.assign({},u),{tenantId:f.tenantId}):u}function Ne(f,u,d,g){return At.apply(this,arguments)}function At(){return(At=(0,T.A)(function*(f,u,d,g,E={}){return gr(f,E,(0,T.A)(function*(){let D={},k={};g&&("GET"===u?k=g:D={body:JSON.stringify(g)});const q=(0,ie.Am)(Object.assign({key:f.config.apiKey},k)).slice(1),ae=yield f._getAdditionalHeaders();ae["Content-Type"]="application/json",f.languageCode&&(ae["X-Firebase-Locale"]=f.languageCode);const xe=Object.assign({method:u,headers:ae},D);return(0,ie.c1)()||(xe.referrerPolicy="no-referrer"),he.fetch()(et(f,f.config.apiHost,d,q),xe)}))})).apply(this,arguments)}function gr(f,u,d){return tt.apply(this,arguments)}function tt(){return(tt=(0,T.A)(function*(f,u,d){f._canInitEmulator=!1;const g=Object.assign(Object.assign({},le),u);try{const E=new Rn(f),D=yield Promise.race([d(),E.promise]);E.clearNetworkTimeout();const k=yield D.json();if("needConfirmation"in k)throw er(f,"account-exists-with-different-credential",k);if(D.ok&&!("errorMessage"in k))return k;{const q=D.ok?k.errorMessage:k.error.message,[ae,xe]=q.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===ae)throw er(f,"credential-already-in-use",k);if("EMAIL_EXISTS"===ae)throw er(f,"email-already-in-use",k);if("USER_DISABLED"===ae)throw er(f,"user-disabled",k);const ze=g[ae]||ae.toLowerCase().replace(/[_\s]+/g,"-");if(xe)throw on(f,ze,xe);Bt(f,ze)}}catch(E){if(E instanceof ie.g)throw E;Bt(f,"network-request-failed",{message:String(E)})}})).apply(this,arguments)}function St(f,u,d,g){return _n.apply(this,arguments)}function _n(){return(_n=(0,T.A)(function*(f,u,d,g,E={}){const D=yield Ne(f,u,d,g,E);return"mfaPendingCredential"in D&&Bt(f,"multi-factor-auth-required",{_serverResponse:D}),D})).apply(this,arguments)}function et(f,u,d,g){const E=`${u}${d}?${g}`;return f.config.emulator?ne(f.config,E):`${f.config.apiScheme}://${E}`}function tn(f){switch(f){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class Rn{constructor(u){this.auth=u,this.timer=null,this.promise=new Promise((d,g)=>{this.timer=setTimeout(()=>g(zt(this.auth,"network-request-failed")),De.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function er(f,u,d){const g={appName:f.name};d.email&&(g.email=d.email),d.phoneNumber&&(g.phoneNumber=d.phoneNumber);const E=zt(f,u,g);return E.customData._tokenResponse=d,E}function Tt(f){return void 0!==f&&void 0!==f.getResponse}function kr(f){return void 0!==f&&void 0!==f.enterprise}class Ao{constructor(u){if(this.siteKey="",this.recaptchaEnforcementState=[],void 0===u.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=u.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=u.recaptchaEnforcementState}getProviderEnforcementState(u){if(!this.recaptchaEnforcementState||0===this.recaptchaEnforcementState.length)return null;for(const d of this.recaptchaEnforcementState)if(d.provider&&d.provider===u)return tn(d.enforcementState);return null}isProviderEnabled(u){return"ENFORCE"===this.getProviderEnforcementState(u)||"AUDIT"===this.getProviderEnforcementState(u)}}function wt(){return(wt=(0,T.A)(function*(f){return(yield Ne(f,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function dr(f,u){return Fr.apply(this,arguments)}function Fr(){return(Fr=(0,T.A)(function*(f,u){return Ne(f,"GET","/v2/recaptchaConfig",fe(f,u))})).apply(this,arguments)}function an(){return(an=(0,T.A)(function*(f,u){return Ne(f,"POST","/v1/accounts:delete",u)})).apply(this,arguments)}function Vr(){return(Vr=(0,T.A)(function*(f,u){return Ne(f,"POST","/v1/accounts:update",u)})).apply(this,arguments)}function pi(f,u){return Vn.apply(this,arguments)}function Vn(){return(Vn=(0,T.A)(function*(f,u){return Ne(f,"POST","/v1/accounts:lookup",u)})).apply(this,arguments)}function hn(f){if(f)try{const u=new Date(Number(f));if(!isNaN(u.getTime()))return u.toUTCString()}catch{}}function Gi(){return(Gi=(0,T.A)(function*(f,u=!1){const d=(0,ie.Ku)(f),g=yield d.getIdToken(u),E=Wi(g);pe(E&&E.exp&&E.auth_time&&E.iat,d.auth,"internal-error");const D="object"==typeof E.firebase?E.firebase:void 0,k=D?.sign_in_provider;return{claims:E,token:g,authTime:hn(hs(E.auth_time)),issuedAtTime:hn(hs(E.iat)),expirationTime:hn(hs(E.exp)),signInProvider:k||null,signInSecondFactor:D?.sign_in_second_factor||null}})).apply(this,arguments)}function hs(f){return 1e3*Number(f)}function Wi(f){const[u,d,g]=f.split(".");if(void 0===u||void 0===d||void 0===g)return dn("JWT malformed, contained fewer than 3 sections"),null;try{const E=(0,ie.u)(d);return E?JSON.parse(E):(dn("Failed to decode base64 JWT payload"),null)}catch(E){return dn("Caught error parsing JWT payload as JSON",E?.toString()),null}}function fs(f){const u=Wi(f);return pe(u,"internal-error"),pe(typeof u.exp<"u","internal-error"),pe(typeof u.iat<"u","internal-error"),Number(u.exp)-Number(u.iat)}function Kr(f,u){return Ho.apply(this,arguments)}function Ho(){return(Ho=(0,T.A)(function*(f,u,d=!1){if(d)return u;try{return yield u}catch(g){throw g instanceof ie.g&&function Pn({code:f}){return"auth/user-disabled"===f||"auth/user-token-expired"===f}(g)&&f.auth.currentUser===f&&(yield f.auth.signOut()),g}})).apply(this,arguments)}class ka{constructor(u){this.user=u,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(u){var d;if(u){const g=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),g}{this.errorBackoff=3e4;const E=(null!==(d=this.user.stsTokenManager.expirationTime)&&void 0!==d?d:0)-Date.now()-3e5;return Math.max(0,E)}}schedule(u=!1){var d=this;if(!this.isRunning)return;const g=this.getInterval(u);this.timerId=setTimeout((0,T.A)(function*(){yield d.iteration()}),g)}iteration(){var u=this;return(0,T.A)(function*(){try{yield u.user.getIdToken(!0)}catch(d){return void("auth/network-request-failed"===d?.code&&u.schedule(!0))}u.schedule()})()}}class Zs{constructor(u,d){this.createdAt=u,this.lastLoginAt=d,this._initializeTime()}_initializeTime(){this.lastSignInTime=hn(this.lastLoginAt),this.creationTime=hn(this.createdAt)}_copy(u){this.createdAt=u.createdAt,this.lastLoginAt=u.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function Lr(f){return Xs.apply(this,arguments)}function Xs(){return(Xs=(0,T.A)(function*(f){var u;const d=f.auth,g=yield f.getIdToken(),E=yield Kr(f,pi(d,{idToken:g}));pe(E?.users.length,d,"internal-error");const D=E.users[0];f._notifyReloadListener(D);const k=null!==(u=D.providerUserInfo)&&void 0!==u&&u.length?Go(D.providerUserInfo):[],q=function Fa(f,u){return[...f.filter(g=>!u.some(E=>E.providerId===g.providerId)),...u]}(f.providerData,k),ze=!!f.isAnonymous&&!(f.email&&D.passwordHash||q?.length),He={uid:D.localId,displayName:D.displayName||null,photoURL:D.photoUrl||null,email:D.email||null,emailVerified:D.emailVerified||!1,phoneNumber:D.phoneNumber||null,tenantId:D.tenantId||null,providerData:q,metadata:new Zs(D.createdAt,D.lastLoginAt),isAnonymous:ze};Object.assign(f,He)})).apply(this,arguments)}function Ht(){return(Ht=(0,T.A)(function*(f){const u=(0,ie.Ku)(f);yield Lr(u),yield u.auth._persistUserIfCurrent(u),u.auth._notifyListenersIfCurrent(u)})).apply(this,arguments)}function Go(f){return f.map(u=>{var{providerId:d}=u,g=(0,sn.Tt)(u,["providerId"]);return{providerId:d,uid:g.rawId||"",displayName:g.displayName||null,email:g.email||null,phoneNumber:g.phoneNumber||null,photoURL:g.photoUrl||null}})}function Ki(){return(Ki=(0,T.A)(function*(f,u){const d=yield gr(f,{},(0,T.A)(function*(){const g=(0,ie.Am)({grant_type:"refresh_token",refresh_token:u}).slice(1),{tokenApiHost:E,apiKey:D}=f.config,k=et(f,E,"/v1/token",`key=${D}`),q=yield f._getAdditionalHeaders();return q["Content-Type"]="application/x-www-form-urlencoded",he.fetch()(k,{method:"POST",headers:q,body:g})}));return{accessToken:d.access_token,expiresIn:d.expires_in,refreshToken:d.refresh_token}})).apply(this,arguments)}function O(){return(O=(0,T.A)(function*(f,u){return Ne(f,"POST","/v2/accounts:revokeToken",fe(f,u))})).apply(this,arguments)}class ${constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(u){pe(u.idToken,"internal-error"),pe(typeof u.idToken<"u","internal-error"),pe(typeof u.refreshToken<"u","internal-error");const d="expiresIn"in u&&typeof u.expiresIn<"u"?Number(u.expiresIn):fs(u.idToken);this.updateTokensAndExpiration(u.idToken,u.refreshToken,d)}updateFromIdToken(u){pe(0!==u.length,"internal-error");const d=fs(u);this.updateTokensAndExpiration(u,null,d)}getToken(u,d=!1){var g=this;return(0,T.A)(function*(){return d||!g.accessToken||g.isExpired?(pe(g.refreshToken,u,"user-token-expired"),g.refreshToken?(yield g.refresh(u,g.refreshToken),g.accessToken):null):g.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(u,d){var g=this;return(0,T.A)(function*(){const{accessToken:E,refreshToken:D,expiresIn:k}=yield function gi(f,u){return Ki.apply(this,arguments)}(u,d);g.updateTokensAndExpiration(E,D,Number(k))})()}updateTokensAndExpiration(u,d,g){this.refreshToken=d||null,this.accessToken=u||null,this.expirationTime=Date.now()+1e3*g}static fromJSON(u,d){const{refreshToken:g,accessToken:E,expirationTime:D}=d,k=new $;return g&&(pe("string"==typeof g,"internal-error",{appName:u}),k.refreshToken=g),E&&(pe("string"==typeof E,"internal-error",{appName:u}),k.accessToken=E),D&&(pe("number"==typeof D,"internal-error",{appName:u}),k.expirationTime=D),k}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(u){this.accessToken=u.accessToken,this.refreshToken=u.refreshToken,this.expirationTime=u.expirationTime}_clone(){return Object.assign(new $,this.toJSON())}_performRefresh(){return qn("not implemented")}}function ce(f,u){pe("string"==typeof f||typeof f>"u","internal-error",{appName:u})}class H{constructor(u){var{uid:d,auth:g,stsTokenManager:E}=u,D=(0,sn.Tt)(u,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new ka(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=d,this.auth=g,this.stsTokenManager=E,this.accessToken=E.accessToken,this.displayName=D.displayName||null,this.email=D.email||null,this.emailVerified=D.emailVerified||!1,this.phoneNumber=D.phoneNumber||null,this.photoURL=D.photoURL||null,this.isAnonymous=D.isAnonymous||!1,this.tenantId=D.tenantId||null,this.providerData=D.providerData?[...D.providerData]:[],this.metadata=new Zs(D.createdAt||void 0,D.lastLoginAt||void 0)}getIdToken(u){var d=this;return(0,T.A)(function*(){const g=yield Kr(d,d.stsTokenManager.getToken(d.auth,u));return pe(g,d.auth,"internal-error"),d.accessToken!==g&&(d.accessToken=g,yield d.auth._persistUserIfCurrent(d),d.auth._notifyListenersIfCurrent(d)),g})()}getIdTokenResult(u){return function qi(f){return Gi.apply(this,arguments)}(this,u)}reload(){return function qo(f){return Ht.apply(this,arguments)}(this)}_assign(u){this!==u&&(pe(this.uid===u.uid,this.auth,"internal-error"),this.displayName=u.displayName,this.photoURL=u.photoURL,this.email=u.email,this.emailVerified=u.emailVerified,this.phoneNumber=u.phoneNumber,this.isAnonymous=u.isAnonymous,this.tenantId=u.tenantId,this.providerData=u.providerData.map(d=>Object.assign({},d)),this.metadata._copy(u.metadata),this.stsTokenManager._assign(u.stsTokenManager))}_clone(u){const d=new H(Object.assign(Object.assign({},this),{auth:u,stsTokenManager:this.stsTokenManager._clone()}));return d.metadata._copy(this.metadata),d}_onReload(u){pe(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=u,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(u){this.reloadListener?this.reloadListener(u):this.reloadUserInfo=u}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(u,d=!1){var g=this;return(0,T.A)(function*(){let E=!1;u.idToken&&u.idToken!==g.stsTokenManager.accessToken&&(g.stsTokenManager.updateFromServerResponse(u),E=!0),d&&(yield Lr(g)),yield g.auth._persistUserIfCurrent(g),E&&g.auth._notifyListenersIfCurrent(g)})()}delete(){var u=this;return(0,T.A)(function*(){if((0,Re._isFirebaseServerApp)(u.auth.app))return Promise.reject(Ke(u.auth));const d=yield u.getIdToken();return yield Kr(u,function Si(f,u){return an.apply(this,arguments)}(u.auth,{idToken:d})),u.stsTokenManager.clearRefreshToken(),u.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(u=>Object.assign({},u)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(u,d){var g,E,D,k,q,ae,xe,ze;const He=null!==(g=d.displayName)&&void 0!==g?g:void 0,Lt=null!==(E=d.email)&&void 0!==E?E:void 0,fo=null!==(D=d.phoneNumber)&&void 0!==D?D:void 0,Yc=null!==(k=d.photoURL)&&void 0!==k?k:void 0,Vb=null!==(q=d.tenantId)&&void 0!==q?q:void 0,Jc=null!==(ae=d._redirectEventId)&&void 0!==ae?ae:void 0,Us=null!==(xe=d.createdAt)&&void 0!==xe?xe:void 0,Rg=null!==(ze=d.lastLoginAt)&&void 0!==ze?ze:void 0,{uid:fa,emailVerified:ov,isAnonymous:av,providerData:Vh,stsTokenManager:Lb}=d;pe(fa&&Lb,u,"internal-error");const wP=$.fromJSON(this.name,Lb);pe("string"==typeof fa,u,"internal-error"),ce(He,u.name),ce(Lt,u.name),pe("boolean"==typeof ov,u,"internal-error"),pe("boolean"==typeof av,u,"internal-error"),ce(fo,u.name),ce(Yc,u.name),ce(Vb,u.name),ce(Jc,u.name),ce(Us,u.name),ce(Rg,u.name);const lv=new H({uid:fa,auth:u,email:Lt,emailVerified:ov,displayName:He,isAnonymous:av,photoURL:Yc,phoneNumber:fo,tenantId:Vb,stsTokenManager:wP,createdAt:Us,lastLoginAt:Rg});return Vh&&Array.isArray(Vh)&&(lv.providerData=Vh.map(EP=>Object.assign({},EP))),Jc&&(lv._redirectEventId=Jc),lv}static _fromIdTokenResponse(u,d,g=!1){return(0,T.A)(function*(){const E=new $;E.updateFromServerResponse(d);const D=new H({uid:d.localId,auth:u,stsTokenManager:E,isAnonymous:g});return yield Lr(D),D})()}static _fromGetAccountInfoResponse(u,d,g){return(0,T.A)(function*(){const E=d.users[0];pe(void 0!==E.localId,"internal-error");const D=void 0!==E.providerUserInfo?Go(E.providerUserInfo):[],k=!(E.email&&E.passwordHash||D?.length),q=new $;q.updateFromIdToken(g);const ae=new H({uid:E.localId,auth:u,stsTokenManager:q,isAnonymous:k}),xe={uid:E.localId,displayName:E.displayName||null,photoURL:E.photoUrl||null,email:E.email||null,emailVerified:E.emailVerified||!1,phoneNumber:E.phoneNumber||null,tenantId:E.tenantId||null,providerData:D,metadata:new Zs(E.createdAt,E.lastLoginAt),isAnonymous:!(E.email&&E.passwordHash||D?.length)};return Object.assign(ae,xe),ae})()}}const Se=new Map;function Je(f){cr(f instanceof Function,"Expected a class definition");let u=Se.get(f);return u?(cr(u instanceof f,"Instance stored in cache mismatched with class"),u):(u=new f,Se.set(f,u),u)}const ft=(()=>{class f{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,T.A)(function*(){return!0})()}_set(d,g){var E=this;return(0,T.A)(function*(){E.storage[d]=g})()}_get(d){var g=this;return(0,T.A)(function*(){const E=g.storage[d];return void 0===E?null:E})()}_remove(d){var g=this;return(0,T.A)(function*(){delete g.storage[d]})()}_addListener(d,g){}_removeListener(d,g){}}return f.type="NONE",f})();function vn(f,u,d){return`firebase:${f}:${u}:${d}`}class J{constructor(u,d,g){this.persistence=u,this.auth=d,this.userKey=g;const{config:E,name:D}=this.auth;this.fullUserKey=vn(this.userKey,E.apiKey,D),this.fullPersistenceKey=vn("persistence",E.apiKey,D),this.boundEventHandler=d._onStorageEvent.bind(d),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(u){return this.persistence._set(this.fullUserKey,u.toJSON())}getCurrentUser(){var u=this;return(0,T.A)(function*(){const d=yield u.persistence._get(u.fullUserKey);return d?H._fromJSON(u.auth,d):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(u){var d=this;return(0,T.A)(function*(){if(d.persistence===u)return;const g=yield d.getCurrentUser();return yield d.removeCurrentUser(),d.persistence=u,g?d.setCurrentUser(g):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(u,d,g="authUser"){return(0,T.A)(function*(){if(!d.length)return new J(Je(ft),u,g);const E=(yield Promise.all(d.map(function(){var xe=(0,T.A)(function*(ze){if(yield ze._isAvailable())return ze});return function(ze){return xe.apply(this,arguments)}}()))).filter(xe=>xe);let D=E[0]||Je(ft);const k=vn(g,u.config.apiKey,u.name);let q=null;for(const xe of d)try{const ze=yield xe._get(k);if(ze){const He=H._fromJSON(u,ze);xe!==D&&(q=He),D=xe;break}}catch{}const ae=E.filter(xe=>xe._shouldAllowMigration);return D._shouldAllowMigration&&ae.length?(D=ae[0],q&&(yield D._set(k,q.toJSON())),yield Promise.all(d.map(function(){var xe=(0,T.A)(function*(ze){if(ze!==D)try{yield ze._remove(k)}catch{}});return function(ze){return xe.apply(this,arguments)}}())),new J(D,u,g)):new J(D,u,g)})()}}function Ct(f){const u=f.toLowerCase();if(u.includes("opera/")||u.includes("opr/")||u.includes("opios/"))return"Opera";if(Wo(u))return"IEMobile";if(u.includes("msie")||u.includes("trident/"))return"IE";if(u.includes("edge/"))return"Edge";if(Ar(u))return"Firefox";if(u.includes("silk/"))return"Silk";if(mi(u))return"Blackberry";if(yi(u))return"Webos";if(ps(u))return"Safari";if((u.includes("chrome/")||Va(u))&&!u.includes("edge/"))return"Chrome";if(Ri(u))return"Android";{const g=f.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===g?.length)return g[1]}return"Other"}function Ar(f=(0,ie.ZQ)()){return/firefox\//i.test(f)}function ps(f=(0,ie.ZQ)()){const u=f.toLowerCase();return u.includes("safari/")&&!u.includes("chrome/")&&!u.includes("crios/")&&!u.includes("android")}function Va(f=(0,ie.ZQ)()){return/crios\//i.test(f)}function Wo(f=(0,ie.ZQ)()){return/iemobile/i.test(f)}function Ri(f=(0,ie.ZQ)()){return/android/i.test(f)}function mi(f=(0,ie.ZQ)()){return/blackberry/i.test(f)}function yi(f=(0,ie.ZQ)()){return/webos/i.test(f)}function Gt(f=(0,ie.ZQ)()){return/iphone|ipad|ipod/i.test(f)||/macintosh/i.test(f)&&/mobile/i.test(f)}function Pe(f=(0,ie.ZQ)()){return Gt(f)||Ri(f)||yi(f)||mi(f)||/windows phone/i.test(f)||Wo(f)}function ht(f,u=[]){let d;switch(f){case"Browser":d=Ct((0,ie.ZQ)());break;case"Worker":d=`${Ct((0,ie.ZQ)())}-${f}`;break;default:d=f}const g=u.length?u.join(","):"FirebaseCore-web";return`${d}/JsCore/${Re.SDK_VERSION}/${g}`}class Ve{constructor(u){this.auth=u,this.queue=[]}pushCallback(u,d){const g=D=>new Promise((k,q)=>{try{k(u(D))}catch(ae){q(ae)}});g.onAbort=d,this.queue.push(g);const E=this.queue.length-1;return()=>{this.queue[E]=()=>Promise.resolve()}}runMiddleware(u){var d=this;return(0,T.A)(function*(){if(d.auth.currentUser===u)return;const g=[];try{for(const E of d.queue)yield E(u),E.onAbort&&g.push(E.onAbort)}catch(E){g.reverse();for(const D of g)try{D()}catch{}throw d.auth._errorFactory.create("login-blocked",{originalMessage:E?.message})}})()}}function gn(){return(gn=(0,T.A)(function*(f,u={}){return Ne(f,"GET","/v2/passwordPolicy",fe(f,u))})).apply(this,arguments)}class si{constructor(u){var d,g,E,D;const k=u.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=null!==(d=k.minPasswordLength)&&void 0!==d?d:6,k.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=k.maxPasswordLength),void 0!==k.containsLowercaseCharacter&&(this.customStrengthOptions.containsLowercaseLetter=k.containsLowercaseCharacter),void 0!==k.containsUppercaseCharacter&&(this.customStrengthOptions.containsUppercaseLetter=k.containsUppercaseCharacter),void 0!==k.containsNumericCharacter&&(this.customStrengthOptions.containsNumericCharacter=k.containsNumericCharacter),void 0!==k.containsNonAlphanumericCharacter&&(this.customStrengthOptions.containsNonAlphanumericCharacter=k.containsNonAlphanumericCharacter),this.enforcementState=u.enforcementState,"ENFORCEMENT_STATE_UNSPECIFIED"===this.enforcementState&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=null!==(E=null===(g=u.allowedNonAlphanumericCharacters)||void 0===g?void 0:g.join(""))&&void 0!==E?E:"",this.forceUpgradeOnSignin=null!==(D=u.forceUpgradeOnSignin)&&void 0!==D&&D,this.schemaVersion=u.schemaVersion}validatePassword(u){var d,g,E,D,k,q;const ae={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(u,ae),this.validatePasswordCharacterOptions(u,ae),ae.isValid&&(ae.isValid=null===(d=ae.meetsMinPasswordLength)||void 0===d||d),ae.isValid&&(ae.isValid=null===(g=ae.meetsMaxPasswordLength)||void 0===g||g),ae.isValid&&(ae.isValid=null===(E=ae.containsLowercaseLetter)||void 0===E||E),ae.isValid&&(ae.isValid=null===(D=ae.containsUppercaseLetter)||void 0===D||D),ae.isValid&&(ae.isValid=null===(k=ae.containsNumericCharacter)||void 0===k||k),ae.isValid&&(ae.isValid=null===(q=ae.containsNonAlphanumericCharacter)||void 0===q||q),ae}validatePasswordLengthOptions(u,d){const g=this.customStrengthOptions.minPasswordLength,E=this.customStrengthOptions.maxPasswordLength;g&&(d.meetsMinPasswordLength=u.length>=g),E&&(d.meetsMaxPasswordLength=u.length<=E)}validatePasswordCharacterOptions(u,d){let g;this.updatePasswordCharacterOptionsStatuses(d,!1,!1,!1,!1);for(let E=0;E<u.length;E++)g=u.charAt(E),this.updatePasswordCharacterOptionsStatuses(d,g>="a"&&g<="z",g>="A"&&g<="Z",g>="0"&&g<="9",this.allowedNonAlphanumericCharacters.includes(g))}updatePasswordCharacterOptionsStatuses(u,d,g,E,D){this.customStrengthOptions.containsLowercaseLetter&&(u.containsLowercaseLetter||(u.containsLowercaseLetter=d)),this.customStrengthOptions.containsUppercaseLetter&&(u.containsUppercaseLetter||(u.containsUppercaseLetter=g)),this.customStrengthOptions.containsNumericCharacter&&(u.containsNumericCharacter||(u.containsNumericCharacter=E)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(u.containsNonAlphanumericCharacter||(u.containsNonAlphanumericCharacter=D))}}class wn{constructor(u,d,g,E){this.app=u,this.heartbeatServiceProvider=d,this.appCheckServiceProvider=g,this.config=E,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new kp(this),this.idTokenSubscription=new kp(this),this.beforeStateQueue=new Ve(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=mt,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=u.name,this.clientVersion=E.sdkClientVersion}_initializeWithPersistence(u,d){var g=this;return d&&(this._popupRedirectResolver=Je(d)),this._initializationPromise=this.queue((0,T.A)(function*(){var E,D;if(!g._deleted&&(g.persistenceManager=yield J.create(g,u),!g._deleted)){if(null!==(E=g._popupRedirectResolver)&&void 0!==E&&E._shouldInitProactively)try{yield g._popupRedirectResolver._initialize(g)}catch{}yield g.initializeCurrentUser(d),g.lastNotifiedUid=(null===(D=g.currentUser)||void 0===D?void 0:D.uid)||null,!g._deleted&&(g._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var u=this;return(0,T.A)(function*(){if(u._deleted)return;const d=yield u.assertedPersistence.getCurrentUser();if(u.currentUser||d){if(u.currentUser&&d&&u.currentUser.uid===d.uid)return u._currentUser._assign(d),void(yield u.currentUser.getIdToken());yield u._updateCurrentUser(d,!0)}})()}initializeCurrentUserFromIdToken(u){var d=this;return(0,T.A)(function*(){try{const g=yield pi(d,{idToken:u}),E=yield H._fromGetAccountInfoResponse(d,g,u);yield d.directlySetCurrentUser(E)}catch(g){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",g),yield d.directlySetCurrentUser(null)}})()}initializeCurrentUser(u){var d=this;return(0,T.A)(function*(){var g;if((0,Re._isFirebaseServerApp)(d.app)){const q=d.app.settings.authIdToken;return q?new Promise(ae=>{setTimeout(()=>d.initializeCurrentUserFromIdToken(q).then(ae,ae))}):d.directlySetCurrentUser(null)}const E=yield d.assertedPersistence.getCurrentUser();let D=E,k=!1;if(u&&d.config.authDomain){yield d.getOrInitRedirectPersistenceManager();const q=null===(g=d.redirectUser)||void 0===g?void 0:g._redirectEventId,ae=D?._redirectEventId,xe=yield d.tryRedirectSignIn(u);(!q||q===ae)&&xe?.user&&(D=xe.user,k=!0)}if(!D)return d.directlySetCurrentUser(null);if(!D._redirectEventId){if(k)try{yield d.beforeStateQueue.runMiddleware(D)}catch(q){D=E,d._popupRedirectResolver._overrideRedirectResult(d,()=>Promise.reject(q))}return D?d.reloadAndSetCurrentUserOrClear(D):d.directlySetCurrentUser(null)}return pe(d._popupRedirectResolver,d,"argument-error"),yield d.getOrInitRedirectPersistenceManager(),d.redirectUser&&d.redirectUser._redirectEventId===D._redirectEventId?d.directlySetCurrentUser(D):d.reloadAndSetCurrentUserOrClear(D)})()}tryRedirectSignIn(u){var d=this;return(0,T.A)(function*(){let g=null;try{g=yield d._popupRedirectResolver._completeRedirectFn(d,u,!0)}catch{yield d._setRedirectUser(null)}return g})()}reloadAndSetCurrentUserOrClear(u){var d=this;return(0,T.A)(function*(){try{yield Lr(u)}catch(g){if("auth/network-request-failed"!==g?.code)return d.directlySetCurrentUser(null)}return d.directlySetCurrentUser(u)})()}useDeviceLanguage(){this.languageCode=function ii(){if(typeof navigator>"u")return null;const f=navigator;return f.languages&&f.languages[0]||f.language||null}()}_delete(){var u=this;return(0,T.A)(function*(){u._deleted=!0})()}updateCurrentUser(u){var d=this;return(0,T.A)(function*(){if((0,Re._isFirebaseServerApp)(d.app))return Promise.reject(Ke(d));const g=u?(0,ie.Ku)(u):null;return g&&pe(g.auth.config.apiKey===d.config.apiKey,d,"invalid-user-token"),d._updateCurrentUser(g&&g._clone(d))})()}_updateCurrentUser(u,d=!1){var g=this;return(0,T.A)(function*(){if(!g._deleted)return u&&pe(g.tenantId===u.tenantId,g,"tenant-id-mismatch"),d||(yield g.beforeStateQueue.runMiddleware(u)),g.queue((0,T.A)(function*(){yield g.directlySetCurrentUser(u),g.notifyAuthListeners()}))})()}signOut(){var u=this;return(0,T.A)(function*(){return(0,Re._isFirebaseServerApp)(u.app)?Promise.reject(Ke(u)):(yield u.beforeStateQueue.runMiddleware(null),(u.redirectPersistenceManager||u._popupRedirectResolver)&&(yield u._setRedirectUser(null)),u._updateCurrentUser(null,!0))})()}setPersistence(u){var d=this;return(0,Re._isFirebaseServerApp)(this.app)?Promise.reject(Ke(this)):this.queue((0,T.A)(function*(){yield d.assertedPersistence.setPersistence(Je(u))}))}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(u){var d=this;return(0,T.A)(function*(){d._getPasswordPolicyInternal()||(yield d._updatePasswordPolicy());const g=d._getPasswordPolicyInternal();return g.schemaVersion!==d.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(d._errorFactory.create("unsupported-password-policy-schema-version",{})):g.validatePassword(u)})()}_getPasswordPolicyInternal(){return null===this.tenantId?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){var u=this;return(0,T.A)(function*(){const d=yield function Rt(f){return gn.apply(this,arguments)}(u),g=new si(d);null===u.tenantId?u._projectPasswordPolicy=g:u._tenantPasswordPolicies[u.tenantId]=g})()}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(u){this._errorFactory=new ie.FA("auth","Firebase",u())}onAuthStateChanged(u,d,g){return this.registerStateListener(this.authStateSubscription,u,d,g)}beforeAuthStateChanged(u,d){return this.beforeStateQueue.pushCallback(u,d)}onIdTokenChanged(u,d,g){return this.registerStateListener(this.idTokenSubscription,u,d,g)}authStateReady(){return new Promise((u,d)=>{if(this.currentUser)u();else{const g=this.onAuthStateChanged(()=>{g(),u()},d)}})}revokeAccessToken(u){var d=this;return(0,T.A)(function*(){if(d.currentUser){const g=yield d.currentUser.getIdToken(),E={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:u,idToken:g};null!=d.tenantId&&(E.tenantId=d.tenantId),yield function F(f,u){return O.apply(this,arguments)}(d,E)}})()}toJSON(){var u;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(u=this._currentUser)||void 0===u?void 0:u.toJSON()}}_setRedirectUser(u,d){var g=this;return(0,T.A)(function*(){const E=yield g.getOrInitRedirectPersistenceManager(d);return null===u?E.removeCurrentUser():E.setCurrentUser(u)})()}getOrInitRedirectPersistenceManager(u){var d=this;return(0,T.A)(function*(){if(!d.redirectPersistenceManager){const g=u&&Je(u)||d._popupRedirectResolver;pe(g,d,"argument-error"),d.redirectPersistenceManager=yield J.create(d,[Je(g._redirectPersistence)],"redirectUser"),d.redirectUser=yield d.redirectPersistenceManager.getCurrentUser()}return d.redirectPersistenceManager})()}_redirectUserForId(u){var d=this;return(0,T.A)(function*(){var g,E;return d._isInitialized&&(yield d.queue((0,T.A)(function*(){}))),(null===(g=d._currentUser)||void 0===g?void 0:g._redirectEventId)===u?d._currentUser:(null===(E=d.redirectUser)||void 0===E?void 0:E._redirectEventId)===u?d.redirectUser:null})()}_persistUserIfCurrent(u){var d=this;return(0,T.A)(function*(){if(u===d.currentUser)return d.queue((0,T.A)(function*(){return d.directlySetCurrentUser(u)}))})()}_notifyListenersIfCurrent(u){u===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var u,d;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const g=null!==(d=null===(u=this.currentUser)||void 0===u?void 0:u.uid)&&void 0!==d?d:null;this.lastNotifiedUid!==g&&(this.lastNotifiedUid=g,this.authStateSubscription.next(this.currentUser))}registerStateListener(u,d,g,E){if(this._deleted)return()=>{};const D="function"==typeof d?d:d.next.bind(d);let k=!1;const q=this._isInitialized?Promise.resolve():this._initializationPromise;if(pe(q,this,"internal-error"),q.then(()=>{k||D(this.currentUser)}),"function"==typeof d){const ae=u.addObserver(d,g,E);return()=>{k=!0,ae()}}{const ae=u.addObserver(d);return()=>{k=!0,ae()}}}directlySetCurrentUser(u){var d=this;return(0,T.A)(function*(){d.currentUser&&d.currentUser!==u&&d._currentUser._stopProactiveRefresh(),u&&d.isProactiveRefreshEnabled&&u._startProactiveRefresh(),d.currentUser=u,u?yield d.assertedPersistence.setCurrentUser(u):yield d.assertedPersistence.removeCurrentUser()})()}queue(u){return this.operations=this.operations.then(u,u),this.operations}get assertedPersistence(){return pe(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(u){!u||this.frameworks.includes(u)||(this.frameworks.push(u),this.frameworks.sort(),this.clientVersion=ht(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var u=this;return(0,T.A)(function*(){var d;const g={"X-Client-Version":u.clientVersion};u.app.options.appId&&(g["X-Firebase-gmpid"]=u.app.options.appId);const E=yield null===(d=u.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===d?void 0:d.getHeartbeatsHeader();E&&(g["X-Firebase-Client"]=E);const D=yield u._getAppCheckToken();return D&&(g["X-Firebase-AppCheck"]=D),g})()}_getAppCheckToken(){var u=this;return(0,T.A)(function*(){var d;const g=yield null===(d=u.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===d?void 0:d.getToken();return g?.error&&function Hn(f,...u){ur.logLevel<=Le.$b.WARN&&ur.warn(`Auth (${Re.SDK_VERSION}): ${f}`,...u)}(`Error while retrieving App Check token: ${g.error}`),g?.token})()}}function nn(f){return(0,ie.Ku)(f)}class kp{constructor(u){this.auth=u,this.observer=null,this.addObserver=(0,ie.tD)(d=>this.observer=d)}get next(){return pe(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let La={loadJS:()=>(0,T.A)(function*(){throw new Error("Unable to load external scripts")})(),recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function it(f){return La.loadJS(f)}function dc(f){return`__${f}${Math.floor(1e6*Math.random())}`}class Ko{constructor(u){this.type="recaptcha-enterprise",this.auth=nn(u)}verify(u="verify",d=!1){var g=this;return(0,T.A)(function*(){function D(){return D=(0,T.A)(function*(q){if(!d){if(null==q.tenantId&&null!=q._agentRecaptchaConfig)return q._agentRecaptchaConfig.siteKey;if(null!=q.tenantId&&void 0!==q._tenantRecaptchaConfigs[q.tenantId])return q._tenantRecaptchaConfigs[q.tenantId].siteKey}return new Promise(function(){var ae=(0,T.A)(function*(xe,ze){dr(q,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(He=>{if(void 0!==He.recaptchaKey){const Lt=new Ao(He);return null==q.tenantId?q._agentRecaptchaConfig=Lt:q._tenantRecaptchaConfigs[q.tenantId]=Lt,xe(Lt.siteKey)}ze(new Error("recaptcha Enterprise site key undefined"))}).catch(He=>{ze(He)})});return function(xe,ze){return ae.apply(this,arguments)}}())}),D.apply(this,arguments)}function k(q,ae,xe){const ze=window.grecaptcha;kr(ze)?ze.enterprise.ready(()=>{ze.enterprise.execute(q,{action:u}).then(He=>{ae(He)}).catch(()=>{ae("NO_RECAPTCHA")})}):xe(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((q,ae)=>{(function E(q){return D.apply(this,arguments)})(g.auth).then(xe=>{if(!d&&kr(window.grecaptcha))k(xe,q,ae);else{if(typeof window>"u")return void ae(new Error("RecaptchaVerifier is only supported in browser"));let ze=function oi(){return La.recaptchaEnterpriseScript}();0!==ze.length&&(ze+=xe),it(ze).then(()=>{k(xe,q,ae)}).catch(He=>{ae(He)})}}).catch(xe=>{ae(xe)})})})()}}function qd(f,u,d){return Gd.apply(this,arguments)}function Gd(){return(Gd=(0,T.A)(function*(f,u,d,g=!1){const E=new Ko(f);let D;try{D=yield E.verify(d)}catch{D=yield E.verify(d,!0)}const k=Object.assign({},u);return Object.assign(k,g?{captchaResp:D}:{captchaResponse:D}),Object.assign(k,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(k,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),k})).apply(this,arguments)}function Qo(f,u,d,g){return Bl.apply(this,arguments)}function Bl(){return Bl=(0,T.A)(function*(f,u,d,g){var E;if(null!==(E=f._getRecaptchaConfig())&&void 0!==E&&E.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const D=yield qd(f,u,d,"getOobCode"===d);return g(f,D)}return g(f,u).catch(function(){var D=(0,T.A)(function*(k){if("auth/missing-recaptcha-token"===k.code){console.log(`${d} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const q=yield qd(f,u,d,"getOobCode"===d);return g(f,q)}return Promise.reject(k)});return function(k){return D.apply(this,arguments)}}())}),Bl.apply(this,arguments)}function Fp(f){const u=f.indexOf(":");return u<0?"":f.substr(0,u+1)}function Vp(f){if(!f)return null;const u=Number(f);return isNaN(u)?null:u}class Yo{constructor(u,d){this.providerId=u,this.signInMethod=d}toJSON(){return qn("not implemented")}_getIdTokenResponse(u){return qn("not implemented")}_linkToIdToken(u,d){return qn("not implemented")}_getReauthenticationResolver(u){return qn("not implemented")}}function Ue(f,u){return Wd.apply(this,arguments)}function Wd(){return(Wd=(0,T.A)(function*(f,u){return Ne(f,"POST","/v1/accounts:resetPassword",fe(f,u))})).apply(this,arguments)}function Jo(){return(Jo=(0,T.A)(function*(f,u){return Ne(f,"POST","/v1/accounts:update",u)})).apply(this,arguments)}function Up(f,u){return jl.apply(this,arguments)}function jl(){return(jl=(0,T.A)(function*(f,u){return Ne(f,"POST","/v1/accounts:signUp",u)})).apply(this,arguments)}function Qi(){return(Qi=(0,T.A)(function*(f,u){return Ne(f,"POST","/v1/accounts:update",fe(f,u))})).apply(this,arguments)}function $l(f,u){return Ba.apply(this,arguments)}function Ba(){return(Ba=(0,T.A)(function*(f,u){return St(f,"POST","/v1/accounts:signInWithPassword",fe(f,u))})).apply(this,arguments)}function Zo(f,u){return fc.apply(this,arguments)}function fc(){return(fc=(0,T.A)(function*(f,u){return Ne(f,"POST","/v1/accounts:sendOobCode",fe(f,u))})).apply(this,arguments)}function ja(){return(ja=(0,T.A)(function*(f,u){return Zo(f,u)})).apply(this,arguments)}function zl(f,u){return to.apply(this,arguments)}function to(){return(to=(0,T.A)(function*(f,u){return Zo(f,u)})).apply(this,arguments)}function pc(f,u){return gc.apply(this,arguments)}function gc(){return(gc=(0,T.A)(function*(f,u){return Zo(f,u)})).apply(this,arguments)}function yc(){return(yc=(0,T.A)(function*(f,u){return Zo(f,u)})).apply(this,arguments)}function Kd(){return(Kd=(0,T.A)(function*(f,u){return St(f,"POST","/v1/accounts:signInWithEmailLink",fe(f,u))})).apply(this,arguments)}function za(){return(za=(0,T.A)(function*(f,u){return St(f,"POST","/v1/accounts:signInWithEmailLink",fe(f,u))})).apply(this,arguments)}class xs extends Yo{constructor(u,d,g,E=null){super("password",g),this._email=u,this._password=d,this._tenantId=E}static _fromEmailAndPassword(u,d){return new xs(u,d,"password")}static _fromEmailAndCode(u,d,g=null){return new xs(u,d,"emailLink",g)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(u){const d="string"==typeof u?JSON.parse(u):u;if(d?.email&&d?.password){if("password"===d.signInMethod)return this._fromEmailAndPassword(d.email,d.password);if("emailLink"===d.signInMethod)return this._fromEmailAndCode(d.email,d.password,d.tenantId)}return null}_getIdTokenResponse(u){var d=this;return(0,T.A)(function*(){switch(d.signInMethod){case"password":return Qo(u,{returnSecureToken:!0,email:d._email,password:d._password,clientType:"CLIENT_TYPE_WEB"},"signInWithPassword",$l);case"emailLink":return function $a(f,u){return Kd.apply(this,arguments)}(u,{email:d._email,oobCode:d._password});default:Bt(u,"internal-error")}})()}_linkToIdToken(u,d){var g=this;return(0,T.A)(function*(){switch(g.signInMethod){case"password":return Qo(u,{idToken:d,returnSecureToken:!0,email:g._email,password:g._password,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",Up);case"emailLink":return function f_(f,u){return za.apply(this,arguments)}(u,{idToken:d,email:g._email,oobCode:g._password});default:Bt(u,"internal-error")}})()}_getReauthenticationResolver(u){return this._getIdTokenResponse(u)}}function Yi(f,u){return Ha.apply(this,arguments)}function Ha(){return(Ha=(0,T.A)(function*(f,u){return St(f,"POST","/v1/accounts:signInWithIdp",fe(f,u))})).apply(this,arguments)}class mr extends Yo{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(u){const d=new mr(u.providerId,u.signInMethod);return u.idToken||u.accessToken?(u.idToken&&(d.idToken=u.idToken),u.accessToken&&(d.accessToken=u.accessToken),u.nonce&&!u.pendingToken&&(d.nonce=u.nonce),u.pendingToken&&(d.pendingToken=u.pendingToken)):u.oauthToken&&u.oauthTokenSecret?(d.accessToken=u.oauthToken,d.secret=u.oauthTokenSecret):Bt("argument-error"),d}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(u){const d="string"==typeof u?JSON.parse(u):u,{providerId:g,signInMethod:E}=d,D=(0,sn.Tt)(d,["providerId","signInMethod"]);if(!g||!E)return null;const k=new mr(g,E);return k.idToken=D.idToken||void 0,k.accessToken=D.accessToken||void 0,k.secret=D.secret,k.nonce=D.nonce,k.pendingToken=D.pendingToken||null,k}_getIdTokenResponse(u){return Yi(u,this.buildRequest())}_linkToIdToken(u,d){const g=this.buildRequest();return g.idToken=d,Yi(u,g)}_getReauthenticationResolver(u){const d=this.buildRequest();return d.autoCreate=!1,Yi(u,d)}buildRequest(){const u={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)u.pendingToken=this.pendingToken;else{const d={};this.idToken&&(d.id_token=this.idToken),this.accessToken&&(d.access_token=this.accessToken),this.secret&&(d.oauth_token_secret=this.secret),d.providerId=this.providerId,this.nonce&&!this.pendingToken&&(d.nonce=this.nonce),u.postBody=(0,ie.Am)(d)}return u}}function Hl(){return(Hl=(0,T.A)(function*(f,u){return Ne(f,"POST","/v1/accounts:sendVerificationCode",fe(f,u))})).apply(this,arguments)}function $t(){return($t=(0,T.A)(function*(f,u){return St(f,"POST","/v1/accounts:signInWithPhoneNumber",fe(f,u))})).apply(this,arguments)}function _c(){return(_c=(0,T.A)(function*(f,u){const d=yield St(f,"POST","/v1/accounts:signInWithPhoneNumber",fe(f,u));if(d.temporaryProof)throw er(f,"account-exists-with-different-credential",d);return d})).apply(this,arguments)}const jp={USER_NOT_FOUND:"user-not-found"};function vc(){return(vc=(0,T.A)(function*(f,u){return St(f,"POST","/v1/accounts:signInWithPhoneNumber",fe(f,Object.assign(Object.assign({},u),{operation:"REAUTH"})),jp)})).apply(this,arguments)}class Ji extends Yo{constructor(u){super("phone","phone"),this.params=u}static _fromVerification(u,d){return new Ji({verificationId:u,verificationCode:d})}static _fromTokenResponse(u,d){return new Ji({phoneNumber:u,temporaryProof:d})}_getIdTokenResponse(u){return function ct(f,u){return $t.apply(this,arguments)}(u,this._makeVerificationRequest())}_linkToIdToken(u,d){return function p_(f,u){return _c.apply(this,arguments)}(u,Object.assign({idToken:d},this._makeVerificationRequest()))}_getReauthenticationResolver(u){return function $p(f,u){return vc.apply(this,arguments)}(u,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:u,phoneNumber:d,verificationId:g,verificationCode:E}=this.params;return u&&d?{temporaryProof:u,phoneNumber:d}:{sessionInfo:g,code:E}}toJSON(){const u={providerId:this.providerId};return this.params.phoneNumber&&(u.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(u.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(u.verificationCode=this.params.verificationCode),this.params.verificationId&&(u.verificationId=this.params.verificationId),u}static fromJSON(u){"string"==typeof u&&(u=JSON.parse(u));const{verificationId:d,verificationCode:g,phoneNumber:E,temporaryProof:D}=u;return g||d||E||D?new Ji({verificationId:d,verificationCode:g,phoneNumber:E,temporaryProof:D}):null}}class no{constructor(u){var d,g,E,D,k,q;const ae=(0,ie.I9)((0,ie.hp)(u)),xe=null!==(d=ae.apiKey)&&void 0!==d?d:null,ze=null!==(g=ae.oobCode)&&void 0!==g?g:null,He=function Pt(f){switch(f){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(E=ae.mode)&&void 0!==E?E:null);pe(xe&&ze&&He,"argument-error"),this.apiKey=xe,this.operation=He,this.code=ze,this.continueUrl=null!==(D=ae.continueUrl)&&void 0!==D?D:null,this.languageCode=null!==(k=ae.languageCode)&&void 0!==k?k:null,this.tenantId=null!==(q=ae.tenantId)&&void 0!==q?q:null}static parseLink(u){const d=function ql(f){const u=(0,ie.I9)((0,ie.hp)(f)).link,d=u?(0,ie.I9)((0,ie.hp)(u)).deep_link_id:null,g=(0,ie.I9)((0,ie.hp)(f)).deep_link_id;return(g?(0,ie.I9)((0,ie.hp)(g)).link:null)||g||d||u||f}(u);try{return new no(d)}catch{return null}}}let Gl=(()=>{class f{constructor(){this.providerId=f.PROVIDER_ID}static credential(d,g){return xs._fromEmailAndPassword(d,g)}static credentialWithLink(d,g){const E=no.parseLink(g);return pe(E,"argument-error"),xs._fromEmailAndCode(d,E.code,E.tenantId)}}return f.PROVIDER_ID="password",f.EMAIL_PASSWORD_SIGN_IN_METHOD="password",f.EMAIL_LINK_SIGN_IN_METHOD="emailLink",f})();class Os{constructor(u){this.providerId=u,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(u){this.defaultLanguageCode=u}setCustomParameters(u){return this.customParameters=u,this}getCustomParameters(){return this.customParameters}}class Xo extends Os{constructor(){super(...arguments),this.scopes=[]}addScope(u){return this.scopes.includes(u)||this.scopes.push(u),this}getScopes(){return[...this.scopes]}}class Zi extends Xo{static credentialFromJSON(u){const d="string"==typeof u?JSON.parse(u):u;return pe("providerId"in d&&"signInMethod"in d,"argument-error"),mr._fromParams(d)}credential(u){return this._credential(Object.assign(Object.assign({},u),{nonce:u.rawNonce}))}_credential(u){return pe(u.idToken||u.accessToken,"argument-error"),mr._fromParams(Object.assign(Object.assign({},u),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(u){return Zi.oauthCredentialFromTaggedObject(u)}static credentialFromError(u){return Zi.oauthCredentialFromTaggedObject(u.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:u}){if(!u)return null;const{oauthIdToken:d,oauthAccessToken:g,oauthTokenSecret:E,pendingToken:D,nonce:k,providerId:q}=u;if(!g&&!E&&!d&&!D||!q)return null;try{return new Zi(q)._credential({idToken:d,accessToken:g,nonce:k,pendingToken:D})}catch{return null}}}let Ga=(()=>{class f extends Xo{constructor(){super("facebook.com")}static credential(d){return mr._fromParams({providerId:f.PROVIDER_ID,signInMethod:f.FACEBOOK_SIGN_IN_METHOD,accessToken:d})}static credentialFromResult(d){return f.credentialFromTaggedObject(d)}static credentialFromError(d){return f.credentialFromTaggedObject(d.customData||{})}static credentialFromTaggedObject({_tokenResponse:d}){if(!d||!("oauthAccessToken"in d)||!d.oauthAccessToken)return null;try{return f.credential(d.oauthAccessToken)}catch{return null}}}return f.FACEBOOK_SIGN_IN_METHOD="facebook.com",f.PROVIDER_ID="facebook.com",f})(),ea=(()=>{class f extends Xo{constructor(){super("google.com"),this.addScope("profile")}static credential(d,g){return mr._fromParams({providerId:f.PROVIDER_ID,signInMethod:f.GOOGLE_SIGN_IN_METHOD,idToken:d,accessToken:g})}static credentialFromResult(d){return f.credentialFromTaggedObject(d)}static credentialFromError(d){return f.credentialFromTaggedObject(d.customData||{})}static credentialFromTaggedObject({_tokenResponse:d}){if(!d)return null;const{oauthIdToken:g,oauthAccessToken:E}=d;if(!g&&!E)return null;try{return f.credential(g,E)}catch{return null}}}return f.GOOGLE_SIGN_IN_METHOD="google.com",f.PROVIDER_ID="google.com",f})(),wc=(()=>{class f extends Xo{constructor(){super("github.com")}static credential(d){return mr._fromParams({providerId:f.PROVIDER_ID,signInMethod:f.GITHUB_SIGN_IN_METHOD,accessToken:d})}static credentialFromResult(d){return f.credentialFromTaggedObject(d)}static credentialFromError(d){return f.credentialFromTaggedObject(d.customData||{})}static credentialFromTaggedObject({_tokenResponse:d}){if(!d||!("oauthAccessToken"in d)||!d.oauthAccessToken)return null;try{return f.credential(d.oauthAccessToken)}catch{return null}}}return f.GITHUB_SIGN_IN_METHOD="github.com",f.PROVIDER_ID="github.com",f})();class Co extends Yo{constructor(u,d){super(u,u),this.pendingToken=d}_getIdTokenResponse(u){return Yi(u,this.buildRequest())}_linkToIdToken(u,d){const g=this.buildRequest();return g.idToken=d,Yi(u,g)}_getReauthenticationResolver(u){const d=this.buildRequest();return d.autoCreate=!1,Yi(u,d)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(u){const d="string"==typeof u?JSON.parse(u):u,{providerId:g,signInMethod:E,pendingToken:D}=d;return g&&E&&D&&g===E?new Co(g,D):null}static _create(u,d){return new Co(u,d)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class ai extends Os{constructor(u){pe(u.startsWith("saml."),"argument-error"),super(u)}static credentialFromResult(u){return ai.samlCredentialFromTaggedObject(u)}static credentialFromError(u){return ai.samlCredentialFromTaggedObject(u.customData||{})}static credentialFromJSON(u){const d=Co.fromJSON(u);return pe(d,"argument-error"),d}static samlCredentialFromTaggedObject({_tokenResponse:u}){if(!u)return null;const{pendingToken:d,providerId:g}=u;if(!d||!g)return null;try{return Co._create(g,d)}catch{return null}}}let Jd=(()=>{class f extends Xo{constructor(){super("twitter.com")}static credential(d,g){return mr._fromParams({providerId:f.PROVIDER_ID,signInMethod:f.TWITTER_SIGN_IN_METHOD,oauthToken:d,oauthTokenSecret:g})}static credentialFromResult(d){return f.credentialFromTaggedObject(d)}static credentialFromError(d){return f.credentialFromTaggedObject(d.customData||{})}static credentialFromTaggedObject({_tokenResponse:d}){if(!d)return null;const{oauthAccessToken:g,oauthTokenSecret:E}=d;if(!g||!E)return null;try{return f.credential(g,E)}catch{return null}}}return f.TWITTER_SIGN_IN_METHOD="twitter.com",f.PROVIDER_ID="twitter.com",f})();function ks(f,u){return Ic.apply(this,arguments)}function Ic(){return(Ic=(0,T.A)(function*(f,u){return St(f,"POST","/v1/accounts:signUp",fe(f,u))})).apply(this,arguments)}class ve{constructor(u){this.user=u.user,this.providerId=u.providerId,this._tokenResponse=u._tokenResponse,this.operationType=u.operationType}static _fromIdTokenResponse(u,d,g,E=!1){return(0,T.A)(function*(){const D=yield H._fromIdTokenResponse(u,g,E),k=Wl(g);return new ve({user:D,providerId:k,_tokenResponse:g,operationType:d})})()}static _forOperation(u,d,g){return(0,T.A)(function*(){yield u._updateTokensIfNecessary(g,!0);const E=Wl(g);return new ve({user:u,providerId:E,_tokenResponse:g,operationType:d})})()}}function Wl(f){return f.providerId?f.providerId:"phoneNumber"in f?"phone":null}function ta(){return(ta=(0,T.A)(function*(f){var u;if((0,Re._isFirebaseServerApp)(f.app))return Promise.reject(Ke(f));const d=nn(f);if(yield d._initializationPromise,null!==(u=d.currentUser)&&void 0!==u&&u.isAnonymous)return new ve({user:d.currentUser,providerId:null,operationType:"signIn"});const g=yield ks(d,{returnSecureToken:!0}),E=yield ve._fromIdTokenResponse(d,"signIn",g,!0);return yield d._updateCurrentUser(E.user),E})).apply(this,arguments)}class na extends ie.g{constructor(u,d,g,E){var D;super(d.code,d.message),this.operationType=g,this.user=E,Object.setPrototypeOf(this,na.prototype),this.customData={appName:u.name,tenantId:null!==(D=u.tenantId)&&void 0!==D?D:void 0,_serverResponse:d.customData._serverResponse,operationType:g}}static _fromErrorAndOperation(u,d,g,E){return new na(u,d,g,E)}}function ra(f,u,d,g){return("reauthenticate"===u?d._getReauthenticationResolver(f):d._getIdTokenResponse(f)).catch(D=>{throw"auth/multi-factor-auth-required"===D.code?na._fromErrorAndOperation(f,D,u,g):D})}function Zd(f){return new Set(f.map(({providerId:u})=>u).filter(u=>!!u))}function bc(){return bc=(0,T.A)(function*(f,u){const d=(0,ie.Ku)(f);yield Wa(!0,d,u);const{providerUserInfo:g}=yield function tr(f,u){return Vr.apply(this,arguments)}(d.auth,{idToken:yield d.getIdToken(),deleteProvider:[u]}),E=Zd(g||[]);return d.providerData=d.providerData.filter(D=>E.has(D.providerId)),E.has("phone")||(d.phoneNumber=null),yield d.auth._persistUserIfCurrent(d),d}),bc.apply(this,arguments)}function Kl(f,u){return Xi.apply(this,arguments)}function Xi(){return(Xi=(0,T.A)(function*(f,u,d=!1){const g=yield Kr(f,u._linkToIdToken(f.auth,yield f.getIdToken()),d);return ve._forOperation(f,"link",g)})).apply(this,arguments)}function Wa(f,u,d){return ro.apply(this,arguments)}function ro(){return(ro=(0,T.A)(function*(f,u,d){yield Lr(u);const E=!1===f?"provider-already-linked":"no-such-provider";pe(Zd(u.providerData).has(d)===f,u.auth,E)})).apply(this,arguments)}function eh(f,u){return Fs.apply(this,arguments)}function Fs(){return(Fs=(0,T.A)(function*(f,u,d=!1){const{auth:g}=f;if((0,Re._isFirebaseServerApp)(g.app))return Promise.reject(Ke(g));const E="reauthenticate";try{const D=yield Kr(f,ra(g,E,u,f),d);pe(D.idToken,g,"internal-error");const k=Wi(D.idToken);pe(k,g,"internal-error");const{sub:q}=k;return pe(f.uid===q,g,"user-mismatch"),ve._forOperation(f,E,D)}catch(D){throw"auth/user-not-found"===D?.code&&Bt(g,"user-mismatch"),D}})).apply(this,arguments)}function th(f,u){return Br.apply(this,arguments)}function Br(){return(Br=(0,T.A)(function*(f,u,d=!1){if((0,Re._isFirebaseServerApp)(f.app))return Promise.reject(Ke(f));const g="signIn",E=yield ra(f,g,u),D=yield ve._fromIdTokenResponse(f,g,E);return d||(yield f._updateCurrentUser(D.user)),D})).apply(this,arguments)}function Pi(f,u){return Ql.apply(this,arguments)}function Ql(){return(Ql=(0,T.A)(function*(f,u){return th(nn(f),u)})).apply(this,arguments)}function Ka(f,u){return ia.apply(this,arguments)}function ia(){return(ia=(0,T.A)(function*(f,u){const d=(0,ie.Ku)(f);return yield Wa(!1,d,u.providerId),Kl(d,u)})).apply(this,arguments)}function Yl(f,u){return Ac.apply(this,arguments)}function Ac(){return(Ac=(0,T.A)(function*(f,u){return eh((0,ie.Ku)(f),u)})).apply(this,arguments)}function rh(){return(rh=(0,T.A)(function*(f,u){return St(f,"POST","/v1/accounts:signInWithCustomToken",fe(f,u))})).apply(this,arguments)}function Qa(){return Qa=(0,T.A)(function*(f,u){if((0,Re._isFirebaseServerApp)(f.app))return Promise.reject(Ke(f));const d=nn(f),g=yield function nh(f,u){return rh.apply(this,arguments)}(d,{token:u,returnSecureToken:!0}),E=yield ve._fromIdTokenResponse(d,"signIn",g);return yield d._updateCurrentUser(E.user),E}),Qa.apply(this,arguments)}class es{constructor(u,d){this.factorId=u,this.uid=d.mfaEnrollmentId,this.enrollmentTime=new Date(d.enrolledAt).toUTCString(),this.displayName=d.displayName}static _fromServerResponse(u,d){return"phoneInfo"in d?Tc._fromServerResponse(u,d):"totpInfo"in d?Jl._fromServerResponse(u,d):Bt(u,"internal-error")}}class Tc extends es{constructor(u){super("phone",u),this.phoneNumber=u.phoneInfo}static _fromServerResponse(u,d){return new Tc(d)}}class Jl extends es{constructor(u){super("totp",u)}static _fromServerResponse(u,d){return new Jl(d)}}function wi(f,u,d){var g;pe((null===(g=d.url)||void 0===g?void 0:g.length)>0,f,"invalid-continue-uri"),pe(typeof d.dynamicLinkDomain>"u"||d.dynamicLinkDomain.length>0,f,"invalid-dynamic-link-domain"),u.continueUrl=d.url,u.dynamicLinkDomain=d.dynamicLinkDomain,u.canHandleCodeInApp=d.handleCodeInApp,d.iOS&&(pe(d.iOS.bundleId.length>0,f,"missing-ios-bundle-id"),u.iOSBundleId=d.iOS.bundleId),d.android&&(pe(d.android.packageName.length>0,f,"missing-android-pkg-name"),u.androidInstallApp=d.android.installApp,u.androidMinimumVersionCode=d.android.minimumVersion,u.androidPackageName=d.android.packageName)}function Ft(f){return gs.apply(this,arguments)}function gs(){return(gs=(0,T.A)(function*(f){const u=nn(f);u._getPasswordPolicyInternal()&&(yield u._updatePasswordPolicy())})).apply(this,arguments)}function Ya(){return(Ya=(0,T.A)(function*(f,u,d){const g=nn(f),E={requestType:"PASSWORD_RESET",email:u,clientType:"CLIENT_TYPE_WEB"};d&&wi(g,E,d),yield Qo(g,E,"getOobCode",zl)})).apply(this,arguments)}function sa(){return sa=(0,T.A)(function*(f,u,d){yield Ue((0,ie.Ku)(f),{oobCode:u,newPassword:d}).catch(function(){var g=(0,T.A)(function*(E){throw"auth/password-does-not-meet-requirements"===E.code&&Ft(f),E});return function(E){return g.apply(this,arguments)}}())}),sa.apply(this,arguments)}function yn(){return yn=(0,T.A)(function*(f,u){yield function Bp(f,u){return Qi.apply(this,arguments)}((0,ie.Ku)(f),{oobCode:u})}),yn.apply(this,arguments)}function zp(f,u){return Ja.apply(this,arguments)}function Ja(){return(Ja=(0,T.A)(function*(f,u){const d=(0,ie.Ku)(f),g=yield Ue(d,{oobCode:u}),E=g.requestType;switch(pe(E,d,"internal-error"),E){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":pe(g.newEmail,d,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":pe(g.mfaInfo,d,"internal-error");default:pe(g.email,d,"internal-error")}let D=null;return g.mfaInfo&&(D=es._fromServerResponse(nn(d),g.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===g.requestType?g.newEmail:g.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===g.requestType?g.email:g.newEmail)||null,multiFactorInfo:D},operation:E}})).apply(this,arguments)}function Za(){return(Za=(0,T.A)(function*(f,u){const{data:d}=yield zp((0,ie.Ku)(f),u);return d.email})).apply(this,arguments)}function eu(){return(eu=(0,T.A)(function*(f,u,d){if((0,Re._isFirebaseServerApp)(f.app))return Promise.reject(Ke(f));const g=nn(f),k=yield Qo(g,{returnSecureToken:!0,email:u,password:d,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",ks).catch(ae=>{throw"auth/password-does-not-meet-requirements"===ae.code&&Ft(f),ae}),q=yield ve._fromIdTokenResponse(g,"signIn",k);return yield g._updateCurrentUser(q.user),q})).apply(this,arguments)}function el(){return(el=(0,T.A)(function*(f,u,d){const g=nn(f),E={requestType:"EMAIL_SIGNIN",email:u,clientType:"CLIENT_TYPE_WEB"};(function D(k,q){pe(q.handleCodeInApp,g,"argument-error"),q&&wi(g,k,q)})(E,d),yield Qo(g,E,"getOobCode",pc)})).apply(this,arguments)}function Ei(){return(Ei=(0,T.A)(function*(f,u,d){if((0,Re._isFirebaseServerApp)(f.app))return Promise.reject(Ke(f));const g=(0,ie.Ku)(f),E=Gl.credentialWithLink(u,d||Or());return pe(E._tenantId===(g.tenantId||null),g,"tenant-id-mismatch"),Pi(g,E)})).apply(this,arguments)}function ys(){return(ys=(0,T.A)(function*(f,u){return Ne(f,"POST","/v1/accounts:createAuthUri",fe(f,u))})).apply(this,arguments)}function Cc(){return Cc=(0,T.A)(function*(f,u){const g={identifier:u,continueUri:zi()?Or():"http://localhost"},{signinMethods:E}=yield function Wp(f,u){return ys.apply(this,arguments)}((0,ie.Ku)(f),g);return E||[]}),Cc.apply(this,arguments)}function Dc(){return Dc=(0,T.A)(function*(f,u){const d=(0,ie.Ku)(f),E={requestType:"VERIFY_EMAIL",idToken:yield f.getIdToken()};u&&wi(d.auth,E,u);const{email:D}=yield function Ee(f,u){return ja.apply(this,arguments)}(d.auth,E);D!==f.email&&(yield f.reload())}),Dc.apply(this,arguments)}function Sc(){return Sc=(0,T.A)(function*(f,u,d){const g=(0,ie.Ku)(f),D={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield f.getIdToken(),newEmail:u};d&&wi(g.auth,D,d);const{email:k}=yield function mc(f,u){return yc.apply(this,arguments)}(g.auth,D);k!==f.email&&(yield f.reload())}),Sc.apply(this,arguments)}function Rc(){return(Rc=(0,T.A)(function*(f,u){return Ne(f,"POST","/v1/accounts:update",u)})).apply(this,arguments)}function Pc(){return Pc=(0,T.A)(function*(f,{displayName:u,photoURL:d}){if(void 0===u&&void 0===d)return;const g=(0,ie.Ku)(f),D={idToken:yield g.getIdToken(),displayName:u,photoUrl:d,returnSecureToken:!0},k=yield Kr(g,function uh(f,u){return Rc.apply(this,arguments)}(g.auth,D));g.displayName=k.displayName||null,g.photoURL=k.photoUrl||null;const q=g.providerData.find(({providerId:ae})=>"password"===ae);q&&(q.displayName=g.displayName,q.photoURL=g.photoURL),yield g._updateTokensIfNecessary(k)}),Pc.apply(this,arguments)}function Mn(f,u,d){return ut.apply(this,arguments)}function ut(){return ut=(0,T.A)(function*(f,u,d){const{auth:g}=f,D={idToken:yield f.getIdToken(),returnSecureToken:!0};u&&(D.email=u),d&&(D.password=d);const k=yield Kr(f,function Qr(f,u){return Jo.apply(this,arguments)}(g,D));yield f._updateTokensIfNecessary(k,!0)}),ut.apply(this,arguments)}class yt{constructor(u,d,g={}){this.isNewUser=u,this.providerId=d,this.profile=g}}class nr extends yt{constructor(u,d,g,E){super(u,d,g),this.username=E}}class Cr extends yt{constructor(u,d){super(u,"facebook.com",d)}}class io extends nr{constructor(u,d){super(u,"github.com",d,"string"==typeof d?.login?d?.login:null)}}class jr extends yt{constructor(u,d){super(u,"google.com",d)}}class ch extends nr{constructor(u,d,g){super(u,"twitter.com",d,g)}}function tl(f){const{user:u,_tokenResponse:d}=f;return u.isAnonymous&&!d?{providerId:null,isNewUser:!1,profile:null}:function li(f){var u,d;if(!f)return null;const{providerId:g}=f,E=f.rawUserInfo?JSON.parse(f.rawUserInfo):{},D=f.isNewUser||"identitytoolkit#SignupNewUserResponse"===f.kind;if(!g&&f?.idToken){const k=null===(d=null===(u=Wi(f.idToken))||void 0===u?void 0:u.firebase)||void 0===d?void 0:d.sign_in_provider;if(k)return new yt(D,"anonymous"!==k&&"custom"!==k?k:null)}if(!g)return null;switch(g){case"facebook.com":return new Cr(D,E);case"github.com":return new io(D,E);case"google.com":return new jr(D,E);case"twitter.com":return new ch(D,E,f.screenName||null);case"custom":case"anonymous":return new yt(D,null);default:return new yt(D,g,E)}}(d)}class oa{constructor(u,d,g){this.type=u,this.credential=d,this.user=g}static _fromIdtoken(u,d){return new oa("enroll",u,d)}static _fromMfaPendingCredential(u){return new oa("signin",u)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(u){var d,g;if(u?.multiFactorSession){if(null!==(d=u.multiFactorSession)&&void 0!==d&&d.pendingCredential)return oa._fromMfaPendingCredential(u.multiFactorSession.pendingCredential);if(null!==(g=u.multiFactorSession)&&void 0!==g&&g.idToken)return oa._fromIdtoken(u.multiFactorSession.idToken)}return null}}class So{constructor(u,d,g){this.session=u,this.hints=d,this.signInResolver=g}static _fromError(u,d){const g=nn(u),E=d.customData._serverResponse,D=(E.mfaInfo||[]).map(q=>es._fromServerResponse(g,q));pe(E.mfaPendingCredential,g,"internal-error");const k=oa._fromMfaPendingCredential(E.mfaPendingCredential);return new So(k,D,function(){var q=(0,T.A)(function*(ae){const xe=yield ae._process(g,k);delete E.mfaInfo,delete E.mfaPendingCredential;const ze=Object.assign(Object.assign({},E),{idToken:xe.idToken,refreshToken:xe.refreshToken});switch(d.operationType){case"signIn":const He=yield ve._fromIdTokenResponse(g,d.operationType,ze);return yield g._updateCurrentUser(He.user),He;case"reauthenticate":return pe(d.user,g,"internal-error"),ve._forOperation(d.user,d.operationType,ze);default:Bt(g,"internal-error")}});return function(ae){return q.apply(this,arguments)}}())}resolveSignIn(u){var d=this;return(0,T.A)(function*(){return d.signInResolver(u)})()}}class Yr{constructor(u){this.user=u,this.enrolledFactors=[],u._onReload(d=>{d.mfaInfo&&(this.enrolledFactors=d.mfaInfo.map(g=>es._fromServerResponse(u.auth,g)))})}static _fromUser(u){return new Yr(u)}getSession(){var u=this;return(0,T.A)(function*(){return oa._fromIdtoken(yield u.user.getIdToken(),u.user)})()}enroll(u,d){var g=this;return(0,T.A)(function*(){const E=u,D=yield g.getSession(),k=yield Kr(g.user,E._process(g.user.auth,D,d));return yield g.user._updateTokensIfNecessary(k),g.user.reload()})()}unenroll(u){var d=this;return(0,T.A)(function*(){const g="string"==typeof u?u:u.uid,E=yield d.user.getIdToken();try{const D=yield Kr(d.user,function ph(f,u){return Ne(f,"POST","/v2/accounts/mfaEnrollment:withdraw",fe(f,u))}(d.user.auth,{idToken:E,mfaEnrollmentId:g}));d.enrolledFactors=d.enrolledFactors.filter(({uid:k})=>k!==g),yield d.user._updateTokensIfNecessary(D),yield d.user.reload()}catch(D){throw D}})()}}const aa=new WeakMap,gh="__sak";class m_{constructor(u,d){this.storageRetriever=u,this.type=d}_isAvailable(){try{return this.storage?(this.storage.setItem(gh,"1"),this.storage.removeItem(gh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(u,d){return this.storage.setItem(u,JSON.stringify(d)),Promise.resolve()}_get(u){const d=this.storage.getItem(u);return Promise.resolve(d?JSON.parse(d):null)}_remove(u){return this.storage.removeItem(u),Promise.resolve()}get storage(){return this.storageRetriever()}}const mh=(()=>{class f extends m_{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(d,g)=>this.onStorageEvent(d,g),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=Pe(),this._shouldAllowMigration=!0}forAllChangedKeys(d){for(const g of Object.keys(this.listeners)){const E=this.storage.getItem(g),D=this.localCache[g];E!==D&&d(g,D,E)}}onStorageEvent(d,g=!1){if(!d.key)return void this.forAllChangedKeys((q,ae,xe)=>{this.notifyListeners(q,xe)});const E=d.key;g?this.detachListener():this.stopPolling();const D=()=>{const q=this.storage.getItem(E);!g&&this.localCache[E]===q||this.notifyListeners(E,q)},k=this.storage.getItem(E);!function de(){return(0,ie.lT)()&&10===document.documentMode}()||k===d.newValue||d.newValue===d.oldValue?D():setTimeout(D,10)}notifyListeners(d,g){this.localCache[d]=g;const E=this.listeners[d];if(E)for(const D of Array.from(E))D(g&&JSON.parse(g))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((d,g,E)=>{this.onStorageEvent(new StorageEvent("storage",{key:d,oldValue:g,newValue:E}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(d,g){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[d]||(this.listeners[d]=new Set,this.localCache[d]=this.storage.getItem(d)),this.listeners[d].add(g)}_removeListener(d,g){this.listeners[d]&&(this.listeners[d].delete(g),0===this.listeners[d].size&&delete this.listeners[d]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(d,g){var E=()=>super._set,D=this;return(0,T.A)(function*(){yield E().call(D,d,g),D.localCache[d]=JSON.stringify(g)})()}_get(d){var g=()=>super._get,E=this;return(0,T.A)(function*(){const D=yield g().call(E,d);return E.localCache[d]=JSON.stringify(D),D})()}_remove(d){var g=()=>super._remove,E=this;return(0,T.A)(function*(){yield g().call(E,d),delete E.localCache[d]})()}}return f.type="LOCAL",f})(),so=(()=>{class f extends m_{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(d,g){}_removeListener(d,g){}}return f.type="SESSION",f})();let __=(()=>{class f{constructor(d){this.eventTarget=d,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(d){const g=this.receivers.find(D=>D.isListeningto(d));if(g)return g;const E=new f(d);return this.receivers.push(E),E}isListeningto(d){return this.eventTarget===d}handleEvent(d){var g=this;return(0,T.A)(function*(){const E=d,{eventId:D,eventType:k,data:q}=E.data,ae=g.handlersMap[k];if(!ae?.size)return;E.ports[0].postMessage({status:"ack",eventId:D,eventType:k});const xe=Array.from(ae).map(function(){var He=(0,T.A)(function*(Lt){return Lt(E.origin,q)});return function(Lt){return He.apply(this,arguments)}}()),ze=yield function oo(f){return Promise.all(f.map(function(){var u=(0,T.A)(function*(d){try{return{fulfilled:!0,value:yield d}}catch(g){return{fulfilled:!1,reason:g}}});return function(d){return u.apply(this,arguments)}}()))}(xe);E.ports[0].postMessage({status:"done",eventId:D,eventType:k,response:ze})})()}_subscribe(d,g){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[d]||(this.handlersMap[d]=new Set),this.handlersMap[d].add(g)}_unsubscribe(d,g){this.handlersMap[d]&&g&&this.handlersMap[d].delete(g),(!g||0===this.handlersMap[d].size)&&delete this.handlersMap[d],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return f.receivers=[],f})();function la(f="",u=10){let d="";for(let g=0;g<u;g++)d+=Math.floor(10*Math.random());return f+d}class nu{constructor(u){this.target=u,this.handlers=new Set}removeMessageHandler(u){u.messageChannel&&(u.messageChannel.port1.removeEventListener("message",u.onMessage),u.messageChannel.port1.close()),this.handlers.delete(u)}_send(u,d,g=50){var E=this;return(0,T.A)(function*(){const D=typeof MessageChannel<"u"?new MessageChannel:null;if(!D)throw new Error("connection_unavailable");let k,q;return new Promise((ae,xe)=>{const ze=la("",20);D.port1.start();const He=setTimeout(()=>{xe(new Error("unsupported_event"))},g);q={messageChannel:D,onMessage(Lt){const fo=Lt;if(fo.data.eventId===ze)switch(fo.data.status){case"ack":clearTimeout(He),k=setTimeout(()=>{xe(new Error("timeout"))},3e3);break;case"done":clearTimeout(k),ae(fo.data.response);break;default:clearTimeout(He),clearTimeout(k),xe(new Error("invalid_response"))}}},E.handlers.add(q),D.port1.addEventListener("message",q.onMessage),E.target.postMessage({eventType:u,eventId:ze,data:d},[D.port2])}).finally(()=>{q&&E.removeMessageHandler(q)})})()}}function yr(){return window}function hr(){return typeof yr().WorkerGlobalScope<"u"&&"function"==typeof yr().importScripts}function Jp(){return(Jp=(0,T.A)(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const w_="firebaseLocalStorageDb",yh="firebaseLocalStorage",E_="fbase_key";class Nc{constructor(u){this.request=u}toPromise(){return new Promise((u,d)=>{this.request.addEventListener("success",()=>{u(this.request.result)}),this.request.addEventListener("error",()=>{d(this.request.error)})})}}function ru(f,u){return f.transaction([yh],u?"readwrite":"readonly").objectStore(yh)}function bn(){const f=indexedDB.open(w_,1);return new Promise((u,d)=>{f.addEventListener("error",()=>{d(f.error)}),f.addEventListener("upgradeneeded",()=>{const g=f.result;try{g.createObjectStore(yh,{keyPath:E_})}catch(E){d(E)}}),f.addEventListener("success",(0,T.A)(function*(){const g=f.result;g.objectStoreNames.contains(yh)?u(g):(g.close(),yield function _h(){const f=indexedDB.deleteDatabase(w_);return new Nc(f).toPromise()}(),u(yield bn()))}))})}function Ce(f,u,d){return Ye.apply(this,arguments)}function Ye(){return(Ye=(0,T.A)(function*(f,u,d){const g=ru(f,!0).put({[E_]:u,value:d});return new Nc(g).toPromise()})).apply(this,arguments)}function ts(){return(ts=(0,T.A)(function*(f,u){const d=ru(f,!1).get(u),g=yield new Nc(d).toPromise();return void 0===g?null:g.value})).apply(this,arguments)}function Jr(f,u){const d=ru(f,!0).delete(u);return new Nc(d).toPromise()}const xn=(()=>{class f{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var d=this;return(0,T.A)(function*(){return d.db||(d.db=yield bn()),d.db})()}_withRetries(d){var g=this;return(0,T.A)(function*(){let E=0;for(;;)try{const D=yield g._openDb();return yield d(D)}catch(D){if(E++>3)throw D;g.db&&(g.db.close(),g.db=void 0)}})()}initializeServiceWorkerMessaging(){var d=this;return(0,T.A)(function*(){return hr()?d.initializeReceiver():d.initializeSender()})()}initializeReceiver(){var d=this;return(0,T.A)(function*(){d.receiver=__._getInstance(function nb(){return hr()?self:null}()),d.receiver._subscribe("keyChanged",function(){var g=(0,T.A)(function*(E,D){return{keyProcessed:(yield d._poll()).includes(D.key)}});return function(E,D){return g.apply(this,arguments)}}()),d.receiver._subscribe("ping",function(){var g=(0,T.A)(function*(E,D){return["keyChanged"]});return function(E,D){return g.apply(this,arguments)}}())})()}initializeSender(){var d=this;return(0,T.A)(function*(){var g,E;if(d.activeServiceWorker=yield function v_(){return Jp.apply(this,arguments)}(),!d.activeServiceWorker)return;d.sender=new nu(d.activeServiceWorker);const D=yield d.sender._send("ping",{},800);D&&null!==(g=D[0])&&void 0!==g&&g.fulfilled&&null!==(E=D[0])&&void 0!==E&&E.value.includes("keyChanged")&&(d.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(d){var g=this;return(0,T.A)(function*(){if(g.sender&&g.activeServiceWorker&&function Mc(){var f;return(null===(f=navigator?.serviceWorker)||void 0===f?void 0:f.controller)||null}()===g.activeServiceWorker)try{yield g.sender._send("keyChanged",{key:d},g.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return(0,T.A)(function*(){try{if(!indexedDB)return!1;const d=yield bn();return yield Ce(d,gh,"1"),yield Jr(d,gh),!0}catch{}return!1})()}_withPendingWrite(d){var g=this;return(0,T.A)(function*(){g.pendingWrites++;try{yield d()}finally{g.pendingWrites--}})()}_set(d,g){var E=this;return(0,T.A)(function*(){return E._withPendingWrite((0,T.A)(function*(){return yield E._withRetries(D=>Ce(D,d,g)),E.localCache[d]=g,E.notifyServiceWorker(d)}))})()}_get(d){var g=this;return(0,T.A)(function*(){const E=yield g._withRetries(D=>function fr(f,u){return ts.apply(this,arguments)}(D,d));return g.localCache[d]=E,E})()}_remove(d){var g=this;return(0,T.A)(function*(){return g._withPendingWrite((0,T.A)(function*(){return yield g._withRetries(E=>Jr(E,d)),delete g.localCache[d],g.notifyServiceWorker(d)}))})()}_poll(){var d=this;return(0,T.A)(function*(){const g=yield d._withRetries(k=>{const q=ru(k,!1).getAll();return new Nc(q).toPromise()});if(!g)return[];if(0!==d.pendingWrites)return[];const E=[],D=new Set;if(0!==g.length)for(const{fbase_key:k,value:q}of g)D.add(k),JSON.stringify(d.localCache[k])!==JSON.stringify(q)&&(d.notifyListeners(k,q),E.push(k));for(const k of Object.keys(d.localCache))d.localCache[k]&&!D.has(k)&&(d.notifyListeners(k,null),E.push(k));return E})()}notifyListeners(d,g){this.localCache[d]=g;const E=this.listeners[d];if(E)for(const D of Array.from(E))D(g)}startPolling(){var d=this;this.stopPolling(),this.pollTimer=setInterval((0,T.A)(function*(){return d._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(d,g){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[d]||(this.listeners[d]=new Set,this._get(d)),this.listeners[d].add(g)}_removeListener(d,g){this.listeners[d]&&(this.listeners[d].delete(g),0===this.listeners[d].size&&delete this.listeners[d]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return f.type="LOCAL",f})(),An=1e12;class Oc{constructor(u){this.auth=u,this.counter=An,this._widgets=new Map}render(u,d){const g=this.counter;return this._widgets.set(g,new ou(u,this.auth.name,d||{})),this.counter++,g}reset(u){var d;const g=u||An;null===(d=this._widgets.get(g))||void 0===d||d.delete(),this._widgets.delete(g)}getResponse(u){var d;return(null===(d=this._widgets.get(u||An))||void 0===d?void 0:d.getResponse())||""}execute(u){var d=this;return(0,T.A)(function*(){var g;return null===(g=d._widgets.get(u||An))||void 0===g||g.execute(),""})()}}class ou{constructor(u,d,g){this.params=g,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const E="string"==typeof u?document.getElementById(u):u;pe(E,"argument-error",{appName:d}),this.container=E,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function Ro(f){const u=[],d="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let g=0;g<f;g++)u.push(d.charAt(Math.floor(62*Math.random())));return u.join("")}(50);const{callback:u,"expired-callback":d}=this.params;if(u)try{u(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,d)try{d()}catch{}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const nl=dc("rcb"),b_=new X(3e4,6e4);class ua{constructor(){var u;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!(null===(u=yr().grecaptcha)||void 0===u||!u.render)}load(u,d=""){return pe(function vh(f){return f.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(f)}(d),u,"argument-error"),this.shouldResolveImmediately(d)&&Tt(yr().grecaptcha)?Promise.resolve(yr().grecaptcha):new Promise((g,E)=>{const D=yr().setTimeout(()=>{E(zt(u,"network-request-failed"))},b_.get());yr()[nl]=()=>{yr().clearTimeout(D),delete yr()[nl];const q=yr().grecaptcha;if(!q||!Tt(q))return void E(zt(u,"internal-error"));const ae=q.render;q.render=(xe,ze)=>{const He=ae(xe,ze);return this.counter++,He},this.hostLanguage=d,g(q)},it(`${function Ul(){return La.recaptchaV2Script}()}?${(0,ie.Am)({onload:nl,render:"explicit",hl:d})}`).catch(()=>{clearTimeout(D),E(zt(u,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(u){var d;return!(null===(d=yr().grecaptcha)||void 0===d||!d.render)&&(u===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class rl{load(u){return(0,T.A)(function*(){return new Oc(u)})()}clearedOneInstance(){}}const _t="recaptcha",Zp={theme:"light",type:"image"};class kc{constructor(u,d,g=Object.assign({},Zp)){this.parameters=g,this.type=_t,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=nn(u),this.isInvisible="invisible"===this.parameters.size,pe(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const E="string"==typeof d?document.getElementById(d):d;pe(E,this.auth,"argument-error"),this.container=E,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new rl:new ua,this.validateStartingState()}verify(){var u=this;return(0,T.A)(function*(){u.assertNotDestroyed();const d=yield u.render(),g=u.getAssertedRecaptcha();return g.getResponse(d)||new Promise(D=>{const k=q=>{q&&(u.tokenChangeListeners.delete(k),D(q))};u.tokenChangeListeners.add(k),u.isInvisible&&g.execute(d)})})()}render(){try{this.assertNotDestroyed()}catch(u){return Promise.reject(u)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(u=>{throw this.renderPromise=null,u})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(u=>{this.container.removeChild(u)})}validateStartingState(){pe(!this.parameters.sitekey,this.auth,"argument-error"),pe(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),pe(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(u){return d=>{if(this.tokenChangeListeners.forEach(g=>g(d)),"function"==typeof u)u(d);else if("string"==typeof u){const g=yr()[u];"function"==typeof g&&g(d)}}}assertNotDestroyed(){pe(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var u=this;return(0,T.A)(function*(){if(yield u.init(),!u.widgetId){let d=u.container;if(!u.isInvisible){const g=document.createElement("div");d.appendChild(g),d=g}u.widgetId=u.getAssertedRecaptcha().render(d,u.parameters)}return u.widgetId})()}init(){var u=this;return(0,T.A)(function*(){pe(zi()&&!hr(),u.auth,"internal-error"),yield function ao(){let f=null;return new Promise(u=>{"complete"!==document.readyState?(f=()=>u(),window.addEventListener("load",f)):u()}).catch(u=>{throw f&&window.removeEventListener("load",f),u})}(),u.recaptcha=yield u._recaptchaLoader.load(u.auth,u.auth.languageCode||void 0);const d=yield function To(f){return wt.apply(this,arguments)}(u.auth);pe(d,u.auth,"internal-error"),u.parameters.sitekey=d})()}getAssertedRecaptcha(){return pe(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class au{constructor(u,d){this.verificationId=u,this.onConfirmation=d}confirm(u){const d=Ji._fromVerification(this.verificationId,u);return this.onConfirmation(d)}}function Wn(){return(Wn=(0,T.A)(function*(f,u,d){if((0,Re._isFirebaseServerApp)(f.app))return Promise.reject(Ke(f));const g=nn(f),E=yield lo(g,u,(0,ie.Ku)(d));return new au(E,D=>Pi(g,D))})).apply(this,arguments)}function $r(){return($r=(0,T.A)(function*(f,u,d){const g=(0,ie.Ku)(f);yield Wa(!1,g,"phone");const E=yield lo(g.auth,u,(0,ie.Ku)(d));return new au(E,D=>Ka(g,D))})).apply(this,arguments)}function Fc(){return(Fc=(0,T.A)(function*(f,u,d){const g=(0,ie.Ku)(f);if((0,Re._isFirebaseServerApp)(g.auth.app))return Promise.reject(Ke(g.auth));const E=yield lo(g.auth,u,(0,ie.Ku)(d));return new au(E,D=>Yl(g,D))})).apply(this,arguments)}function lo(f,u,d){return uu.apply(this,arguments)}function uu(){return uu=(0,T.A)(function*(f,u,d){var g;const E=yield d.verify();try{let D;if(pe("string"==typeof E,f,"argument-error"),pe(d.type===_t,f,"argument-error"),D="string"==typeof u?{phoneNumber:u}:u,"session"in D){const k=D.session;if("phoneNumber"in D)return pe("enroll"===k.type,f,"internal-error"),(yield function Kp(f,u){return Ne(f,"POST","/v2/accounts/mfaEnrollment:start",fe(f,u))}(f,{idToken:k.credential,phoneEnrollmentInfo:{phoneNumber:D.phoneNumber,recaptchaToken:E}})).phoneSessionInfo.sessionInfo;{pe("signin"===k.type,f,"internal-error");const q=(null===(g=D.multiFactorHint)||void 0===g?void 0:g.uid)||D.multiFactorUid;return pe(q,f,"missing-multi-factor-info"),(yield function Vs(f,u){return Ne(f,"POST","/v2/accounts/mfaSignIn:start",fe(f,u))}(f,{mfaPendingCredential:k.credential,mfaEnrollmentId:q,phoneSignInInfo:{recaptchaToken:E}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:k}=yield function qa(f,u){return Hl.apply(this,arguments)}(f,{phoneNumber:D.phoneNumber,recaptchaToken:E});return k}}finally{d._reset()}}),uu.apply(this,arguments)}function Vc(){return(Vc=(0,T.A)(function*(f,u){const d=(0,ie.Ku)(f);if((0,Re._isFirebaseServerApp)(d.auth.app))return Promise.reject(Ke(d.auth));yield Kl(d,u)})).apply(this,arguments)}let Lc=(()=>{class f{constructor(d){this.providerId=f.PROVIDER_ID,this.auth=nn(d)}verifyPhoneNumber(d,g){return lo(this.auth,d,(0,ie.Ku)(g))}static credential(d,g){return Ji._fromVerification(d,g)}static credentialFromResult(d){return f.credentialFromTaggedObject(d)}static credentialFromError(d){return f.credentialFromTaggedObject(d.customData||{})}static credentialFromTaggedObject({_tokenResponse:d}){if(!d)return null;const{phoneNumber:g,temporaryProof:E}=d;return g&&E?Ji._fromTokenResponse(g,E):null}}return f.PROVIDER_ID="phone",f.PHONE_SIGN_IN_METHOD="phone",f})();function il(f,u){return u?Je(u):(pe(f._popupRedirectResolver,f,"argument-error"),f._popupRedirectResolver)}class Uc extends Yo{constructor(u){super("custom","custom"),this.params=u}_getIdTokenResponse(u){return Yi(u,this._buildIdpRequest())}_linkToIdToken(u,d){return Yi(u,this._buildIdpRequest(d))}_getReauthenticationResolver(u){return Yi(u,this._buildIdpRequest())}_buildIdpRequest(u){const d={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return u&&(d.idToken=u),d}}function A_(f){return th(f.auth,new Uc(f),f.bypassAuthState)}function ib(f){const{auth:u,user:d}=f;return pe(d,u,"internal-error"),eh(d,new Uc(f),f.bypassAuthState)}function eg(f){return T_.apply(this,arguments)}function T_(){return(T_=(0,T.A)(function*(f){const{auth:u,user:d}=f;return pe(d,u,"internal-error"),Kl(d,new Uc(f),f.bypassAuthState)})).apply(this,arguments)}class sb{constructor(u,d,g,E,D=!1){this.auth=u,this.resolver=g,this.user=E,this.bypassAuthState=D,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(d)?d:[d]}execute(){var u=this;return new Promise(function(){var d=(0,T.A)(function*(g,E){u.pendingPromise={resolve:g,reject:E};try{u.eventManager=yield u.resolver._initialize(u.auth),yield u.onExecution(),u.eventManager.registerConsumer(u)}catch(D){u.reject(D)}});return function(g,E){return d.apply(this,arguments)}}())}onAuthEvent(u){var d=this;return(0,T.A)(function*(){const{urlResponse:g,sessionId:E,postBody:D,tenantId:k,error:q,type:ae}=u;if(q)return void d.reject(q);const xe={auth:d.auth,requestUri:g,sessionId:E,tenantId:k||void 0,postBody:D||void 0,user:d.user,bypassAuthState:d.bypassAuthState};try{d.resolve(yield d.getIdpTask(ae)(xe))}catch(ze){d.reject(ze)}})()}onError(u){this.reject(u)}getIdpTask(u){switch(u){case"signInViaPopup":case"signInViaRedirect":return A_;case"linkViaPopup":case"linkViaRedirect":return eg;case"reauthViaPopup":case"reauthViaRedirect":return ib;default:Bt(this.auth,"internal-error")}}resolve(u){cr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(u),this.unregisterAndCleanUp()}reject(u){cr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(u),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const dP=new X(2e3,1e4);function C_(){return(C_=(0,T.A)(function*(f,u,d){if((0,Re._isFirebaseServerApp)(f.app))return Promise.reject(zt(f,"operation-not-supported-in-this-environment"));const g=nn(f);jt(f,u,Os);const E=il(g,d);return new R_(g,"signInViaPopup",u,E).executeNotNull()})).apply(this,arguments)}function D_(){return(D_=(0,T.A)(function*(f,u,d){const g=(0,ie.Ku)(f);if((0,Re._isFirebaseServerApp)(g.auth.app))return Promise.reject(zt(g.auth,"operation-not-supported-in-this-environment"));jt(g.auth,u,Os);const E=il(g.auth,d);return new R_(g.auth,"reauthViaPopup",u,E,g).executeNotNull()})).apply(this,arguments)}function S_(){return(S_=(0,T.A)(function*(f,u,d){const g=(0,ie.Ku)(f);jt(g.auth,u,Os);const E=il(g.auth,d);return new R_(g.auth,"linkViaPopup",u,E,g).executeNotNull()})).apply(this,arguments)}let R_=(()=>{class f extends sb{constructor(d,g,E,D,k){super(d,g,D,k),this.provider=E,this.authWindow=null,this.pollId=null,f.currentPopupAction&&f.currentPopupAction.cancel(),f.currentPopupAction=this}executeNotNull(){var d=this;return(0,T.A)(function*(){const g=yield d.execute();return pe(g,d.auth,"internal-error"),g})()}onExecution(){var d=this;return(0,T.A)(function*(){cr(1===d.filter.length,"Popup operations only handle one event");const g=la();d.authWindow=yield d.resolver._openPopup(d.auth,d.provider,d.filter[0],g),d.authWindow.associatedEvent=g,d.resolver._originValidation(d.auth).catch(E=>{d.reject(E)}),d.resolver._isIframeWebStorageSupported(d.auth,E=>{E||d.reject(zt(d.auth,"web-storage-unsupported"))}),d.pollUserCancellation()})()}get eventId(){var d;return(null===(d=this.authWindow)||void 0===d?void 0:d.associatedEvent)||null}cancel(){this.reject(zt(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,f.currentPopupAction=null}pollUserCancellation(){const d=()=>{var g,E;this.pollId=null!==(E=null===(g=this.authWindow)||void 0===g?void 0:g.window)&&void 0!==E&&E.closed?window.setTimeout(()=>{this.pollId=null,this.reject(zt(this.auth,"popup-closed-by-user"))},8e3):window.setTimeout(d,dP.get())};d()}}return f.currentPopupAction=null,f})();const gP="pendingRedirect",wh=new Map;class P_ extends sb{constructor(u,d,g=!1){super(u,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],d,void 0,g),this.eventId=null}execute(){var u=()=>super.execute,d=this;return(0,T.A)(function*(){let g=wh.get(d.auth._key());if(!g){try{const D=(yield function M_(f,u){return N_.apply(this,arguments)}(d.resolver,d.auth))?yield u().call(d):null;g=()=>Promise.resolve(D)}catch(E){g=()=>Promise.reject(E)}wh.set(d.auth._key(),g)}return d.bypassAuthState||wh.set(d.auth._key(),()=>Promise.resolve(null)),g()})()}onAuthEvent(u){var d=()=>super.onAuthEvent,g=this;return(0,T.A)(function*(){if("signInViaRedirect"===u.type)return d().call(g,u);if("unknown"!==u.type){if(u.eventId){const E=yield g.auth._redirectUserForId(u.eventId);if(E)return g.user=E,d().call(g,u);g.resolve(null)}}else g.resolve(null)})()}onExecution(){return(0,T.A)(function*(){})()}cleanUp(){}}function N_(){return(N_=(0,T.A)(function*(f,u){const d=rs(u),g=ng(f);if(!(yield g._isAvailable()))return!1;const E="true"===(yield g._get(d));return yield g._remove(d),E})).apply(this,arguments)}function x_(f,u){return O_.apply(this,arguments)}function O_(){return(O_=(0,T.A)(function*(f,u){return ng(f)._set(rs(u),"true")})).apply(this,arguments)}function tg(f,u){wh.set(f._key(),u)}function ng(f){return Je(f._redirectPersistence)}function rs(f){return vn(gP,f.config.apiKey,f.name)}function k_(f,u,d){return function ob(f,u,d){return rg.apply(this,arguments)}(f,u,d)}function rg(){return(rg=(0,T.A)(function*(f,u,d){if((0,Re._isFirebaseServerApp)(f.app))return Promise.reject(Ke(f));const g=nn(f);jt(f,u,Os),yield g._initializationPromise;const E=il(g,d);return yield x_(E,g),E._openRedirect(g,u,"signInViaRedirect")})).apply(this,arguments)}function F_(f,u,d){return function V_(f,u,d){return ig.apply(this,arguments)}(f,u,d)}function ig(){return(ig=(0,T.A)(function*(f,u,d){const g=(0,ie.Ku)(f);if(jt(g.auth,u,Os),(0,Re._isFirebaseServerApp)(g.auth.app))return Promise.reject(Ke(g.auth));yield g.auth._initializationPromise;const E=il(g.auth,d);yield x_(E,g.auth);const D=yield lb(g);return E._openRedirect(g.auth,u,"reauthViaRedirect",D)})).apply(this,arguments)}function sg(f,u,d){return function ab(f,u,d){return vs.apply(this,arguments)}(f,u,d)}function vs(){return(vs=(0,T.A)(function*(f,u,d){const g=(0,ie.Ku)(f);jt(g.auth,u,Os),yield g.auth._initializationPromise;const E=il(g.auth,d);yield Wa(!1,g,u.providerId),yield x_(E,g.auth);const D=yield lb(g);return E._openRedirect(g.auth,u,"linkViaRedirect",D)})).apply(this,arguments)}function Eh(){return(Eh=(0,T.A)(function*(f,u){return yield nn(f)._initializationPromise,Bc(f,u,!1)})).apply(this,arguments)}function Bc(f,u){return og.apply(this,arguments)}function og(){return(og=(0,T.A)(function*(f,u,d=!1){if((0,Re._isFirebaseServerApp)(f.app))return Promise.reject(Ke(f));const g=nn(f),E=il(g,u),k=yield new P_(g,E,d).execute();return k&&!d&&(delete k.user._redirectEventId,yield g._persistUserIfCurrent(k.user),yield g._setRedirectUser(null,u)),k})).apply(this,arguments)}function lb(f){return ln.apply(this,arguments)}function ln(){return(ln=(0,T.A)(function*(f){const u=la(`${f.uid}:::`);return f._redirectEventId=u,yield f.auth._setRedirectUser(f),yield f.auth._persistUserIfCurrent(f),u})).apply(this,arguments)}class cu{constructor(u){this.auth=u,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(u){this.consumers.add(u),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,u)&&(this.sendToConsumer(this.queuedRedirectEvent,u),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(u){this.consumers.delete(u)}onEvent(u){if(this.hasEventBeenHandled(u))return!1;let d=!1;return this.consumers.forEach(g=>{this.isEventForConsumer(u,g)&&(d=!0,this.sendToConsumer(u,g),this.saveEventToCache(u))}),this.hasHandledPotentialRedirect||!function jc(f){switch(f.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return U_(f);default:return!1}}(u)||(this.hasHandledPotentialRedirect=!0,d||(this.queuedRedirectEvent=u,d=!0)),d}sendToConsumer(u,d){var g;if(u.error&&!U_(u)){const E=(null===(g=u.error.code)||void 0===g?void 0:g.split("auth/")[1])||"internal-error";d.onError(zt(this.auth,E))}else d.onAuthEvent(u)}isEventForConsumer(u,d){const g=null===d.eventId||!!u.eventId&&u.eventId===d.eventId;return d.filter.includes(u.type)&&g}hasEventBeenHandled(u){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(ci(u))}saveEventToCache(u){this.cachedEventUids.add(ci(u)),this.lastProcessedEventTime=Date.now()}}function ci(f){return[f.type,f.eventId,f.sessionId,f.tenantId].filter(u=>u).join("-")}function U_({type:f,error:u}){return"unknown"===f&&"auth/no-auth-event"===u?.code}function sl(f){return Ii.apply(this,arguments)}function Ii(){return(Ii=(0,T.A)(function*(f,u={}){return Ne(f,"GET","/v1/projects",u)})).apply(this,arguments)}const ub=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,lg=/^https?/;function ws(){return(ws=(0,T.A)(function*(f){if(f.config.emulator)return;const{authorizedDomains:u}=yield sl(f);for(const d of u)try{if(B_(d))return}catch{}Bt(f,"unauthorized-domain")})).apply(this,arguments)}function B_(f){const u=Or(),{protocol:d,hostname:g}=new URL(u);if(f.startsWith("chrome-extension://")){const k=new URL(f);return""===k.hostname&&""===g?"chrome-extension:"===d&&f.replace("chrome-extension://","")===u.replace("chrome-extension://",""):"chrome-extension:"===d&&k.hostname===g}if(!lg.test(d))return!1;if(ub.test(f))return g===f;const E=f.replace(/\./g,"\\.");return new RegExp("^(.+\\."+E+"|"+E+")$","i").test(g)}const db=new X(3e4,6e4);function ug(){const f=yr().___jsl;if(f?.H)for(const u of Object.keys(f.H))if(f.H[u].r=f.H[u].r||[],f.H[u].L=f.H[u].L||[],f.H[u].r=[...f.H[u].L],f.CP)for(let d=0;d<f.CP.length;d++)f.CP[d]=null}let du=null;const Ih=new X(5e3,15e3),dg="__/auth/iframe",ol="emulator/auth/iframe",gt={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},j_=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function yP(f){const u=f.config;pe(u.authDomain,f,"auth-domain-config-required");const d=u.emulator?ne(u,ol):`https://${f.config.authDomain}/${dg}`,g={apiKey:u.apiKey,appName:f.name,v:Re.SDK_VERSION},E=j_.get(f.config.apiHost);E&&(g.eid=E);const D=f._getFrameworks();return D.length&&(g.fw=D.join(",")),`${d}?${(0,ie.Am)(g).slice(1)}`}function hg(){return hg=(0,T.A)(function*(f){const u=yield function $c(f){return du=du||function cg(f){return new Promise((u,d)=>{var g,E,D;function k(){ug(),gapi.load("gapi.iframes",{callback:()=>{u(gapi.iframes.getContext())},ontimeout:()=>{ug(),d(zt(f,"network-request-failed"))},timeout:db.get()})}if(null!==(E=null===(g=yr().gapi)||void 0===g?void 0:g.iframes)&&void 0!==E&&E.Iframe)u(gapi.iframes.getContext());else{if(null===(D=yr().gapi)||void 0===D||!D.load){const q=dc("iframefcb");return yr()[q]=()=>{gapi.load?k():d(zt(f,"network-request-failed"))},it(`${function u_(){return La.gapiScript}()}?onload=${q}`).catch(ae=>d(ae))}k()}}).catch(u=>{throw du=null,u})}(f),du}(f),d=yr().gapi;return pe(d,f,"internal-error"),u.open({where:document.body,url:yP(f),messageHandlersFilter:d.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:gt,dontclear:!0},g=>new Promise(function(){var E=(0,T.A)(function*(D,k){yield g.restyle({setHideOnLeave:!1});const q=zt(f,"network-request-failed"),ae=yr().setTimeout(()=>{k(q)},Ih.get());function xe(){yr().clearTimeout(ae),D(g)}g.ping(xe).then(xe,()=>{k(q)})});return function(D,k){return E.apply(this,arguments)}}()))}),hg.apply(this,arguments)}const fb={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class z_{constructor(u){this.window=u,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}const oe="__/auth/handler",Vt="emulator/auth/handler",H_=encodeURIComponent("fac");function bh(f,u,d,g,E,D){return rn.apply(this,arguments)}function rn(){return(rn=(0,T.A)(function*(f,u,d,g,E,D){pe(f.config.authDomain,f,"auth-domain-config-required"),pe(f.config.apiKey,f,"invalid-api-key");const k={apiKey:f.config.apiKey,appName:f.name,authType:d,redirectUrl:g,v:Re.SDK_VERSION,eventId:E};if(u instanceof Os){u.setDefaultLanguage(f.languageCode),k.providerId=u.providerId||"",(0,ie.Im)(u.getCustomParameters())||(k.customParameters=JSON.stringify(u.getCustomParameters()));for(const[ze,He]of Object.entries(D||{}))k[ze]=He}if(u instanceof Xo){const ze=u.getScopes().filter(He=>""!==He);ze.length>0&&(k.scopes=ze.join(","))}f.tenantId&&(k.tid=f.tenantId);const q=k;for(const ze of Object.keys(q))void 0===q[ze]&&delete q[ze];const ae=yield f._getAppCheckToken(),xe=ae?`#${H_}=${encodeURIComponent(ae)}`:"";return`${function q_({config:f}){return f.emulator?ne(f,Vt):`https://${f.authDomain}/${oe}`}(f)}?${(0,ie.Am)(q).slice(1)}${xe}`})).apply(this,arguments)}const al="webStorageSupport",Ah=class uo{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=so,this._completeRedirectFn=Bc,this._overrideRedirectResult=tg}_openPopup(u,d,g,E){var D=this;return(0,T.A)(function*(){var k;cr(null===(k=D.eventManagers[u._key()])||void 0===k?void 0:k.manager,"_initialize() not called before _openPopup()");const q=yield bh(u,d,g,Or(),E);return function mb(f,u,d,g=500,E=600){const D=Math.max((window.screen.availHeight-E)/2,0).toString(),k=Math.max((window.screen.availWidth-g)/2,0).toString();let q="";const ae=Object.assign(Object.assign({},fb),{width:g.toString(),height:E.toString(),top:D,left:k}),xe=(0,ie.ZQ)().toLowerCase();d&&(q=Va(xe)?"_blank":d),Ar(xe)&&(u=u||"http://localhost",ae.scrollbars="yes");const ze=Object.entries(ae).reduce((Lt,[fo,Yc])=>`${Lt}${fo}=${Yc},`,"");if(function W(f=(0,ie.ZQ)()){var u;return Gt(f)&&!(null===(u=window.navigator)||void 0===u||!u.standalone)}(xe)&&"_self"!==q)return function yb(f,u){const d=document.createElement("a");d.href=f,d.target=u;const g=document.createEvent("MouseEvent");g.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),d.dispatchEvent(g)}(u||"",q),new z_(null);const He=window.open(u||"",q,ze);pe(He,f,"popup-blocked");try{He.focus()}catch{}return new z_(He)}(u,q,la())})()}_openRedirect(u,d,g,E){var D=this;return(0,T.A)(function*(){return yield D._originValidation(u),function tb(f){yr().location.href=f}(yield bh(u,d,g,Or(),E)),new Promise(()=>{})})()}_initialize(u){const d=u._key();if(this.eventManagers[d]){const{manager:E,promise:D}=this.eventManagers[d];return E?Promise.resolve(E):(cr(D,"If manager is not set, promise should be"),D)}const g=this.initAndGetManager(u);return this.eventManagers[d]={promise:g},g.catch(()=>{delete this.eventManagers[d]}),g}initAndGetManager(u){var d=this;return(0,T.A)(function*(){const g=yield function hb(f){return hg.apply(this,arguments)}(u),E=new cu(u);return g.register("authEvent",D=>(pe(D?.authEvent,u,"invalid-auth-event"),{status:E.onEvent(D.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),d.eventManagers[u._key()]={manager:E},d.iframes[u._key()]=g,E})()}_isIframeWebStorageSupported(u,d){this.iframes[u._key()].send(al,{type:al},E=>{var D;const k=null===(D=E?.[0])||void 0===D?void 0:D[al];void 0!==k&&d(!!k),Bt(u,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(u){const d=u._key();return this.originValidationPromises[d]||(this.originValidationPromises[d]=function cb(f){return ws.apply(this,arguments)}(u)),this.originValidationPromises[d]}get _shouldInitProactively(){return Pe()||ps()||Gt()}};class Th{constructor(u){this.factorId=u}_process(u,d,g){switch(d.type){case"enroll":return this._finalizeEnroll(u,d.credential,g);case"signin":return this._finalizeSignIn(u,d.credential);default:return qn("unexpected MultiFactorSessionType")}}}class fg extends Th{constructor(u){super("phone"),this.credential=u}static _fromCredential(u){return new fg(u)}_finalizeEnroll(u,d,g){return function fh(f,u){return Ne(f,"POST","/v2/accounts/mfaEnrollment:finalize",fe(f,u))}(u,{idToken:d,displayName:g,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(u,d){return function pt(f,u){return Ne(f,"POST","/v2/accounts/mfaSignIn:finalize",fe(f,u))}(u,{mfaPendingCredential:d,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let _P=(()=>{class f{constructor(){}static assertion(d){return fg._fromCredential(d)}}return f.FACTOR_ID="phone",f})();var Es="@firebase/auth";class vb{constructor(u){this.auth=u,this.internalListeners=new Map}getUid(){var u;return this.assertAuthConfigured(),(null===(u=this.auth.currentUser)||void 0===u?void 0:u.uid)||null}getToken(u){var d=this;return(0,T.A)(function*(){return d.assertAuthConfigured(),yield d.auth._initializationPromise,d.auth.currentUser?{accessToken:yield d.auth.currentUser.getIdToken(u)}:null})()}addAuthTokenListener(u){if(this.assertAuthConfigured(),this.internalListeners.has(u))return;const d=this.auth.onIdTokenChanged(g=>{u(g?.stsTokenManager.accessToken||null)});this.internalListeners.set(u,d),this.updateProactiveRefresh()}removeAuthTokenListener(u){this.assertAuthConfigured();const d=this.internalListeners.get(u);d&&(this.internalListeners.delete(u),d(),this.updateProactiveRefresh())}assertAuthConfigured(){pe(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function ca(){return window}(0,ie.XA)("authIdTokenMaxAge"),function mn(f){La=f}({loadJS:f=>new Promise((u,d)=>{const g=document.createElement("script");g.setAttribute("src",f),g.onload=u,g.onerror=E=>{const D=zt("internal-error");D.customData=E,d(D)},g.type="text/javascript",g.charset="UTF-8",function Ib(){var f,u;return null!==(u=null===(f=document.getElementsByTagName("head"))||void 0===f?void 0:f[0])&&void 0!==u?u:document}().appendChild(g)}),gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="}),function wb(f){(0,Re._registerComponent)(new Ge.uA("auth",(u,{options:d})=>{const g=u.getProvider("app").getImmediate(),E=u.getProvider("heartbeat"),D=u.getProvider("app-check-internal"),{apiKey:k,authDomain:q}=g.options;pe(k&&!k.includes(":"),"invalid-api-key",{appName:g.name});const ae={apiKey:k,authDomain:q,clientPlatform:f,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:ht(f)},xe=new wn(g,E,D,ae);return function _i(f,u){const d=u?.persistence||[],g=(Array.isArray(d)?d:[d]).map(Je);u?.errorMap&&f._updateErrorMap(u.errorMap),f._initializeWithPersistence(g,u?.popupRedirectResolver)}(xe,d),xe},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((u,d,g)=>{u.getProvider("auth-internal").initialize()})),(0,Re._registerComponent)(new Ge.uA("auth-internal",u=>{const d=nn(u.getProvider("auth").getImmediate());return new vb(d)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,Re.registerVersion)(Es,"1.7.9",function G_(f){switch(f){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}(f)),(0,Re.registerVersion)(Es,"1.7.9","esm2017")}("Browser");function Dh(){return Dh=(0,T.A)(function*(f,u,d){var g;const{BuildInfo:E}=ca();cr(u.sessionId,"AuthEvent did not contain a session ID");const D=yield function Tn(f){return vg.apply(this,arguments)}(u.sessionId),k={};return Gt()?k.ibi=E.packageName:Ri()?k.apn=E.packageName:Bt(f,"operation-not-supported-in-this-environment"),E.displayName&&(k.appDisplayName=E.displayName),k.sessionId=D,bh(f,d,u.type,void 0,null!==(g=u.eventId)&&void 0!==g?g:void 0,k)}),Dh.apply(this,arguments)}function Sh(){return(Sh=(0,T.A)(function*(f){const{BuildInfo:u}=ca(),d={};Gt()?d.iosBundleId=u.packageName:Ri()?d.androidPackageName=u.packageName:Bt(f,"operation-not-supported-in-this-environment"),yield sl(f,d)})).apply(this,arguments)}function zr(){return(zr=(0,T.A)(function*(f,u,d){const{cordova:g}=ca();let E=()=>{};try{yield new Promise((D,k)=>{let q=null;function ae(){var He;D();const Lt=null===(He=g.plugins.browsertab)||void 0===He?void 0:He.close;"function"==typeof Lt&&Lt(),"function"==typeof d?.close&&d.close()}function xe(){q||(q=window.setTimeout(()=>{k(zt(f,"redirect-cancelled-by-user"))},2e3))}function ze(){"visible"===document?.visibilityState&&xe()}u.addPassiveListener(ae),document.addEventListener("resume",xe,!1),Ri()&&document.addEventListener("visibilitychange",ze,!1),E=()=>{u.removePassiveListener(ae),document.removeEventListener("resume",xe,!1),document.removeEventListener("visibilitychange",ze,!1),q&&window.clearTimeout(q)}})}finally{E()}})).apply(this,arguments)}function vg(){return(vg=(0,T.A)(function*(f){const u=function Ab(f){if(cr(/[0-9a-zA-Z]+/.test(f),"Can only convert alpha-numeric strings"),typeof TextEncoder<"u")return(new TextEncoder).encode(f);const u=new ArrayBuffer(f.length),d=new Uint8Array(u);for(let g=0;g<f.length;g++)d[g]=f.charCodeAt(g);return d}(f),d=yield crypto.subtle.digest("SHA-256",u);return Array.from(new Uint8Array(d)).map(E=>E.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}class Cb extends cu{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(u=>{this.resolveInitialized=u})}addPassiveListener(u){this.passiveListeners.add(u)}removePassiveListener(u){this.passiveListeners.delete(u)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(u){return this.resolveInitialized(),this.passiveListeners.forEach(d=>d(u)),super.onEvent(u)}initialized(){var u=this;return(0,T.A)(function*(){yield u.initPromise})()}}function fu(f){return Is.apply(this,arguments)}function Is(){return(Is=(0,T.A)(function*(f){const u=yield pu()._get(gu(f));return u&&(yield pu()._remove(gu(f))),u})).apply(this,arguments)}function Rh(){const f=[];for(let d=0;d<20;d++){const g=Math.floor(62*Math.random());f.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(g))}return f.join("")}function pu(){return Je(mh)}function gu(f){return vn("authEvent",f.config.apiKey,f.name)}function Hc(f){if(!f?.includes("?"))return{};const[u,...d]=f.split("?");return(0,ie.I9)(d.join("?"))}const qc=class mu{constructor(){this._redirectPersistence=so,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=Bc,this._overrideRedirectResult=tg}_initialize(u){var d=this;return(0,T.A)(function*(){const g=u._key();let E=d.eventManagers.get(g);return E||(E=new Cb(u),d.eventManagers.set(g,E),d.attachCallbackListeners(u,E)),E})()}_openPopup(u){Bt(u,"operation-not-supported-in-this-environment")}_openRedirect(u,d,g,E){var D=this;return(0,T.A)(function*(){!function ll(f){var u,d,g,E,D,k,q,ae,xe,ze;const He=ca();pe("function"==typeof(null===(u=He?.universalLinks)||void 0===u?void 0:u.subscribe),f,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),pe(typeof(null===(d=He?.BuildInfo)||void 0===d?void 0:d.packageName)<"u",f,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),pe("function"==typeof(null===(D=null===(E=null===(g=He?.cordova)||void 0===g?void 0:g.plugins)||void 0===E?void 0:E.browsertab)||void 0===D?void 0:D.openUrl),f,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),pe("function"==typeof(null===(ae=null===(q=null===(k=He?.cordova)||void 0===k?void 0:k.plugins)||void 0===q?void 0:q.browsertab)||void 0===ae?void 0:ae.isAvailable),f,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),pe("function"==typeof(null===(ze=null===(xe=He?.cordova)||void 0===xe?void 0:xe.InAppBrowser)||void 0===ze?void 0:ze.open),f,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(u);const k=yield D._initialize(u);yield k.initialized(),k.resetRedirect(),function mP(){wh.clear()}(),yield D._originValidation(u);const q=function Q_(f,u,d=null){return{type:u,eventId:d,urlResponse:null,sessionId:Rh(),postBody:null,tenantId:f.tenantId,error:zt(f,"no-auth-event")}}(u,g,E);yield function Y_(f,u){return pu()._set(gu(f),u)}(u,q);const ae=yield function W_(f,u,d){return Dh.apply(this,arguments)}(u,q,d),xe=yield function _g(f){const{cordova:u}=ca();return new Promise(d=>{u.plugins.browsertab.isAvailable(g=>{let E=null;g?u.plugins.browsertab.openUrl(f):E=u.InAppBrowser.open(f,function ee(f=(0,ie.ZQ)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(f)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(f)}()?"_blank":"_system","location=yes"),d(E)})})}(ae);return function bb(f,u,d){return zr.apply(this,arguments)}(u,k,xe)})()}_isIframeWebStorageSupported(u,d){throw new Error("Method not implemented.")}_originValidation(u){const d=u._key();return this.originValidationPromises[d]||(this.originValidationPromises[d]=function K_(f){return Sh.apply(this,arguments)}(u)),this.originValidationPromises[d]}attachCallbackListeners(u,d){const{universalLinks:g,handleOpenURL:E,BuildInfo:D}=ca(),k=setTimeout((0,T.A)(function*(){yield fu(u),d.onEvent(Z_())}),500),q=function(){var ze=(0,T.A)(function*(He){clearTimeout(k);const Lt=yield fu(u);let fo=null;Lt&&He?.url&&(fo=function Db(f,u){var d,g;const E=function J_(f){const u=Hc(f),d=u.link?decodeURIComponent(u.link):void 0,g=Hc(d).link,E=u.deep_link_id?decodeURIComponent(u.deep_link_id):void 0;return Hc(E).link||E||g||d||f}(u);if(E.includes("/__/auth/callback")){const D=Hc(E),k=D.firebaseError?function wg(f){try{return JSON.parse(f)}catch{return null}}(decodeURIComponent(D.firebaseError)):null,q=null===(g=null===(d=k?.code)||void 0===d?void 0:d.split("auth/"))||void 0===g?void 0:g[1],ae=q?zt(q):null;return ae?{type:f.type,eventId:f.eventId,tenantId:f.tenantId,error:ae,urlResponse:null,sessionId:null,postBody:null}:{type:f.type,eventId:f.eventId,tenantId:f.tenantId,sessionId:f.sessionId,urlResponse:E,postBody:null}}return null}(Lt,He.url)),d.onEvent(fo||Z_())});return function(Lt){return ze.apply(this,arguments)}}();typeof g<"u"&&"function"==typeof g.subscribe&&g.subscribe(null,q);const ae=E,xe=`${D.packageName.toLowerCase()}://`;ca().handleOpenURL=function(){var ze=(0,T.A)(function*(He){if(He.toLowerCase().startsWith(xe)&&q({url:He}),"function"==typeof ae)try{ae(He)}catch(Lt){console.error(Lt)}});return function(He){return ze.apply(this,arguments)}}()}};function Z_(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:zt("no-auth-event")}}function Ph(){var f;return(null===(f=self?.location)||void 0===f?void 0:f.protocol)||null}function Mh(f=(0,ie.ZQ)()){return!("file:"!==Ph()&&"ionic:"!==Ph()&&"capacitor:"!==Ph()||!f.toLowerCase().match(/iphone|ipad|ipod|android/))}function Kc(){try{const f=self.localStorage,u=la();if(f)return f.setItem(u,"1"),f.removeItem(u),!function Ig(f=(0,ie.ZQ)()){return function Nb(){return(0,ie.lT)()&&11===document?.documentMode}()||function Wc(f=(0,ie.ZQ)()){return/Edge\/\d+/.test(f)}(f)}()||(0,ie.zW)()}catch{return X_()&&(0,ie.zW)()}return!1}function X_(){return typeof global<"u"&&"WorkerGlobalScope"in global&&"importScripts"in global}function Nh(){return(function vP(){return"http:"===Ph()||"https:"===Ph()}()||(0,ie.sr)()||Mh())&&!function Gc(){return(0,ie.lV)()||(0,ie.Ll)()}()&&Kc()&&!X_()}function bg(){return Mh()&&typeof document<"u"}function bs(){return(bs=(0,T.A)(function*(){return!!bg()&&new Promise(f=>{const u=setTimeout(()=>{f(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(u),f(!0)})})})).apply(this,arguments)}const di={LOCAL:"local",NONE:"none",SESSION:"session"},ul=pe,Ag="persistence";function Qc(f){return Tg.apply(this,arguments)}function Tg(){return(Tg=(0,T.A)(function*(f){yield f._initializationPromise;const u=Cg(),d=vn(Ag,f.config.apiKey,f.name);u&&u.setItem(d,f._getPersistence())})).apply(this,arguments)}function Cg(){var f;try{return(null===(f=function Ob(){return typeof window<"u"?window:null}())||void 0===f?void 0:f.sessionStorage)||null}catch{return null}}const tv=pe;class Po{constructor(){this.browserResolver=Je(Ah),this.cordovaResolver=Je(qc),this.underlyingResolver=null,this._redirectPersistence=so,this._completeRedirectFn=Bc,this._overrideRedirectResult=tg}_initialize(u){var d=this;return(0,T.A)(function*(){return yield d.selectUnderlyingResolver(),d.assertedUnderlyingResolver._initialize(u)})()}_openPopup(u,d,g,E){var D=this;return(0,T.A)(function*(){return yield D.selectUnderlyingResolver(),D.assertedUnderlyingResolver._openPopup(u,d,g,E)})()}_openRedirect(u,d,g,E){var D=this;return(0,T.A)(function*(){return yield D.selectUnderlyingResolver(),D.assertedUnderlyingResolver._openRedirect(u,d,g,E)})()}_isIframeWebStorageSupported(u,d){this.assertedUnderlyingResolver._isIframeWebStorageSupported(u,d)}_originValidation(u){return this.assertedUnderlyingResolver._originValidation(u)}get _shouldInitProactively(){return bg()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return tv(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var u=this;return(0,T.A)(function*(){if(u.underlyingResolver)return;const d=yield function xb(){return bs.apply(this,arguments)}();u.underlyingResolver=d?u.cordovaResolver:u.browserResolver})()}}function nv(f){return f.unwrap()}function cl(f){return Dg(f)}function Dg(f){const{_tokenResponse:u}=f instanceof ie.g?f.customData:f;if(!u)return null;if(!(f instanceof ie.g)&&"temporaryProof"in u&&"phoneNumber"in u)return Lc.credentialFromResult(f);const d=u.providerId;if(!d||d===Xt.PASSWORD)return null;let g;switch(d){case Xt.GOOGLE:g=ea;break;case Xt.FACEBOOK:g=Ga;break;case Xt.GITHUB:g=wc;break;case Xt.TWITTER:g=Jd;break;default:const{oauthIdToken:E,oauthAccessToken:D,oauthTokenSecret:k,pendingToken:q,nonce:ae}=u;return D||k||E||q?q?d.startsWith("saml.")?Co._create(d,q):mr._fromParams({providerId:d,signInMethod:d,pendingToken:q,idToken:E,accessToken:D}):new Zi(d).credential({idToken:E,accessToken:D,rawNonce:ae}):null}return f instanceof ie.g?g.credentialFromError(f):g.credentialFromResult(f)}function bi(f,u){return u.catch(d=>{throw d instanceof ie.g&&function kb(f,u){var d;const g=null===(d=u.customData)||void 0===d?void 0:d._tokenResponse;if("auth/multi-factor-auth-required"===u?.code)u.resolver=new Dr(f,function eb(f,u){var d;const g=(0,ie.Ku)(f),E=u;return pe(u.customData.operationType,g,"argument-error"),pe(null===(d=E.customData._serverResponse)||void 0===d?void 0:d.mfaPendingCredential,g,"argument-error"),So._fromError(g,E)}(f,u));else if(g){const E=Dg(u),D=u;E&&(D.credential=E,D.tenantId=g.tenantId||void 0,D.email=g.email||void 0,D.phoneNumber=g.phoneNumber||void 0)}}(f,d),d}).then(d=>{const E=d.user;return{operationType:d.operationType,credential:cl(d),additionalUserInfo:tl(d),user:Mo.getOrCreate(E)}})}function da(f,u){return ha.apply(this,arguments)}function ha(){return(ha=(0,T.A)(function*(f,u){const d=yield u;return{verificationId:d.verificationId,confirm:g=>bi(f,d.confirm(g))}})).apply(this,arguments)}class Dr{constructor(u,d){this.resolver=d,this.auth=function Oh(f){return f.wrapped()}(u)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(u){return bi(nv(this.auth),this.resolver.resolveSignIn(u))}}class Mo{constructor(u){this._delegate=u,this.multiFactor=function Yp(f){const u=(0,ie.Ku)(f);return aa.has(u)||aa.set(u,Yr._fromUser(u)),aa.get(u)}(u)}static getOrCreate(u){return Mo.USER_MAP.has(u)||Mo.USER_MAP.set(u,new Mo(u)),Mo.USER_MAP.get(u)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(u){return this._delegate.getIdTokenResult(u)}getIdToken(u){return this._delegate.getIdToken(u)}linkAndRetrieveDataWithCredential(u){return this.linkWithCredential(u)}linkWithCredential(u){var d=this;return(0,T.A)(function*(){return bi(d.auth,Ka(d._delegate,u))})()}linkWithPhoneNumber(u,d){var g=this;return(0,T.A)(function*(){return da(g.auth,function Xp(f,u,d){return $r.apply(this,arguments)}(g._delegate,u,d))})()}linkWithPopup(u){var d=this;return(0,T.A)(function*(){return bi(d.auth,function pP(f,u,d){return S_.apply(this,arguments)}(d._delegate,u,Po))})()}linkWithRedirect(u){var d=this;return(0,T.A)(function*(){return yield Qc(nn(d.auth)),sg(d._delegate,u,Po)})()}reauthenticateAndRetrieveDataWithCredential(u){return this.reauthenticateWithCredential(u)}reauthenticateWithCredential(u){var d=this;return(0,T.A)(function*(){return bi(d.auth,Yl(d._delegate,u))})()}reauthenticateWithPhoneNumber(u,d){return da(this.auth,function ui(f,u,d){return Fc.apply(this,arguments)}(this._delegate,u,d))}reauthenticateWithPopup(u){return bi(this.auth,function fP(f,u,d){return D_.apply(this,arguments)}(this._delegate,u,Po))}reauthenticateWithRedirect(u){var d=this;return(0,T.A)(function*(){return yield Qc(nn(d.auth)),F_(d._delegate,u,Po)})()}sendEmailVerification(u){return function ah(f,u){return Dc.apply(this,arguments)}(this._delegate,u)}unlink(u){var d=this;return(0,T.A)(function*(){return yield function Xd(f,u){return bc.apply(this,arguments)}(d._delegate,u),d})()}updateEmail(u){return function _s(f,u){const d=(0,ie.Ku)(f);return(0,Re._isFirebaseServerApp)(d.auth.app)?Promise.reject(Ke(d.auth)):Mn(d,u,null)}(this._delegate,u)}updatePassword(u){return function Tr(f,u){return Mn((0,ie.Ku)(f),null,u)}(this._delegate,u)}updatePhoneNumber(u){return function Ls(f,u){return Vc.apply(this,arguments)}(this._delegate,u)}updateProfile(u){return function Mi(f,u){return Pc.apply(this,arguments)}(this._delegate,u)}verifyBeforeUpdateEmail(u,d){return function lh(f,u,d){return Sc.apply(this,arguments)}(this._delegate,u,d)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}Mo.USER_MAP=new WeakMap;const rr=pe;let kh=(()=>{class f{constructor(d,g){if(this.app=d,g.isInitialized())return this._delegate=g.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:E}=d.options;rr(E,"invalid-api-key",{appName:d.name}),rr(E,"invalid-api-key",{appName:d.name});const D=typeof window<"u"?Po:void 0;this._delegate=g.initialize({options:{persistence:iv(E,d.name),popupRedirectResolver:D}}),this._delegate._updateErrorMap(Yt),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?Mo.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(d){this._delegate.languageCode=d}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(d){this._delegate.tenantId=d}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(d,g){!function st(f,u,d){const g=nn(f);pe(g._canInitEmulator,g,"emulator-config-failed"),pe(/^https?:\/\//.test(u),g,"invalid-emulator-scheme");const E=!!d?.disableWarnings,D=Fp(u),{host:k,port:q}=function Ua(f){const u=Fp(f),d=/(\/\/)?([^?#/]+)/.exec(f.substr(u.length));if(!d)return{host:"",port:null};const g=d[2].split("@").pop()||"",E=/^(\[[^\]]+\])(:|$)/.exec(g);if(E){const D=E[1];return{host:D,port:Vp(g.substr(D.length+1))}}{const[D,k]=g.split(":");return{host:D,port:Vp(k)}}}(u);g.config.emulator={url:`${D}//${k}${null===q?"":`:${q}`}/`},g.settings.appVerificationDisabledForTesting=!0,g.emulatorConfig=Object.freeze({host:k,port:q,protocol:D.replace(":",""),options:Object.freeze({disableWarnings:E})}),E||function Lp(){function f(){const u=document.createElement("p"),d=u.style;u.innerText="Running in emulator mode. Do not use with production credentials.",d.position="fixed",d.width="100%",d.backgroundColor="#ffffff",d.border=".1em solid #000000",d.color="#b50000",d.bottom="0px",d.left="0px",d.margin="0px",d.zIndex="10000",d.textAlign="center",u.classList.add("firebase-emulator-warning"),document.body.appendChild(u)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",f):f())}()}(this._delegate,d,g)}applyActionCode(d){return function ms(f,u){return yn.apply(this,arguments)}(this._delegate,d)}checkActionCode(d){return zp(this._delegate,d)}confirmPasswordReset(d,g){return function Xl(f,u,d){return sa.apply(this,arguments)}(this._delegate,d,g)}createUserWithEmailAndPassword(d,g){var E=this;return(0,T.A)(function*(){return bi(E._delegate,function Xa(f,u,d){return eu.apply(this,arguments)}(E._delegate,d,g))})()}fetchProvidersForEmail(d){return this.fetchSignInMethodsForEmail(d)}fetchSignInMethodsForEmail(d){return function oh(f,u){return Cc.apply(this,arguments)}(this._delegate,d)}isSignInWithEmailLink(d){return function qp(f,u){const d=no.parseLink(u);return"EMAIL_SIGNIN"===d?.operation}(0,d)}getRedirectResult(){var d=this;return(0,T.A)(function*(){rr(Nh(),d._delegate,"operation-not-supported-in-this-environment");const g=yield function L_(f,u){return Eh.apply(this,arguments)}(d._delegate,Po);return g?bi(d._delegate,Promise.resolve(g)):{credential:null,user:null}})()}addFrameworkForLogging(d){!function Eg(f,u){nn(f)._logFramework(u)}(this._delegate,d)}onAuthStateChanged(d,g,E){const{next:D,error:k,complete:q}=rv(d,g,E);return this._delegate.onAuthStateChanged(D,k,q)}onIdTokenChanged(d,g,E){const{next:D,error:k,complete:q}=rv(d,g,E);return this._delegate.onIdTokenChanged(D,k,q)}sendSignInLinkToEmail(d,g){return function Hp(f,u,d){return el.apply(this,arguments)}(this._delegate,d,g)}sendPasswordResetEmail(d,g){return function Zl(f,u,d){return Ya.apply(this,arguments)}(this._delegate,d,g||void 0)}setPersistence(d){var g=this;return(0,T.A)(function*(){let E;switch(function xh(f,u){ul(Object.values(di).includes(u),f,"invalid-persistence-type"),(0,ie.lV)()?ul(u!==di.SESSION,f,"unsupported-persistence-type"):(0,ie.Ll)()?ul(u===di.NONE,f,"unsupported-persistence-type"):X_()?ul(u===di.NONE||u===di.LOCAL&&(0,ie.zW)(),f,"unsupported-persistence-type"):ul(u===di.NONE||Kc(),f,"unsupported-persistence-type")}(g._delegate,d),d){case di.SESSION:E=so;break;case di.LOCAL:E=(yield Je(xn)._isAvailable())?xn:mh;break;case di.NONE:E=ft;break;default:return Bt("argument-error",{appName:g._delegate.name})}return g._delegate.setPersistence(E)})()}signInAndRetrieveDataWithCredential(d){return this.signInWithCredential(d)}signInAnonymously(){return bi(this._delegate,function ye(f){return ta.apply(this,arguments)}(this._delegate))}signInWithCredential(d){return bi(this._delegate,Pi(this._delegate,d))}signInWithCustomToken(d){return bi(this._delegate,function vi(f,u){return Qa.apply(this,arguments)}(this._delegate,d))}signInWithEmailAndPassword(d,g){return bi(this._delegate,function sh(f,u,d){return(0,Re._isFirebaseServerApp)(f.app)?Promise.reject(Ke(f)):Pi((0,ie.Ku)(f),Gl.credential(u,d)).catch(function(){var g=(0,T.A)(function*(E){throw"auth/password-does-not-meet-requirements"===E.code&&Ft(f),E});return function(E){return g.apply(this,arguments)}}())}(this._delegate,d,g))}signInWithEmailLink(d,g){return bi(this._delegate,function Gp(f,u,d){return Ei.apply(this,arguments)}(this._delegate,d,g))}signInWithPhoneNumber(d,g){return da(this._delegate,function lu(f,u,d){return Wn.apply(this,arguments)}(this._delegate,d,g))}signInWithPopup(d){var g=this;return(0,T.A)(function*(){return rr(Nh(),g._delegate,"operation-not-supported-in-this-environment"),bi(g._delegate,function hP(f,u,d){return C_.apply(this,arguments)}(g._delegate,d,Po))})()}signInWithRedirect(d){var g=this;return(0,T.A)(function*(){return rr(Nh(),g._delegate,"operation-not-supported-in-this-environment"),yield Qc(g._delegate),k_(g._delegate,d,Po)})()}updateCurrentUser(d){return this._delegate.updateCurrentUser(d)}verifyPasswordResetCode(d){return function ih(f,u){return Za.apply(this,arguments)}(this._delegate,d)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return f.Persistence=di,f})();function rv(f,u,d){let g=f;"function"!=typeof f&&({next:g,error:u,complete:d}=f);const E=g;return{next:k=>E(k&&Mo.getOrCreate(k)),error:u,complete:d}}function iv(f,u){const d=function ev(f,u){const d=Cg();if(!d)return[];const g=vn(Ag,f,u);switch(d.getItem(g)){case di.NONE:return[ft];case di.LOCAL:return[xn,so];case di.SESSION:return[so];default:return[]}}(f,u);if(typeof self<"u"&&!d.includes(xn)&&d.push(xn),typeof window<"u")for(const g of[mh,so])d.includes(g)||d.push(g);return d.includes(ft)||d.push(ft),d}class dl{constructor(){this.providerId="phone",this._delegate=new Lc(nv(dt.A.auth()))}static credential(u,d){return Lc.credential(u,d)}verifyPhoneNumber(u,d){return this._delegate.verifyPhoneNumber(u,d)}unwrap(){return this._delegate}}dl.PHONE_SIGN_IN_METHOD=Lc.PHONE_SIGN_IN_METHOD,dl.PROVIDER_ID=Lc.PROVIDER_ID;const Fb=pe;class sv{constructor(u,d,g=dt.A.app()){var E;Fb(null===(E=g.options)||void 0===E?void 0:E.apiKey,"invalid-api-key",{appName:g.name}),this._delegate=new kc(g.auth(),u,d),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function Fh(f){f.INTERNAL.registerComponent(new Ge.uA("auth-compat",u=>{const d=u.getProvider("app-compat").getImmediate(),g=u.getProvider("auth");return new kh(d,g)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"}},EmailAuthProvider:Gl,FacebookAuthProvider:Ga,GithubAuthProvider:wc,GoogleAuthProvider:ea,OAuthProvider:Zi,SAMLAuthProvider:ai,PhoneAuthProvider:dl,PhoneMultiFactorGenerator:_P,RecaptchaVerifier:sv,TwitterAuthProvider:Jd,Auth:kh,AuthCredential:Yo,Error:ie.g}).setInstantiationMode("LAZY").setMultipleInstances(!1)),f.registerVersion("@firebase/auth-compat","0.5.14")}(dt.A)},467:(Ns,zn,at)=>{"use strict";function T(Re,ie,Le,sn,Ge,br,Xt){try{var x=Re[br](Xt),Ae=x.value}catch($e){return void Le($e)}x.done?ie(Ae):Promise.resolve(Ae).then(sn,Ge)}function dt(Re){return function(){var ie=this,Le=arguments;return new Promise(function(sn,Ge){var br=Re.apply(ie,Le);function Xt(Ae){T(br,sn,Ge,Xt,x,"next",Ae)}function x(Ae){T(br,sn,Ge,Xt,x,"throw",Ae)}Xt(void 0)})}}at.d(zn,{A:()=>dt})},635:(Ns,zn,at)=>{"use strict";function ie(X,ne){var he={};for(var le in X)Object.prototype.hasOwnProperty.call(X,le)&&ne.indexOf(le)<0&&(he[le]=X[le]);if(null!=X&&"function"==typeof Object.getOwnPropertySymbols){var De=0;for(le=Object.getOwnPropertySymbols(X);De<le.length;De++)ne.indexOf(le[De])<0&&Object.prototype.propertyIsEnumerable.call(X,le[De])&&(he[le[De]]=X[le[De]])}return he}function $e(X,ne,he,le){return new(he||(he=Promise))(function(fe,Ne){function At(St){try{tt(le.next(St))}catch(_n){Ne(_n)}}function gr(St){try{tt(le.throw(St))}catch(_n){Ne(_n)}}function tt(St){St.done?fe(St.value):function De(fe){return fe instanceof he?fe:new he(function(Ne){Ne(fe)})}(St.value).then(At,gr)}tt((le=le.apply(X,ne||[])).next())})}function dn(X){return this instanceof dn?(this.v=X,this):new dn(X)}function Bt(X,ne,he){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var De,le=he.apply(X,ne||[]),fe=[];return De={},Ne("next"),Ne("throw"),Ne("return"),De[Symbol.asyncIterator]=function(){return this},De;function Ne(et){le[et]&&(De[et]=function(tn){return new Promise(function(Rn,er){fe.push([et,tn,Rn,er])>1||At(et,tn)})})}function At(et,tn){try{!function gr(et){et.value instanceof dn?Promise.resolve(et.value.v).then(tt,St):_n(fe[0][2],et)}(le[et](tn))}catch(Rn){_n(fe[0][3],Rn)}}function tt(et){At("next",et)}function St(et){At("throw",et)}function _n(et,tn){et(tn),fe.shift(),fe.length&&At(fe[0][0],fe[0][1])}}function on(X){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var he,ne=X[Symbol.asyncIterator];return ne?ne.call(X):(X=function xt(X){var ne="function"==typeof Symbol&&Symbol.iterator,he=ne&&X[ne],le=0;if(he)return he.call(X);if(X&&"number"==typeof X.length)return{next:function(){return X&&le>=X.length&&(X=void 0),{value:X&&X[le++],done:!X}}};throw new TypeError(ne?"Object is not iterable.":"Symbol.iterator is not defined.")}(X),he={},le("next"),le("throw"),le("return"),he[Symbol.asyncIterator]=function(){return this},he);function le(fe){he[fe]=X[fe]&&function(Ne){return new Promise(function(At,gr){!function De(fe,Ne,At,gr){Promise.resolve(gr).then(function(tt){fe({value:tt,done:At})},Ne)}(At,gr,(Ne=X[fe](Ne)).done,Ne.value)})}}}at.d(zn,{AQ:()=>Bt,N3:()=>dn,Tt:()=>ie,sH:()=>$e,xN:()=>on}),"function"==typeof SuppressedError&&SuppressedError}},Ns=>{Ns(Ns.s=576)}]);