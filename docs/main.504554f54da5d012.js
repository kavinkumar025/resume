(self.webpackChunkresume=self.webpackChunkresume||[]).push([[792],{76:(st,Je,oe)=>{"use strict";oe.d(Je,{Am:()=>yn,Bd:()=>Y,FA:()=>lt,Fy:()=>Be,I9:()=>Tn,Im:()=>bi,Ku:()=>fi,Ll:()=>Ve,T9:()=>he,Uj:()=>z,XA:()=>me,ZQ:()=>xe,bD:()=>dn,c1:()=>tt,cY:()=>Ee,eX:()=>X,g:()=>Xe,gR:()=>tr,hp:()=>nr,jZ:()=>Le,lT:()=>Rt,lV:()=>bt,mS:()=>W,nr:()=>q,p7:()=>$e,sr:()=>Ue,tD:()=>Fn,u:()=>x,yU:()=>we,zW:()=>ie,zw:()=>B});const F=function(Q){const G=[];let Z=0;for(let Me=0;Me<Q.length;Me++){let fe=Q.charCodeAt(Me);fe<128?G[Z++]=fe:fe<2048?(G[Z++]=fe>>6|192,G[Z++]=63&fe|128):55296==(64512&fe)&&Me+1<Q.length&&56320==(64512&Q.charCodeAt(Me+1))?(fe=65536+((1023&fe)<<10)+(1023&Q.charCodeAt(++Me)),G[Z++]=fe>>18|240,G[Z++]=fe>>12&63|128,G[Z++]=fe>>6&63|128,G[Z++]=63&fe|128):(G[Z++]=fe>>12|224,G[Z++]=fe>>6&63|128,G[Z++]=63&fe|128)}return G},de={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(Q,G){if(!Array.isArray(Q))throw Error("encodeByteArray takes an array as a parameter");this.init_();const Z=G?this.byteToCharMapWebSafe_:this.byteToCharMap_,Me=[];for(let fe=0;fe<Q.length;fe+=3){const rt=Q[fe],Dt=fe+1<Q.length,mt=Dt?Q[fe+1]:0,Ut=fe+2<Q.length,Ln=Ut?Q[fe+2]:0;let Fr=(15&mt)<<2|Ln>>6,ws=63&Ln;Ut||(ws=64,Dt||(Fr=64)),Me.push(Z[rt>>2],Z[(3&rt)<<4|mt>>4],Z[Fr],Z[ws])}return Me.join("")},encodeString(Q,G){return this.HAS_NATIVE_SUPPORT&&!G?btoa(Q):this.encodeByteArray(F(Q),G)},decodeString(Q,G){return this.HAS_NATIVE_SUPPORT&&!G?atob(Q):function(Q){const G=[];let Z=0,Me=0;for(;Z<Q.length;){const fe=Q[Z++];if(fe<128)G[Me++]=String.fromCharCode(fe);else if(fe>191&&fe<224){const rt=Q[Z++];G[Me++]=String.fromCharCode((31&fe)<<6|63&rt)}else if(fe>239&&fe<365){const Ut=((7&fe)<<18|(63&Q[Z++])<<12|(63&Q[Z++])<<6|63&Q[Z++])-65536;G[Me++]=String.fromCharCode(55296+(Ut>>10)),G[Me++]=String.fromCharCode(56320+(1023&Ut))}else{const rt=Q[Z++],Dt=Q[Z++];G[Me++]=String.fromCharCode((15&fe)<<12|(63&rt)<<6|63&Dt)}}return G.join("")}(this.decodeStringToByteArray(Q,G))},decodeStringToByteArray(Q,G){this.init_();const Z=G?this.charToByteMapWebSafe_:this.charToByteMap_,Me=[];for(let fe=0;fe<Q.length;){const rt=Z[Q.charAt(fe++)],mt=fe<Q.length?Z[Q.charAt(fe)]:0;++fe;const Ln=fe<Q.length?Z[Q.charAt(fe)]:64;++fe;const Xt=fe<Q.length?Z[Q.charAt(fe)]:64;if(++fe,null==rt||null==mt||null==Ln||null==Xt)throw new ce;Me.push(rt<<2|mt>>4),64!==Ln&&(Me.push(mt<<4&240|Ln>>2),64!==Xt&&Me.push(Ln<<6&192|Xt))}return Me},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let Q=0;Q<this.ENCODED_VALS.length;Q++)this.byteToCharMap_[Q]=this.ENCODED_VALS.charAt(Q),this.charToByteMap_[this.byteToCharMap_[Q]]=Q,this.byteToCharMapWebSafe_[Q]=this.ENCODED_VALS_WEBSAFE.charAt(Q),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[Q]]=Q,Q>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(Q)]=Q,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(Q)]=Q)}}};class ce extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const z=function(Q){return function(Q){const G=F(Q);return de.encodeByteArray(G,!0)}(Q).replace(/\./g,"")},x=function(Q){try{return de.decodeString(Q,!0)}catch(G){console.error("base64Decode failed: ",G)}return null};function B(Q,G){if(!(G instanceof Object))return G;switch(G.constructor){case Date:return new Date(G.getTime());case Object:void 0===Q&&(Q={});break;case Array:Q=[];break;default:return G}for(const Z in G)!G.hasOwnProperty(Z)||!k(Z)||(Q[Z]=B(Q[Z],G[Z]));return Q}function k(Q){return"__proto__"!==Q}function W(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const M=()=>{try{return W().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const Q=process.env.__FIREBASE_DEFAULTS__;return Q?JSON.parse(Q):void 0})()||(()=>{if(typeof document>"u")return;let Q;try{Q=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const G=Q&&x(Q[1]);return G&&JSON.parse(G)})()}catch(Q){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${Q}`)}},we=Q=>{const G=(Q=>{var G,Z;return null===(Z=null===(G=M())||void 0===G?void 0:G.emulatorHosts)||void 0===Z?void 0:Z[Q]})(Q);if(!G)return;const Z=G.lastIndexOf(":");if(Z<=0||Z+1===G.length)throw new Error(`Invalid host ${G} with no separate hostname and port!`);const Me=parseInt(G.substring(Z+1),10);return"["===G[0]?[G.substring(1,Z-1),Me]:[G.substring(0,Z),Me]},he=()=>{var Q;return null===(Q=M())||void 0===Q?void 0:Q.config},me=Q=>{var G;return null===(G=M())||void 0===G?void 0:G[`_${Q}`]};class Ee{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((G,Z)=>{this.resolve=G,this.reject=Z})}wrapCallback(G){return(Z,Me)=>{Z?this.reject(Z):this.resolve(Me),"function"==typeof G&&(this.promise.catch(()=>{}),1===G.length?G(Z):G(Z,Me))}}}function Be(Q,G){if(Q.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const Me=G||"demo-project",fe=Q.iat||0,rt=Q.sub||Q.user_id;if(!rt)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const Dt=Object.assign({iss:`https://securetoken.google.com/${Me}`,aud:Me,iat:fe,exp:fe+3600,auth_time:fe,sub:rt,user_id:rt,firebase:{sign_in_provider:"custom",identities:{}}},Q);return[z(JSON.stringify({alg:"none",type:"JWT"})),z(JSON.stringify(Dt)),""].join(".")}function xe(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function Le(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(xe())}function Ve(){var Q;const G=null===(Q=M())||void 0===Q?void 0:Q.forceEnvironment;if("node"===G)return!0;if("browser"===G)return!1;try{return"[object process]"===Object.prototype.toString.call(global.process)}catch{return!1}}function Y(){return typeof window<"u"||$e()}function $e(){return typeof WorkerGlobalScope<"u"&&typeof self<"u"&&self instanceof WorkerGlobalScope}function tt(){return typeof navigator<"u"&&"Cloudflare-Workers"===navigator.userAgent}function Ue(){const Q="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof Q&&void 0!==Q.id}function bt(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function Rt(){const Q=xe();return Q.indexOf("MSIE ")>=0||Q.indexOf("Trident/")>=0}function q(){return!Ve()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function ie(){try{return"object"==typeof indexedDB}catch{return!1}}function X(){return new Promise((Q,G)=>{try{let Z=!0;const Me="validate-browser-context-for-indexeddb-analytics-module",fe=self.indexedDB.open(Me);fe.onsuccess=()=>{fe.result.close(),Z||self.indexedDB.deleteDatabase(Me),Q(!0)},fe.onupgradeneeded=()=>{Z=!1},fe.onerror=()=>{var rt;G((null===(rt=fe.error)||void 0===rt?void 0:rt.message)||"")}}catch(Z){G(Z)}})}class Xe extends Error{constructor(G,Z,Me){super(Z),this.code=G,this.customData=Me,this.name="FirebaseError",Object.setPrototypeOf(this,Xe.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,lt.prototype.create)}}class lt{constructor(G,Z,Me){this.service=G,this.serviceName=Z,this.errors=Me}create(G,...Z){const Me=Z[0]||{},fe=`${this.service}/${G}`,rt=this.errors[G],Dt=rt?function $n(Q,G){return Q.replace(Et,(Z,Me)=>{const fe=G[Me];return null!=fe?String(fe):`<${Me}?>`})}(rt,Me):"Error";return new Xe(fe,`${this.serviceName}: ${Dt} (${fe}).`,Me)}}const Et=/\{\$([^}]+)}/g;function tr(Q,G){return Object.prototype.hasOwnProperty.call(Q,G)}function bi(Q){for(const G in Q)if(Object.prototype.hasOwnProperty.call(Q,G))return!1;return!0}function dn(Q,G){if(Q===G)return!0;const Z=Object.keys(Q),Me=Object.keys(G);for(const fe of Z){if(!Me.includes(fe))return!1;const rt=Q[fe],Dt=G[fe];if(On(rt)&&On(Dt)){if(!dn(rt,Dt))return!1}else if(rt!==Dt)return!1}for(const fe of Me)if(!Z.includes(fe))return!1;return!0}function On(Q){return null!==Q&&"object"==typeof Q}function yn(Q){const G=[];for(const[Z,Me]of Object.entries(Q))Array.isArray(Me)?Me.forEach(fe=>{G.push(encodeURIComponent(Z)+"="+encodeURIComponent(fe))}):G.push(encodeURIComponent(Z)+"="+encodeURIComponent(Me));return G.length?"&"+G.join("&"):""}function Tn(Q){const G={};return Q.replace(/^\?/,"").split("&").forEach(Me=>{if(Me){const[fe,rt]=Me.split("=");G[decodeURIComponent(fe)]=decodeURIComponent(rt)}}),G}function nr(Q){const G=Q.indexOf("?");if(!G)return"";const Z=Q.indexOf("#",G);return Q.substring(G,Z>0?Z:void 0)}function Fn(Q,G){const Z=new wn(Q,G);return Z.subscribe.bind(Z)}class wn{constructor(G,Z){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=Z,this.task.then(()=>{G(this)}).catch(Me=>{this.error(Me)})}next(G){this.forEachObserver(Z=>{Z.next(G)})}error(G){this.forEachObserver(Z=>{Z.error(G)}),this.close(G)}complete(){this.forEachObserver(G=>{G.complete()}),this.close()}subscribe(G,Z,Me){let fe;if(void 0===G&&void 0===Z&&void 0===Me)throw new Error("Missing Observer.");fe=function kr(Q,G){if("object"!=typeof Q||null===Q)return!1;for(const Z of G)if(Z in Q&&"function"==typeof Q[Z])return!0;return!1}(G,["next","error","complete"])?G:{next:G,error:Z,complete:Me},void 0===fe.next&&(fe.next=Ai),void 0===fe.error&&(fe.error=Ai),void 0===fe.complete&&(fe.complete=Ai);const rt=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?fe.error(this.finalError):fe.complete()}catch{}}),this.observers.push(fe),rt}unsubscribeOne(G){void 0===this.observers||void 0===this.observers[G]||(delete this.observers[G],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(G){if(!this.finalized)for(let Z=0;Z<this.observers.length;Z++)this.sendOne(Z,G)}sendOne(G,Z){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[G])try{Z(this.observers[G])}catch(Me){typeof console<"u"&&console.error&&console.error(Me)}})}close(G){this.finalized||(this.finalized=!0,void 0!==G&&(this.finalError=G),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Ai(){}function fi(Q){return Q&&Q._delegate?Q._delegate:Q}},576:(st,Je,oe)=>{"use strict";var E=oe(467);let re=null,ve=1;const de=Symbol("SIGNAL");function ce(n){const e=re;return re=n,e}function W(n){if((!Be(n)||n.dirty)&&(n.dirty||n.lastCleanEpoch!==ve)){if(!n.producerMustRecompute(n)&&!we(n))return n.dirty=!1,void(n.lastCleanEpoch=ve);n.producerRecomputeValue(n),n.dirty=!1,n.lastCleanEpoch=ve}}function we(n){xe(n);for(let e=0;e<n.producerNode.length;e++){const t=n.producerNode[e],r=n.producerLastReadVersion[e];if(r!==t.version||(W(t),r!==t.version))return!0}return!1}function Ee(n,e){if(function Le(n){n.liveConsumerNode??=[],n.liveConsumerIndexOfThis??=[]}(n),xe(n),1===n.liveConsumerNode.length)for(let r=0;r<n.producerNode.length;r++)Ee(n.producerNode[r],n.producerIndexOfThis[r]);const t=n.liveConsumerNode.length-1;if(n.liveConsumerNode[e]=n.liveConsumerNode[t],n.liveConsumerIndexOfThis[e]=n.liveConsumerIndexOfThis[t],n.liveConsumerNode.length--,n.liveConsumerIndexOfThis.length--,e<n.liveConsumerNode.length){const r=n.liveConsumerIndexOfThis[e],i=n.liveConsumerNode[e];xe(i),i.producerIndexOfThis[r]=e}}function Be(n){return n.consumerIsAlwaysLive||(n?.liveConsumerNode?.length??0)>0}function xe(n){n.producerNode??=[],n.producerIndexOfThis??=[],n.producerLastReadVersion??=[]}let ht=null;function vt(n){return"function"==typeof n}function Wt(n){const t=n(r=>{Error.call(r),r.stack=(new Error).stack});return t.prototype=Object.create(Error.prototype),t.prototype.constructor=t,t}const An=Wt(n=>function(t){n(this),this.message=t?`${t.length} errors occurred during unsubscription:\n${t.map((r,i)=>`${i+1}) ${r.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=t});function Pn(n,e){if(n){const t=n.indexOf(e);0<=t&&n.splice(t,1)}}class zt{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;const{_parentage:t}=this;if(t)if(this._parentage=null,Array.isArray(t))for(const s of t)s.remove(this);else t.remove(this);const{initialTeardown:r}=this;if(vt(r))try{r()}catch(s){e=s instanceof An?s.errors:[s]}const{_finalizers:i}=this;if(i){this._finalizers=null;for(const s of i)try{bi(s)}catch(o){e=e??[],o instanceof An?e=[...e,...o.errors]:e.push(o)}}if(e)throw new An(e)}}add(e){var t;if(e&&e!==this)if(this.closed)bi(e);else{if(e instanceof zt){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=null!==(t=this._finalizers)&&void 0!==t?t:[]).push(e)}}_hasParent(e){const{_parentage:t}=this;return t===e||Array.isArray(t)&&t.includes(e)}_addParent(e){const{_parentage:t}=this;this._parentage=Array.isArray(t)?(t.push(e),t):t?[t,e]:e}_removeParent(e){const{_parentage:t}=this;t===e?this._parentage=null:Array.isArray(t)&&Pn(t,e)}remove(e){const{_finalizers:t}=this;t&&Pn(t,e),e instanceof zt&&e._removeParent(this)}}zt.EMPTY=(()=>{const n=new zt;return n.closed=!0,n})();const tr=zt.EMPTY;function Ji(n){return n instanceof zt||n&&"closed"in n&&vt(n.remove)&&vt(n.add)&&vt(n.unsubscribe)}function bi(n){vt(n)?n():n.unsubscribe()}const xt={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},dn={setTimeout(n,e,...t){const{delegate:r}=dn;return r?.setTimeout?r.setTimeout(n,e,...t):setTimeout(n,e,...t)},clearTimeout(n){const{delegate:e}=dn;return(e?.clearTimeout||clearTimeout)(n)},delegate:void 0};function On(n){dn.setTimeout(()=>{const{onUnhandledError:e}=xt;if(!e)throw n;e(n)})}function Nr(){}const yn=ti("C",void 0,void 0);function ti(n,e,t){return{kind:n,value:e,error:t}}let Fn=null;function wn(n){if(xt.useDeprecatedSynchronousErrorHandling){const e=!Fn;if(e&&(Fn={errorThrown:!1,error:null}),n(),e){const{errorThrown:t,error:r}=Fn;if(Fn=null,t)throw r}}else n()}class kr extends zt{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,Ji(e)&&e.add(this)):this.destination=io}static create(e,t,r){return new Li(e,t,r)}next(e){this.isStopped?Vn(function nr(n){return ti("N",n,void 0)}(e),this):this._next(e)}error(e){this.isStopped?Vn(function Tn(n){return ti("E",void 0,n)}(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?Vn(yn,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const Ai=Function.prototype.bind;function Ci(n,e){return Ai.call(n,e)}class hi{constructor(e){this.partialObserver=e}next(e){const{partialObserver:t}=this;if(t.next)try{t.next(e)}catch(r){Or(r)}}error(e){const{partialObserver:t}=this;if(t.error)try{t.error(e)}catch(r){Or(r)}else Or(e)}complete(){const{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(t){Or(t)}}}class Li extends kr{constructor(e,t,r){let i;if(super(),vt(e)||!e)i={next:e??void 0,error:t??void 0,complete:r??void 0};else{let s;this&&xt.useDeprecatedNextContext?(s=Object.create(e),s.unsubscribe=()=>this.unsubscribe(),i={next:e.next&&Ci(e.next,s),error:e.error&&Ci(e.error,s),complete:e.complete&&Ci(e.complete,s)}):i=e}this.destination=new hi(i)}}function Or(n){xt.useDeprecatedSynchronousErrorHandling?function ys(n){xt.useDeprecatedSynchronousErrorHandling&&Fn&&(Fn.errorThrown=!0,Fn.error=n)}(n):On(n)}function Vn(n,e){const{onStoppedNotification:t}=xt;t&&dn.setTimeout(()=>t(n,e))}const io={closed:!0,next:Nr,error:function Ls(n){throw n},complete:Nr},_s="function"==typeof Symbol&&Symbol.observable||"@@observable";function br(n){return n}function so(n){return 0===n.length?br:1===n.length?n[0]:function(t){return n.reduce((r,i)=>i(r),t)}}let rn=(()=>{class n{constructor(t){t&&(this._subscribe=t)}lift(t){const r=new n;return r.source=this,r.operator=t,r}subscribe(t,r,i){const s=function ni(n){return n&&n instanceof kr||function ao(n){return n&&vt(n.next)&&vt(n.error)&&vt(n.complete)}(n)&&Ji(n)}(t)?t:new Li(t,r,i);return wn(()=>{const{operator:o,source:a}=this;s.add(o?o.call(s,a):a?this._subscribe(s):this._trySubscribe(s))}),s}_trySubscribe(t){try{return this._subscribe(t)}catch(r){t.error(r)}}forEach(t,r){return new(r=oo(r))((i,s)=>{const o=new Li({next:a=>{try{t(a)}catch(l){s(l),o.unsubscribe()}},error:s,complete:i});this.subscribe(o)})}_subscribe(t){var r;return null===(r=this.source)||void 0===r?void 0:r.subscribe(t)}[_s](){return this}pipe(...t){return so(t)(this)}toPromise(t){return new(t=oo(t))((r,i)=>{let s;this.subscribe(o=>s=o,o=>i(o),()=>r(s))})}}return n.create=e=>new n(e),n})();function oo(n){var e;return null!==(e=n??xt.Promise)&&void 0!==e?e:Promise}const fi=Wt(n=>function(){n(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});let Q=(()=>{class n extends rn{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(t){const r=new G(this,this);return r.operator=t,r}_throwIfClosed(){if(this.closed)throw new fi}next(t){wn(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const r of this.currentObservers)r.next(t)}})}error(t){wn(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=t;const{observers:r}=this;for(;r.length;)r.shift().error(t)}})}complete(){wn(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:t}=this;for(;t.length;)t.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var t;return(null===(t=this.observers)||void 0===t?void 0:t.length)>0}_trySubscribe(t){return this._throwIfClosed(),super._trySubscribe(t)}_subscribe(t){return this._throwIfClosed(),this._checkFinalizedStatuses(t),this._innerSubscribe(t)}_innerSubscribe(t){const{hasError:r,isStopped:i,observers:s}=this;return r||i?tr:(this.currentObservers=null,s.push(t),new zt(()=>{this.currentObservers=null,Pn(s,t)}))}_checkFinalizedStatuses(t){const{hasError:r,thrownError:i,isStopped:s}=this;r?t.error(i):s&&t.complete()}asObservable(){const t=new rn;return t.source=this,t}}return n.create=(e,t)=>new G(e,t),n})();class G extends Q{constructor(e,t){super(),this.destination=e,this.source=t}next(e){var t,r;null===(r=null===(t=this.destination)||void 0===t?void 0:t.next)||void 0===r||r.call(t,e)}error(e){var t,r;null===(r=null===(t=this.destination)||void 0===t?void 0:t.error)||void 0===r||r.call(t,e)}complete(){var e,t;null===(t=null===(e=this.destination)||void 0===e?void 0:e.complete)||void 0===t||t.call(e)}_subscribe(e){var t,r;return null!==(r=null===(t=this.source)||void 0===t?void 0:t.subscribe(e))&&void 0!==r?r:tr}}class Z extends Q{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){const t=super._subscribe(e);return!t.closed&&e.next(this._value),t}getValue(){const{hasError:e,thrownError:t,_value:r}=this;if(e)throw t;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}}function Me(n){return vt(n?.lift)}function fe(n){return e=>{if(Me(e))return e.lift(function(t){try{return n(t,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function rt(n,e,t,r,i){return new Dt(n,e,t,r,i)}class Dt extends kr{constructor(e,t,r,i,s,o){super(e),this.onFinalize=s,this.shouldUnsubscribe=o,this._next=t?function(a){try{t(a)}catch(l){e.error(l)}}:super._next,this._error=i?function(a){try{i(a)}catch(l){e.error(l)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:t}=this;super.unsubscribe(),!t&&(null===(e=this.onFinalize)||void 0===e||e.call(this))}}}function mt(n,e){return fe((t,r)=>{let i=0;t.subscribe(rt(r,s=>{r.next(n.call(e,s,i++))}))})}class Ae extends Error{constructor(e,t){super(function Xt(n,e){return`NG0${Math.abs(n)}${e?": "+e:""}`}(e,t)),this.code=e}}function xi(n){return{toString:n}.toString()}const hn="__parameters__";function it(n,e,t){return xi(()=>{const r=function Fe(n){return function(...t){if(n){const r=n(...t);for(const i in r)this[i]=r[i]}}}(e);function i(...s){if(this instanceof i)return r.apply(this,s),this;const o=new i(...s);return a.annotation=o,a;function a(l,c,p){const m=l.hasOwnProperty(hn)?l[hn]:Object.defineProperty(l,hn,{value:[]})[hn];for(;m.length<=p;)m.push(null);return(m[p]=m[p]||[]).push(o),l}}return t&&(i.prototype=Object.create(t.prototype)),i.prototype.ngMetadataName=n,i.annotationCls=i,i})}const ft=globalThis;function Pt(n){for(let e in n)if(n[e]===Pt)return e;throw Error("Could not find renamed property on target object.")}function pi(n,e){for(const t in e)e.hasOwnProperty(t)&&!n.hasOwnProperty(t)&&(n[t]=e[t])}function Bn(n){if("string"==typeof n)return n;if(Array.isArray(n))return"["+n.map(Bn).join(", ")+"]";if(null==n)return""+n;if(n.overriddenName)return`${n.overriddenName}`;if(n.name)return`${n.name}`;const e=n.toString();if(null==e)return""+e;const t=e.indexOf("\n");return-1===t?e:e.substring(0,t)}function In(n,e){return null==n||""===n?null===e?"":e:null==e||""===e?n:n+" "+e}const Ba=Pt({__forward_ref__:Pt});function Nn(n){return n.__forward_ref__=Nn,n.toString=function(){return Bn(this())},n}function Mt(n){return Ul(n)?n():n}function Ul(n){return"function"==typeof n&&n.hasOwnProperty(Ba)&&n.__forward_ref__===Nn}function pt(n){return{token:n.token,providedIn:n.providedIn||null,factory:n.factory,value:void 0}}function ri(n){return{providers:n.providers||[],imports:n.imports||[]}}function ea(n){return $l(n,zl)||$l(n,ta)}function $l(n,e){return n.hasOwnProperty(e)?n[e]:null}function es(n){return n&&(n.hasOwnProperty(ja)||n.hasOwnProperty(fc))?n[ja]:null}const zl=Pt({\u0275prov:Pt}),ja=Pt({\u0275inj:Pt}),ta=Pt({ngInjectableDef:Pt}),fc=Pt({ngInjectorDef:Pt});class Qe{constructor(e,t){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof t?this.__NG_ELEMENT_ID__=t:void 0!==t&&(this.\u0275prov=pt({token:this,providedIn:t.providedIn||"root",factory:t.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}function Ha(n){return n&&!!n.\u0275providers}const Bs=Pt({\u0275cmp:Pt}),ts=Pt({\u0275dir:Pt}),qa=Pt({\u0275pipe:Pt}),Xd=Pt({\u0275mod:Pt}),xr=Pt({\u0275fac:Pt}),Ga=Pt({__NG_ELEMENT_ID__:Pt}),ql=Pt({__NG_ENV_ID__:Pt});function Lt(n){return"string"==typeof n?n:null==n?"":String(n)}function ns(n,e){throw new Ae(-201,!1)}var Jt=function(n){return n[n.Default=0]="Default",n[n.Host=1]="Host",n[n.Self=2]="Self",n[n.SkipSelf=4]="SkipSelf",n[n.Optional=8]="Optional",n}(Jt||{});let Gl;function co(){return Gl}function Gr(n){const e=Gl;return Gl=n,e}function Wl(n,e,t){const r=ea(n);return r&&"root"==r.providedIn?void 0===r.value?r.value=r.factory():r.value:t&Jt.Optional?null:void 0!==e?e:void ns()}const rs={},Wa="__NG_DI_FLAG__",ra="ngTempTokenPath",Zd=/\n/gm,Ec="__source";let mi;function js(n){const e=mi;return mi=n,e}function Ic(n,e=Jt.Default){if(void 0===mi)throw new Ae(-203,!1);return null===mi?Wl(n,void 0,e):mi.get(n,e&Jt.Optional?null:void 0,e)}function We(n,e=Jt.Default){return(co()||Ic)(Mt(n),e)}function qe(n,e=Jt.Default){return We(n,ia(e))}function ia(n){return typeof n>"u"||"number"==typeof n?n:(n.optional&&8)|(n.host&&1)|(n.self&&2)|(n.skipSelf&&4)}function sa(n){const e=[];for(let t=0;t<n.length;t++){const r=Mt(n[t]);if(Array.isArray(r)){if(0===r.length)throw new Ae(900,!1);let i,s=Jt.Default;for(let o=0;o<r.length;o++){const a=r[o],l=eh(a);"number"==typeof l?-1===l?i=a.token:s|=l:i=a}e.push(We(i,s))}else e.push(We(r))}return e}function oa(n,e){return n[Wa]=e,n.prototype[Wa]=e,n}function eh(n){return n[Wa]}const is=oa(it("Optional"),8),ho=oa(it("SkipSelf"),4);function $s(n,e){return n.hasOwnProperty(xr)?n[xr]:null}function Ui(n,e){n.forEach(t=>Array.isArray(t)?Ui(t,e):e(t))}function Yl(n,e,t){e>=n.length?n.push(t):n.splice(e,0,t)}function Qa(n,e){return e>=n.length-1?n.pop():n.splice(e,1)[0]}function Si(n,e,t){let r=ss(n,e);return r>=0?n[1|r]=t:(r=~r,function ih(n,e,t,r){let i=n.length;if(i==e)n.push(t,r);else if(1===i)n.push(r,n[0]),n[0]=t;else{for(i--,n.push(n[i-1],n[i]);i>e;)n[i]=n[i-2],i--;n[e]=t,n[e+1]=r}}(n,r,e,t)),r}function Ya(n,e){const t=ss(n,e);if(t>=0)return n[1|t]}function ss(n,e){return function Zl(n,e,t){let r=0,i=n.length>>t;for(;i!==r;){const s=r+(i-r>>1),o=n[s<<t];if(e===o)return s<<t;o>e?i=s:r=s+1}return~(i<<t)}(n,e,1)}const Ri={},sn=[],Es=new Qe(""),Jl=new Qe("",-1),Xa=new Qe("");class eu{get(e,t=rs){if(t===rs){const r=new Error(`NullInjectorError: No provider for ${Bn(e)}!`);throw r.name="NullInjectorError",r}return t}}var la=function(n){return n[n.OnPush=0]="OnPush",n[n.Default=1]="Default",n}(la||{}),Is=function(n){return n[n.Emulated=0]="Emulated",n[n.None=2]="None",n[n.ShadowDom=3]="ShadowDom",n}(Is||{}),kn=function(n){return n[n.None=0]="None",n[n.SignalBased=1]="SignalBased",n[n.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",n}(kn||{});function qp(n,e,t){let r=n.length;for(;;){const i=n.indexOf(e,t);if(-1===i)return i;if(0===i||n.charCodeAt(i-1)<=32){const s=e.length;if(i+s===r||n.charCodeAt(i+s)<=32)return i}t=i+1}}function Za(n,e,t){let r=0;for(;r<t.length;){const i=t[r];if("number"==typeof i){if(0!==i)break;r++;const s=t[r++],o=t[r++],a=t[r++];n.setAttribute(e,o,a,s)}else{const s=i,o=t[++r];Ja(s)?n.setProperty(e,s,o):n.setAttribute(e,s,o),r++}}return r}function oh(n){return 3===n||4===n||6===n}function Ja(n){return 64===n.charCodeAt(0)}function el(n,e){if(null!==e&&0!==e.length)if(null===n||0===n.length)n=e.slice();else{let t=-1;for(let r=0;r<e.length;r++){const i=e[r];"number"==typeof i?t=i:0===t||tu(n,t,i,null,-1===t||2===t?e[++r]:null)}}return n}function tu(n,e,t,r,i){let s=0,o=n.length;if(-1===e)o=-1;else for(;s<n.length;){const a=n[s++];if("number"==typeof a){if(a===e){o=-1;break}if(a>e){o=s-1;break}}}for(;s<n.length;){const a=n[s];if("number"==typeof a)break;if(a===t){if(null===r)return void(null!==i&&(n[s+1]=i));if(r===n[s+1])return void(n[s+2]=i)}s++,null!==r&&s++,null!==i&&s++}-1!==o&&(n.splice(o,0,e),s=o+1),n.splice(s++,0,t),null!==r&&n.splice(s++,0,r),null!==i&&n.splice(s++,0,i)}const ah="ng-template";function Gp(n,e,t,r){let i=0;if(r){for(;i<e.length&&"string"==typeof e[i];i+=2)if("class"===e[i]&&-1!==qp(e[i+1].toLowerCase(),t,0))return!0}else if(tl(n))return!1;if(i=e.indexOf(1,i),i>-1){let s;for(;++i<e.length&&"string"==typeof(s=e[i]);)if(s.toLowerCase()===t)return!0}return!1}function tl(n){return 4===n.type&&n.value!==ah}function Wp(n,e,t){return e===(4!==n.type||t?n.value:ah)}function Kp(n,e,t){let r=4;const i=n.attrs,s=null!==i?function xc(n){for(let e=0;e<n.length;e++)if(oh(n[e]))return e;return n.length}(i):0;let o=!1;for(let a=0;a<e.length;a++){const l=e[a];if("number"!=typeof l){if(!o)if(4&r){if(r=2|1&r,""!==l&&!Wp(n,l,t)||""===l&&1===e.length){if(Pi(r))return!1;o=!0}}else if(8&r){if(null===i||!Gp(n,i,l,t)){if(Pi(r))return!1;o=!0}}else{const c=e[++a],p=Qp(l,i,tl(n),t);if(-1===p){if(Pi(r))return!1;o=!0;continue}if(""!==c){let m;if(m=p>s?"":i[p+1].toLowerCase(),2&r&&c!==m){if(Pi(r))return!1;o=!0}}}}else{if(!o&&!Pi(r)&&!Pi(l))return!1;if(o&&Pi(l))continue;o=!1,r=l|1&r}}return Pi(r)||o}function Pi(n){return!(1&n)}function Qp(n,e,t,r){if(null===e)return-1;let i=0;if(r||!t){let s=!1;for(;i<e.length;){const o=e[i];if(o===n)return i;if(3===o||6===o)s=!0;else{if(1===o||2===o){let a=e[++i];for(;"string"==typeof a;)a=e[++i];continue}if(4===o)break;if(0===o){i+=4;continue}}i+=s?1:2}return-1}return function uh(n,e){let t=n.indexOf(4);if(t>-1)for(t++;t<n.length;){const r=n[t];if("number"==typeof r)return-1;if(r===e)return t;t++}return-1}(e,n)}function bs(n,e,t=!1){for(let r=0;r<e.length;r++)if(Kp(n,e[r],t))return!0;return!1}function ch(n,e){return n?":not("+e.trim()+")":e}function Tc(n){let e=n[0],t=1,r=2,i="",s=!1;for(;t<n.length;){let o=n[t];if("string"==typeof o)if(2&r){const a=n[++t];i+="["+o+(a.length>0?'="'+a+'"':"")+"]"}else 8&r?i+="."+o:4&r&&(i+=" "+o);else""!==i&&!Pi(o)&&(e+=ch(s,i),i=""),r=o,s=s||!Pi(r);t++}return""!==i&&(e+=ch(s,i)),e}function ji(n){return xi(()=>{const e=hh(n),t={...e,decls:n.decls,vars:n.vars,template:n.template,consts:n.consts||null,ngContentSelectors:n.ngContentSelectors,onPush:n.changeDetection===la.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&n.dependencies||null,getStandaloneInjector:null,signals:n.signals??!1,data:n.data||{},encapsulation:n.encapsulation||Is.Emulated,styles:n.styles||sn,_:null,schemas:n.schemas||null,tView:null,id:""};nl(t);const r=n.dependencies;return t.directiveDefs=y(r,!1),t.pipeDefs=y(r,!0),t.id=function C(n){let e=0;const t=[n.selectors,n.ngContentSelectors,n.hostVars,n.hostAttrs,n.consts,n.vars,n.decls,n.encapsulation,n.standalone,n.signals,n.exportAs,JSON.stringify(n.inputs),JSON.stringify(n.outputs),Object.getOwnPropertyNames(n.type.prototype),!!n.contentQueries,!!n.viewQuery].join("|");for(const i of t)e=Math.imul(31,e)+i.charCodeAt(0)|0;return e+=2147483648,"c"+e}(t),t})}function Rc(n){return Ht(n)||mr(n)}function As(n){return null!==n}function Vr(n){return xi(()=>({type:n.type,bootstrap:n.bootstrap||sn,declarations:n.declarations||sn,imports:n.imports||sn,exports:n.exports||sn,transitiveCompileScopes:null,schemas:n.schemas||null,id:n.id||null}))}function Qn(n,e){if(null==n)return Ri;const t={};for(const r in n)if(n.hasOwnProperty(r)){const i=n[r];let s,o,a=kn.None;Array.isArray(i)?(a=i[0],s=i[1],o=i[2]??s):(s=i,o=i),e?(t[s]=a!==kn.None?[r,a]:r,e[s]=o):t[s]=r}return t}function Vt(n){return xi(()=>{const e=hh(n);return nl(e),e})}function Ht(n){return n[Bs]||null}function mr(n){return n[ts]||null}function Lr(n){return n[qa]||null}function Kr(n,e){const t=n[Xd]||null;if(!t&&!0===e)throw new Error(`Type ${Bn(n)} does not have '\u0275mod' property.`);return t}function hh(n){const e={};return{type:n.type,providersResolver:null,factory:null,hostBindings:n.hostBindings||null,hostVars:n.hostVars||0,hostAttrs:n.hostAttrs||null,contentQueries:n.contentQueries||null,declaredInputs:e,inputTransforms:null,inputConfig:n.inputs||Ri,exportAs:n.exportAs||null,standalone:!0===n.standalone,signals:!0===n.signals,selectors:n.selectors||sn,viewQuery:n.viewQuery||null,features:n.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:Qn(n.inputs,e),outputs:Qn(n.outputs),debugInfo:null}}function nl(n){n.features?.forEach(e=>e(n))}function y(n,e){if(!n)return null;const t=e?Lr:Rc;return()=>("function"==typeof n?n():n).map(r=>t(r)).filter(As)}function Te(...n){return{\u0275providers:gt(0,n),\u0275fromNgModule:!0}}function gt(n,...e){const t=[],r=new Set;let i;const s=o=>{t.push(o)};return Ui(e,o=>{const a=o;fn(a,s,[],r)&&(i||=[],i.push(a))}),void 0!==i&&en(i,s),t}function en(n,e){for(let t=0;t<n.length;t++){const{ngModule:r,providers:i}=n[t];No(i,s=>{e(s,r)})}}function fn(n,e,t,r){if(!(n=Mt(n)))return!1;let i=null,s=es(n);const o=!s&&Ht(n);if(s||o){if(o&&!o.standalone)return!1;i=n}else{const l=n.ngModule;if(s=es(l),!s)return!1;i=l}const a=r.has(i);if(o){if(a)return!1;if(r.add(i),o.dependencies){const l="function"==typeof o.dependencies?o.dependencies():o.dependencies;for(const c of l)fn(c,e,t,r)}}else{if(!s)return!1;{if(null!=s.imports&&!a){let c;r.add(i);try{Ui(s.imports,p=>{fn(p,e,t,r)&&(c||=[],c.push(p))})}finally{}void 0!==c&&en(c,e)}if(!a){const c=$s(i)||(()=>new i);e({provide:i,useFactory:c,deps:sn},i),e({provide:Xa,useValue:i,multi:!0},i),e({provide:Es,useValue:()=>We(i),multi:!0},i)}const l=s.providers;if(null!=l&&!a){const c=n;No(l,p=>{e(p,c)})}}}return i!==n&&void 0!==n.providers}function No(n,e){for(let t of n)Ha(t)&&(t=t.\u0275providers),Array.isArray(t)?No(t,e):e(t)}const fh=Pt({provide:String,useValue:Pt});function _y(n){return null!==n&&"object"==typeof n&&fh in n}function ko(n){return"function"==typeof n}const Yp=new Qe(""),gh={},c1={};let Xp;function mh(){return void 0===Xp&&(Xp=new eu),Xp}class ii{}class ca extends ii{get destroyed(){return this._destroyed}constructor(e,t,r,i){super(),this.parent=t,this.source=r,this.scopes=i,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,po(e,o=>this.processProvider(o)),this.records.set(Jl,nu(void 0,this)),i.has("environment")&&this.records.set(ii,nu(void 0,this));const s=this.records.get(Yp);null!=s&&"string"==typeof s.value&&this.scopes.add(s.value),this.injectorDefTypes=new Set(this.get(Xa,sn,Jt.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;const e=ce(null);try{for(const r of this._ngOnDestroyHooks)r.ngOnDestroy();const t=this._onDestroyHooks;this._onDestroyHooks=[];for(const r of t)r()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),ce(e)}}onDestroy(e){return this.assertNotDestroyed(),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){this.assertNotDestroyed();const t=js(this),r=Gr(void 0);try{return e()}finally{js(t),Gr(r)}}get(e,t=rs,r=Jt.Default){if(this.assertNotDestroyed(),e.hasOwnProperty(ql))return e[ql](this);r=ia(r);const s=js(this),o=Gr(void 0);try{if(!(r&Jt.SkipSelf)){let l=this.records.get(e);if(void 0===l){const c=function h1(n){return"function"==typeof n||"object"==typeof n&&n instanceof Qe}(e)&&ea(e);l=c&&this.injectableDefInScope(c)?nu(Zp(e),gh):null,this.records.set(e,l)}if(null!=l)return this.hydrate(e,l)}return(r&Jt.Self?mh():this.parent).get(e,t=r&Jt.Optional&&t===rs?null:t)}catch(a){if("NullInjectorError"===a.name){if((a[ra]=a[ra]||[]).unshift(Bn(e)),s)throw a;return function th(n,e,t,r){const i=n[ra];throw e[Ec]&&i.unshift(e[Ec]),n.message=function bc(n,e,t,r=null){n=n&&"\n"===n.charAt(0)&&"\u0275"==n.charAt(1)?n.slice(2):n;let i=Bn(e);if(Array.isArray(e))i=e.map(Bn).join(" -> ");else if("object"==typeof e){let s=[];for(let o in e)if(e.hasOwnProperty(o)){let a=e[o];s.push(o+":"+("string"==typeof a?JSON.stringify(a):Bn(a)))}i=`{${s.join(", ")}}`}return`${t}${r?"("+r+")":""}[${i}]: ${n.replace(Zd,"\n  ")}`}("\n"+n.message,i,t,r),n.ngTokenPath=i,n[ra]=null,n}(a,e,"R3InjectorError",this.source)}throw a}finally{Gr(o),js(s)}}resolveInjectorInitializers(){const e=ce(null),t=js(this),r=Gr(void 0);try{const s=this.get(Es,sn,Jt.Self);for(const o of s)o()}finally{js(t),Gr(r),ce(e)}}toString(){const e=[],t=this.records;for(const r of t.keys())e.push(Bn(r));return`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Ae(205,!1)}processProvider(e){let t=ko(e=Mt(e))?e:Mt(e&&e.provide);const r=function vy(n){return _y(n)?nu(void 0,n.useValue):nu(wy(n),gh)}(e);if(!ko(e)&&!0===e.multi){let i=this.records.get(t);i||(i=nu(void 0,gh,!0),i.factory=()=>sa(i.multi),this.records.set(t,i)),t=e,i.multi.push(e)}this.records.set(t,r)}hydrate(e,t){const r=ce(null);try{return t.value===gh&&(t.value=c1,t.value=t.factory()),"object"==typeof t.value&&t.value&&function _h(n){return null!==n&&"object"==typeof n&&"function"==typeof n.ngOnDestroy}(t.value)&&this._ngOnDestroyHooks.add(t.value),t.value}finally{ce(r)}}injectableDefInScope(e){if(!e.providedIn)return!1;const t=Mt(e.providedIn);return"string"==typeof t?"any"===t||this.scopes.has(t):this.injectorDefTypes.has(t)}removeOnDestroy(e){const t=this._onDestroyHooks.indexOf(e);-1!==t&&this._onDestroyHooks.splice(t,1)}}function Zp(n){const e=ea(n),t=null!==e?e.factory:$s(n);if(null!==t)return t;if(n instanceof Qe)throw new Ae(204,!1);if(n instanceof Function)return function yh(n){if(n.length>0)throw new Ae(204,!1);const t=function $p(n){return n&&(n[zl]||n[ta])||null}(n);return null!==t?()=>t.factory(n):()=>new n}(n);throw new Ae(204,!1)}function wy(n,e,t){let r;if(ko(n)){const i=Mt(n);return $s(i)||Zp(i)}if(_y(n))r=()=>Mt(n.useValue);else if(function ua(n){return!(!n||!n.useFactory)}(n))r=()=>n.useFactory(...sa(n.deps||[]));else if(function ph(n){return!(!n||!n.useExisting)}(n))r=()=>We(Mt(n.useExisting));else{const i=Mt(n&&(n.useClass||n.provide));if(!function d1(n){return!!n.deps}(n))return $s(i)||Zp(i);r=()=>new i(...sa(n.deps))}return r}function nu(n,e,t=!1){return{factory:n,value:e,multi:t?[]:void 0}}function po(n,e){for(const t of n)Array.isArray(t)?po(t,e):t&&Ha(t)?po(t.\u0275providers,e):e(t)}function go(n,e){n instanceof ca&&n.assertNotDestroyed();const r=js(n),i=Gr(void 0);try{return e()}finally{js(r),Gr(i)}}function Ey(){return void 0!==co()||null!=function Jd(){return mi}()}const zn=0,nt=1,Ct=2,Cr=3,os=4,si=5,as=6,su=7,Yn=8,Xn=9,zs=10,jt=11,Nc=12,Cy=13,ou=14,Hn=15,kc=16,au=17,Oo=18,rl=19,xy=20,ha=21,Eh=22,il=23,qt=25,eg=1,mo=7,uu=9,ur=10;var tg=function(n){return n[n.None=0]="None",n[n.HasTransplantedViews=2]="HasTransplantedViews",n}(tg||{});function Qr(n){return Array.isArray(n)&&"object"==typeof n[eg]}function _i(n){return Array.isArray(n)&&!0===n[eg]}function Fc(n){return!!(4&n.flags)}function yo(n){return n.componentOffset>-1}function cu(n){return!(1&~n.flags)}function Hs(n){return!!n.template}function Vc(n){return!!(512&n[Ct])}class rg{constructor(e,t,r){this.previousValue=e,this.currentValue=t,this.firstChange=r}isFirstChange(){return this.firstChange}}function ig(n,e,t,r){null!==e?e.applyValueToInputSignal(e,r):n[t]=r}function ls(){return Ly}function Ly(n){return n.type.prototype.ngOnChanges&&(n.setInput=sg),uI}function uI(){const n=Uy(this),e=n?.current;if(e){const t=n.previous;if(t===Ri)n.previous=e;else for(let r in e)t[r]=e[r];n.current=null,this.ngOnChanges(e)}}function sg(n,e,t,r,i){const s=this.declaredInputs[r],o=Uy(n)||function og(n,e){return n[By]=e}(n,{previous:Ri,current:null}),a=o.current||(o.current={}),l=o.previous,c=l[s];a[s]=new rg(c&&c.currentValue,t,l===Ri),ig(n,e,i,t)}ls.ngInherit=!0;const By="__ngSimpleChanges__";function Uy(n){return n[By]||null}const Cs=function(n,e,t){};let Uc=!1;function Cn(n){for(;Array.isArray(n);)n=n[zn];return n}function vi(n,e){return Cn(e[n.index])}function jc(n,e){return n.data[e]}function Mi(n,e){const t=e[n];return Qr(t)?t:t[zn]}function cg(n){return!(128&~n[Ct])}function xs(n,e){return null==e?null:n[e]}function zy(n){n[au]=0}function pI(n){1024&n[Ct]||(n[Ct]|=1024,cg(n)&&$c(n))}function hg(n){return!!(9216&n[Ct]||n[il]?.dirty)}function hu(n){n[zs].changeDetectionScheduler?.notify(1),hg(n)?$c(n):64&n[Ct]&&(function lg(){return Uc}()?(n[Ct]|=1024,$c(n)):n[zs].changeDetectionScheduler?.notify())}function $c(n){n[zs].changeDetectionScheduler?.notify();let e=al(n);for(;null!==e&&!(8192&e[Ct])&&(e[Ct]|=8192,cg(e));)e=al(e)}function Ah(n,e){if(!(256&~n[Ct]))throw new Ae(911,!1);null===n[ha]&&(n[ha]=[]),n[ha].push(e)}function al(n){const e=n[Cr];return _i(e)?e[Cr]:e}const $t={lFrame:Sh(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function qy(){return $t.bindingsEnabled}function Ne(){return $t.lFrame.lView}function on(){return $t.lFrame.tView}function bn(){let n=Ky();for(;null!==n&&64===n.type;)n=n.parent;return n}function Ky(){return $t.lFrame.currentTNode}function _o(n,e){const t=$t.lFrame;t.currentTNode=n,t.isParent=e}function xh(){return $t.lFrame.isParent}function Ds(){return $t.lFrame.bindingIndex++}function bI(n,e){const t=$t.lFrame;t.bindingIndex=t.bindingRootIndex=n,mg(e)}function mg(n){$t.lFrame.currentDirectiveIndex=n}function yg(){return $t.lFrame.currentQueryIndex}function _g(n){$t.lFrame.currentQueryIndex=n}function CI(n){const e=n[nt];return 2===e.type?e.declTNode:1===e.type?n[si]:null}function fa(n,e,t){if(t&Jt.SkipSelf){let i=e,s=n;for(;!(i=i.parent,null!==i||t&Jt.Host||(i=CI(s),null===i||(s=s[ou],10&i.type))););if(null===i)return!1;e=i,n=s}const r=$t.lFrame=Yy();return r.currentTNode=e,r.lView=n,!0}function vg(n){const e=Yy(),t=n[nt];$t.lFrame=e,e.currentTNode=t.firstChild,e.lView=n,e.tView=t,e.contextLView=n,e.bindingIndex=t.bindingStartIndex,e.inI18n=!1}function Yy(){const n=$t.lFrame,e=null===n?null:n.child;return null===e?Sh(n):e}function Sh(n){const e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:n,child:null,inI18n:!1};return null!==n&&(n.child=e),e}function Xy(){const n=$t.lFrame;return $t.lFrame=n.parent,n.currentTNode=null,n.lView=null,n}const Rh=Xy;function wg(){const n=Xy();n.isParent=!0,n.tView=null,n.selectedIndex=-1,n.contextLView=null,n.elementDepthCount=0,n.currentDirectiveIndex=-1,n.currentNamespace=null,n.bindingRootIndex=-1,n.bindingIndex=-1,n.currentQueryIndex=0}function Yr(){return $t.lFrame.selectedIndex}function ul(n){$t.lFrame.selectedIndex=n}function qn(){const n=$t.lFrame;return jc(n.tView,n.selectedIndex)}let Jy=!0;function pu(){return Jy}function Ts(n){Jy=n}function Ph(n,e){for(let t=e.directiveStart,r=e.directiveEnd;t<r;t++){const s=n.data[t].type.prototype,{ngAfterContentInit:o,ngAfterContentChecked:a,ngAfterViewInit:l,ngAfterViewChecked:c,ngOnDestroy:p}=s;o&&(n.contentHooks??=[]).push(-t,o),a&&((n.contentHooks??=[]).push(t,a),(n.contentCheckHooks??=[]).push(t,a)),l&&(n.viewHooks??=[]).push(-t,l),c&&((n.viewHooks??=[]).push(t,c),(n.viewCheckHooks??=[]).push(t,c)),null!=p&&(n.destroyHooks??=[]).push(t,p)}}function gu(n,e,t){e_(n,e,3,t)}function mu(n,e,t,r){(3&n[Ct])===t&&e_(n,e,t,r)}function Ig(n,e){let t=n[Ct];(3&t)===e&&(t&=16383,t+=1,n[Ct]=t)}function e_(n,e,t,r){const s=r??-1,o=e.length-1;let a=0;for(let l=void 0!==r?65535&n[au]:0;l<o;l++)if("number"==typeof e[l+1]){if(a=e[l],null!=r&&a>=r)break}else e[l]<0&&(n[au]+=65536),(a<s||-1==s)&&(PI(n,t,e,l),n[au]=(4294901760&n[au])+l+2),l++}function Hc(n,e){Cs(4,n,e);const t=ce(null);try{e.call(n)}finally{ce(t),Cs(5,n,e)}}function PI(n,e,t,r){const i=t[r]<0,s=t[r+1],a=n[i?-t[r]:t[r]];i?n[Ct]>>14<n[au]>>16&&(3&n[Ct])===e&&(n[Ct]+=16384,Hc(a,s)):Hc(a,s)}const yu=-1;class qc{constructor(e,t,r){this.factory=e,this.resolving=!1,this.canSeeViewProviders=t,this.injectImpl=r}}function Nh(n){return n!==yu}function Gc(n){return 32767&n}function Wc(n,e){let t=function OI(n){return n>>16}(n),r=e;for(;t>0;)r=r[ou],t--;return r}let Ag=!0;function Kc(n){const e=Ag;return Ag=n,e}const kh=255,Cg=5;let FI=0;const Ss={};function wi(n,e){const t=xg(n,e);if(-1!==t)return t;const r=e[nt];r.firstCreatePass&&(n.injectorIndex=e.length,cl(r.data,n),cl(e,null),cl(r.blueprint,null));const i=Oh(n,e),s=n.injectorIndex;if(Nh(i)){const o=Gc(i),a=Wc(i,e),l=a[nt].data;for(let c=0;c<8;c++)e[s+c]=a[o+c]|l[o+c]}return e[s+8]=i,s}function cl(n,e){n.push(0,0,0,0,0,0,0,0,e)}function xg(n,e){return-1===n.injectorIndex||n.parent&&n.parent.injectorIndex===n.injectorIndex||null===e[n.injectorIndex+8]?-1:n.injectorIndex}function Oh(n,e){if(n.parent&&-1!==n.parent.injectorIndex)return n.parent.injectorIndex;let t=0,r=null,i=e;for(;null!==i;){if(r=a_(i),null===r)return yu;if(t++,i=i[ou],-1!==r.injectorIndex)return r.injectorIndex|t<<16}return yu}function Qc(n,e,t){!function VI(n,e,t){let r;"string"==typeof t?r=t.charCodeAt(0)||0:t.hasOwnProperty(Ga)&&(r=t[Ga]),null==r&&(r=t[Ga]=FI++);const i=r&kh;e.data[n+(i>>Cg)]|=1<<i}(n,e,t)}function r_(n,e,t){if(t&Jt.Optional||void 0!==n)return n;ns()}function Tg(n,e,t,r){if(t&Jt.Optional&&void 0===r&&(r=null),!(t&(Jt.Self|Jt.Host))){const i=n[Xn],s=Gr(void 0);try{return i?i.get(e,r,t&Jt.Optional):Wl(e,r,t&Jt.Optional)}finally{Gr(s)}}return r_(r,0,t)}function i_(n,e,t,r=Jt.Default,i){if(null!==n){if(2048&e[Ct]&&!(r&Jt.Self)){const o=function o_(n,e,t,r,i){let s=n,o=e;for(;null!==s&&null!==o&&2048&o[Ct]&&!(512&o[Ct]);){const a=Fo(s,o,t,r|Jt.Self,Ss);if(a!==Ss)return a;let l=s.parent;if(!l){const c=o[xy];if(c){const p=c.get(t,Ss,r);if(p!==Ss)return p}l=a_(o),o=o[ou]}s=l}return i}(n,e,t,r,Ss);if(o!==Ss)return o}const s=Fo(n,e,t,r,Ss);if(s!==Ss)return s}return Tg(e,t,r,i)}function Fo(n,e,t,r,i){const s=function LI(n){if("string"==typeof n)return n.charCodeAt(0)||0;const e=n.hasOwnProperty(Ga)?n[Ga]:void 0;return"number"==typeof e?e>=0?e&kh:Vo:e}(t);if("function"==typeof s){if(!fa(e,n,r))return r&Jt.Host?r_(i,0,r):Tg(e,t,r,i);try{let o;if(o=s(r),null!=o||r&Jt.Optional)return o;ns()}finally{Rh()}}else if("number"==typeof s){let o=null,a=xg(n,e),l=yu,c=r&Jt.Host?e[Hn][si]:null;for((-1===a||r&Jt.SkipSelf)&&(l=-1===a?Oh(n,e):e[a+8],l!==yu&&Ni(r,!1)?(o=e[nt],a=Gc(l),e=Wc(l,e)):a=-1);-1!==a;){const p=e[nt];if(Sg(s,a,p.data)){const m=s_(a,e,t,o,r,c);if(m!==Ss)return m}l=e[a+8],l!==yu&&Ni(r,e[nt].data[a+8]===c)&&Sg(s,a,e)?(o=p,a=Gc(l),e=Wc(l,e)):a=-1}}return i}function s_(n,e,t,r,i,s){const o=e[nt],a=o.data[n+8],p=Fh(a,o,t,null==r?yo(a)&&Ag:r!=o&&!!(3&a.type),i&Jt.Host&&s===a);return null!==p?dl(e,o,p,a):Ss}function Fh(n,e,t,r,i){const s=n.providerIndexes,o=e.data,a=1048575&s,l=n.directiveStart,p=s>>20,w=i?a+p:n.directiveEnd;for(let A=r?a:a+p;A<w;A++){const D=o[A];if(A<l&&t===D||A>=l&&D.type===t)return A}if(i){const A=o[l];if(A&&Hs(A)&&A.type===t)return l}return null}function dl(n,e,t,r){let i=n[t];const s=e.data;if(function t_(n){return n instanceof qc}(i)){const o=i;o.resolving&&function zp(n,e){throw e&&e.join(" > "),new Ae(-200,n)}(function un(n){return"function"==typeof n?n.name||n.toString():"object"==typeof n&&null!=n&&"function"==typeof n.type?n.type.name||n.type.toString():Lt(n)}(s[t]));const a=Kc(o.canSeeViewProviders);o.resolving=!0;const c=o.injectImpl?Gr(o.injectImpl):null;fa(n,r,Jt.Default);try{i=n[t]=o.factory(void 0,s,n,r),e.firstCreatePass&&t>=r.directiveStart&&function RI(n,e,t){const{ngOnChanges:r,ngOnInit:i,ngDoCheck:s}=e.type.prototype;if(r){const o=Ly(e);(t.preOrderHooks??=[]).push(n,o),(t.preOrderCheckHooks??=[]).push(n,o)}i&&(t.preOrderHooks??=[]).push(0-n,i),s&&((t.preOrderHooks??=[]).push(n,s),(t.preOrderCheckHooks??=[]).push(n,s))}(t,s[t],e)}finally{null!==c&&Gr(c),Kc(a),o.resolving=!1,Rh()}}return i}function Sg(n,e,t){return!!(t[e+(n>>Cg)]&1<<n)}function Ni(n,e){return!(n&Jt.Self||n&Jt.Host&&e)}class Br{constructor(e,t){this._tNode=e,this._lView=t}get(e,t,r){return i_(this._tNode,this._lView,e,ia(r),t)}}function Vo(){return new Br(bn(),Ne())}function yr(n){return xi(()=>{const e=n.prototype.constructor,t=e[xr]||Vh(e),r=Object.prototype;let i=Object.getPrototypeOf(n.prototype).constructor;for(;i&&i!==r;){const s=i[xr]||Vh(i);if(s&&s!==t)return s;i=Object.getPrototypeOf(i)}return s=>new s})}function Vh(n){return Ul(n)?()=>{const e=Vh(Mt(n));return e&&e()}:$s(n)}function a_(n){const e=n[nt],t=e.type;return 2===t?e.declTNode:1===t?n[si]:null}function yt(n,e=null,t=null,r){const i=_t(n,e,t,r);return i.resolveInjectorInitializers(),i}function _t(n,e=null,t=null,r,i=new Set){const s=[t||sn,Te(n)];return r=r||("object"==typeof n?void 0:Bn(n)),new ca(s,e||mh(),r||null,i)}let an=(()=>{class n{static#e=this.THROW_IF_NOT_FOUND=rs;static#t=this.NULL=new eu;static create(t,r){if(Array.isArray(t))return yt({name:""},r,t,"");{const i=t.name??"";return yt({name:i},t.parent,t.providers,i)}}static#n=this.\u0275prov=pt({token:n,providedIn:"any",factory:()=>We(Jl)});static#r=this.__NG_ELEMENT_ID__=-1}return n})();function Xc(n){return n.ngOriginalError}class qs{constructor(){this._console=console}handleError(e){const t=this._findOriginalError(e);this._console.error("ERROR",e),t&&this._console.error("ORIGINAL ERROR",t)}_findOriginalError(e){let t=e&&Xc(e);for(;t&&Xc(t);)t=Xc(t);return t||null}}const Pg=new Qe("",{providedIn:"root",factory:()=>qe(qs).handleError.bind(void 0)});let ma=(()=>{class n{static#e=this.__NG_ELEMENT_ID__=c_;static#t=this.__NG_ENV_ID__=t=>t}return n})();class u_ extends ma{constructor(e){super(),this._lView=e}onDestroy(e){return Ah(this._lView,e),()=>function fg(n,e){if(null===n[ha])return;const t=n[ha].indexOf(e);-1!==t&&n[ha].splice(t,1)}(this._lView,e)}}function c_(){return new u_(Ne())}function O6(){return Uh(bn(),Ne())}function Uh(n,e){return new Gs(vi(n,e))}let Gs=(()=>{class n{constructor(t){this.nativeElement=t}static#e=this.__NG_ELEMENT_ID__=O6}return n})();function A1(n){return n instanceof Gs?n.nativeElement:n}function $I(n){return e=>{setTimeout(n,void 0,e)}}const Tr=class F6 extends Q{constructor(e=!1){super(),this.destroyRef=void 0,this.__isAsync=e,Ey()&&(this.destroyRef=qe(ma,{optional:!0})??void 0)}emit(e){const t=ce(null);try{super.next(e)}finally{ce(t)}}subscribe(e,t,r){let i=e,s=t||(()=>null),o=r;if(e&&"object"==typeof e){const l=e;i=l.next?.bind(l),s=l.error?.bind(l),o=l.complete?.bind(l)}this.__isAsync&&(s=$I(s),i&&(i=$I(i)),o&&(o=$I(o)));const a=super.subscribe({next:i,error:s,complete:o});return e instanceof zt&&e.add(a),a}};function V6(){return this._results[Symbol.iterator]()}class zI{static#e=Symbol.iterator;get changes(){return this._changes??=new Tr}constructor(e=!1){this._emitDistinctChangesOnly=e,this.dirty=!0,this._onDirty=void 0,this._results=[],this._changesDetected=!1,this._changes=void 0,this.length=0,this.first=void 0,this.last=void 0;const t=zI.prototype;t[Symbol.iterator]||(t[Symbol.iterator]=V6)}get(e){return this._results[e]}map(e){return this._results.map(e)}filter(e){return this._results.filter(e)}find(e){return this._results.find(e)}reduce(e,t){return this._results.reduce(e,t)}forEach(e){this._results.forEach(e)}some(e){return this._results.some(e)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(e,t){this.dirty=!1;const r=function Wr(n){return n.flat(Number.POSITIVE_INFINITY)}(e);(this._changesDetected=!function rh(n,e,t){if(n.length!==e.length)return!1;for(let r=0;r<n.length;r++){let i=n[r],s=e[r];if(t&&(i=t(i),s=t(s)),s!==i)return!1}return!0}(this._results,r,t))&&(this._results=r,this.length=r.length,this.last=r[this.length-1],this.first=r[0])}notifyOnChanges(){void 0!==this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}onDirty(e){this._onDirty=e}setDirty(){this.dirty=!0,this._onDirty?.()}destroy(){void 0!==this._changes&&(this._changes.complete(),this._changes.unsubscribe())}}function h_(n){return!(128&~n.flags)}const HI=new Map;let B6=0;const GI="__ngContext__";function $i(n,e){Qr(e)?(n[GI]=e[rl],function j6(n){HI.set(n[rl],n)}(e)):n[GI]=e}function k1(n){return F1(n[Nc])}function O1(n){return F1(n[os])}function F1(n){for(;null!==n&&!_i(n);)n=n[os];return n}let WI;const g_=new Qe("",{providedIn:"root",factory:()=>sU}),sU="ng",H1=new Qe(""),Lo=new Qe("",{providedIn:"platform",factory:()=>"unknown"}),q1=new Qe(""),G1=new Qe("",{providedIn:"root",factory:()=>function _u(){if(void 0!==WI)return WI;if(typeof document<"u")return document;throw new Ae(210,!1)}().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});let W1=()=>null;function tb(n,e,t=!1){return W1(n,e,t)}const Z1=new Qe("",{providedIn:"root",factory:()=>!1});class rR{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}function D_(n){return n.ownerDocument.defaultView}function Ws(n){return n instanceof Function?n():n}var wu=function(n){return n[n.Important=1]="Important",n[n.DashCase=2]="DashCase",n}(wu||{});let pb;function gb(n,e){return pb(n,e)}function Gh(n,e,t,r,i){if(null!=r){let s,o=!1;_i(r)?s=r:Qr(r)&&(o=!0,r=r[zn]);const a=Cn(r);0===n&&null!==t?null==i?xR(e,t,a):Zc(e,t,a,i||null,!0):1===n&&null!==t?Zc(e,t,a,i||null,!0):2===n?function zg(n,e,t){const r=R_(n,e);r&&function c9(n,e,t,r){n.removeChild(e,t,r)}(n,r,e,t)}(e,a,o):3===n&&e.destroyNode(a),null!=s&&function f9(n,e,t,r,i){const s=t[mo];s!==Cn(t)&&Gh(e,n,r,s,i);for(let a=ur;a<t.length;a++){const l=t[a];M_(l[nt],l,n,e,r,s)}}(e,n,s,t,i)}}function T_(n,e,t){return n.createElement(e,t)}function bR(n,e){e[zs].changeDetectionScheduler?.notify(1),M_(n,e,e[jt],2,null,null)}function AR(n,e){const t=n[uu],r=t.indexOf(e);t.splice(r,1)}function jg(n,e){if(n.length<=ur)return;const t=ur+e,r=n[t];if(r){const i=r[kc];null!==i&&i!==n&&AR(i,r),e>0&&(n[t-1][os]=r[os]);const s=Qa(n,ur+e);!function r9(n,e){bR(n,e),e[zn]=null,e[si]=null}(r[nt],r);const o=s[Oo];null!==o&&o.detachView(s[nt]),r[Cr]=null,r[os]=null,r[Ct]&=-129}return r}function S_(n,e){if(!(256&e[Ct])){const t=e[jt];t.destroyNode&&M_(n,e,t,3,null,null),function s9(n){let e=n[Nc];if(!e)return _b(n[nt],n);for(;e;){let t=null;if(Qr(e))t=e[Nc];else{const r=e[ur];r&&(t=r)}if(!t){for(;e&&!e[os]&&e!==n;)Qr(e)&&_b(e[nt],e),e=e[Cr];null===e&&(e=n),Qr(e)&&_b(e[nt],e),t=e&&e[os]}e=t}}(e)}}function _b(n,e){if(256&e[Ct])return;const t=ce(null);try{e[Ct]&=-129,e[Ct]|=256,e[il]&&function he(n){if(xe(n),Be(n))for(let e=0;e<n.producerNode.length;e++)Ee(n.producerNode[e],n.producerIndexOfThis[e]);n.producerNode.length=n.producerLastReadVersion.length=n.producerIndexOfThis.length=0,n.liveConsumerNode&&(n.liveConsumerNode.length=n.liveConsumerIndexOfThis.length=0)}(e[il]),function u9(n,e){let t;if(null!=n&&null!=(t=n.destroyHooks))for(let r=0;r<t.length;r+=2){const i=e[t[r]];if(!(i instanceof qc)){const s=t[r+1];if(Array.isArray(s))for(let o=0;o<s.length;o+=2){const a=i[s[o]],l=s[o+1];Cs(4,a,l);try{l.call(a)}finally{Cs(5,a,l)}}else{Cs(4,i,s);try{s.call(i)}finally{Cs(5,i,s)}}}}}(n,e),function l9(n,e){const t=n.cleanup,r=e[su];if(null!==t)for(let s=0;s<t.length-1;s+=2)if("string"==typeof t[s]){const o=t[s+3];o>=0?r[o]():r[-o].unsubscribe(),s+=2}else t[s].call(r[t[s+1]]);null!==r&&(e[su]=null);const i=e[ha];if(null!==i){e[ha]=null;for(let s=0;s<i.length;s++)(0,i[s])()}}(n,e),1===e[nt].type&&e[jt].destroy();const r=e[kc];if(null!==r&&_i(e[Cr])){r!==e[Cr]&&AR(r,e);const i=e[Oo];null!==i&&i.detachView(n)}!function $6(n){HI.delete(n[rl])}(e)}finally{ce(t)}}function vb(n,e,t){return function CR(n,e,t){let r=e;for(;null!==r&&40&r.type;)r=(e=r).parent;if(null===r)return t[zn];{const{componentOffset:i}=r;if(i>-1){const{encapsulation:s}=n.data[r.directiveStart+i];if(s===Is.None||s===Is.Emulated)return null}return vi(r,t)}}(n,e.parent,t)}function Zc(n,e,t,r,i){n.insertBefore(e,t,r,i)}function xR(n,e,t){n.appendChild(e,t)}function DR(n,e,t,r,i){null!==r?Zc(n,e,t,r,i):xR(n,e,t)}function R_(n,e){return n.parentNode(e)}let wb,RR=function SR(n,e,t){return 40&n.type?vi(n,t):null};function P_(n,e,t,r){const i=vb(n,r,e),s=e[jt],a=function TR(n,e,t){return RR(n,e,t)}(r.parent||e[si],r,e);if(null!=i)if(Array.isArray(t))for(let l=0;l<t.length;l++)DR(s,i,t[l],a,!1);else DR(s,i,t,a,!1);void 0!==wb&&wb(s,r,e,t,i)}function $g(n,e){if(null!==e){const t=e.type;if(3&t)return vi(e,n);if(4&t)return Eb(-1,n[e.index]);if(8&t){const r=e.child;if(null!==r)return $g(n,r);{const i=n[e.index];return _i(i)?Eb(-1,i):Cn(i)}}if(32&t)return gb(e,n)()||Cn(n[e.index]);{const r=MR(n,e);return null!==r?Array.isArray(r)?r[0]:$g(al(n[Hn]),r):$g(n,e.next)}}return null}function MR(n,e){return null!==e?n[Hn][si].projection[e.projection]:null}function Eb(n,e){const t=ur+n+1;if(t<e.length){const r=e[t],i=r[nt].firstChild;if(null!==i)return $g(r,i)}return e[mo]}function Ib(n,e,t,r,i,s,o){for(;null!=t;){const a=r[t.index],l=t.type;if(o&&0===e&&(a&&$i(Cn(a),r),t.flags|=2),32&~t.flags)if(8&l)Ib(n,e,t.child,r,i,s,!1),Gh(e,n,i,a,s);else if(32&l){const c=gb(t,r);let p;for(;p=c();)Gh(e,n,i,p,s);Gh(e,n,i,a,s)}else 16&l?kR(n,e,r,t,i,s):Gh(e,n,i,a,s);t=o?t.projectionNext:t.next}}function M_(n,e,t,r,i,s){Ib(t,r,n.firstChild,e,i,s,!1)}function kR(n,e,t,r,i,s){const o=t[Hn],l=o[si].projection[r.projection];if(Array.isArray(l))for(let c=0;c<l.length;c++)Gh(e,n,i,l[c],s);else{let c=l;const p=o[Cr];h_(r)&&(c.flags|=128),Ib(n,e,c,p,i,s,!0)}}function OR(n,e,t){""===t?n.removeAttribute(e,"class"):n.setAttribute(e,"class",t)}function FR(n,e,t){const{mergedAttrs:r,classes:i,styles:s}=t;null!==r&&Za(n,e,r),null!==i&&OR(n,e,i),null!==s&&function g9(n,e,t){n.setAttribute(e,"style",t)}(n,e,s)}const Yt={};function ya(n=1){VR(on(),Ne(),Yr()+n,!1)}function VR(n,e,t,r){if(!r)if(3&~e[Ct]){const s=n.preOrderHooks;null!==s&&mu(e,s,0,t)}else{const s=n.preOrderCheckHooks;null!==s&&gu(e,s,t)}ul(t)}function Ze(n,e=Jt.Default){const t=Ne();return null===t?We(n,e):i_(bn(),t,Mt(n),e)}function BR(n,e,t,r,i,s){const o=ce(null);try{let a=null;i&kn.SignalBased&&(a=e[r][de]),null!==a&&void 0!==a.transformFn&&(s=a.transformFn(s)),i&kn.HasDecoratorInputTransform&&(s=n.inputTransforms[r].call(e,s)),null!==n.setInput?n.setInput(e,a,s,t,r):ig(e,a,r,s)}finally{ce(o)}}function N_(n,e,t,r,i,s,o,a,l,c,p){const m=e.blueprint.slice();return m[zn]=i,m[Ct]=204|r,(null!==c||n&&2048&n[Ct])&&(m[Ct]|=2048),zy(m),m[Cr]=m[ou]=n,m[Yn]=t,m[zs]=o||n&&n[zs],m[jt]=a||n&&n[jt],m[Xn]=l||n&&n[Xn]||null,m[si]=s,m[rl]=function U6(){return B6++}(),m[as]=p,m[xy]=c,m[Hn]=2==e.type?n[Hn]:m,m}function Wh(n,e,t,r,i){let s=n.data[e];if(null===s)s=function bb(n,e,t,r,i){const s=Ky(),o=xh(),l=n.data[e]=function b9(n,e,t,r,i,s){let o=e?e.injectorIndex:-1,a=0;return function fu(){return null!==$t.skipHydrationRootTNode}()&&(a|=128),{type:t,index:r,insertBeforeIndex:null,injectorIndex:o,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:i,attrs:s,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,o?s:s&&s.parent,t,e,r,i);return null===n.firstChild&&(n.firstChild=l),null!==s&&(o?null==s.child&&null!==l.parent&&(s.child=l):null===s.next&&(s.next=l,l.prev=s)),l}(n,e,t,r,i),function II(){return $t.lFrame.inI18n}()&&(s.flags|=32);else if(64&s.type){s.type=t,s.value=r,s.attrs=i;const o=function ll(){const n=$t.lFrame,e=n.currentTNode;return n.isParent?e:e.parent}();s.injectorIndex=null===o?-1:o.injectorIndex}return _o(s,!0),s}function Hg(n,e,t,r){if(0===t)return-1;const i=e.length;for(let s=0;s<t;s++)e.push(r),n.blueprint.push(r),n.data.push(null);return i}function UR(n,e,t,r,i){const s=Yr(),o=2&r;try{ul(-1),o&&e.length>qt&&VR(n,e,qt,!1),Cs(o?2:0,i),t(r,i)}finally{ul(s),Cs(o?3:1,i)}}function Ab(n,e,t){if(Fc(e)){const r=ce(null);try{const s=e.directiveEnd;for(let o=e.directiveStart;o<s;o++){const a=n.data[o];a.contentQueries&&a.contentQueries(1,t[o],o)}}finally{ce(r)}}}function Cb(n,e,t){qy()&&(function R9(n,e,t,r){const i=t.directiveStart,s=t.directiveEnd;yo(t)&&function V9(n,e,t){const r=vi(e,n),i=jR(t);let o=16;t.signals?o=4096:t.onPush&&(o=64);const a=k_(n,N_(n,i,null,o,r,e,null,n[zs].rendererFactory.createRenderer(r,t),null,null,null));n[e.index]=a}(e,t,n.data[i+t.componentOffset]),n.firstCreatePass||wi(t,e),$i(r,e);const o=t.initialInputs;for(let a=i;a<s;a++){const l=n.data[a],c=dl(e,n,a,t);$i(c,e),null!==o&&L9(0,a-i,c,l,0,o),Hs(l)&&(Mi(t.index,e)[Yn]=dl(e,n,a,t))}}(n,e,t,vi(t,e)),!(64&~t.flags)&&GR(n,e,t))}function xb(n,e,t=vi){const r=e.localNames;if(null!==r){let i=e.index+1;for(let s=0;s<r.length;s+=2){const o=r[s+1],a=-1===o?t(e,n):n[o];n[i++]=a}}}function jR(n){const e=n.tView;return null===e||e.incompleteFirstPass?n.tView=Db(1,null,n.template,n.decls,n.vars,n.directiveDefs,n.pipeDefs,n.viewQuery,n.schemas,n.consts,n.id):e}function Db(n,e,t,r,i,s,o,a,l,c,p){const m=qt+r,w=m+i,A=function y9(n,e){const t=[];for(let r=0;r<e;r++)t.push(r<n?null:Yt);return t}(m,w),D="function"==typeof c?c():c;return A[nt]={type:n,blueprint:A,template:t,queries:null,viewQuery:a,declTNode:e,data:A.slice().fill(null,m),bindingStartIndex:m,expandoStartIndex:w,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof s?s():s,pipeRegistry:"function"==typeof o?o():o,firstChild:null,schemas:l,consts:D,incompleteFirstPass:!1,ssrId:p}}let $R=()=>null;function zR(n,e,t,r,i){for(let s in e){if(!e.hasOwnProperty(s))continue;const o=e[s];if(void 0===o)continue;r??={};let a,l=kn.None;Array.isArray(o)?(a=o[0],l=o[1]):a=o;let c=s;if(null!==i){if(!i.hasOwnProperty(s))continue;c=i[s]}0===n?HR(r,t,c,a,l):HR(r,t,c,a)}return r}function HR(n,e,t,r,i){let s;n.hasOwnProperty(t)?(s=n[t]).push(e,r):s=n[t]=[e,r],void 0!==i&&s.push(i)}function Tb(n,e,t,r){if(qy()){const i=null===r?null:{"":-1},s=function M9(n,e){const t=n.directiveRegistry;let r=null,i=null;if(t)for(let s=0;s<t.length;s++){const o=t[s];if(bs(e,o.selectors,!1))if(r||(r=[]),Hs(o))if(null!==o.findHostDirectiveDefs){const a=[];i=i||new Map,o.findHostDirectiveDefs(o,a,i),r.unshift(...a,o),Sb(n,e,a.length)}else r.unshift(o),Sb(n,e,0);else i=i||new Map,o.findHostDirectiveDefs?.(o,r,i),r.push(o)}return null===r?null:[r,i]}(n,t);let o,a;null===s?o=a=null:[o,a]=s,null!==o&&qR(n,e,t,o,i,a),i&&function N9(n,e,t){if(e){const r=n.localNames=[];for(let i=0;i<e.length;i+=2){const s=t[e[i+1]];if(null==s)throw new Ae(-301,!1);r.push(e[i],s)}}}(t,r,i)}t.mergedAttrs=el(t.mergedAttrs,t.attrs)}function qR(n,e,t,r,i,s){for(let c=0;c<r.length;c++)Qc(wi(t,e),n,r[c].type);!function O9(n,e,t){n.flags|=1,n.directiveStart=e,n.directiveEnd=e+t,n.providerIndexes=e}(t,n.data.length,r.length);for(let c=0;c<r.length;c++){const p=r[c];p.providersResolver&&p.providersResolver(p)}let o=!1,a=!1,l=Hg(n,e,r.length,null);for(let c=0;c<r.length;c++){const p=r[c];t.mergedAttrs=el(t.mergedAttrs,p.hostAttrs),F9(n,t,e,l,p),k9(l,p,i),null!==p.contentQueries&&(t.flags|=4),(null!==p.hostBindings||null!==p.hostAttrs||0!==p.hostVars)&&(t.flags|=64);const m=p.type.prototype;!o&&(m.ngOnChanges||m.ngOnInit||m.ngDoCheck)&&((n.preOrderHooks??=[]).push(t.index),o=!0),!a&&(m.ngOnChanges||m.ngDoCheck)&&((n.preOrderCheckHooks??=[]).push(t.index),a=!0),l++}!function A9(n,e,t){const i=e.directiveEnd,s=n.data,o=e.attrs,a=[];let l=null,c=null;for(let p=e.directiveStart;p<i;p++){const m=s[p],w=t?t.get(m):null,D=w?w.outputs:null;l=zR(0,m.inputs,p,l,w?w.inputs:null),c=zR(1,m.outputs,p,c,D);const R=null===l||null===o||tl(e)?null:B9(l,p,o);a.push(R)}null!==l&&(l.hasOwnProperty("class")&&(e.flags|=8),l.hasOwnProperty("style")&&(e.flags|=16)),e.initialInputs=a,e.inputs=l,e.outputs=c}(n,t,s)}function GR(n,e,t){const r=t.directiveStart,i=t.directiveEnd,s=t.index,o=function AI(){return $t.lFrame.currentDirectiveIndex}();try{ul(s);for(let a=r;a<i;a++){const l=n.data[a],c=e[a];mg(a),(null!==l.hostBindings||0!==l.hostVars||null!==l.hostAttrs)&&P9(l,c)}}finally{ul(-1),mg(o)}}function P9(n,e){null!==n.hostBindings&&n.hostBindings(1,e)}function Sb(n,e,t){e.componentOffset=t,(n.components??=[]).push(e.index)}function k9(n,e,t){if(t){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)t[e.exportAs[r]]=n;Hs(e)&&(t[""]=n)}}function F9(n,e,t,r,i){n.data[r]=i;const s=i.factory||(i.factory=$s(i.type)),o=new qc(s,Hs(i),Ze);n.blueprint[r]=o,t[r]=o,function T9(n,e,t,r,i){const s=i.hostBindings;if(s){let o=n.hostBindingOpCodes;null===o&&(o=n.hostBindingOpCodes=[]);const a=~e.index;(function S9(n){let e=n.length;for(;e>0;){const t=n[--e];if("number"==typeof t&&t<0)return t}return 0})(o)!=a&&o.push(a),o.push(t,r,s)}}(n,e,r,Hg(n,t,i.hostVars,Yt),i)}function _a(n,e,t,r,i,s){const o=vi(n,e);!function Rb(n,e,t,r,i,s,o){if(null==s)n.removeAttribute(e,i,t);else{const a=null==o?Lt(s):o(s,r||"",i);n.setAttribute(e,i,a,t)}}(e[jt],o,s,n.value,t,r,i)}function L9(n,e,t,r,i,s){const o=s[e];if(null!==o)for(let a=0;a<o.length;)BR(r,t,o[a++],o[a++],o[a++],o[a++])}function B9(n,e,t){let r=null,i=0;for(;i<t.length;){const s=t[i];if(0!==s)if(5!==s){if("number"==typeof s)break;if(n.hasOwnProperty(s)){null===r&&(r=[]);const o=n[s];for(let a=0;a<o.length;a+=3)if(o[a]===e){r.push(s,o[a+1],o[a+2],t[i+1]);break}}i+=2}else i+=2;else i+=4}return r}function WR(n,e,t,r){return[n,!0,0,e,null,r,null,t,null,null]}function KR(n,e){const t=n.contentQueries;if(null!==t){const r=ce(null);try{for(let i=0;i<t.length;i+=2){const o=t[i+1];if(-1!==o){const a=n.data[o];_g(t[i]),a.contentQueries(2,e[o],o)}}}finally{ce(r)}}}function k_(n,e){return n[Nc]?n[Cy][os]=e:n[Nc]=e,n[Cy]=e,e}function Pb(n,e,t){_g(0);const r=ce(null);try{e(n,t)}finally{ce(r)}}function QR(n){return n[su]||(n[su]=[])}function YR(n){return n.cleanup||(n.cleanup=[])}function O_(n,e){const t=n[Xn],r=t?t.get(qs,null):null;r&&r.handleError(e)}function Mb(n,e,t,r,i){for(let s=0;s<t.length;){const o=t[s++],a=t[s++],l=t[s++];BR(n.data[o],e[o],r,a,l,i)}}function U9(n,e){const t=Mi(e,n),r=t[nt];!function j9(n,e){for(let t=e.length;t<n.blueprint.length;t++)e.push(n.blueprint[t])}(r,t);const i=t[zn];null!==i&&null===t[as]&&(t[as]=tb(i,t[Xn])),Nb(r,t,t[Yn])}function Nb(n,e,t){vg(e);try{const r=n.viewQuery;null!==r&&Pb(1,r,t);const i=n.template;null!==i&&UR(n,e,i,1,t),n.firstCreatePass&&(n.firstCreatePass=!1),e[Oo]?.finishViewCreation(n),n.staticContentQueries&&KR(n,e),n.staticViewQueries&&Pb(2,n.viewQuery,t);const s=n.components;null!==s&&function $9(n,e){for(let t=0;t<e.length;t++)U9(n,e[t])}(e,s)}catch(r){throw n.firstCreatePass&&(n.incompleteFirstPass=!0,n.firstCreatePass=!1),r}finally{e[Ct]&=-5,wg()}}function Kh(n,e){return!e||null===e.firstChild||h_(n)}function Gg(n,e,t,r=!0){const i=e[nt];if(function o9(n,e,t,r){const i=ur+r,s=t.length;r>0&&(t[i-1][os]=e),r<s-ur?(e[os]=t[i],Yl(t,ur+r,e)):(t.push(e),e[os]=null),e[Cr]=t;const o=e[kc];null!==o&&t!==o&&function a9(n,e){const t=n[uu];e[Hn]!==e[Cr][Cr][Hn]&&(n[Ct]|=tg.HasTransplantedViews),null===t?n[uu]=[e]:t.push(e)}(o,e);const a=e[Oo];null!==a&&a.insertView(n),hu(e),e[Ct]|=128}(i,e,n,t),r){const o=Eb(t,n),a=e[jt],l=R_(a,n[mo]);null!==l&&function i9(n,e,t,r,i,s){r[zn]=i,r[si]=e,M_(n,r,t,1,i,s)}(i,n[si],a,e,l,o)}const s=e[as];null!==s&&null!==s.firstChild&&(s.firstChild=null)}function Wg(n,e,t,r,i=!1){for(;null!==t;){const s=e[t.index];null!==s&&r.push(Cn(s)),_i(s)&&JR(s,r);const o=t.type;if(8&o)Wg(n,e,t.child,r);else if(32&o){const a=gb(t,e);let l;for(;l=a();)r.push(l)}else if(16&o){const a=MR(e,t);if(Array.isArray(a))r.push(...a);else{const l=al(e[Hn]);Wg(l[nt],l,a,r,!0)}}t=i?t.projectionNext:t.next}return r}function JR(n,e){for(let t=ur;t<n.length;t++){const r=n[t],i=r[nt].firstChild;null!==i&&Wg(r[nt],r,i,e)}n[mo]!==n[zn]&&e.push(n[mo])}let eP=[];const G9={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{},consumerIsAlwaysLive:!0,consumerMarkedDirty:n=>{$c(n.lView)},consumerOnSignalRead(){this.lView[il]=this}},tP=100;function F_(n,e=!0,t=0){const r=n[zs],i=r.rendererFactory;i.begin?.();try{!function W9(n,e){Ob(n,e);let t=0;for(;hg(n);){if(t===tP)throw new Ae(103,!1);t++,Ob(n,1)}}(n,t)}catch(o){throw e&&O_(n,o),o}finally{i.end?.(),r.inlineEffectRunner?.flush()}}function K9(n,e,t,r){const i=e[Ct];if(!(256&~i))return;e[zs].inlineEffectRunner?.flush(),vg(e);let o=null,a=null;(function Q9(n){return 2!==n.type})(n)&&(a=function z9(n){return n[il]??function H9(n){const e=eP.pop()??Object.create(G9);return e.lView=n,e}(n)}(e),o=function M(n){return n&&(n.nextProducerIndex=0),ce(n)}(a));try{zy(e),function zc(n){return $t.lFrame.bindingIndex=n}(n.bindingStartIndex),null!==t&&UR(n,e,t,2,r);const l=!(3&~i);if(l){const m=n.preOrderCheckHooks;null!==m&&gu(e,m,null)}else{const m=n.preOrderHooks;null!==m&&mu(e,m,0,null),Ig(e,0)}if(function Y9(n){for(let e=k1(n);null!==e;e=O1(e)){if(!(e[Ct]&tg.HasTransplantedViews))continue;const t=e[uu];for(let r=0;r<t.length;r++){pI(t[r])}}}(e),nP(e,0),null!==n.contentQueries&&KR(n,e),l){const m=n.contentCheckHooks;null!==m&&gu(e,m)}else{const m=n.contentHooks;null!==m&&mu(e,m,1),Ig(e,1)}!function m9(n,e){const t=n.hostBindingOpCodes;if(null!==t)try{for(let r=0;r<t.length;r++){const i=t[r];if(i<0)ul(~i);else{const s=i,o=t[++r],a=t[++r];bI(o,s),a(2,e[s])}}}finally{ul(-1)}}(n,e);const c=n.components;null!==c&&iP(e,c,0);const p=n.viewQuery;if(null!==p&&Pb(2,p,r),l){const m=n.viewCheckHooks;null!==m&&gu(e,m)}else{const m=n.viewHooks;null!==m&&mu(e,m,2),Ig(e,2)}if(!0===n.firstUpdatePass&&(n.firstUpdatePass=!1),e[Eh]){for(const m of e[Eh])m();e[Eh]=null}e[Ct]&=-73}catch(l){throw $c(e),l}finally{null!==a&&(function $(n,e){if(ce(e),n&&void 0!==n.producerNode&&void 0!==n.producerIndexOfThis&&void 0!==n.producerLastReadVersion){if(Be(n))for(let t=n.nextProducerIndex;t<n.producerNode.length;t++)Ee(n.producerNode[t],n.producerIndexOfThis[t]);for(;n.producerNode.length>n.nextProducerIndex;)n.producerNode.pop(),n.producerLastReadVersion.pop(),n.producerIndexOfThis.pop()}}(a,o),function q9(n){n.lView[il]!==n&&(n.lView=null,eP.push(n))}(a)),wg()}}function nP(n,e){for(let t=k1(n);null!==t;t=O1(t))for(let r=ur;r<t.length;r++)rP(t[r],e)}function X9(n,e,t){rP(Mi(e,n),t)}function rP(n,e){cg(n)&&Ob(n,e)}function Ob(n,e){const r=n[nt],i=n[Ct],s=n[il];let o=!!(0===e&&16&i);if(o||=!!(64&i&&0===e),o||=!!(1024&i),o||=!(!s?.dirty||!we(s)),s&&(s.dirty=!1),n[Ct]&=-9217,o)K9(r,n,r.template,n[Yn]);else if(8192&i){nP(n,1);const a=r.components;null!==a&&iP(n,a,1)}}function iP(n,e,t){for(let r=0;r<e.length;r++)X9(n,e[r],t)}function Kg(n){for(n[zs].changeDetectionScheduler?.notify();n;){n[Ct]|=64;const e=al(n);if(Vc(n)&&!e)return n;n=e}return null}class Qg{get rootNodes(){const e=this._lView,t=e[nt];return Wg(t,e,t.firstChild,[])}constructor(e,t,r=!0){this._lView=e,this._cdRefInjectingView=t,this.notifyErrorHandler=r,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[Yn]}set context(e){this._lView[Yn]=e}get destroyed(){return!(256&~this._lView[Ct])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const e=this._lView[Cr];if(_i(e)){const t=e[8],r=t?t.indexOf(this):-1;r>-1&&(jg(e,r),Qa(t,r))}this._attachedToViewContainer=!1}S_(this._lView[nt],this._lView)}onDestroy(e){Ah(this._lView,e)}markForCheck(){Kg(this._cdRefInjectingView||this._lView)}detach(){this._lView[Ct]&=-129}reattach(){hu(this._lView),this._lView[Ct]|=128}detectChanges(){this._lView[Ct]|=1024,F_(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new Ae(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,bR(this._lView[nt],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new Ae(902,!1);this._appRef=e,hu(this._lView)}}let gl=(()=>{class n{static#e=this.__NG_ELEMENT_ID__=ej}return n})();const Z9=gl,J9=class extends Z9{constructor(e,t,r){super(),this._declarationLView=e,this._declarationTContainer=t,this.elementRef=r}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(e,t){return this.createEmbeddedViewImpl(e,t)}createEmbeddedViewImpl(e,t,r){const i=function qg(n,e,t,r){const i=ce(null);try{const s=e.tView,l=N_(n,s,t,4096&n[Ct]?4096:16,null,e,null,null,r?.injector??null,r?.embeddedViewInjector??null,r?.dehydratedView??null);l[kc]=n[e.index];const p=n[Oo];return null!==p&&(l[Oo]=p.createEmbeddedView(s)),Nb(s,l,t),l}finally{ce(i)}}(this._declarationLView,this._declarationTContainer,e,{embeddedViewInjector:t,dehydratedView:r});return new Qg(i)}};function ej(){return V_(bn(),Ne())}function V_(n,e){return 4&n.type?new J9(e,n,Uh(n,e)):null}class $_{}class Aj{}class dP{}class xj{resolveComponentFactory(e){throw function Cj(n){const e=Error(`No component factory found for ${Bn(n)}.`);return e.ngComponent=n,e}(e)}}let z_=(()=>{class n{static#e=this.NULL=new xj}return n})();class jb{}let ml=(()=>{class n{constructor(){this.destroyNode=null}static#e=this.__NG_ELEMENT_ID__=()=>function Dj(){const n=Ne(),t=Mi(bn().index,n);return(Qr(t)?t:n)[jt]}()}return n})(),Tj=(()=>{class n{static#e=this.\u0275prov=pt({token:n,providedIn:"root",factory:()=>null})}return n})();const $b={},fP=new Set;function va(n){fP.has(n)||(fP.add(n),performance?.mark?.("mark_feature_usage",{detail:{feature:n}}))}function pP(...n){}class _n{constructor({enableLongStackTrace:e=!1,shouldCoalesceEventChangeDetection:t=!1,shouldCoalesceRunChangeDetection:r=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Tr(!1),this.onMicrotaskEmpty=new Tr(!1),this.onStable=new Tr(!1),this.onError=new Tr(!1),typeof Zone>"u")throw new Ae(908,!1);Zone.assertZonePatched();const i=this;i._nesting=0,i._outer=i._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(i._inner=i._inner.fork(new Zone.TaskTrackingZoneSpec)),e&&Zone.longStackTraceZoneSpec&&(i._inner=i._inner.fork(Zone.longStackTraceZoneSpec)),i.shouldCoalesceEventChangeDetection=!r&&t,i.shouldCoalesceRunChangeDetection=r,i.lastRequestAnimationFrameId=-1,i.nativeRequestAnimationFrame=function Sj(){const n="function"==typeof ft.requestAnimationFrame;let e=ft[n?"requestAnimationFrame":"setTimeout"],t=ft[n?"cancelAnimationFrame":"clearTimeout"];if(typeof Zone<"u"&&e&&t){const r=e[Zone.__symbol__("OriginalDelegate")];r&&(e=r);const i=t[Zone.__symbol__("OriginalDelegate")];i&&(t=i)}return{nativeRequestAnimationFrame:e,nativeCancelAnimationFrame:t}}().nativeRequestAnimationFrame,function Mj(n){const e=()=>{!function Pj(n){n.isCheckStableRunning||-1!==n.lastRequestAnimationFrameId||(n.lastRequestAnimationFrameId=n.nativeRequestAnimationFrame.call(ft,()=>{n.fakeTopEventTask||(n.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{n.lastRequestAnimationFrameId=-1,Hb(n),n.isCheckStableRunning=!0,zb(n),n.isCheckStableRunning=!1},void 0,()=>{},()=>{})),n.fakeTopEventTask.invoke()}),Hb(n))}(n)};n._inner=n._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(t,r,i,s,o,a)=>{if(function Nj(n){return!(!Array.isArray(n)||1!==n.length)&&!0===n[0].data?.__ignore_ng_zone__}(a))return t.invokeTask(i,s,o,a);try{return gP(n),t.invokeTask(i,s,o,a)}finally{(n.shouldCoalesceEventChangeDetection&&"eventTask"===s.type||n.shouldCoalesceRunChangeDetection)&&e(),mP(n)}},onInvoke:(t,r,i,s,o,a,l)=>{try{return gP(n),t.invoke(i,s,o,a,l)}finally{n.shouldCoalesceRunChangeDetection&&e(),mP(n)}},onHasTask:(t,r,i,s)=>{t.hasTask(i,s),r===i&&("microTask"==s.change?(n._hasPendingMicrotasks=s.microTask,Hb(n),zb(n)):"macroTask"==s.change&&(n.hasPendingMacrotasks=s.macroTask))},onHandleError:(t,r,i,s)=>(t.handleError(i,s),n.runOutsideAngular(()=>n.onError.emit(s)),!1)})}(i)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!_n.isInAngularZone())throw new Ae(909,!1)}static assertNotInAngularZone(){if(_n.isInAngularZone())throw new Ae(909,!1)}run(e,t,r){return this._inner.run(e,t,r)}runTask(e,t,r,i){const s=this._inner,o=s.scheduleEventTask("NgZoneEvent: "+i,e,Rj,pP,pP);try{return s.runTask(o,t,r)}finally{s.cancelTask(o)}}runGuarded(e,t,r){return this._inner.runGuarded(e,t,r)}runOutsideAngular(e){return this._outer.run(e)}}const Rj={};function zb(n){if(0==n._nesting&&!n.hasPendingMicrotasks&&!n.isStable)try{n._nesting++,n.onMicrotaskEmpty.emit(null)}finally{if(n._nesting--,!n.hasPendingMicrotasks)try{n.runOutsideAngular(()=>n.onStable.emit(null))}finally{n.isStable=!0}}}function Hb(n){n.hasPendingMicrotasks=!!(n._hasPendingMicrotasks||(n.shouldCoalesceEventChangeDetection||n.shouldCoalesceRunChangeDetection)&&-1!==n.lastRequestAnimationFrameId)}function gP(n){n._nesting++,n.isStable&&(n.isStable=!1,n.onUnstable.emit(null))}function mP(n){n._nesting--,zb(n)}class yP{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Tr,this.onMicrotaskEmpty=new Tr,this.onStable=new Tr,this.onError=new Tr}run(e,t,r){return e.apply(t,r)}runGuarded(e,t,r){return e.apply(t,r)}runOutsideAngular(e){return e()}runTask(e,t,r,i){return e.apply(t,r)}}var Jc=function(n){return n[n.EarlyRead=0]="EarlyRead",n[n.Write=1]="Write",n[n.MixedReadWrite=2]="MixedReadWrite",n[n.Read=3]="Read",n}(Jc||{});const _P={destroy(){}};function Gb(n,e){!e&&function da(n){if(!Ey())throw new Ae(-203,!1)}();const t=e?.injector??qe(an);if(!function Bo(n){return"browser"===(n??qe(an)).get(Lo)}(t))return _P;va("NgAfterNextRender");const r=t.get(em),i=r.handler??=new wP,s=e?.phase??Jc.MixedReadWrite,o=()=>{i.unregister(l),a()},a=t.get(ma).onDestroy(o),l=go(t,()=>new vP(s,()=>{o(),n()}));return i.register(l),{destroy:o}}class vP{constructor(e,t){this.phase=e,this.callbackFn=t,this.zone=qe(_n),this.errorHandler=qe(qs,{optional:!0}),qe($_,{optional:!0})?.notify(1)}invoke(){try{this.zone.runOutsideAngular(this.callbackFn)}catch(e){this.errorHandler?.handleError(e)}}}class wP{constructor(){this.executingCallbacks=!1,this.buckets={[Jc.EarlyRead]:new Set,[Jc.Write]:new Set,[Jc.MixedReadWrite]:new Set,[Jc.Read]:new Set},this.deferredCallbacks=new Set}register(e){(this.executingCallbacks?this.deferredCallbacks:this.buckets[e.phase]).add(e)}unregister(e){this.buckets[e.phase].delete(e),this.deferredCallbacks.delete(e)}execute(){this.executingCallbacks=!0;for(const e of Object.values(this.buckets))for(const t of e)t.invoke();this.executingCallbacks=!1;for(const e of this.deferredCallbacks)this.buckets[e.phase].add(e);this.deferredCallbacks.clear()}destroy(){for(const e of Object.values(this.buckets))e.clear();this.deferredCallbacks.clear()}}let em=(()=>{class n{constructor(){this.handler=null,this.internalCallbacks=[]}execute(){this.executeInternalCallbacks(),this.handler?.execute()}executeInternalCallbacks(){const t=[...this.internalCallbacks];this.internalCallbacks.length=0;for(const r of t)r()}ngOnDestroy(){this.handler?.destroy(),this.handler=null,this.internalCallbacks.length=0}static#e=this.\u0275prov=pt({token:n,providedIn:"root",factory:()=>new n})}return n})();function q_(n,e,t){let r=t?n.styles:null,i=t?n.classes:null,s=0;if(null!==e)for(let o=0;o<e.length;o++){const a=e[o];"number"==typeof a?s=a:1==s?i=In(i,a):2==s&&(r=In(r,a+": "+e[++o]+";"))}t?n.styles=r:n.stylesWithoutHost=r,t?n.classes=i:n.classesWithoutHost=i}class bP extends z_{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){const t=Ht(e);return new rm(t,this.ngModule)}}function AP(n){const e=[];for(const t in n){if(!n.hasOwnProperty(t))continue;const r=n[t];void 0!==r&&e.push({propName:Array.isArray(r)?r[0]:r,templateName:t})}return e}class G_{constructor(e,t){this.injector=e,this.parentInjector=t}get(e,t,r){r=ia(r);const i=this.injector.get(e,$b,r);return i!==$b||t===$b?i:this.parentInjector.get(e,t,r)}}class rm extends dP{get inputs(){const e=this.componentDef,t=e.inputTransforms,r=AP(e.inputs);if(null!==t)for(const i of r)t.hasOwnProperty(i.propName)&&(i.transform=t[i.propName]);return r}get outputs(){return AP(this.componentDef.outputs)}constructor(e,t){super(),this.componentDef=e,this.ngModule=t,this.componentType=e.type,this.selector=function dh(n){return n.map(Tc).join(",")}(e.selectors),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!t}create(e,t,r,i){const s=ce(null);try{let o=(i=i||this.ngModule)instanceof ii?i:i?.injector;o&&null!==this.componentDef.getStandaloneInjector&&(o=this.componentDef.getStandaloneInjector(o)||o);const a=o?new G_(e,o):e,l=a.get(jb,null);if(null===l)throw new Ae(407,!1);const c=a.get(Tj,null),w={rendererFactory:l,sanitizer:c,inlineEffectRunner:null,afterRenderEventManager:a.get(em,null),changeDetectionScheduler:a.get($_,null)},A=l.createRenderer(null,this.componentDef),D=this.componentDef.selectors[0][0]||"div",R=r?function _9(n,e,t,r){const s=r.get(Z1,!1)||t===Is.ShadowDom,o=n.selectRootElement(e,s);return function v9(n){$R(n)}(o),o}(A,r,this.componentDef.encapsulation,a):T_(A,D,function Lj(n){const e=n.toLowerCase();return"svg"===e?"svg":"math"===e?"math":null}(D));let N=512;this.componentDef.signals?N|=4096:this.componentDef.onPush||(N|=16);let ee=null;null!==R&&(ee=tb(R,a,!0));const se=Db(0,null,null,1,0,null,null,null,null,null,null),ge=N_(null,se,null,N,null,null,w,A,a,null,ee);let Oe,et;vg(ge);try{const ot=this.componentDef;let J,j=null;ot.findHostDirectiveDefs?(J=[],j=new Map,ot.findHostDirectiveDefs(ot,J,j),J.push(ot)):J=[ot];const te=function Uj(n,e){const t=n[nt],r=qt;return n[r]=e,Wh(t,r,2,"#host",null)}(ge,R),ue=function jj(n,e,t,r,i,s,o){const a=i[nt];!function $j(n,e,t,r){for(const i of n)e.mergedAttrs=el(e.mergedAttrs,i.hostAttrs);null!==e.mergedAttrs&&(q_(e,e.mergedAttrs,!0),null!==t&&FR(r,t,e))}(r,n,e,o);let l=null;null!==e&&(l=tb(e,i[Xn]));const c=s.rendererFactory.createRenderer(e,t);let p=16;t.signals?p=4096:t.onPush&&(p=64);const m=N_(i,jR(t),null,p,i[n.index],n,s,c,null,null,l);return a.firstCreatePass&&Sb(a,n,r.length-1),k_(i,m),i[n.index]=m}(te,R,ot,J,ge,w,A);et=jc(se,qt),R&&function Hj(n,e,t,r){if(r)Za(n,t,["ng-version","17.3.12"]);else{const{attrs:i,classes:s}=function Sc(n){const e=[],t=[];let r=1,i=2;for(;r<n.length;){let s=n[r];if("string"==typeof s)2===i?""!==s&&e.push(s,n[++r]):8===i&&t.push(s);else{if(!Pi(i))break;i=s}r++}return{attrs:e,classes:t}}(e.selectors[0]);i&&Za(n,t,i),s&&s.length>0&&OR(n,t,s.join(" "))}}(A,ot,R,r),void 0!==t&&function qj(n,e,t){const r=n.projection=[];for(let i=0;i<e.length;i++){const s=t[i];r.push(null!=s?Array.from(s):null)}}(et,this.ngContentSelectors,t),Oe=function zj(n,e,t,r,i,s){const o=bn(),a=i[nt],l=vi(o,i);qR(a,i,o,t,null,r);for(let p=0;p<t.length;p++)$i(dl(i,a,o.directiveStart+p,o),i);GR(a,i,o),l&&$i(l,i);const c=dl(i,a,o.directiveStart+o.componentOffset,o);if(n[Yn]=i[Yn]=c,null!==s)for(const p of s)p(c,e);return Ab(a,o,i),c}(ue,ot,J,j,ge,[Gj]),Nb(se,ge,null)}finally{wg()}return new Bj(this.componentType,Oe,Uh(et,ge),ge,et)}finally{ce(s)}}}class Bj extends Aj{constructor(e,t,r,i,s){super(),this.location=r,this._rootLView=i,this._tNode=s,this.previousInputValues=null,this.instance=t,this.hostView=this.changeDetectorRef=new Qg(i,void 0,!1),this.componentType=e}setInput(e,t){const r=this._tNode.inputs;let i;if(null!==r&&(i=r[e])){if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),t))return;const s=this._rootLView;Mb(s[nt],s,i,e,t),this.previousInputValues.set(e,t),Kg(Mi(this._tNode.index,s))}}get injector(){return new Br(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}}function Gj(){const n=bn();Ph(Ne()[nt],n)}let Uo=(()=>{class n{static#e=this.__NG_ELEMENT_ID__=Wj}return n})();function Wj(){return DP(bn(),Ne())}const Kj=Uo,CP=class extends Kj{constructor(e,t,r){super(),this._lContainer=e,this._hostTNode=t,this._hostLView=r}get element(){return Uh(this._hostTNode,this._hostLView)}get injector(){return new Br(this._hostTNode,this._hostLView)}get parentInjector(){const e=Oh(this._hostTNode,this._hostLView);if(Nh(e)){const t=Wc(e,this._hostLView),r=Gc(e);return new Br(t[nt].data[r+8],t)}return new Br(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){const t=xP(this._lContainer);return null!==t&&t[e]||null}get length(){return this._lContainer.length-ur}createEmbeddedView(e,t,r){let i,s;"number"==typeof r?i=r:null!=r&&(i=r.index,s=r.injector);const a=e.createEmbeddedViewImpl(t||{},s,null);return this.insertImpl(a,i,Kh(this._hostTNode,null)),a}createComponent(e,t,r,i,s){const o=e&&!function Pc(n){return"function"==typeof n}(e);let a;if(o)a=t;else{const D=t||{};a=D.index,r=D.injector,i=D.projectableNodes,s=D.environmentInjector||D.ngModuleRef}const l=o?e:new rm(Ht(e)),c=r||this.parentInjector;if(!s&&null==l.ngModule){const R=(o?c:this.parentInjector).get(ii,null);R&&(s=R)}Ht(l.componentType??{});const A=l.create(c,i,null,s);return this.insertImpl(A.hostView,a,Kh(this._hostTNode,null)),A}insert(e,t){return this.insertImpl(e,t,!0)}insertImpl(e,t,r){const i=e._lView;if(function fI(n){return _i(n[Cr])}(i)){const a=this.indexOf(e);if(-1!==a)this.detach(a);else{const l=i[Cr],c=new CP(l,l[si],l[Cr]);c.detach(c.indexOf(e))}}const s=this._adjustIndex(t),o=this._lContainer;return Gg(o,i,s,r),e.attachToViewContainerRef(),Yl(Qb(o),s,e),e}move(e,t){return this.insert(e,t)}indexOf(e){const t=xP(this._lContainer);return null!==t?t.indexOf(e):-1}remove(e){const t=this._adjustIndex(e,-1),r=jg(this._lContainer,t);r&&(Qa(Qb(this._lContainer),t),S_(r[nt],r))}detach(e){const t=this._adjustIndex(e,-1),r=jg(this._lContainer,t);return r&&null!=Qa(Qb(this._lContainer),t)?new Qg(r):null}_adjustIndex(e,t=0){return e??this.length+t}};function xP(n){return n[8]}function Qb(n){return n[8]||(n[8]=[])}function DP(n,e){let t;const r=e[n.index];return _i(r)?t=r:(t=WR(r,e,null,n),e[n.index]=t,k_(e,t)),TP(t,e,n,r),new CP(t,n,e)}let TP=function RP(n,e,t,r){if(n[mo])return;let i;i=8&t.type?Cn(r):function Qj(n,e){const t=n[jt],r=t.createComment(""),i=vi(e,n);return Zc(t,R_(t,i),r,function d9(n,e){return n.nextSibling(e)}(t,i),!1),r}(e,t),n[mo]=i},Yb=()=>!1;class Xb{constructor(e){this.queryList=e,this.matches=null}clone(){return new Xb(this.queryList)}setDirty(){this.queryList.setDirty()}}class Zb{constructor(e=[]){this.queries=e}createEmbeddedView(e){const t=e.queries;if(null!==t){const r=null!==e.contentQueries?e.contentQueries[0]:t.length,i=[];for(let s=0;s<r;s++){const o=t.getByIndex(s);i.push(this.queries[o.indexInDeclarationView].clone())}return new Zb(i)}return null}insertView(e){this.dirtyQueriesWithMatches(e)}detachView(e){this.dirtyQueriesWithMatches(e)}finishViewCreation(e){this.dirtyQueriesWithMatches(e)}dirtyQueriesWithMatches(e){for(let t=0;t<this.queries.length;t++)null!==rA(e,t).matches&&this.queries[t].setDirty()}}class PP{constructor(e,t,r=null){this.flags=t,this.read=r,this.predicate="string"==typeof e?function r$(n){return n.split(",").map(e=>e.trim())}(e):e}}class Jb{constructor(e=[]){this.queries=e}elementStart(e,t){for(let r=0;r<this.queries.length;r++)this.queries[r].elementStart(e,t)}elementEnd(e){for(let t=0;t<this.queries.length;t++)this.queries[t].elementEnd(e)}embeddedTView(e){let t=null;for(let r=0;r<this.length;r++){const i=null!==t?t.length:0,s=this.getByIndex(r).embeddedTView(e,i);s&&(s.indexInDeclarationView=r,null!==t?t.push(s):t=[s])}return null!==t?new Jb(t):null}template(e,t){for(let r=0;r<this.queries.length;r++)this.queries[r].template(e,t)}getByIndex(e){return this.queries[e]}get length(){return this.queries.length}track(e){this.queries.push(e)}}class eA{constructor(e,t=-1){this.metadata=e,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=t}elementStart(e,t){this.isApplyingToNode(t)&&this.matchTNode(e,t)}elementEnd(e){this._declarationNodeIndex===e.index&&(this._appliesToNextNode=!1)}template(e,t){this.elementStart(e,t)}embeddedTView(e,t){return this.isApplyingToNode(e)?(this.crossesNgTemplate=!0,this.addMatch(-e.index,t),new eA(this.metadata)):null}isApplyingToNode(e){if(this._appliesToNextNode&&1&~this.metadata.flags){const t=this._declarationNodeIndex;let r=e.parent;for(;null!==r&&8&r.type&&r.index!==t;)r=r.parent;return t===(null!==r?r.index:-1)}return this._appliesToNextNode}matchTNode(e,t){const r=this.metadata.predicate;if(Array.isArray(r))for(let i=0;i<r.length;i++){const s=r[i];this.matchTNodeWithReadOption(e,t,Jj(t,s)),this.matchTNodeWithReadOption(e,t,Fh(t,e,s,!1,!1))}else r===gl?4&t.type&&this.matchTNodeWithReadOption(e,t,-1):this.matchTNodeWithReadOption(e,t,Fh(t,e,r,!1,!1))}matchTNodeWithReadOption(e,t,r){if(null!==r){const i=this.metadata.read;if(null!==i)if(i===Gs||i===Uo||i===gl&&4&t.type)this.addMatch(t.index,-2);else{const s=Fh(t,e,i,!1,!1);null!==s&&this.addMatch(t.index,s)}else this.addMatch(t.index,r)}}addMatch(e,t){null===this.matches?this.matches=[e,t]:this.matches.push(e,t)}}function Jj(n,e){const t=n.localNames;if(null!==t)for(let r=0;r<t.length;r+=2)if(t[r]===e)return t[r+1];return null}function t$(n,e,t,r){return-1===t?function e$(n,e){return 11&n.type?Uh(n,e):4&n.type?V_(n,e):null}(e,n):-2===t?function n$(n,e,t){return t===Gs?Uh(e,n):t===gl?V_(e,n):t===Uo?DP(e,n):void 0}(n,e,r):dl(n,n[nt],t,e)}function MP(n,e,t,r){const i=e[Oo].queries[r];if(null===i.matches){const s=n.data,o=t.matches,a=[];for(let l=0;null!==o&&l<o.length;l+=2){const c=o[l];a.push(c<0?null:t$(e,s[c],o[l+1],t.metadata.read))}i.matches=a}return i.matches}function tA(n,e,t,r){const i=n.queries.getByIndex(t),s=i.matches;if(null!==s){const o=MP(n,e,i,t);for(let a=0;a<s.length;a+=2){const l=s[a];if(l>0)r.push(o[a/2]);else{const c=s[a+1],p=e[-l];for(let m=ur;m<p.length;m++){const w=p[m];w[kc]===w[Cr]&&tA(w[nt],w,c,r)}if(null!==p[uu]){const m=p[uu];for(let w=0;w<m.length;w++){const A=m[w];tA(A[nt],A,c,r)}}}}}return r}function kP(n,e,t){const r=on();return r.firstCreatePass&&(function FP(n,e,t){null===n.queries&&(n.queries=new Jb),n.queries.track(new eA(e,t))}(r,new PP(n,e,t),-1),!(2&~e)&&(r.staticViewQueries=!0)),function NP(n,e,t){const r=new zI(!(4&~t));return function I9(n,e,t,r){const i=QR(e);i.push(t),n.firstCreatePass&&YR(n).push(r,i.length-1)}(n,e,r,r.destroy),(e[Oo]??=new Zb).queries.push(new Xb(r))-1}(r,Ne(),e)}function rA(n,e){return n.queries.getByIndex(e)}function VP(n,e){const t=n[nt],r=rA(t,e);return r.crossesNgTemplate?tA(t,n,e,[]):MP(t,n,r,e)}function Un(n){let e=function XP(n){return Object.getPrototypeOf(n.prototype).constructor}(n.type),t=!0;const r=[n];for(;e;){let i;if(Hs(n))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new Ae(903,!1);i=e.\u0275dir}if(i){if(t){r.push(i);const o=n;o.inputs=K_(n.inputs),o.inputTransforms=K_(n.inputTransforms),o.declaredInputs=K_(n.declaredInputs),o.outputs=K_(n.outputs);const a=i.hostBindings;a&&v$(n,a);const l=i.viewQuery,c=i.contentQueries;if(l&&y$(n,l),c&&_$(n,c),g$(n,i),pi(n.outputs,i.outputs),Hs(i)&&i.data.animation){const p=n.data;p.animation=(p.animation||[]).concat(i.data.animation)}}const s=i.features;if(s)for(let o=0;o<s.length;o++){const a=s[o];a&&a.ngInherit&&a(n),a===Un&&(t=!1)}}e=Object.getPrototypeOf(e)}!function m$(n){let e=0,t=null;for(let r=n.length-1;r>=0;r--){const i=n[r];i.hostVars=e+=i.hostVars,i.hostAttrs=el(i.hostAttrs,t=el(t,i.hostAttrs))}}(r)}function g$(n,e){for(const t in e.inputs){if(!e.inputs.hasOwnProperty(t)||n.inputs.hasOwnProperty(t))continue;const r=e.inputs[t];if(void 0!==r&&(n.inputs[t]=r,n.declaredInputs[t]=e.declaredInputs[t],null!==e.inputTransforms)){const i=Array.isArray(r)?r[0]:r;if(!e.inputTransforms.hasOwnProperty(i))continue;n.inputTransforms??={},n.inputTransforms[i]=e.inputTransforms[i]}}}function K_(n){return n===Ri?{}:n===sn?[]:n}function y$(n,e){const t=n.viewQuery;n.viewQuery=t?(r,i)=>{e(r,i),t(r,i)}:e}function _$(n,e){const t=n.contentQueries;n.contentQueries=t?(r,i,s)=>{e(r,i,s),t(r,i,s)}:e}function v$(n,e){const t=n.hostBindings;n.hostBindings=t?(r,i)=>{e(r,i),t(r,i)}:e}class ed{}class nM{}class sA extends ed{constructor(e,t,r){super(),this._parent=t,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new bP(this);const i=Kr(e);this._bootstrapComponents=Ws(i.bootstrap),this._r3Injector=_t(e,t,[{provide:ed,useValue:this},{provide:z_,useValue:this.componentFactoryResolver},...r],Bn(e),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(e)}get injector(){return this._r3Injector}destroy(){const e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(t=>t()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}}class oA extends nM{constructor(e){super(),this.moduleType=e}create(e){return new sA(this.moduleType,e,[])}}class rM extends ed{constructor(e){super(),this.componentFactoryResolver=new bP(this),this.instance=null;const t=new ca([...e.providers,{provide:ed,useValue:this},{provide:z_,useValue:this.componentFactoryResolver}],e.parent||mh(),e.debugName,new Set(["environment"]));this.injector=t,e.runEnvironmentInitializers&&t.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}}function Q_(n,e,t=null){return new rM({providers:n,parent:e,debugName:t,runEnvironmentInitializers:!0}).injector}let bu=(()=>{class n{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new Z(!1)}get _hasPendingTasks(){return this.hasPendingTasks.value}add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);const t=this.taskId++;return this.pendingTasks.add(t),t}remove(t){this.pendingTasks.delete(t),0===this.pendingTasks.size&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=pt({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function Ur(n,e,t){return!Object.is(n[e],t)&&(n[e]=t,!0)}function Xh(n,e,t,r,i,s,o,a){const l=Ne(),c=on(),p=n+qt,m=c.firstCreatePass?function M$(n,e,t,r,i,s,o,a,l){const c=e.consts,p=Wh(e,n,4,o||null,xs(c,a));Tb(e,t,p,xs(c,l)),Ph(e,p);const m=p.tView=Db(2,p,r,i,s,e.directiveRegistry,e.pipeRegistry,null,e.schemas,c,null);return null!==e.queries&&(e.queries.template(e,p),m.queries=e.queries.embeddedTView(p)),p}(p,c,l,e,t,r,i,s,o):c.data[p];_o(m,!1);const w=iM(c,l,m,n);pu()&&P_(c,l,w,m),$i(w,l);const A=WR(w,l,w,m);return l[p]=A,k_(l,A),function SP(n,e,t){return Yb(n,e,t)}(A,m,l),cu(m)&&Cb(c,l,m),null!=o&&xb(l,m,a),Xh}let iM=function sM(n,e,t,r){return Ts(!0),e[jt].createComment("")};function Ea(n,e,t,r){const i=Ne();return Ur(i,Ds(),e)&&(on(),_a(qn(),i,n,e,t,r)),Ea}function iv(n,e){return n<<17|e<<2}function Cu(n){return n>>17&32767}function yA(n){return 2|n}function rd(n){return(131068&n)>>2}function _A(n,e){return-131069&n|e<<2}function vA(n){return 1|n}function FM(n,e,t,r){const i=n[t+1],s=null===e;let o=r?Cu(i):rd(i),a=!1;for(;0!==o&&(!1===a||s);){const c=n[o+1];_7(n[o],e)&&(a=!0,n[o+1]=r?vA(c):yA(c)),o=r?Cu(c):rd(c)}a&&(n[t+1]=r?yA(i):vA(i))}function _7(n,e){return null===n||null==e||(Array.isArray(n)?n[1]:n)===e||!(!Array.isArray(n)||"string"!=typeof e)&&ss(n,e)>=0}function id(n,e,t){const r=Ne();return Ur(r,Ds(),e)&&function Ps(n,e,t,r,i,s,o,a){const l=vi(e,t);let p,c=e.inputs;!a&&null!=c&&(p=c[r])?(Mb(n,t,p,r,i),yo(e)&&function x9(n,e){const t=Mi(e,n);16&t[Ct]||(t[Ct]|=64)}(t,e.index)):3&e.type&&(r=function C9(n){return"class"===n?"className":"for"===n?"htmlFor":"formaction"===n?"formAction":"innerHtml"===n?"innerHTML":"readonly"===n?"readOnly":"tabindex"===n?"tabIndex":n}(r),i=null!=o?o(i,e.value||"",r):i,s.setProperty(l,r,i))}(on(),qn(),r,n,e,r[jt],t,!1),id}function wA(n,e,t,r,i){const o=i?"class":"style";Mb(n,t,e.inputs[o],o,r)}function yl(n,e){return function jo(n,e,t,r){const i=Ne(),s=on(),o=function wo(n){const e=$t.lFrame,t=e.bindingIndex;return e.bindingIndex=e.bindingIndex+n,t}(2);s.firstUpdatePass&&function qM(n,e,t,r){const i=n.data;if(null===i[t+1]){const s=i[Yr()],o=function HM(n,e){return e>=n.expandoStartIndex}(n,t);(function QM(n,e){return!!(n.flags&(e?8:16))})(s,r)&&null===e&&!o&&(e=!1),e=function D7(n,e,t,r){const i=function Th(n){const e=$t.lFrame.currentDirectiveIndex;return-1===e?null:n[e]}(n);let s=r?e.residualClasses:e.residualStyles;if(null===i)0===(r?e.classBindings:e.styleBindings)&&(t=cm(t=EA(null,n,e,t,r),e.attrs,r),s=null);else{const o=e.directiveStylingLast;if(-1===o||n[o]!==i)if(t=EA(i,n,e,t,r),null===s){let l=function T7(n,e,t){const r=t?e.classBindings:e.styleBindings;if(0!==rd(r))return n[Cu(r)]}(n,e,r);void 0!==l&&Array.isArray(l)&&(l=EA(null,n,e,l[1],r),l=cm(l,e.attrs,r),function S7(n,e,t,r){n[Cu(t?e.classBindings:e.styleBindings)]=r}(n,e,r,l))}else s=function R7(n,e,t){let r;const i=e.directiveEnd;for(let s=1+e.directiveStylingLast;s<i;s++)r=cm(r,n[s].hostAttrs,t);return cm(r,e.attrs,t)}(n,e,r)}return void 0!==s&&(r?e.residualClasses=s:e.residualStyles=s),t}(i,s,e,r),function m7(n,e,t,r,i,s){let o=s?e.classBindings:e.styleBindings,a=Cu(o),l=rd(o);n[r]=t;let p,c=!1;if(Array.isArray(t)?(p=t[1],(null===p||ss(t,p)>0)&&(c=!0)):p=t,i)if(0!==l){const w=Cu(n[a+1]);n[r+1]=iv(w,a),0!==w&&(n[w+1]=_A(n[w+1],r)),n[a+1]=function p7(n,e){return 131071&n|e<<17}(n[a+1],r)}else n[r+1]=iv(a,0),0!==a&&(n[a+1]=_A(n[a+1],r)),a=r;else n[r+1]=iv(l,0),0===a?a=r:n[l+1]=_A(n[l+1],r),l=r;c&&(n[r+1]=yA(n[r+1])),FM(n,p,r,!0),FM(n,p,r,!1),function y7(n,e,t,r,i){const s=i?n.residualClasses:n.residualStyles;null!=s&&"string"==typeof e&&ss(s,e)>=0&&(t[r+1]=vA(t[r+1]))}(e,p,n,r,s),o=iv(a,l),s?e.classBindings=o:e.styleBindings=o}(i,s,e,t,o,r)}}(s,n,o,r),e!==Yt&&Ur(i,o,e)&&function WM(n,e,t,r,i,s,o,a){if(!(3&e.type))return;const l=n.data,c=l[a+1],p=function g7(n){return!(1&~n)}(c)?KM(l,e,t,i,rd(c),o):void 0;sv(p)||(sv(s)||function f7(n){return!(2&~n)}(c)&&(s=KM(l,null,t,i,a,o)),function p9(n,e,t,r,i){if(e)i?n.addClass(t,r):n.removeClass(t,r);else{let s=-1===r.indexOf("-")?void 0:wu.DashCase;null==i?n.removeStyle(t,r,s):("string"==typeof i&&i.endsWith("!important")&&(i=i.slice(0,-10),s|=wu.Important),n.setStyle(t,r,i,s))}}(r,o,function du(n,e){return Cn(e[n])}(Yr(),t),i,s))}(s,s.data[Yr()],i,i[jt],n,i[o+1]=function k7(n,e){return null==n||""===n||("string"==typeof e?n+=e:"object"==typeof n&&(n=Bn(function vu(n){return n instanceof rR?n.changingThisBreaksApplicationSecurity:n}(n)))),n}(e,t),r,o)}(n,e,null,!0),yl}function EA(n,e,t,r,i){let s=null;const o=t.directiveEnd;let a=t.directiveStylingLast;for(-1===a?a=t.directiveStart:a++;a<o&&(s=e[a],r=cm(r,s.hostAttrs,i),s!==n);)a++;return null!==n&&(t.directiveStylingLast=a),r}function cm(n,e,t){const r=t?1:2;let i=-1;if(null!==e)for(let s=0;s<e.length;s++){const o=e[s];"number"==typeof o?i=o:i===r&&(Array.isArray(n)||(n=void 0===n?[]:["",n]),Si(n,o,!!t||e[++s]))}return void 0===n?null:n}function KM(n,e,t,r,i,s){const o=null===e;let a;for(;i>0;){const l=n[i],c=Array.isArray(l),p=c?l[1]:l,m=null===p;let w=t[i+1];w===Yt&&(w=m?sn:void 0);let A=m?Ya(w,r):p===r?w:void 0;if(c&&!sv(A)&&(A=Ya(l,r)),sv(A)&&(a=A,o))return a;const D=n[i+1];i=o?Cu(D):rd(D)}if(null!==e){let l=s?e.residualClasses:e.residualStyles;null!=l&&(a=Ya(l,r))}return a}function sv(n){return void 0!==n}function Ge(n,e,t,r){const i=Ne(),s=on(),o=qt+n,a=i[jt],l=s.firstCreatePass?function rz(n,e,t,r,i,s){const o=e.consts,l=Wh(e,n,2,r,xs(o,i));return Tb(e,t,l,xs(o,s)),null!==l.attrs&&q_(l,l.attrs,!1),null!==l.mergedAttrs&&q_(l,l.mergedAttrs,!0),null!==e.queries&&e.queries.elementStart(e,l),l}(o,s,i,e,t,r):s.data[o],c=JM(s,i,l,a,e,n);i[o]=c;const p=cu(l);return _o(l,!0),FR(a,c,l),!function om(n){return!(32&~n.flags)}(l)&&pu()&&P_(s,i,c,l),0===function gI(){return $t.lFrame.elementDepthCount}()&&$i(c,i),function pg(){$t.lFrame.elementDepthCount++}(),p&&(Cb(s,i,l),Ab(s,l,i)),null!==r&&xb(i,l),Ge}function ze(){let n=bn();xh()?function Dh(){$t.lFrame.isParent=!1}():(n=n.parent,_o(n,!1));const e=n;(function yI(n){return $t.skipHydrationRootTNode===n})(e)&&function wI(){$t.skipHydrationRootTNode=null}(),function mI(){$t.lFrame.elementDepthCount--}();const t=on();return t.firstCreatePass&&(Ph(t,n),Fc(n)&&t.queries.elementEnd(n)),null!=e.classesWithoutHost&&function NI(n){return!!(8&n.flags)}(e)&&wA(t,e,Ne(),e.classesWithoutHost,!0),null!=e.stylesWithoutHost&&function kI(n){return!!(16&n.flags)}(e)&&wA(t,e,Ne(),e.stylesWithoutHost,!1),ze}function Zn(n,e,t,r){return Ge(n,e,t,r),ze(),Zn}let JM=(n,e,t,r,i,s)=>(Ts(!0),T_(r,i,function Zy(){return $t.lFrame.currentNamespace}()));const yf="en-US";let aN=yf;function Xr(n,e,t,r){const i=Ne(),s=on(),o=bn();return function RA(n,e,t,r,i,s,o){const a=cu(r),c=n.firstCreatePass&&YR(n),p=e[Yn],m=QR(e);let w=!0;if(3&r.type||o){const R=vi(r,e),N=o?o(R):R,ee=m.length,se=o?Oe=>o(Cn(Oe[r.index])):r.index;let ge=null;if(!o&&a&&(ge=function aH(n,e,t,r){const i=n.cleanup;if(null!=i)for(let s=0;s<i.length-1;s+=2){const o=i[s];if(o===t&&i[s+1]===r){const a=e[su],l=i[s+2];return a.length>l?a[l]:null}"string"==typeof o&&(s+=2)}return null}(n,e,i,r.index)),null!==ge)(ge.__ngLastListenerFn__||ge).__ngNextListenerFn__=s,ge.__ngLastListenerFn__=s,w=!1;else{s=ON(r,e,p,s,!1);const Oe=t.listen(N,i,s);m.push(s,Oe),c&&c.push(i,se,ee,ee+1)}}else s=ON(r,e,p,s,!1);const A=r.outputs;let D;if(w&&null!==A&&(D=A[i])){const R=D.length;if(R)for(let N=0;N<R;N+=2){const et=e[D[N]][D[N+1]].subscribe(s),ot=m.length;m.push(s,et),c&&c.push(i,r.index,ot,-(ot+1))}}}(s,i,i[jt],o,n,e,r),Xr}function kN(n,e,t,r){const i=ce(null);try{return Cs(6,e,t),!1!==t(r)}catch(s){return O_(n,s),!1}finally{Cs(7,e,t),ce(i)}}function ON(n,e,t,r,i){return function s(o){if(o===Function)return r;Kg(n.componentOffset>-1?Mi(n.index,e):e);let l=kN(e,t,r,o),c=s.__ngNextListenerFn__;for(;c;)l=kN(e,t,c,o)&&l,c=c.__ngNextListenerFn__;return i&&!1===l&&o.preventDefault(),l}}function FN(n=1){return function xI(n){return($t.lFrame.contextLView=function dg(n,e){for(;n>0;)e=e[ou],n--;return e}(n,$t.lFrame.contextLView))[Yn]}(n)}function NA(){return function nA(n,e){return n[Oo].queries[e].queryList}(Ne(),yg())}function Ye(n,e=""){const t=Ne(),r=on(),i=n+qt,s=r.firstCreatePass?Wh(r,i,1,e,null):r.data[i],o=r2(r,t,s,e,n);t[i]=o,pu()&&P_(r,t,o,s),_o(s,!1)}let r2=(n,e,t,r,i)=>(Ts(!0),function mb(n,e){return n.createText(e)}(e[jt],r));function OA(n,e,t,r,i){if(n=Mt(n),Array.isArray(n))for(let s=0;s<n.length;s++)OA(n[s],e,t,r,i);else{const s=on(),o=Ne(),a=bn();let l=ko(n)?n:Mt(n.provide);const c=wy(n),p=1048575&a.providerIndexes,m=a.directiveStart,w=a.providerIndexes>>20;if(ko(n)||!n.multi){const A=new qc(c,i,Ze),D=VA(l,e,i?p:p+w,m);-1===D?(Qc(wi(a,o),s,l),FA(s,n,e.length),e.push(l),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),t.push(A),o.push(A)):(t[D]=A,o[D]=A)}else{const A=VA(l,e,p+w,m),D=VA(l,e,p,p+w),N=D>=0&&t[D];if(i&&!N||!i&&!(A>=0&&t[A])){Qc(wi(a,o),s,l);const ee=function PH(n,e,t,r,i){const s=new qc(n,t,Ze);return s.multi=[],s.index=e,s.componentProviders=0,g2(s,i,r&&!t),s}(i?RH:SH,t.length,i,r,c);!i&&N&&(t[D].providerFactory=ee),FA(s,n,e.length,0),e.push(l),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),t.push(ee),o.push(ee)}else FA(s,n,A>-1?A:D,g2(t[i?D:A],c,!i&&r));!i&&r&&N&&t[D].componentProviders++}}}function FA(n,e,t,r){const i=ko(e),s=function rI(n){return!!n.useClass}(e);if(i||s){const l=(s?Mt(e.useClass):e).prototype.ngOnDestroy;if(l){const c=n.destroyHooks||(n.destroyHooks=[]);if(!i&&e.multi){const p=c.indexOf(t);-1===p?c.push(t,[r,l]):c[p+1].push(r,l)}else c.push(t,l)}}}function g2(n,e,t){return t&&n.componentProviders++,n.multi.push(e)-1}function VA(n,e,t,r){for(let i=t;i<r;i++)if(e[i]===n)return i;return-1}function SH(n,e,t,r){return LA(this.multi,[])}function RH(n,e,t,r){const i=this.multi;let s;if(this.providerFactory){const o=this.providerFactory.componentProviders,a=dl(t,t[nt],this.providerFactory.index,r);s=a.slice(0,o),LA(i,s);for(let l=o;l<a.length;l++)s.push(a[l])}else s=[],LA(i,s);return s}function LA(n,e){for(let t=0;t<n.length;t++)e.push((0,n[t])());return e}function _r(n,e=[]){return t=>{t.providersResolver=(r,i)=>function TH(n,e,t){const r=on();if(r.firstCreatePass){const i=Hs(n);OA(t,r.data,r.blueprint,i,!0),OA(e,r.data,r.blueprint,i,!1)}}(r,i?i(n):n,e)}}let MH=(()=>{class n{constructor(t){this._injector=t,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(t){if(!t.standalone)return null;if(!this.cachedInjectors.has(t)){const r=gt(0,t.type),i=r.length>0?Q_([r],this._injector,`Standalone[${t.type.name}]`):null;this.cachedInjectors.set(t,i)}return this.cachedInjectors.get(t)}ngOnDestroy(){try{for(const t of this.cachedInjectors.values())null!==t&&t.destroy()}finally{this.cachedInjectors.clear()}}static#e=this.\u0275prov=pt({token:n,providedIn:"environment",factory:()=>new n(We(ii))})}return n})();function m2(n){va("NgStandalone"),n.getStandaloneInjector=e=>e.get(MH).getOrCreateStandaloneInjector(n)}class wf{constructor(e){this.full=e;const t=e.split(".");this.major=t[0],this.minor=t[1],this.patch=t.slice(2).join(".")}}const wq=new wf("17.3.12");let L2=(()=>{class n{log(t){console.log(t)}warn(t){console.warn(t)}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=pt({token:n,factory:n.\u0275fac,providedIn:"platform"})}return n})();const z2=new Qe(""),fv=new Qe("");let GA,HA=(()=>{class n{constructor(t,r,i){this._ngZone=t,this.registry=r,this._pendingCount=0,this._isZoneStable=!0,this._callbacks=[],this.taskTrackingZone=null,GA||(function Gq(n){GA=n}(i),i.addToWindow(r)),this._watchAngularEvents(),t.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{_n.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;0!==this._callbacks.length;){let t=this._callbacks.pop();clearTimeout(t.timeoutId),t.doneCb()}});else{let t=this.getPendingTasks();this._callbacks=this._callbacks.filter(r=>!r.updateCb||!r.updateCb(t)||(clearTimeout(r.timeoutId),!1))}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(t=>({source:t.source,creationLocation:t.creationLocation,data:t.data})):[]}addCallback(t,r,i){let s=-1;r&&r>0&&(s=setTimeout(()=>{this._callbacks=this._callbacks.filter(o=>o.timeoutId!==s),t()},r)),this._callbacks.push({doneCb:t,timeoutId:s,updateCb:i})}whenStable(t,r,i){if(i&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(t,r,i),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(t){this.registry.registerApplication(t,this)}unregisterApplication(t){this.registry.unregisterApplication(t)}findProviders(t,r,i){return[]}static#e=this.\u0275fac=function(r){return new(r||n)(We(_n),We(qA),We(fv))};static#t=this.\u0275prov=pt({token:n,factory:n.\u0275fac})}return n})(),qA=(()=>{class n{constructor(){this._applications=new Map}registerApplication(t,r){this._applications.set(t,r)}unregisterApplication(t){this._applications.delete(t)}unregisterAllApplications(){this._applications.clear()}getTestability(t){return this._applications.get(t)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(t,r=!0){return GA?.findTestabilityInTree(this,t,r)??null}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=pt({token:n,factory:n.\u0275fac,providedIn:"platform"})}return n})();function Em(n){return!!n&&"function"==typeof n.then}function H2(n){return!!n&&"function"==typeof n.subscribe}const WA=new Qe("");let KA=(()=>{class n{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((t,r)=>{this.resolve=t,this.reject=r}),this.appInits=qe(WA,{optional:!0})??[]}runInitializers(){if(this.initialized)return;const t=[];for(const i of this.appInits){const s=i();if(Em(s))t.push(s);else if(H2(s)){const o=new Promise((a,l)=>{s.subscribe({complete:a,error:l})});t.push(o)}}const r=()=>{this.done=!0,this.resolve()};Promise.all(t).then(()=>{r()}).catch(i=>{this.reject(i)}),0===t.length&&r(),this.initialized=!0}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=pt({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();const QA=new Qe("");function W2(n,e){return Array.isArray(e)?e.reduce(W2,n):{...n,...e}}let xu=(()=>{class n{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=qe(Pg),this.afterRenderEffectManager=qe(em),this.externalTestViews=new Set,this.beforeRender=new Q,this.afterTick=new Q,this.componentTypes=[],this.components=[],this.isStable=qe(bu).hasPendingTasks.pipe(mt(t=>!t)),this._injector=qe(ii)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(t,r){const i=t instanceof dP;if(!this._injector.get(KA).done)throw!i&&function fo(n){const e=Ht(n)||mr(n)||Lr(n);return null!==e&&e.standalone}(t),new Ae(405,!1);let o;o=i?t:this._injector.get(z_).resolveComponentFactory(t),this.componentTypes.push(o.componentType);const a=function Wq(n){return n.isBoundToModule}(o)?void 0:this._injector.get(ed),c=o.create(an.NULL,[],r||o.selector,a),p=c.location.nativeElement,m=c.injector.get(z2,null);return m?.registerApplication(p),c.onDestroy(()=>{this.detachView(c.hostView),pv(this.components,c),m?.unregisterApplication(p)}),this._loadComponent(c),c}tick(){this._tick(!0)}_tick(t){if(this._runningTick)throw new Ae(101,!1);const r=ce(null);try{this._runningTick=!0,this.detectChangesInAttachedViews(t)}catch(i){this.internalErrorHandler(i)}finally{this.afterTick.next(),this._runningTick=!1,ce(r)}}detectChangesInAttachedViews(t){let r=0;const i=this.afterRenderEffectManager;for(;;){if(r===tP)throw new Ae(103,!1);if(t){const s=0===r;this.beforeRender.next(s);for(let{_lView:o,notifyErrorHandler:a}of this._views)Qq(o,s,a)}if(r++,i.executeInternalCallbacks(),![...this.externalTestViews.keys(),...this._views].some(({_lView:s})=>YA(s))&&(i.execute(),![...this.externalTestViews.keys(),...this._views].some(({_lView:s})=>YA(s))))break}}attachView(t){const r=t;this._views.push(r),r.attachToAppRef(this)}detachView(t){const r=t;pv(this._views,r),r.detachFromAppRef()}_loadComponent(t){this.attachView(t.hostView),this.tick(),this.components.push(t);const r=this._injector.get(QA,[]);[...this._bootstrapListeners,...r].forEach(i=>i(t))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(t=>t()),this._views.slice().forEach(t=>t.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(t){return this._destroyListeners.push(t),()=>pv(this._destroyListeners,t)}destroy(){if(this._destroyed)throw new Ae(406,!1);const t=this._injector;t.destroy&&!t.destroyed&&t.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=pt({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function pv(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}function Qq(n,e,t){!e&&!YA(n)||function Yq(n,e,t){let r;t?(r=0,n[Ct]|=1024):r=64&n[Ct]?0:1,F_(n,e,r)}(n,t,e)}function YA(n){return hg(n)}class Xq{constructor(e,t){this.ngModuleFactory=e,this.componentFactories=t}}let K2=(()=>{class n{compileModuleSync(t){return new oA(t)}compileModuleAsync(t){return Promise.resolve(this.compileModuleSync(t))}compileModuleAndAllComponentsSync(t){const r=this.compileModuleSync(t),s=Ws(Kr(t).declarations).reduce((o,a)=>{const l=Ht(a);return l&&o.push(new rm(l)),o},[]);return new Xq(r,s)}compileModuleAndAllComponentsAsync(t){return Promise.resolve(this.compileModuleAndAllComponentsSync(t))}clearCache(){}clearCacheFor(t){}getModuleId(t){}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=pt({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),eG=(()=>{class n{constructor(){this.zone=qe(_n),this.applicationRef=qe(xu)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=pt({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function tG(){const n=qe(_n),e=qe(qs);return t=>n.runOutsideAngular(()=>e.handleError(t))}let rG=(()=>{class n{constructor(){this.subscription=new zt,this.initialized=!1,this.zone=qe(_n),this.pendingTasks=qe(bu)}initialize(){if(this.initialized)return;this.initialized=!0;let t=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(t=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{_n.assertNotInAngularZone(),queueMicrotask(()=>{null!==t&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(t),t=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{_n.assertInAngularZone(),t??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=pt({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();const _l=new Qe("",{providedIn:"root",factory:()=>qe(_l,Jt.Optional|Jt.SkipSelf)||function iG(){return typeof $localize<"u"&&$localize.locale||yf}()}),XA=new Qe("");let Z2=(()=>{class n{constructor(t){this._injector=t,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(t,r){const i=function kj(n="zone.js",e){return"noop"===n?new yP:"zone.js"===n?new _n(e):n}(r?.ngZone,function X2(n){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:n?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:n?.runCoalescing??!1}}({eventCoalescing:r?.ngZoneEventCoalescing,runCoalescing:r?.ngZoneRunCoalescing}));return i.run(()=>{const s=function x$(n,e,t){return new sA(n,e,t)}(t.moduleType,this.injector,function Y2(n){return[{provide:_n,useFactory:n},{provide:Es,multi:!0,useFactory:()=>{const e=qe(eG,{optional:!0});return()=>e.initialize()}},{provide:Es,multi:!0,useFactory:()=>{const e=qe(rG);return()=>{e.initialize()}}},{provide:Pg,useFactory:tG}]}(()=>i)),o=s.injector.get(qs,null);return i.runOutsideAngular(()=>{const a=i.onError.subscribe({next:l=>{o.handleError(l)}});s.onDestroy(()=>{pv(this._modules,s),a.unsubscribe()})}),function G2(n,e,t){try{const r=t();return Em(r)?r.catch(i=>{throw e.runOutsideAngular(()=>n.handleError(i)),i}):r}catch(r){throw e.runOutsideAngular(()=>n.handleError(r)),r}}(o,i,()=>{const a=s.injector.get(KA);return a.runInitializers(),a.donePromise.then(()=>(function lN(n){"string"==typeof n&&(aN=n.toLowerCase().replace(/_/g,"-"))}(s.injector.get(_l,yf)||yf),this._moduleDoBootstrap(s),s))})})}bootstrapModule(t,r=[]){const i=W2({},r);return function Jq(n,e,t){const r=new oA(t);return Promise.resolve(r)}(0,0,t).then(s=>this.bootstrapModuleFactory(s,i))}_moduleDoBootstrap(t){const r=t.injector.get(xu);if(t._bootstrapComponents.length>0)t._bootstrapComponents.forEach(i=>r.bootstrap(i));else{if(!t.instance.ngDoBootstrap)throw new Ae(-403,!1);t.instance.ngDoBootstrap(r)}this._modules.push(t)}onDestroy(t){this._destroyListeners.push(t)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Ae(404,!1);this._modules.slice().forEach(r=>r.destroy()),this._destroyListeners.forEach(r=>r());const t=this._injector.get(XA,null);t&&(t.forEach(r=>r()),t.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}static#e=this.\u0275fac=function(r){return new(r||n)(We(an))};static#t=this.\u0275prov=pt({token:n,factory:n.\u0275fac,providedIn:"platform"})}return n})(),Du=null;const J2=new Qe("");function ek(n,e,t=[]){const r=`Platform: ${e}`,i=new Qe(r);return(s=[])=>{let o=ZA();if(!o||o.injector.get(J2,!1)){const a=[...t,...s,{provide:i,useValue:!0}];n?n(a):function aG(n){if(Du&&!Du.get(J2,!1))throw new Ae(400,!1);(function q2(){!function Ot(n){ht=n}(()=>{throw new Ae(600,!1)})})(),Du=n;const e=n.get(Z2);(function nk(n){n.get(H1,null)?.forEach(t=>t())})(n)}(function tk(n=[],e){return an.create({name:e,providers:[{provide:Yp,useValue:"platform"},{provide:XA,useValue:new Set([()=>Du=null])},...n]})}(a,r))}return function lG(n){const e=ZA();if(!e)throw new Ae(401,!1);return e}()}}function ZA(){return Du?.get(Z2)??null}let Im=(()=>{class n{static#e=this.__NG_ELEMENT_ID__=cG}return n})();function cG(n){return function dG(n,e,t){if(yo(n)&&!t){const r=Mi(n.index,e);return new Qg(r,r)}return 47&n.type?new Qg(e[Hn],e):null}(bn(),Ne(),!(16&~n))}const bG=ek(null,"core",[]);let AG=(()=>{class n{constructor(t){}static#e=this.\u0275fac=function(r){return new(r||n)(We(xu))};static#t=this.\u0275mod=Vr({type:n});static#n=this.\u0275inj=ri({})}return n})();function If(n){return"boolean"==typeof n?n:null!=n&&"false"!==n}let Fk=null;function Tu(){return Fk}class aW{}const Ns=new Qe("");let oC=(()=>{class n{historyGo(t){throw new Error("")}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=pt({token:n,factory:()=>qe(uW),providedIn:"platform"})}return n})();const lW=new Qe("");let uW=(()=>{class n extends oC{constructor(){super(),this._doc=qe(Ns),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return Tu().getBaseHref(this._doc)}onPopState(t){const r=Tu().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",t,!1),()=>r.removeEventListener("popstate",t)}onHashChange(t){const r=Tu().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",t,!1),()=>r.removeEventListener("hashchange",t)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(t){this._location.pathname=t}pushState(t,r,i){this._history.pushState(t,r,i)}replaceState(t,r,i){this._history.replaceState(t,r,i)}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=pt({token:n,factory:()=>new n,providedIn:"platform"})}return n})();function aC(n,e){if(0==n.length)return e;if(0==e.length)return n;let t=0;return n.endsWith("/")&&t++,e.startsWith("/")&&t++,2==t?n+e.substring(1):1==t?n+e:n+"/"+e}function Vk(n){const e=n.match(/#|\?|$/),t=e&&e.index||n.length;return n.slice(0,t-("/"===n[t-1]?1:0))+n.slice(t)}function vl(n){return n&&"?"!==n[0]?"?"+n:n}let ad=(()=>{class n{historyGo(t){throw new Error("")}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=pt({token:n,factory:()=>qe(Bk),providedIn:"root"})}return n})();const Lk=new Qe("");let Bk=(()=>{class n extends ad{constructor(t,r){super(),this._platformLocation=t,this._removeListenerFns=[],this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??qe(Ns).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return aC(this._baseHref,t)}path(t=!1){const r=this._platformLocation.pathname+vl(this._platformLocation.search),i=this._platformLocation.hash;return i&&t?`${r}${i}`:r}pushState(t,r,i,s){const o=this.prepareExternalUrl(i+vl(s));this._platformLocation.pushState(t,r,o)}replaceState(t,r,i,s){const o=this.prepareExternalUrl(i+vl(s));this._platformLocation.replaceState(t,r,o)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}static#e=this.\u0275fac=function(r){return new(r||n)(We(oC),We(Lk,8))};static#t=this.\u0275prov=pt({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),cW=(()=>{class n extends ad{constructor(t,r){super(),this._platformLocation=t,this._baseHref="",this._removeListenerFns=[],null!=r&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}path(t=!1){const r=this._platformLocation.hash??"#";return r.length>0?r.substring(1):r}prepareExternalUrl(t){const r=aC(this._baseHref,t);return r.length>0?"#"+r:r}pushState(t,r,i,s){let o=this.prepareExternalUrl(i+vl(s));0==o.length&&(o=this._platformLocation.pathname),this._platformLocation.pushState(t,r,o)}replaceState(t,r,i,s){let o=this.prepareExternalUrl(i+vl(s));0==o.length&&(o=this._platformLocation.pathname),this._platformLocation.replaceState(t,r,o)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}static#e=this.\u0275fac=function(r){return new(r||n)(We(oC),We(Lk,8))};static#t=this.\u0275prov=pt({token:n,factory:n.\u0275fac})}return n})(),Cm=(()=>{class n{constructor(t){this._subject=new Tr,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=t;const r=this._locationStrategy.getBaseHref();this._basePath=function fW(n){if(new RegExp("^(https?:)?//").test(n)){const[,t]=n.split(/\/\/[^\/]+/);return t}return n}(Vk(Uk(r))),this._locationStrategy.onPopState(i=>{this._subject.emit({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(t=!1){return this.normalize(this._locationStrategy.path(t))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(t,r=""){return this.path()==this.normalize(t+vl(r))}normalize(t){return n.stripTrailingSlash(function hW(n,e){if(!n||!e.startsWith(n))return e;const t=e.substring(n.length);return""===t||["/",";","?","#"].includes(t[0])?t:e}(this._basePath,Uk(t)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._locationStrategy.prepareExternalUrl(t)}go(t,r="",i=null){this._locationStrategy.pushState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+vl(r)),i)}replaceState(t,r="",i=null){this._locationStrategy.replaceState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+vl(r)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(t=0){this._locationStrategy.historyGo?.(t)}onUrlChange(t){return this._urlChangeListeners.push(t),this._urlChangeSubscription??=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)}),()=>{const r=this._urlChangeListeners.indexOf(t);this._urlChangeListeners.splice(r,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(t="",r){this._urlChangeListeners.forEach(i=>i(t,r))}subscribe(t,r,i){return this._subject.subscribe({next:t,error:r,complete:i})}static#e=this.normalizeQueryParams=vl;static#t=this.joinWithSlash=aC;static#n=this.stripTrailingSlash=Vk;static#r=this.\u0275fac=function(r){return new(r||n)(We(ad))};static#i=this.\u0275prov=pt({token:n,factory:()=>function dW(){return new Cm(We(ad))}(),providedIn:"root"})}return n})();function Uk(n){return n.replace(/\/index.html$/,"")}function Qk(n,e){e=encodeURIComponent(e);for(const t of n.split(";")){const r=t.indexOf("="),[i,s]=-1==r?[t,""]:[t.slice(0,r),t.slice(r+1)];if(i.trim()===e)return decodeURIComponent(s)}return null}let Jk=(()=>{class n{constructor(t,r){this._viewContainer=t,this._context=new tK,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=r}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){eO("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){eO("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,r){return!0}static#e=this.\u0275fac=function(r){return new(r||n)(Ze(Uo),Ze(gl))};static#t=this.\u0275dir=Vt({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0})}return n})();class tK{constructor(){this.$implicit=null,this.ngIf=null}}function eO(n,e){if(e&&!e.createEmbeddedView)throw new Error(`${n} must be a TemplateRef, but received '${Bn(e)}'.`)}let DK=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275mod=Vr({type:n});static#n=this.\u0275inj=ri({})}return n})();const rO="browser";function Ov(n){return"server"===n}let MK=(()=>{class n{static#e=this.\u0275prov=pt({token:n,providedIn:"root",factory:()=>function PK(n){return n===rO}(qe(Lo))?new NK(qe(Ns),window):new OK})}return n})();class NK{constructor(e,t){this.document=e,this.window=t,this.offset=()=>[0,0]}setOffset(e){this.offset=Array.isArray(e)?()=>e:e}getScrollPosition(){return[this.window.scrollX,this.window.scrollY]}scrollToPosition(e){this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){const t=function kK(n,e){const t=n.getElementById(e)||n.getElementsByName(e)[0];if(t)return t;if("function"==typeof n.createTreeWalker&&n.body&&"function"==typeof n.body.attachShadow){const r=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT);let i=r.currentNode;for(;i;){const s=i.shadowRoot;if(s){const o=s.getElementById(e)||s.querySelector(`[name="${e}"]`);if(o)return o}i=r.nextNode()}}return null}(this.document,e);t&&(this.scrollToElement(t),t.focus())}setHistoryScrollRestoration(e){this.window.history.scrollRestoration=e}scrollToElement(e){const t=e.getBoundingClientRect(),r=t.left+this.window.pageXOffset,i=t.top+this.window.pageYOffset,s=this.offset();this.window.scrollTo(r-s[0],i-s[1])}}class OK{setOffset(e){}getScrollPosition(){return[0,0]}scrollToPosition(e){}scrollToAnchor(e){}setHistoryScrollRestoration(e){}}class iO{}class uQ extends aW{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class bC extends uQ{static makeCurrent(){!function oW(n){Fk??=n}(new bC)}onAndCancel(e,t,r){return e.addEventListener(t,r),()=>{e.removeEventListener(t,r)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,t){return(t=t||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return"window"===t?window:"document"===t?e:"body"===t?e.body:null}getBaseHref(e){const t=function cQ(){return Sm=Sm||document.querySelector("base"),Sm?Sm.getAttribute("href"):null}();return null==t?null:function dQ(n){return new URL(n,document.baseURI).pathname}(t)}resetBaseElement(){Sm=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return Qk(document.cookie,e)}}let Sm=null,fQ=(()=>{class n{build(){return new XMLHttpRequest}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=pt({token:n,factory:n.\u0275fac})}return n})();const AC=new Qe("");let fO=(()=>{class n{constructor(t,r){this._zone=r,this._eventNameToPlugin=new Map,t.forEach(i=>{i.manager=this}),this._plugins=t.slice().reverse()}addEventListener(t,r,i){return this._findPluginFor(r).addEventListener(t,r,i)}getZone(){return this._zone}_findPluginFor(t){let r=this._eventNameToPlugin.get(t);if(r)return r;if(r=this._plugins.find(s=>s.supports(t)),!r)throw new Ae(5101,!1);return this._eventNameToPlugin.set(t,r),r}static#e=this.\u0275fac=function(r){return new(r||n)(We(AC),We(_n))};static#t=this.\u0275prov=pt({token:n,factory:n.\u0275fac})}return n})();class pO{constructor(e){this._doc=e}}const CC="ng-app-id";let gO=(()=>{class n{constructor(t,r,i,s={}){this.doc=t,this.appId=r,this.nonce=i,this.platformId=s,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=Ov(s),this.resetHostNodes()}addStyles(t){for(const r of t)1===this.changeUsageCount(r,1)&&this.onStyleAdded(r)}removeStyles(t){for(const r of t)this.changeUsageCount(r,-1)<=0&&this.onStyleRemoved(r)}ngOnDestroy(){const t=this.styleNodesInDOM;t&&(t.forEach(r=>r.remove()),t.clear());for(const r of this.getAllStyles())this.onStyleRemoved(r);this.resetHostNodes()}addHost(t){this.hostNodes.add(t);for(const r of this.getAllStyles())this.addStyleToHost(t,r)}removeHost(t){this.hostNodes.delete(t)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(t){for(const r of this.hostNodes)this.addStyleToHost(r,t)}onStyleRemoved(t){const r=this.styleRef;r.get(t)?.elements?.forEach(i=>i.remove()),r.delete(t)}collectServerRenderedStyles(){const t=this.doc.head?.querySelectorAll(`style[${CC}="${this.appId}"]`);if(t?.length){const r=new Map;return t.forEach(i=>{null!=i.textContent&&r.set(i.textContent,i)}),r}return null}changeUsageCount(t,r){const i=this.styleRef;if(i.has(t)){const s=i.get(t);return s.usage+=r,s.usage}return i.set(t,{usage:r,elements:[]}),r}getStyleElement(t,r){const i=this.styleNodesInDOM,s=i?.get(r);if(s?.parentNode===t)return i.delete(r),s.removeAttribute(CC),s;{const o=this.doc.createElement("style");return this.nonce&&o.setAttribute("nonce",this.nonce),o.textContent=r,this.platformIsServer&&o.setAttribute(CC,this.appId),t.appendChild(o),o}}addStyleToHost(t,r){const i=this.getStyleElement(t,r),s=this.styleRef,o=s.get(r)?.elements;o?o.push(i):s.set(r,{elements:[i],usage:1})}resetHostNodes(){const t=this.hostNodes;t.clear(),t.add(this.doc.head)}static#e=this.\u0275fac=function(r){return new(r||n)(We(Ns),We(g_),We(G1,8),We(Lo))};static#t=this.\u0275prov=pt({token:n,factory:n.\u0275fac})}return n})();const xC={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},DC=/%COMP%/g,yQ=new Qe("",{providedIn:"root",factory:()=>!0});function yO(n,e){return e.map(t=>t.replace(DC,n))}let TC=(()=>{class n{constructor(t,r,i,s,o,a,l,c=null){this.eventManager=t,this.sharedStylesHost=r,this.appId=i,this.removeStylesOnCompDestroy=s,this.doc=o,this.platformId=a,this.ngZone=l,this.nonce=c,this.rendererByCompId=new Map,this.platformIsServer=Ov(a),this.defaultRenderer=new SC(t,o,l,this.platformIsServer)}createRenderer(t,r){if(!t||!r)return this.defaultRenderer;this.platformIsServer&&r.encapsulation===Is.ShadowDom&&(r={...r,encapsulation:Is.Emulated});const i=this.getOrCreateRenderer(t,r);return i instanceof vO?i.applyToHost(t):i instanceof RC&&i.applyStyles(),i}getOrCreateRenderer(t,r){const i=this.rendererByCompId;let s=i.get(r.id);if(!s){const o=this.doc,a=this.ngZone,l=this.eventManager,c=this.sharedStylesHost,p=this.removeStylesOnCompDestroy,m=this.platformIsServer;switch(r.encapsulation){case Is.Emulated:s=new vO(l,c,r,this.appId,p,o,a,m);break;case Is.ShadowDom:return new EQ(l,c,t,r,o,a,this.nonce,m);default:s=new RC(l,c,r,p,o,a,m)}i.set(r.id,s)}return s}ngOnDestroy(){this.rendererByCompId.clear()}static#e=this.\u0275fac=function(r){return new(r||n)(We(fO),We(gO),We(g_),We(yQ),We(Ns),We(Lo),We(_n),We(G1))};static#t=this.\u0275prov=pt({token:n,factory:n.\u0275fac})}return n})();class SC{constructor(e,t,r,i){this.eventManager=e,this.doc=t,this.ngZone=r,this.platformIsServer=i,this.data=Object.create(null),this.throwOnSyntheticProps=!0,this.destroyNode=null}destroy(){}createElement(e,t){return t?this.doc.createElementNS(xC[t]||t,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,t){(_O(e)?e.content:e).appendChild(t)}insertBefore(e,t,r){e&&(_O(e)?e.content:e).insertBefore(t,r)}removeChild(e,t){e&&e.removeChild(t)}selectRootElement(e,t){let r="string"==typeof e?this.doc.querySelector(e):e;if(!r)throw new Ae(-5104,!1);return t||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,r,i){if(i){t=i+":"+t;const s=xC[i];s?e.setAttributeNS(s,t,r):e.setAttribute(t,r)}else e.setAttribute(t,r)}removeAttribute(e,t,r){if(r){const i=xC[r];i?e.removeAttributeNS(i,t):e.removeAttribute(`${r}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,r,i){i&(wu.DashCase|wu.Important)?e.style.setProperty(t,r,i&wu.Important?"important":""):e.style[t]=r}removeStyle(e,t,r){r&wu.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,r){null!=e&&(e[t]=r)}setValue(e,t){e.nodeValue=t}listen(e,t,r){if("string"==typeof e&&!(e=Tu().getGlobalEventTarget(this.doc,e)))throw new Error(`Unsupported event target ${e} for event ${t}`);return this.eventManager.addEventListener(e,t,this.decoratePreventDefault(r))}decoratePreventDefault(e){return t=>{if("__ngUnwrap__"===t)return e;!1===(this.platformIsServer?this.ngZone.runGuarded(()=>e(t)):e(t))&&t.preventDefault()}}}function _O(n){return"TEMPLATE"===n.tagName&&void 0!==n.content}class EQ extends SC{constructor(e,t,r,i,s,o,a,l){super(e,s,o,l),this.sharedStylesHost=t,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const c=yO(i.id,i.styles);for(const p of c){const m=document.createElement("style");a&&m.setAttribute("nonce",a),m.textContent=p,this.shadowRoot.appendChild(m)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,r){return super.insertBefore(this.nodeOrShadowRoot(e),t,r)}removeChild(e,t){return super.removeChild(this.nodeOrShadowRoot(e),t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class RC extends SC{constructor(e,t,r,i,s,o,a,l){super(e,s,o,a),this.sharedStylesHost=t,this.removeStylesOnCompDestroy=i,this.styles=l?yO(l,r.styles):r.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}}class vO extends RC{constructor(e,t,r,i,s,o,a,l){const c=i+"-"+r.id;super(e,t,r,s,o,a,l,c),this.contentAttr=function _Q(n){return"_ngcontent-%COMP%".replace(DC,n)}(c),this.hostAttr=function vQ(n){return"_nghost-%COMP%".replace(DC,n)}(c)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,t){const r=super.createElement(e,t);return super.setAttribute(r,this.contentAttr,""),r}}let IQ=(()=>{class n extends pO{constructor(t){super(t)}supports(t){return!0}addEventListener(t,r,i){return t.addEventListener(r,i,!1),()=>this.removeEventListener(t,r,i)}removeEventListener(t,r,i){return t.removeEventListener(r,i)}static#e=this.\u0275fac=function(r){return new(r||n)(We(Ns))};static#t=this.\u0275prov=pt({token:n,factory:n.\u0275fac})}return n})();const wO=["alt","control","meta","shift"],bQ={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},AQ={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let CQ=(()=>{class n extends pO{constructor(t){super(t)}supports(t){return null!=n.parseEventName(t)}addEventListener(t,r,i){const s=n.parseEventName(r),o=n.eventCallback(s.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Tu().onAndCancel(t,s.domEventName,o))}static parseEventName(t){const r=t.toLowerCase().split("."),i=r.shift();if(0===r.length||"keydown"!==i&&"keyup"!==i)return null;const s=n._normalizeKey(r.pop());let o="",a=r.indexOf("code");if(a>-1&&(r.splice(a,1),o="code."),wO.forEach(c=>{const p=r.indexOf(c);p>-1&&(r.splice(p,1),o+=c+".")}),o+=s,0!=r.length||0===s.length)return null;const l={};return l.domEventName=i,l.fullKey=o,l}static matchEventFullKeyCode(t,r){let i=bQ[t.key]||t.key,s="";return r.indexOf("code.")>-1&&(i=t.code,s="code."),!(null==i||!i)&&(i=i.toLowerCase()," "===i?i="space":"."===i&&(i="dot"),wO.forEach(o=>{o!==i&&(0,AQ[o])(t)&&(s+=o+".")}),s+=i,s===r)}static eventCallback(t,r,i){return s=>{n.matchEventFullKeyCode(s,t)&&i.runGuarded(()=>r(s))}}static _normalizeKey(t){return"esc"===t?"escape":t}static#e=this.\u0275fac=function(r){return new(r||n)(We(Ns))};static#t=this.\u0275prov=pt({token:n,factory:n.\u0275fac})}return n})();const SQ=ek(bG,"browser",[{provide:Lo,useValue:rO},{provide:H1,useValue:function xQ(){bC.makeCurrent()},multi:!0},{provide:Ns,useFactory:function TQ(){return function iU(n){WI=n}(document),document},deps:[]}]),RQ=new Qe(""),bO=[{provide:fv,useClass:class hQ{addToWindow(e){ft.getAngularTestability=(r,i=!0)=>{const s=e.findTestabilityInTree(r,i);if(null==s)throw new Ae(5103,!1);return s},ft.getAllAngularTestabilities=()=>e.getAllTestabilities(),ft.getAllAngularRootElements=()=>e.getAllRootElements(),ft.frameworkStabilizers||(ft.frameworkStabilizers=[]),ft.frameworkStabilizers.push(r=>{const i=ft.getAllAngularTestabilities();let s=i.length;const o=function(){s--,0==s&&r()};i.forEach(a=>{a.whenStable(o)})})}findTestabilityInTree(e,t,r){return null==t?null:e.getTestability(t)??(r?Tu().isShadowRoot(t)?this.findTestabilityInTree(e,t.host,!0):this.findTestabilityInTree(e,t.parentElement,!0):null)}},deps:[]},{provide:z2,useClass:HA,deps:[_n,qA,fv]},{provide:HA,useClass:HA,deps:[_n,qA,fv]}],AO=[{provide:Yp,useValue:"root"},{provide:qs,useFactory:function DQ(){return new qs},deps:[]},{provide:AC,useClass:IQ,multi:!0,deps:[Ns,_n,Lo]},{provide:AC,useClass:CQ,multi:!0,deps:[Ns]},TC,gO,fO,{provide:jb,useExisting:TC},{provide:iO,useClass:fQ,deps:[]},[]];let CO=(()=>{class n{constructor(t){}static withServerTransition(t){return{ngModule:n,providers:[{provide:g_,useValue:t.appId}]}}static#e=this.\u0275fac=function(r){return new(r||n)(We(RQ,12))};static#t=this.\u0275mod=Vr({type:n});static#n=this.\u0275inj=ri({providers:[...AO,...bO],imports:[DK,AG]})}return n})(),xO=(()=>{class n{constructor(t){this._doc=t}getTitle(){return this._doc.title}setTitle(t){this._doc.title=t||""}static#e=this.\u0275fac=function(r){return new(r||n)(We(Ns))};static#t=this.\u0275prov=pt({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var Gt=function(n){return n[n.State=0]="State",n[n.Transition=1]="Transition",n[n.Sequence=2]="Sequence",n[n.Group=3]="Group",n[n.Animate=4]="Animate",n[n.Keyframes=5]="Keyframes",n[n.Style=6]="Style",n[n.Trigger=7]="Trigger",n[n.Reference=8]="Reference",n[n.AnimateChild=9]="AnimateChild",n[n.AnimateRef=10]="AnimateRef",n[n.Query=11]="Query",n[n.Stagger=12]="Stagger",n}(Gt||{});const Il="*";function RO(n,e){return{type:Gt.Trigger,name:n,definitions:e,options:{}}}function PO(n,e=null){return{type:Gt.Animate,styles:e,timings:n}}function Af(n){return{type:Gt.Style,styles:n,offset:null}}function Bv(n,e,t){return{type:Gt.State,name:n,styles:e,options:t}}function MO(n,e,t=null){return{type:Gt.Transition,expr:n,animation:e,options:t}}class Pm{constructor(e=0,t=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=e+t}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){queueMicrotask(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(e=>e()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(e){this._position=this.totalTime?e*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}}class NO{constructor(e){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=e;let t=0,r=0,i=0;const s=this.players.length;0==s?queueMicrotask(()=>this._onFinish()):this.players.forEach(o=>{o.onDone(()=>{++t==s&&this._onFinish()}),o.onDestroy(()=>{++r==s&&this._onDestroy()}),o.onStart(()=>{++i==s&&this._onStart()})}),this.totalTime=this.players.reduce((o,a)=>Math.max(o,a.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this.players.forEach(e=>e.init())}onStart(e){this._onStartFns.push(e)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(e=>e()),this._onStartFns=[])}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(e=>e.play())}pause(){this.players.forEach(e=>e.pause())}restart(){this.players.forEach(e=>e.restart())}finish(){this._onFinish(),this.players.forEach(e=>e.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(e=>e.destroy()),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this.players.forEach(e=>e.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(e){const t=e*this.totalTime;this.players.forEach(r=>{const i=r.totalTime?Math.min(1,t/r.totalTime):1;r.setPosition(i)})}getPosition(){const e=this.players.reduce((t,r)=>null===t||r.totalTime>t.totalTime?r:t,null);return null!=e?e.getPosition():0}beforeDestroy(){this.players.forEach(e=>{e.beforeDestroy&&e.beforeDestroy()})}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}}function kO(n){return new Ae(3e3,!1)}function Su(n){switch(n.length){case 0:return new Pm;case 1:return n[0];default:return new NO(n)}}function OO(n,e,t=new Map,r=new Map){const i=[],s=[];let o=-1,a=null;if(e.forEach(l=>{const c=l.get("offset"),p=c==o,m=p&&a||new Map;l.forEach((w,A)=>{let D=A,R=w;if("offset"!==A)switch(D=n.normalizePropertyName(D,i),R){case"!":R=t.get(A);break;case Il:R=r.get(A);break;default:R=n.normalizeStyleValue(A,D,R,i)}m.set(D,R)}),p||s.push(m),a=m,o=c}),i.length)throw function aY(n){return new Ae(3502,!1)}();return s}function MC(n,e,t,r){switch(e){case"start":n.onStart(()=>r(t&&NC(t,"start",n)));break;case"done":n.onDone(()=>r(t&&NC(t,"done",n)));break;case"destroy":n.onDestroy(()=>r(t&&NC(t,"destroy",n)))}}function NC(n,e,t){const s=kC(n.element,n.triggerName,n.fromState,n.toState,e||n.phaseName,t.totalTime??n.totalTime,!!t.disabled),o=n._data;return null!=o&&(s._data=o),s}function kC(n,e,t,r,i="",s=0,o){return{element:n,triggerName:e,fromState:t,toState:r,phaseName:i,totalTime:s,disabled:!!o}}function Ys(n,e,t){let r=n.get(e);return r||n.set(e,r=t),r}function FO(n){const e=n.indexOf(":");return[n.substring(1,e),n.slice(e+1)]}const vY=typeof document>"u"?null:document.documentElement;function OC(n){const e=n.parentNode||n.host||null;return e===vY?null:e}let ld=null,VO=!1;function LO(n,e){for(;e;){if(e===n)return!0;e=OC(e)}return!1}function BO(n,e,t){if(t)return Array.from(n.querySelectorAll(e));const r=n.querySelector(e);return r?[r]:[]}let FC=(()=>{class n{validateStyleProperty(t){return function EY(n){ld||(ld=function IY(){return typeof document<"u"?document.body:null}()||{},VO=!!ld.style&&"WebkitAppearance"in ld.style);let e=!0;return ld.style&&!function wY(n){return"ebkit"==n.substring(1,6)}(n)&&(e=n in ld.style,!e&&VO&&(e="Webkit"+n.charAt(0).toUpperCase()+n.slice(1)in ld.style)),e}(t)}matchesElement(t,r){return!1}containsElement(t,r){return LO(t,r)}getParentElement(t){return OC(t)}query(t,r,i){return BO(t,r,i)}computeStyle(t,r,i){return i||""}animate(t,r,i,s,o,a=[],l){return new Pm(i,s)}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=pt({token:n,factory:n.\u0275fac})}return n})();class VC{static#e=this.NOOP=new FC}class LC{}const AY=1e3,BC="ng-enter",Uv="ng-leave",jv="ng-trigger",$v=".ng-trigger",jO="ng-animating",UC=".ng-animating";function bl(n){if("number"==typeof n)return n;const e=n.match(/^(-?[\.\d]+)(m?s)/);return!e||e.length<2?0:jC(parseFloat(e[1]),e[2])}function jC(n,e){return"s"===e?n*AY:n}function zv(n,e,t){return n.hasOwnProperty("duration")?n:function xY(n,e,t){let i,s=0,o="";if("string"==typeof n){const a=n.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===a)return e.push(kO()),{duration:0,delay:0,easing:""};i=jC(parseFloat(a[1]),a[2]);const l=a[3];null!=l&&(s=jC(parseFloat(l),a[4]));const c=a[5];c&&(o=c)}else i=n;if(!t){let a=!1,l=e.length;i<0&&(e.push(function BQ(){return new Ae(3100,!1)}()),a=!0),s<0&&(e.push(function UQ(){return new Ae(3101,!1)}()),a=!0),a&&e.splice(l,0,kO())}return{duration:i,delay:s,easing:o}}(n,e,t)}function Aa(n,e,t){e.forEach((r,i)=>{const s=zC(i);t&&!t.has(i)&&t.set(i,n.style[s]),n.style[s]=r})}function ud(n,e){e.forEach((t,r)=>{const i=zC(r);n.style[i]=""})}function Mm(n){return Array.isArray(n)?1==n.length?n[0]:function kQ(n,e=null){return{type:Gt.Sequence,steps:n,options:e}}(n):n}const $C=new RegExp("{{\\s*(.+?)\\s*}}","g");function zO(n){let e=[];if("string"==typeof n){let t;for(;t=$C.exec(n);)e.push(t[1]);$C.lastIndex=0}return e}function Nm(n,e,t){const r=`${n}`,i=r.replace($C,(s,o)=>{let a=e[o];return null==a&&(t.push(function $Q(n){return new Ae(3003,!1)}()),a=""),a.toString()});return i==r?n:i}const SY=/-+([a-z0-9])/g;function zC(n){return n.replace(SY,(...e)=>e[1].toUpperCase())}function Xs(n,e,t){switch(e.type){case Gt.Trigger:return n.visitTrigger(e,t);case Gt.State:return n.visitState(e,t);case Gt.Transition:return n.visitTransition(e,t);case Gt.Sequence:return n.visitSequence(e,t);case Gt.Group:return n.visitGroup(e,t);case Gt.Animate:return n.visitAnimate(e,t);case Gt.Keyframes:return n.visitKeyframes(e,t);case Gt.Style:return n.visitStyle(e,t);case Gt.Reference:return n.visitReference(e,t);case Gt.AnimateChild:return n.visitAnimateChild(e,t);case Gt.AnimateRef:return n.visitAnimateRef(e,t);case Gt.Query:return n.visitQuery(e,t);case Gt.Stagger:return n.visitStagger(e,t);default:throw function zQ(n){return new Ae(3004,!1)}()}}function HC(n,e){return window.getComputedStyle(n)[e]}const MY=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]);class HO extends LC{normalizePropertyName(e,t){return zC(e)}normalizeStyleValue(e,t,r,i){let s="";const o=r.toString().trim();if(MY.has(t)&&0!==r&&"0"!==r)if("number"==typeof r)s="px";else{const a=r.match(/^[+-]?[\d\.]+([a-z]*)$/);a&&0==a[1].length&&i.push(function HQ(n,e){return new Ae(3005,!1)}())}return o+s}}const Hv="*";const qv=new Set(["true","1"]),Gv=new Set(["false","0"]);function qO(n,e){const t=qv.has(n)||Gv.has(n),r=qv.has(e)||Gv.has(e);return(i,s)=>{let o=n==Hv||n==i,a=e==Hv||e==s;return!o&&t&&"boolean"==typeof i&&(o=i?qv.has(n):Gv.has(n)),!a&&r&&"boolean"==typeof s&&(a=s?qv.has(e):Gv.has(e)),o&&a}}const FY=new RegExp("s*:selfs*,?","g");function qC(n,e,t,r){return new VY(n).build(e,t,r)}class VY{constructor(e){this._driver=e}build(e,t,r){const i=new UY(t);return this._resetContextStyleTimingState(i),Xs(this,Mm(e),i)}_resetContextStyleTimingState(e){e.currentQuerySelector="",e.collectedStyles=new Map,e.collectedStyles.set("",new Map),e.currentTime=0}visitTrigger(e,t){let r=t.queryCount=0,i=t.depCount=0;const s=[],o=[];return"@"==e.name.charAt(0)&&t.errors.push(function qQ(){return new Ae(3006,!1)}()),e.definitions.forEach(a=>{if(this._resetContextStyleTimingState(t),a.type==Gt.State){const l=a,c=l.name;c.toString().split(/\s*,\s*/).forEach(p=>{l.name=p,s.push(this.visitState(l,t))}),l.name=c}else if(a.type==Gt.Transition){const l=this.visitTransition(a,t);r+=l.queryCount,i+=l.depCount,o.push(l)}else t.errors.push(function GQ(){return new Ae(3007,!1)}())}),{type:Gt.Trigger,name:e.name,states:s,transitions:o,queryCount:r,depCount:i,options:null}}visitState(e,t){const r=this.visitStyle(e.styles,t),i=e.options&&e.options.params||null;if(r.containsDynamicStyles){const s=new Set,o=i||{};r.styles.forEach(a=>{a instanceof Map&&a.forEach(l=>{zO(l).forEach(c=>{o.hasOwnProperty(c)||s.add(c)})})}),s.size&&t.errors.push(function WQ(n,e){return new Ae(3008,!1)}(0,s.values()))}return{type:Gt.State,name:e.name,style:r,options:i?{params:i}:null}}visitTransition(e,t){t.queryCount=0,t.depCount=0;const r=Xs(this,Mm(e.animation),t),i=function NY(n,e){const t=[];return"string"==typeof n?n.split(/\s*,\s*/).forEach(r=>function kY(n,e,t){if(":"==n[0]){const l=function OY(n,e){switch(n){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(t,r)=>parseFloat(r)>parseFloat(t);case":decrement":return(t,r)=>parseFloat(r)<parseFloat(t);default:return e.push(function rY(n){return new Ae(3016,!1)}()),"* => *"}}(n,t);if("function"==typeof l)return void e.push(l);n=l}const r=n.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==r||r.length<4)return t.push(function nY(n){return new Ae(3015,!1)}()),e;const i=r[1],s=r[2],o=r[3];e.push(qO(i,o)),"<"==s[0]&&(i!=Hv||o!=Hv)&&e.push(qO(o,i))}(r,t,e)):t.push(n),t}(e.expr,t.errors);return{type:Gt.Transition,matchers:i,animation:r,queryCount:t.queryCount,depCount:t.depCount,options:cd(e.options)}}visitSequence(e,t){return{type:Gt.Sequence,steps:e.steps.map(r=>Xs(this,r,t)),options:cd(e.options)}}visitGroup(e,t){const r=t.currentTime;let i=0;const s=e.steps.map(o=>{t.currentTime=r;const a=Xs(this,o,t);return i=Math.max(i,t.currentTime),a});return t.currentTime=i,{type:Gt.Group,steps:s,options:cd(e.options)}}visitAnimate(e,t){const r=function $Y(n,e){if(n.hasOwnProperty("duration"))return n;if("number"==typeof n)return GC(zv(n,e).duration,0,"");const t=n;if(t.split(/\s+/).some(s=>"{"==s.charAt(0)&&"{"==s.charAt(1))){const s=GC(0,0,"");return s.dynamic=!0,s.strValue=t,s}const i=zv(t,e);return GC(i.duration,i.delay,i.easing)}(e.timings,t.errors);t.currentAnimateTimings=r;let i,s=e.styles?e.styles:Af({});if(s.type==Gt.Keyframes)i=this.visitKeyframes(s,t);else{let o=e.styles,a=!1;if(!o){a=!0;const c={};r.easing&&(c.easing=r.easing),o=Af(c)}t.currentTime+=r.duration+r.delay;const l=this.visitStyle(o,t);l.isEmptyStep=a,i=l}return t.currentAnimateTimings=null,{type:Gt.Animate,timings:r,style:i,options:null}}visitStyle(e,t){const r=this._makeStyleAst(e,t);return this._validateStyleAst(r,t),r}_makeStyleAst(e,t){const r=[],i=Array.isArray(e.styles)?e.styles:[e.styles];for(let a of i)"string"==typeof a?a===Il?r.push(a):t.errors.push(new Ae(3002,!1)):r.push(new Map(Object.entries(a)));let s=!1,o=null;return r.forEach(a=>{if(a instanceof Map&&(a.has("easing")&&(o=a.get("easing"),a.delete("easing")),!s))for(let l of a.values())if(l.toString().indexOf("{{")>=0){s=!0;break}}),{type:Gt.Style,styles:r,easing:o,offset:e.offset,containsDynamicStyles:s,options:null}}_validateStyleAst(e,t){const r=t.currentAnimateTimings;let i=t.currentTime,s=t.currentTime;r&&s>0&&(s-=r.duration+r.delay),e.styles.forEach(o=>{"string"!=typeof o&&o.forEach((a,l)=>{const c=t.collectedStyles.get(t.currentQuerySelector),p=c.get(l);let m=!0;p&&(s!=i&&s>=p.startTime&&i<=p.endTime&&(t.errors.push(function QQ(n,e,t,r,i){return new Ae(3010,!1)}()),m=!1),s=p.startTime),m&&c.set(l,{startTime:s,endTime:i}),t.options&&function TY(n,e,t){const r=e.params||{},i=zO(n);i.length&&i.forEach(s=>{r.hasOwnProperty(s)||t.push(function jQ(n){return new Ae(3001,!1)}())})}(a,t.options,t.errors)})})}visitKeyframes(e,t){const r={type:Gt.Keyframes,styles:[],options:null};if(!t.currentAnimateTimings)return t.errors.push(function YQ(){return new Ae(3011,!1)}()),r;let s=0;const o=[];let a=!1,l=!1,c=0;const p=e.steps.map(ee=>{const se=this._makeStyleAst(ee,t);let ge=null!=se.offset?se.offset:function jY(n){if("string"==typeof n)return null;let e=null;if(Array.isArray(n))n.forEach(t=>{if(t instanceof Map&&t.has("offset")){const r=t;e=parseFloat(r.get("offset")),r.delete("offset")}});else if(n instanceof Map&&n.has("offset")){const t=n;e=parseFloat(t.get("offset")),t.delete("offset")}return e}(se.styles),Oe=0;return null!=ge&&(s++,Oe=se.offset=ge),l=l||Oe<0||Oe>1,a=a||Oe<c,c=Oe,o.push(Oe),se});l&&t.errors.push(function XQ(){return new Ae(3012,!1)}()),a&&t.errors.push(function ZQ(){return new Ae(3200,!1)}());const m=e.steps.length;let w=0;s>0&&s<m?t.errors.push(function JQ(){return new Ae(3202,!1)}()):0==s&&(w=1/(m-1));const A=m-1,D=t.currentTime,R=t.currentAnimateTimings,N=R.duration;return p.forEach((ee,se)=>{const ge=w>0?se==A?1:w*se:o[se],Oe=ge*N;t.currentTime=D+R.delay+Oe,R.duration=Oe,this._validateStyleAst(ee,t),ee.offset=ge,r.styles.push(ee)}),r}visitReference(e,t){return{type:Gt.Reference,animation:Xs(this,Mm(e.animation),t),options:cd(e.options)}}visitAnimateChild(e,t){return t.depCount++,{type:Gt.AnimateChild,options:cd(e.options)}}visitAnimateRef(e,t){return{type:Gt.AnimateRef,animation:this.visitReference(e.animation,t),options:cd(e.options)}}visitQuery(e,t){const r=t.currentQuerySelector,i=e.options||{};t.queryCount++,t.currentQuery=e;const[s,o]=function LY(n){const e=!!n.split(/\s*,\s*/).find(t=>":self"==t);return e&&(n=n.replace(FY,"")),n=n.replace(/@\*/g,$v).replace(/@\w+/g,t=>$v+"-"+t.slice(1)).replace(/:animating/g,UC),[n,e]}(e.selector);t.currentQuerySelector=r.length?r+" "+s:s,Ys(t.collectedStyles,t.currentQuerySelector,new Map);const a=Xs(this,Mm(e.animation),t);return t.currentQuery=null,t.currentQuerySelector=r,{type:Gt.Query,selector:s,limit:i.limit||0,optional:!!i.optional,includeSelf:o,animation:a,originalSelector:e.selector,options:cd(e.options)}}visitStagger(e,t){t.currentQuery||t.errors.push(function eY(){return new Ae(3013,!1)}());const r="full"===e.timings?{duration:0,delay:0,easing:"full"}:zv(e.timings,t.errors,!0);return{type:Gt.Stagger,animation:Xs(this,Mm(e.animation),t),timings:r,options:null}}}class UY{constructor(e){this.errors=e,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function cd(n){return n?(n={...n}).params&&(n.params=function BY(n){return n?{...n}:null}(n.params)):n={},n}function GC(n,e,t){return{duration:n,delay:e,easing:t}}function WC(n,e,t,r,i,s,o=null,a=!1){return{type:1,element:n,keyframes:e,preStyleProps:t,postStyleProps:r,duration:i,delay:s,totalTime:i+s,easing:o,subTimeline:a}}class Wv{constructor(){this._map=new Map}get(e){return this._map.get(e)||[]}append(e,t){let r=this._map.get(e);r||this._map.set(e,r=[]),r.push(...t)}has(e){return this._map.has(e)}clear(){this._map.clear()}}const qY=new RegExp(":enter","g"),WY=new RegExp(":leave","g");function KC(n,e,t,r,i,s=new Map,o=new Map,a,l,c=[]){return(new KY).buildKeyframes(n,e,t,r,i,s,o,a,l,c)}class KY{buildKeyframes(e,t,r,i,s,o,a,l,c,p=[]){c=c||new Wv;const m=new QC(e,t,c,i,s,p,[]);m.options=l;const w=l.delay?bl(l.delay):0;m.currentTimeline.delayNextStep(w),m.currentTimeline.setStyles([o],null,m.errors,l),Xs(this,r,m);const A=m.timelines.filter(D=>D.containsAnimation());if(A.length&&a.size){let D;for(let R=A.length-1;R>=0;R--){const N=A[R];if(N.element===t){D=N;break}}D&&!D.allowOnlyTimelineStyles()&&D.setStyles([a],null,m.errors,l)}return A.length?A.map(D=>D.buildKeyframes()):[WC(t,[],[],[],0,w,"",!1)]}visitTrigger(e,t){}visitState(e,t){}visitTransition(e,t){}visitAnimateChild(e,t){const r=t.subInstructions.get(t.element);if(r){const i=t.createSubContext(e.options),s=t.currentTimeline.currentTime,o=this._visitSubInstructions(r,i,i.options);s!=o&&t.transformIntoNewTimeline(o)}t.previousNode=e}visitAnimateRef(e,t){const r=t.createSubContext(e.options);r.transformIntoNewTimeline(),this._applyAnimationRefDelays([e.options,e.animation.options],t,r),this.visitReference(e.animation,r),t.transformIntoNewTimeline(r.currentTimeline.currentTime),t.previousNode=e}_applyAnimationRefDelays(e,t,r){for(const i of e){const s=i?.delay;if(s){const o="number"==typeof s?s:bl(Nm(s,i?.params??{},t.errors));r.delayNextStep(o)}}}_visitSubInstructions(e,t,r){let s=t.currentTimeline.currentTime;const o=null!=r.duration?bl(r.duration):null,a=null!=r.delay?bl(r.delay):null;return 0!==o&&e.forEach(l=>{const c=t.appendInstructionToTimeline(l,o,a);s=Math.max(s,c.duration+c.delay)}),s}visitReference(e,t){t.updateOptions(e.options,!0),Xs(this,e.animation,t),t.previousNode=e}visitSequence(e,t){const r=t.subContextCount;let i=t;const s=e.options;if(s&&(s.params||s.delay)&&(i=t.createSubContext(s),i.transformIntoNewTimeline(),null!=s.delay)){i.previousNode.type==Gt.Style&&(i.currentTimeline.snapshotCurrentStyles(),i.previousNode=Kv);const o=bl(s.delay);i.delayNextStep(o)}e.steps.length&&(e.steps.forEach(o=>Xs(this,o,i)),i.currentTimeline.applyStylesToKeyframe(),i.subContextCount>r&&i.transformIntoNewTimeline()),t.previousNode=e}visitGroup(e,t){const r=[];let i=t.currentTimeline.currentTime;const s=e.options&&e.options.delay?bl(e.options.delay):0;e.steps.forEach(o=>{const a=t.createSubContext(e.options);s&&a.delayNextStep(s),Xs(this,o,a),i=Math.max(i,a.currentTimeline.currentTime),r.push(a.currentTimeline)}),r.forEach(o=>t.currentTimeline.mergeTimelineCollectedStyles(o)),t.transformIntoNewTimeline(i),t.previousNode=e}_visitTiming(e,t){if(e.dynamic){const r=e.strValue;return zv(t.params?Nm(r,t.params,t.errors):r,t.errors)}return{duration:e.duration,delay:e.delay,easing:e.easing}}visitAnimate(e,t){const r=t.currentAnimateTimings=this._visitTiming(e.timings,t),i=t.currentTimeline;r.delay&&(t.incrementTime(r.delay),i.snapshotCurrentStyles());const s=e.style;s.type==Gt.Keyframes?this.visitKeyframes(s,t):(t.incrementTime(r.duration),this.visitStyle(s,t),i.applyStylesToKeyframe()),t.currentAnimateTimings=null,t.previousNode=e}visitStyle(e,t){const r=t.currentTimeline,i=t.currentAnimateTimings;!i&&r.hasCurrentStyleProperties()&&r.forwardFrame();const s=i&&i.easing||e.easing;e.isEmptyStep?r.applyEmptyStep(s):r.setStyles(e.styles,s,t.errors,t.options),t.previousNode=e}visitKeyframes(e,t){const r=t.currentAnimateTimings,i=t.currentTimeline.duration,s=r.duration,a=t.createSubContext().currentTimeline;a.easing=r.easing,e.styles.forEach(l=>{a.forwardTime((l.offset||0)*s),a.setStyles(l.styles,l.easing,t.errors,t.options),a.applyStylesToKeyframe()}),t.currentTimeline.mergeTimelineCollectedStyles(a),t.transformIntoNewTimeline(i+s),t.previousNode=e}visitQuery(e,t){const r=t.currentTimeline.currentTime,i=e.options||{},s=i.delay?bl(i.delay):0;s&&(t.previousNode.type===Gt.Style||0==r&&t.currentTimeline.hasCurrentStyleProperties())&&(t.currentTimeline.snapshotCurrentStyles(),t.previousNode=Kv);let o=r;const a=t.invokeQuery(e.selector,e.originalSelector,e.limit,e.includeSelf,!!i.optional,t.errors);t.currentQueryTotal=a.length;let l=null;a.forEach((c,p)=>{t.currentQueryIndex=p;const m=t.createSubContext(e.options,c);s&&m.delayNextStep(s),c===t.element&&(l=m.currentTimeline),Xs(this,e.animation,m),m.currentTimeline.applyStylesToKeyframe(),o=Math.max(o,m.currentTimeline.currentTime)}),t.currentQueryIndex=0,t.currentQueryTotal=0,t.transformIntoNewTimeline(o),l&&(t.currentTimeline.mergeTimelineCollectedStyles(l),t.currentTimeline.snapshotCurrentStyles()),t.previousNode=e}visitStagger(e,t){const r=t.parentContext,i=t.currentTimeline,s=e.timings,o=Math.abs(s.duration),a=o*(t.currentQueryTotal-1);let l=o*t.currentQueryIndex;switch(s.duration<0?"reverse":s.easing){case"reverse":l=a-l;break;case"full":l=r.currentStaggerTime}const p=t.currentTimeline;l&&p.delayNextStep(l);const m=p.currentTime;Xs(this,e.animation,t),t.previousNode=e,r.currentStaggerTime=i.currentTime-m+(i.startTime-r.currentTimeline.startTime)}}const Kv={};class QC{constructor(e,t,r,i,s,o,a,l){this._driver=e,this.element=t,this.subInstructions=r,this._enterClassName=i,this._leaveClassName=s,this.errors=o,this.timelines=a,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=Kv,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=l||new Qv(this._driver,t,0),a.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(e,t){if(!e)return;const r=e;let i=this.options;null!=r.duration&&(i.duration=bl(r.duration)),null!=r.delay&&(i.delay=bl(r.delay));const s=r.params;if(s){let o=i.params;o||(o=this.options.params={}),Object.keys(s).forEach(a=>{(!t||!o.hasOwnProperty(a))&&(o[a]=Nm(s[a],o,this.errors))})}}_copyOptions(){const e={};if(this.options){const t=this.options.params;if(t){const r=e.params={};Object.keys(t).forEach(i=>{r[i]=t[i]})}}return e}createSubContext(e=null,t,r){const i=t||this.element,s=new QC(this._driver,i,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(i,r||0));return s.previousNode=this.previousNode,s.currentAnimateTimings=this.currentAnimateTimings,s.options=this._copyOptions(),s.updateOptions(e),s.currentQueryIndex=this.currentQueryIndex,s.currentQueryTotal=this.currentQueryTotal,s.parentContext=this,this.subContextCount++,s}transformIntoNewTimeline(e){return this.previousNode=Kv,this.currentTimeline=this.currentTimeline.fork(this.element,e),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(e,t,r){const i={duration:t??e.duration,delay:this.currentTimeline.currentTime+(r??0)+e.delay,easing:""},s=new QY(this._driver,e.element,e.keyframes,e.preStyleProps,e.postStyleProps,i,e.stretchStartingKeyframe);return this.timelines.push(s),i}incrementTime(e){this.currentTimeline.forwardTime(this.currentTimeline.duration+e)}delayNextStep(e){e>0&&this.currentTimeline.delayNextStep(e)}invokeQuery(e,t,r,i,s,o){let a=[];if(i&&a.push(this.element),e.length>0){e=(e=e.replace(qY,"."+this._enterClassName)).replace(WY,"."+this._leaveClassName);let c=this._driver.query(this.element,e,1!=r);0!==r&&(c=r<0?c.slice(c.length+r,c.length):c.slice(0,r)),a.push(...c)}return!s&&0==a.length&&o.push(function tY(n){return new Ae(3014,!1)}()),a}}class Qv{constructor(e,t,r,i){this._driver=e,this.element=t,this.startTime=r,this._elementTimelineStylesLookup=i,this.duration=0,this.easing=null,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(t),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(t,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(e){const t=1===this._keyframes.size&&this._pendingStyles.size;this.duration||t?(this.forwardTime(this.currentTime+e),t&&this.snapshotCurrentStyles()):this.startTime+=e}fork(e,t){return this.applyStylesToKeyframe(),new Qv(this._driver,e,t||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(e){this.applyStylesToKeyframe(),this.duration=e,this._loadKeyframe()}_updateStyle(e,t){this._localTimelineStyles.set(e,t),this._globalTimelineStyles.set(e,t),this._styleSummary.set(e,{time:this.currentTime,value:t})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(e){e&&this._previousKeyframe.set("easing",e);for(let[t,r]of this._globalTimelineStyles)this._backFill.set(t,r||Il),this._currentKeyframe.set(t,Il);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(e,t,r,i){t&&this._previousKeyframe.set("easing",t);const s=i&&i.params||{},o=function YY(n,e){const t=new Map;let r;return n.forEach(i=>{if("*"===i){r??=e.keys();for(let s of r)t.set(s,Il)}else for(let[s,o]of i)t.set(s,o)}),t}(e,this._globalTimelineStyles);for(let[a,l]of o){const c=Nm(l,s,r);this._pendingStyles.set(a,c),this._localTimelineStyles.has(a)||this._backFill.set(a,this._globalTimelineStyles.get(a)??Il),this._updateStyle(a,c)}}applyStylesToKeyframe(){0!=this._pendingStyles.size&&(this._pendingStyles.forEach((e,t)=>{this._currentKeyframe.set(t,e)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((e,t)=>{this._currentKeyframe.has(t)||this._currentKeyframe.set(t,e)}))}snapshotCurrentStyles(){for(let[e,t]of this._localTimelineStyles)this._pendingStyles.set(e,t),this._updateStyle(e,t)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const e=[];for(let t in this._currentKeyframe)e.push(t);return e}mergeTimelineCollectedStyles(e){e._styleSummary.forEach((t,r)=>{const i=this._styleSummary.get(r);(!i||t.time>i.time)&&this._updateStyle(r,t.value)})}buildKeyframes(){this.applyStylesToKeyframe();const e=new Set,t=new Set,r=1===this._keyframes.size&&0===this.duration;let i=[];this._keyframes.forEach((a,l)=>{const c=new Map([...this._backFill,...a]);c.forEach((p,m)=>{"!"===p?e.add(m):p===Il&&t.add(m)}),r||c.set("offset",l/this.duration),i.push(c)});const s=[...e.values()],o=[...t.values()];if(r){const a=i[0],l=new Map(a);a.set("offset",0),l.set("offset",1),i=[a,l]}return WC(this.element,i,s,o,this.duration,this.startTime,this.easing,!1)}}class QY extends Qv{constructor(e,t,r,i,s,o,a=!1){super(e,t,o.delay),this.keyframes=r,this.preStyleProps=i,this.postStyleProps=s,this._stretchStartingKeyframe=a,this.timings={duration:o.duration,delay:o.delay,easing:o.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let e=this.keyframes,{delay:t,duration:r,easing:i}=this.timings;if(this._stretchStartingKeyframe&&t){const s=[],o=r+t,a=t/o,l=new Map(e[0]);l.set("offset",0),s.push(l);const c=new Map(e[0]);c.set("offset",KO(a)),s.push(c);const p=e.length-1;for(let m=1;m<=p;m++){let w=new Map(e[m]);const A=w.get("offset");w.set("offset",KO((t+A*r)/o)),s.push(w)}r=o,t=0,i="",e=s}return WC(this.element,e,this.preStyleProps,this.postStyleProps,r,t,i,!0)}}function KO(n,e=3){const t=Math.pow(10,e-1);return Math.round(n*t)/t}function QO(n,e,t,r,i,s,o,a,l,c,p,m,w){return{type:0,element:n,triggerName:e,isRemovalTransition:i,fromState:t,fromStyles:s,toState:r,toStyles:o,timelines:a,queriedElements:l,preStyleProps:c,postStyleProps:p,totalTime:m,errors:w}}const YC={};class YO{constructor(e,t,r){this._triggerName=e,this.ast=t,this._stateStyles=r}match(e,t,r,i){return function XY(n,e,t,r,i){return n.some(s=>s(e,t,r,i))}(this.ast.matchers,e,t,r,i)}buildStyles(e,t,r){let i=this._stateStyles.get("*");return void 0!==e&&(i=this._stateStyles.get(e?.toString())||i),i?i.buildStyles(t,r):new Map}build(e,t,r,i,s,o,a,l,c,p){const m=[],w=this.ast.options&&this.ast.options.params||YC,D=this.buildStyles(r,a&&a.params||YC,m),R=l&&l.params||YC,N=this.buildStyles(i,R,m),ee=new Set,se=new Map,ge=new Map,Oe="void"===i,et={params:XO(R,w),delay:this.ast.options?.delay},ot=p?[]:KC(e,t,this.ast.animation,s,o,D,N,et,c,m);let J=0;return ot.forEach(j=>{J=Math.max(j.duration+j.delay,J)}),m.length?QO(t,this._triggerName,r,i,Oe,D,N,[],[],se,ge,J,m):(ot.forEach(j=>{const te=j.element,ue=Ys(se,te,new Set);j.preStyleProps.forEach(Ce=>ue.add(Ce));const _e=Ys(ge,te,new Set);j.postStyleProps.forEach(Ce=>_e.add(Ce)),te!==t&&ee.add(te)}),QO(t,this._triggerName,r,i,Oe,D,N,ot,[...ee.values()],se,ge,J))}}function XO(n,e){const t={...e};return Object.entries(n).forEach(([r,i])=>{null!=i&&(t[r]=i)}),t}class ZY{constructor(e,t,r){this.styles=e,this.defaultParams=t,this.normalizer=r}buildStyles(e,t){const r=new Map,i=XO(e,this.defaultParams);return this.styles.styles.forEach(s=>{"string"!=typeof s&&s.forEach((o,a)=>{o&&(o=Nm(o,i,t));const l=this.normalizer.normalizePropertyName(a,t);o=this.normalizer.normalizeStyleValue(a,l,o,t),r.set(a,o)})}),r}}class eX{constructor(e,t,r){this.name=e,this.ast=t,this._normalizer=r,this.transitionFactories=[],this.states=new Map,t.states.forEach(i=>{this.states.set(i.name,new ZY(i.style,i.options&&i.options.params||{},r))}),ZO(this.states,"true","1"),ZO(this.states,"false","0"),t.transitions.forEach(i=>{this.transitionFactories.push(new YO(e,i,this.states))}),this.fallbackTransition=function tX(n,e,t){return new YO(n,{type:Gt.Transition,animation:{type:Gt.Sequence,steps:[],options:null},matchers:[(o,a)=>!0],options:null,queryCount:0,depCount:0},e)}(e,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(e,t,r,i){return this.transitionFactories.find(o=>o.match(e,t,r,i))||null}matchStyles(e,t,r){return this.fallbackTransition.buildStyles(e,t,r)}}function ZO(n,e,t){n.has(e)?n.has(t)||n.set(t,n.get(e)):n.has(t)&&n.set(e,n.get(t))}const nX=new Wv;class rX{constructor(e,t,r){this.bodyNode=e,this._driver=t,this._normalizer=r,this._animations=new Map,this._playersById=new Map,this.players=[]}register(e,t){const r=[],s=qC(this._driver,t,r,[]);if(r.length)throw function lY(n){return new Ae(3503,!1)}();this._animations.set(e,s)}_buildPlayer(e,t,r){const i=e.element,s=OO(this._normalizer,e.keyframes,t,r);return this._driver.animate(i,s,e.duration,e.delay,e.easing,[],!0)}create(e,t,r={}){const i=[],s=this._animations.get(e);let o;const a=new Map;if(s?(o=KC(this._driver,t,s,BC,Uv,new Map,new Map,r,nX,i),o.forEach(p=>{const m=Ys(a,p.element,new Map);p.postStyleProps.forEach(w=>m.set(w,null))})):(i.push(function uY(){return new Ae(3300,!1)}()),o=[]),i.length)throw function cY(n){return new Ae(3504,!1)}();a.forEach((p,m)=>{p.forEach((w,A)=>{p.set(A,this._driver.computeStyle(m,A,Il))})});const c=Su(o.map(p=>{const m=a.get(p.element);return this._buildPlayer(p,new Map,m)}));return this._playersById.set(e,c),c.onDestroy(()=>this.destroy(e)),this.players.push(c),c}destroy(e){const t=this._getPlayer(e);t.destroy(),this._playersById.delete(e);const r=this.players.indexOf(t);r>=0&&this.players.splice(r,1)}_getPlayer(e){const t=this._playersById.get(e);if(!t)throw function dY(n){return new Ae(3301,!1)}();return t}listen(e,t,r,i){const s=kC(t,"","","");return MC(this._getPlayer(e),r,s,i),()=>{}}command(e,t,r,i){if("register"==r)return void this.register(e,i[0]);if("create"==r)return void this.create(e,t,i[0]||{});const s=this._getPlayer(e);switch(r){case"play":s.play();break;case"pause":s.pause();break;case"reset":s.reset();break;case"restart":s.restart();break;case"finish":s.finish();break;case"init":s.init();break;case"setPosition":s.setPosition(parseFloat(i[0]));break;case"destroy":this.destroy(e)}}}const JO="ng-animate-queued",XC="ng-animate-disabled",lX=[],eF={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},uX={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},qo="__ng_removed";class ZC{get params(){return this.options.params}constructor(e,t=""){this.namespaceId=t;const r=e&&e.hasOwnProperty("value");if(this.value=function fX(n){return n??null}(r?e.value:e),r){const{value:s,...o}=e;this.options=o}else this.options={};this.options.params||(this.options.params={})}absorbOptions(e){const t=e.params;if(t){const r=this.options.params;Object.keys(t).forEach(i=>{null==r[i]&&(r[i]=t[i])})}}}const km="void",JC=new ZC(km);class cX{constructor(e,t,r){this.id=e,this.hostElement=t,this._engine=r,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+e,Co(t,this._hostClassName)}listen(e,t,r,i){if(!this._triggers.has(t))throw function hY(n,e){return new Ae(3302,!1)}();if(null==r||0==r.length)throw function fY(n){return new Ae(3303,!1)}();if(!function pX(n){return"start"==n||"done"==n}(r))throw function pY(n,e){return new Ae(3400,!1)}();const s=Ys(this._elementListeners,e,[]),o={name:t,phase:r,callback:i};s.push(o);const a=Ys(this._engine.statesByElement,e,new Map);return a.has(t)||(Co(e,jv),Co(e,jv+"-"+t),a.set(t,JC)),()=>{this._engine.afterFlush(()=>{const l=s.indexOf(o);l>=0&&s.splice(l,1),this._triggers.has(t)||a.delete(t)})}}register(e,t){return!this._triggers.has(e)&&(this._triggers.set(e,t),!0)}_getTrigger(e){const t=this._triggers.get(e);if(!t)throw function gY(n){return new Ae(3401,!1)}();return t}trigger(e,t,r,i=!0){const s=this._getTrigger(t),o=new ex(this.id,t,e);let a=this._engine.statesByElement.get(e);a||(Co(e,jv),Co(e,jv+"-"+t),this._engine.statesByElement.set(e,a=new Map));let l=a.get(t);const c=new ZC(r,this.id);if(!(r&&r.hasOwnProperty("value"))&&l&&c.absorbOptions(l.options),a.set(t,c),l||(l=JC),c.value!==km&&l.value===c.value){if(!function yX(n,e){const t=Object.keys(n),r=Object.keys(e);if(t.length!=r.length)return!1;for(let i=0;i<t.length;i++){const s=t[i];if(!e.hasOwnProperty(s)||n[s]!==e[s])return!1}return!0}(l.params,c.params)){const R=[],N=s.matchStyles(l.value,l.params,R),ee=s.matchStyles(c.value,c.params,R);R.length?this._engine.reportError(R):this._engine.afterFlush(()=>{ud(e,N),Aa(e,ee)})}return}const w=Ys(this._engine.playersByElement,e,[]);w.forEach(R=>{R.namespaceId==this.id&&R.triggerName==t&&R.queued&&R.destroy()});let A=s.matchTransition(l.value,c.value,e,c.params),D=!1;if(!A){if(!i)return;A=s.fallbackTransition,D=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:t,transition:A,fromState:l,toState:c,player:o,isFallbackTransition:D}),D||(Co(e,JO),o.onStart(()=>{Cf(e,JO)})),o.onDone(()=>{let R=this.players.indexOf(o);R>=0&&this.players.splice(R,1);const N=this._engine.playersByElement.get(e);if(N){let ee=N.indexOf(o);ee>=0&&N.splice(ee,1)}}),this.players.push(o),w.push(o),o}deregister(e){this._triggers.delete(e),this._engine.statesByElement.forEach(t=>t.delete(e)),this._elementListeners.forEach((t,r)=>{this._elementListeners.set(r,t.filter(i=>i.name!=e))})}clearElementCache(e){this._engine.statesByElement.delete(e),this._elementListeners.delete(e);const t=this._engine.playersByElement.get(e);t&&(t.forEach(r=>r.destroy()),this._engine.playersByElement.delete(e))}_signalRemovalForInnerTriggers(e,t){const r=this._engine.driver.query(e,$v,!0);r.forEach(i=>{if(i[qo])return;const s=this._engine.fetchNamespacesByElement(i);s.size?s.forEach(o=>o.triggerLeaveAnimation(i,t,!1,!0)):this.clearElementCache(i)}),this._engine.afterFlushAnimationsDone(()=>r.forEach(i=>this.clearElementCache(i)))}triggerLeaveAnimation(e,t,r,i){const s=this._engine.statesByElement.get(e),o=new Map;if(s){const a=[];if(s.forEach((l,c)=>{if(o.set(c,l.value),this._triggers.has(c)){const p=this.trigger(e,c,km,i);p&&a.push(p)}}),a.length)return this._engine.markElementAsRemoved(this.id,e,!0,t,o),r&&Su(a).onDone(()=>this._engine.processLeaveNode(e)),!0}return!1}prepareLeaveAnimationListeners(e){const t=this._elementListeners.get(e),r=this._engine.statesByElement.get(e);if(t&&r){const i=new Set;t.forEach(s=>{const o=s.name;if(i.has(o))return;i.add(o);const l=this._triggers.get(o).fallbackTransition,c=r.get(o)||JC,p=new ZC(km),m=new ex(this.id,o,e);this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:o,transition:l,fromState:c,toState:p,player:m,isFallbackTransition:!0})})}}removeNode(e,t){const r=this._engine;if(e.childElementCount&&this._signalRemovalForInnerTriggers(e,t),this.triggerLeaveAnimation(e,t,!0))return;let i=!1;if(r.totalAnimations){const s=r.players.length?r.playersByQueriedElement.get(e):[];if(s&&s.length)i=!0;else{let o=e;for(;o=o.parentNode;)if(r.statesByElement.get(o)){i=!0;break}}}if(this.prepareLeaveAnimationListeners(e),i)r.markElementAsRemoved(this.id,e,!1,t);else{const s=e[qo];(!s||s===eF)&&(r.afterFlush(()=>this.clearElementCache(e)),r.destroyInnerAnimations(e),r._onRemovalComplete(e,t))}}insertNode(e,t){Co(e,this._hostClassName)}drainQueuedTransitions(e){const t=[];return this._queue.forEach(r=>{const i=r.player;if(i.destroyed)return;const s=r.element,o=this._elementListeners.get(s);o&&o.forEach(a=>{if(a.name==r.triggerName){const l=kC(s,r.triggerName,r.fromState.value,r.toState.value);l._data=e,MC(r.player,a.phase,l,a.callback)}}),i.markedForDestroy?this._engine.afterFlush(()=>{i.destroy()}):t.push(r)}),this._queue=[],t.sort((r,i)=>{const s=r.transition.ast.depCount,o=i.transition.ast.depCount;return 0==s||0==o?s-o:this._engine.driver.containsElement(r.element,i.element)?1:-1})}destroy(e){this.players.forEach(t=>t.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,e)}}class dX{_onRemovalComplete(e,t){this.onRemovalComplete(e,t)}constructor(e,t,r,i){this.bodyNode=e,this.driver=t,this._normalizer=r,this.scheduler=i,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(s,o)=>{}}get queuedPlayers(){const e=[];return this._namespaceList.forEach(t=>{t.players.forEach(r=>{r.queued&&e.push(r)})}),e}createNamespace(e,t){const r=new cX(e,t,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,t)?this._balanceNamespaceList(r,t):(this.newHostElements.set(t,r),this.collectEnterElement(t)),this._namespaceLookup[e]=r}_balanceNamespaceList(e,t){const r=this._namespaceList,i=this.namespacesByHostElement;if(r.length-1>=0){let o=!1,a=this.driver.getParentElement(t);for(;a;){const l=i.get(a);if(l){const c=r.indexOf(l);r.splice(c+1,0,e),o=!0;break}a=this.driver.getParentElement(a)}o||r.unshift(e)}else r.push(e);return i.set(t,e),e}register(e,t){let r=this._namespaceLookup[e];return r||(r=this.createNamespace(e,t)),r}registerTrigger(e,t,r){let i=this._namespaceLookup[e];i&&i.register(t,r)&&this.totalAnimations++}destroy(e,t){e&&(this.afterFlush(()=>{}),this.afterFlushAnimationsDone(()=>{const r=this._fetchNamespace(e);this.namespacesByHostElement.delete(r.hostElement);const i=this._namespaceList.indexOf(r);i>=0&&this._namespaceList.splice(i,1),r.destroy(t),delete this._namespaceLookup[e]}))}_fetchNamespace(e){return this._namespaceLookup[e]}fetchNamespacesByElement(e){const t=new Set,r=this.statesByElement.get(e);if(r)for(let i of r.values())if(i.namespaceId){const s=this._fetchNamespace(i.namespaceId);s&&t.add(s)}return t}trigger(e,t,r,i){if(Yv(t)){const s=this._fetchNamespace(e);if(s)return s.trigger(t,r,i),!0}return!1}insertNode(e,t,r,i){if(!Yv(t))return;const s=t[qo];if(s&&s.setForRemoval){s.setForRemoval=!1,s.setForMove=!0;const o=this.collectedLeaveElements.indexOf(t);o>=0&&this.collectedLeaveElements.splice(o,1)}if(e){const o=this._fetchNamespace(e);o&&o.insertNode(t,r)}i&&this.collectEnterElement(t)}collectEnterElement(e){this.collectedEnterElements.push(e)}markElementAsDisabled(e,t){t?this.disabledNodes.has(e)||(this.disabledNodes.add(e),Co(e,XC)):this.disabledNodes.has(e)&&(this.disabledNodes.delete(e),Cf(e,XC))}removeNode(e,t,r){if(Yv(t)){this.scheduler?.notify();const i=e?this._fetchNamespace(e):null;i?i.removeNode(t,r):this.markElementAsRemoved(e,t,!1,r);const s=this.namespacesByHostElement.get(t);s&&s.id!==e&&s.removeNode(t,r)}else this._onRemovalComplete(t,r)}markElementAsRemoved(e,t,r,i,s){this.collectedLeaveElements.push(t),t[qo]={namespaceId:e,setForRemoval:i,hasAnimation:r,removedBeforeQueried:!1,previousTriggersValues:s}}listen(e,t,r,i,s){return Yv(t)?this._fetchNamespace(e).listen(t,r,i,s):()=>{}}_buildInstruction(e,t,r,i,s){return e.transition.build(this.driver,e.element,e.fromState.value,e.toState.value,r,i,e.fromState.options,e.toState.options,t,s)}destroyInnerAnimations(e){let t=this.driver.query(e,$v,!0);t.forEach(r=>this.destroyActiveAnimationsForElement(r)),0!=this.playersByQueriedElement.size&&(t=this.driver.query(e,UC,!0),t.forEach(r=>this.finishActiveQueriedAnimationOnElement(r)))}destroyActiveAnimationsForElement(e){const t=this.playersByElement.get(e);t&&t.forEach(r=>{r.queued?r.markedForDestroy=!0:r.destroy()})}finishActiveQueriedAnimationOnElement(e){const t=this.playersByQueriedElement.get(e);t&&t.forEach(r=>r.finish())}whenRenderingDone(){return new Promise(e=>{if(this.players.length)return Su(this.players).onDone(()=>e());e()})}processLeaveNode(e){const t=e[qo];if(t&&t.setForRemoval){if(e[qo]=eF,t.namespaceId){this.destroyInnerAnimations(e);const r=this._fetchNamespace(t.namespaceId);r&&r.clearElementCache(e)}this._onRemovalComplete(e,t.setForRemoval)}e.classList?.contains(XC)&&this.markElementAsDisabled(e,!1),this.driver.query(e,".ng-animate-disabled",!0).forEach(r=>{this.markElementAsDisabled(r,!1)})}flush(e=-1){let t=[];if(this.newHostElements.size&&(this.newHostElements.forEach((r,i)=>this._balanceNamespaceList(r,i)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let r=0;r<this.collectedEnterElements.length;r++)Co(this.collectedEnterElements[r],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const r=[];try{t=this._flushAnimations(r,e)}finally{for(let i=0;i<r.length;i++)r[i]()}}else for(let r=0;r<this.collectedLeaveElements.length;r++)this.processLeaveNode(this.collectedLeaveElements[r]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(r=>r()),this._flushFns=[],this._whenQuietFns.length){const r=this._whenQuietFns;this._whenQuietFns=[],t.length?Su(t).onDone(()=>{r.forEach(i=>i())}):r.forEach(i=>i())}}reportError(e){throw function mY(n){return new Ae(3402,!1)}()}_flushAnimations(e,t){const r=new Wv,i=[],s=new Map,o=[],a=new Map,l=new Map,c=new Map,p=new Set;this.disabledNodes.forEach(It=>{p.add(It);const St=this.driver.query(It,".ng-animate-queued",!0);for(let kt=0;kt<St.length;kt++)p.add(St[kt])});const m=this.bodyNode,w=Array.from(this.statesByElement.keys()),A=rF(w,this.collectedEnterElements),D=new Map;let R=0;A.forEach((It,St)=>{const kt=BC+R++;D.set(St,kt),It.forEach(cn=>Co(cn,kt))});const N=[],ee=new Set,se=new Set;for(let It=0;It<this.collectedLeaveElements.length;It++){const St=this.collectedLeaveElements[It],kt=St[qo];kt&&kt.setForRemoval&&(N.push(St),ee.add(St),kt.hasAnimation?this.driver.query(St,".ng-star-inserted",!0).forEach(cn=>ee.add(cn)):se.add(St))}const ge=new Map,Oe=rF(w,Array.from(ee));Oe.forEach((It,St)=>{const kt=Uv+R++;ge.set(St,kt),It.forEach(cn=>Co(cn,kt))}),e.push(()=>{A.forEach((It,St)=>{const kt=D.get(St);It.forEach(cn=>Cf(cn,kt))}),Oe.forEach((It,St)=>{const kt=ge.get(St);It.forEach(cn=>Cf(cn,kt))}),N.forEach(It=>{this.processLeaveNode(It)})});const et=[],ot=[];for(let It=this._namespaceList.length-1;It>=0;It--)this._namespaceList[It].drainQueuedTransitions(t).forEach(kt=>{const cn=kt.player,qr=kt.element;if(et.push(cn),this.collectedEnterElements.length){const Pr=qr[qo];if(Pr&&Pr.setForMove){if(Pr.previousTriggersValues&&Pr.previousTriggersValues.has(kt.triggerName)){const Fl=Pr.previousTriggersValues.get(kt.triggerName),Vs=this.statesByElement.get(kt.element);if(Vs&&Vs.has(kt.triggerName)){const Vl=Vs.get(kt.triggerName);Vl.value=Fl,Vs.set(kt.triggerName,Vl)}}return void cn.destroy()}}const Po=!m||!this.driver.containsElement(m,qr),Rr=ge.get(qr),fr=D.get(qr),pr=this._buildInstruction(kt,r,fr,Rr,Po);if(pr.errors&&pr.errors.length)return void ot.push(pr);if(Po)return cn.onStart(()=>ud(qr,pr.fromStyles)),cn.onDestroy(()=>Aa(qr,pr.toStyles)),void i.push(cn);if(kt.isFallbackTransition)return cn.onStart(()=>ud(qr,pr.fromStyles)),cn.onDestroy(()=>Aa(qr,pr.toStyles)),void i.push(cn);const oc=[];pr.timelines.forEach(Pr=>{Pr.stretchStartingKeyframe=!0,this.disabledNodes.has(Pr.element)||oc.push(Pr)}),pr.timelines=oc,r.append(qr,pr.timelines),o.push({instruction:pr,player:cn,element:qr}),pr.queriedElements.forEach(Pr=>Ys(a,Pr,[]).push(cn)),pr.preStyleProps.forEach((Pr,Fl)=>{if(Pr.size){let Vs=l.get(Fl);Vs||l.set(Fl,Vs=new Set),Pr.forEach((Vl,ac)=>Vs.add(ac))}}),pr.postStyleProps.forEach((Pr,Fl)=>{let Vs=c.get(Fl);Vs||c.set(Fl,Vs=new Set),Pr.forEach((Vl,ac)=>Vs.add(ac))})});if(ot.length){const It=[];ot.forEach(St=>{It.push(function yY(n,e){return new Ae(3505,!1)}())}),et.forEach(St=>St.destroy()),this.reportError(It)}const J=new Map,j=new Map;o.forEach(It=>{const St=It.element;r.has(St)&&(j.set(St,St),this._beforeAnimationBuild(It.player.namespaceId,It.instruction,J))}),i.forEach(It=>{const St=It.element;this._getPreviousPlayers(St,!1,It.namespaceId,It.triggerName,null).forEach(cn=>{Ys(J,St,[]).push(cn),cn.destroy()})});const te=N.filter(It=>sF(It,l,c)),ue=new Map;nF(ue,this.driver,se,c,Il).forEach(It=>{sF(It,l,c)&&te.push(It)});const Ce=new Map;A.forEach((It,St)=>{nF(Ce,this.driver,new Set(It),l,"!")}),te.forEach(It=>{const St=ue.get(It),kt=Ce.get(It);ue.set(It,new Map([...St?.entries()??[],...kt?.entries()??[]]))});const ne=[],Ro=[],sc={};o.forEach(It=>{const{element:St,player:kt,instruction:cn}=It;if(r.has(St)){if(p.has(St))return kt.onDestroy(()=>Aa(St,cn.toStyles)),kt.disabled=!0,kt.overrideTotalTime(cn.totalTime),void i.push(kt);let qr=sc;if(j.size>1){let Rr=St;const fr=[];for(;Rr=Rr.parentNode;){const pr=j.get(Rr);if(pr){qr=pr;break}fr.push(Rr)}fr.forEach(pr=>j.set(pr,qr))}const Po=this._buildAnimation(kt.namespaceId,cn,J,s,Ce,ue);if(kt.setRealPlayer(Po),qr===sc)ne.push(kt);else{const Rr=this.playersByElement.get(qr);Rr&&Rr.length&&(kt.parentPlayer=Su(Rr)),i.push(kt)}}else ud(St,cn.fromStyles),kt.onDestroy(()=>Aa(St,cn.toStyles)),Ro.push(kt),p.has(St)&&i.push(kt)}),Ro.forEach(It=>{const St=s.get(It.element);if(St&&St.length){const kt=Su(St);It.setRealPlayer(kt)}}),i.forEach(It=>{It.parentPlayer?It.syncPlayerEvents(It.parentPlayer):It.destroy()});for(let It=0;It<N.length;It++){const St=N[It],kt=St[qo];if(Cf(St,Uv),kt&&kt.hasAnimation)continue;let cn=[];if(a.size){let Po=a.get(St);Po&&Po.length&&cn.push(...Po);let Rr=this.driver.query(St,UC,!0);for(let fr=0;fr<Rr.length;fr++){let pr=a.get(Rr[fr]);pr&&pr.length&&cn.push(...pr)}}const qr=cn.filter(Po=>!Po.destroyed);qr.length?gX(this,St,qr):this.processLeaveNode(St)}return N.length=0,ne.forEach(It=>{this.players.push(It),It.onDone(()=>{It.destroy();const St=this.players.indexOf(It);this.players.splice(St,1)}),It.play()}),ne}afterFlush(e){this._flushFns.push(e)}afterFlushAnimationsDone(e){this._whenQuietFns.push(e)}_getPreviousPlayers(e,t,r,i,s){let o=[];if(t){const a=this.playersByQueriedElement.get(e);a&&(o=a)}else{const a=this.playersByElement.get(e);if(a){const l=!s||s==km;a.forEach(c=>{c.queued||!l&&c.triggerName!=i||o.push(c)})}}return(r||i)&&(o=o.filter(a=>!(r&&r!=a.namespaceId||i&&i!=a.triggerName))),o}_beforeAnimationBuild(e,t,r){const s=t.element,o=t.isRemovalTransition?void 0:e,a=t.isRemovalTransition?void 0:t.triggerName;for(const l of t.timelines){const c=l.element,p=c!==s,m=Ys(r,c,[]);this._getPreviousPlayers(c,p,o,a,t.toState).forEach(A=>{const D=A.getRealPlayer();D.beforeDestroy&&D.beforeDestroy(),A.destroy(),m.push(A)})}ud(s,t.fromStyles)}_buildAnimation(e,t,r,i,s,o){const a=t.triggerName,l=t.element,c=[],p=new Set,m=new Set,w=t.timelines.map(D=>{const R=D.element;p.add(R);const N=R[qo];if(N&&N.removedBeforeQueried)return new Pm(D.duration,D.delay);const ee=R!==l,se=function mX(n){const e=[];return iF(n,e),e}((r.get(R)||lX).map(J=>J.getRealPlayer())).filter(J=>!!J.element&&J.element===R),ge=s.get(R),Oe=o.get(R),et=OO(this._normalizer,D.keyframes,ge,Oe),ot=this._buildPlayer(D,et,se);if(D.subTimeline&&i&&m.add(R),ee){const J=new ex(e,a,R);J.setRealPlayer(ot),c.push(J)}return ot});c.forEach(D=>{Ys(this.playersByQueriedElement,D.element,[]).push(D),D.onDone(()=>function hX(n,e,t){let r=n.get(e);if(r){if(r.length){const i=r.indexOf(t);r.splice(i,1)}0==r.length&&n.delete(e)}return r}(this.playersByQueriedElement,D.element,D))}),p.forEach(D=>Co(D,jO));const A=Su(w);return A.onDestroy(()=>{p.forEach(D=>Cf(D,jO)),Aa(l,t.toStyles)}),m.forEach(D=>{Ys(i,D,[]).push(A)}),A}_buildPlayer(e,t,r){return t.length>0?this.driver.animate(e.element,t,e.duration,e.delay,e.easing,r):new Pm(e.duration,e.delay)}}class ex{constructor(e,t,r){this.namespaceId=e,this.triggerName=t,this.element=r,this._player=new Pm,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.parentPlayer=null,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(e){this._containsRealPlayer||(this._player=e,this._queuedCallbacks.forEach((t,r)=>{t.forEach(i=>MC(e,r,void 0,i))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(e.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(e){this.totalTime=e}syncPlayerEvents(e){const t=this._player;t.triggerCallback&&e.onStart(()=>t.triggerCallback("start")),e.onDone(()=>this.finish()),e.onDestroy(()=>this.destroy())}_queueEvent(e,t){Ys(this._queuedCallbacks,e,[]).push(t)}onDone(e){this.queued&&this._queueEvent("done",e),this._player.onDone(e)}onStart(e){this.queued&&this._queueEvent("start",e),this._player.onStart(e)}onDestroy(e){this.queued&&this._queueEvent("destroy",e),this._player.onDestroy(e)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(e){this.queued||this._player.setPosition(e)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(e){const t=this._player;t.triggerCallback&&t.triggerCallback(e)}}function Yv(n){return n&&1===n.nodeType}function tF(n,e){const t=n.style.display;return n.style.display=e??"none",t}function nF(n,e,t,r,i){const s=[];t.forEach(l=>s.push(tF(l)));const o=[];r.forEach((l,c)=>{const p=new Map;l.forEach(m=>{const w=e.computeStyle(c,m,i);p.set(m,w),(!w||0==w.length)&&(c[qo]=uX,o.push(c))}),n.set(c,p)});let a=0;return t.forEach(l=>tF(l,s[a++])),o}function rF(n,e){const t=new Map;if(n.forEach(a=>t.set(a,[])),0==e.length)return t;const i=new Set(e),s=new Map;function o(a){if(!a)return 1;let l=s.get(a);if(l)return l;const c=a.parentNode;return l=t.has(c)?c:i.has(c)?1:o(c),s.set(a,l),l}return e.forEach(a=>{const l=o(a);1!==l&&t.get(l).push(a)}),t}function Co(n,e){n.classList?.add(e)}function Cf(n,e){n.classList?.remove(e)}function gX(n,e,t){Su(t).onDone(()=>n.processLeaveNode(e))}function iF(n,e){for(let t=0;t<n.length;t++){const r=n[t];r instanceof NO?iF(r.players,e):e.push(r)}}function sF(n,e,t){const r=t.get(n);if(!r)return!1;let i=e.get(n);return i?r.forEach(s=>i.add(s)):e.set(n,r),t.delete(n),!0}class Om{constructor(e,t,r,i){this._driver=t,this._normalizer=r,this._triggerCache={},this.onRemovalComplete=(s,o)=>{},this._transitionEngine=new dX(e.body,t,r,i),this._timelineEngine=new rX(e.body,t,r),this._transitionEngine.onRemovalComplete=(s,o)=>this.onRemovalComplete(s,o)}registerTrigger(e,t,r,i,s){const o=e+"-"+i;let a=this._triggerCache[o];if(!a){const l=[],p=qC(this._driver,s,l,[]);if(l.length)throw function oY(n,e){return new Ae(3404,!1)}();a=function JY(n,e,t){return new eX(n,e,t)}(i,p,this._normalizer),this._triggerCache[o]=a}this._transitionEngine.registerTrigger(t,i,a)}register(e,t){this._transitionEngine.register(e,t)}destroy(e,t){this._transitionEngine.destroy(e,t)}onInsert(e,t,r,i){this._transitionEngine.insertNode(e,t,r,i)}onRemove(e,t,r){this._transitionEngine.removeNode(e,t,r)}disableAnimations(e,t){this._transitionEngine.markElementAsDisabled(e,t)}process(e,t,r,i){if("@"==r.charAt(0)){const[s,o]=FO(r);this._timelineEngine.command(s,t,o,i)}else this._transitionEngine.trigger(e,t,r,i)}listen(e,t,r,i,s){if("@"==r.charAt(0)){const[o,a]=FO(r);return this._timelineEngine.listen(o,t,a,s)}return this._transitionEngine.listen(e,t,r,i,s)}flush(e=-1){this._transitionEngine.flush(e)}get players(){return[...this._transitionEngine.players,...this._timelineEngine.players]}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}afterFlushAnimationsDone(e){this._transitionEngine.afterFlushAnimationsDone(e)}}class Fm{static#e=this.initialStylesByElement=new WeakMap;constructor(e,t,r){this._element=e,this._startStyles=t,this._endStyles=r,this._state=0;let i=Fm.initialStylesByElement.get(e);i||Fm.initialStylesByElement.set(e,i=new Map),this._initialStyles=i}start(){this._state<1&&(this._startStyles&&Aa(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(Aa(this._element,this._initialStyles),this._endStyles&&(Aa(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(Fm.initialStylesByElement.delete(this._element),this._startStyles&&(ud(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(ud(this._element,this._endStyles),this._endStyles=null),Aa(this._element,this._initialStyles),this._state=3)}}function tx(n){let e=null;return n.forEach((t,r)=>{(function vX(n){return"display"===n||"position"===n})(r)&&(e=e||new Map,e.set(r,t))}),e}class oF{constructor(e,t,r,i){this.element=e,this.keyframes=t,this.options=r,this._specialStyles=i,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=r.duration,this._delay=r.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const e=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,e,this.options),this._finalKeyframe=e.length?e[e.length-1]:new Map;const t=()=>this._onFinish();this.domPlayer.addEventListener("finish",t),this.onDestroy(()=>{this.domPlayer.removeEventListener("finish",t)})}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(e){const t=[];return e.forEach(r=>{t.push(Object.fromEntries(r))}),t}_triggerWebAnimation(e,t,r){return e.animate(this._convertKeyframesToObject(t),r)}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(e=>e()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}setPosition(e){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=e*this.time}getPosition(){return+(this.domPlayer.currentTime??0)/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const e=new Map;this.hasStarted()&&this._finalKeyframe.forEach((r,i)=>{"offset"!==i&&e.set(i,this._finished?r:HC(this.element,i))}),this.currentSnapshot=e}triggerCallback(e){const t="start"===e?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}}class aF{validateStyleProperty(e){return!0}validateAnimatableStyleProperty(e){return!0}matchesElement(e,t){return!1}containsElement(e,t){return LO(e,t)}getParentElement(e){return OC(e)}query(e,t,r){return BO(e,t,r)}computeStyle(e,t,r){return HC(e,t)}animate(e,t,r,i,s,o=[]){const l={duration:r,delay:i,fill:0==i?"both":"forwards"};s&&(l.easing=s);const c=new Map,p=o.filter(A=>A instanceof oF);(function RY(n,e){return 0===n||0===e})(r,i)&&p.forEach(A=>{A.currentSnapshot.forEach((D,R)=>c.set(R,D))});let m=function DY(n){return n.length?n[0]instanceof Map?n:n.map(e=>new Map(Object.entries(e))):[]}(t).map(A=>new Map(A));m=function PY(n,e,t){if(t.size&&e.length){let r=e[0],i=[];if(t.forEach((s,o)=>{r.has(o)||i.push(o),r.set(o,s)}),i.length)for(let s=1;s<e.length;s++){let o=e[s];i.forEach(a=>o.set(a,HC(n,a)))}}return e}(e,m,c);const w=function _X(n,e){let t=null,r=null;return Array.isArray(e)&&e.length?(t=tx(e[0]),e.length>1&&(r=tx(e[e.length-1]))):e instanceof Map&&(t=tx(e)),t||r?new Fm(n,t,r):null}(e,m);return new oF(e,m,l,w)}}const lF="@.disabled";class uF{constructor(e,t,r,i){this.namespaceId=e,this.delegate=t,this.engine=r,this._onDestroy=i,this.\u0275type=0}get data(){return this.delegate.data}destroyNode(e){this.delegate.destroyNode?.(e)}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.engine.afterFlushAnimationsDone(()=>{queueMicrotask(()=>{this.delegate.destroy()})}),this._onDestroy?.()}createElement(e,t){return this.delegate.createElement(e,t)}createComment(e){return this.delegate.createComment(e)}createText(e){return this.delegate.createText(e)}appendChild(e,t){this.delegate.appendChild(e,t),this.engine.onInsert(this.namespaceId,t,e,!1)}insertBefore(e,t,r,i=!0){this.delegate.insertBefore(e,t,r),this.engine.onInsert(this.namespaceId,t,e,i)}removeChild(e,t,r){this.engine.onRemove(this.namespaceId,t,this.delegate)}selectRootElement(e,t){return this.delegate.selectRootElement(e,t)}parentNode(e){return this.delegate.parentNode(e)}nextSibling(e){return this.delegate.nextSibling(e)}setAttribute(e,t,r,i){this.delegate.setAttribute(e,t,r,i)}removeAttribute(e,t,r){this.delegate.removeAttribute(e,t,r)}addClass(e,t){this.delegate.addClass(e,t)}removeClass(e,t){this.delegate.removeClass(e,t)}setStyle(e,t,r,i){this.delegate.setStyle(e,t,r,i)}removeStyle(e,t,r){this.delegate.removeStyle(e,t,r)}setProperty(e,t,r){"@"==t.charAt(0)&&t==lF?this.disableAnimations(e,!!r):this.delegate.setProperty(e,t,r)}setValue(e,t){this.delegate.setValue(e,t)}listen(e,t,r){return this.delegate.listen(e,t,r)}disableAnimations(e,t){this.engine.disableAnimations(e,t)}}class wX extends uF{constructor(e,t,r,i,s){super(t,r,i,s),this.factory=e,this.namespaceId=t}setProperty(e,t,r){"@"==t.charAt(0)?"."==t.charAt(1)&&t==lF?this.disableAnimations(e,r=void 0===r||!!r):this.engine.process(this.namespaceId,e,t.slice(1),r):this.delegate.setProperty(e,t,r)}listen(e,t,r){if("@"==t.charAt(0)){const i=function EX(n){switch(n){case"body":return document.body;case"document":return document;case"window":return window;default:return n}}(e);let s=t.slice(1),o="";return"@"!=s.charAt(0)&&([s,o]=function IX(n){const e=n.indexOf(".");return[n.substring(0,e),n.slice(e+1)]}(s)),this.engine.listen(this.namespaceId,i,s,o,a=>{this.factory.scheduleListenerCallback(a._data||-1,r,a)})}return this.delegate.listen(e,t,r)}}class bX{constructor(e,t,r){this.delegate=e,this.engine=t,this._zone=r,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,t.onRemovalComplete=(i,s)=>{const o=s?.parentNode(i);o&&s.removeChild(o,i)}}createRenderer(e,t){const i=this.delegate.createRenderer(e,t);if(!e||!t?.data?.animation){const c=this._rendererCache;let p=c.get(i);return p||(p=new uF("",i,this.engine,()=>c.delete(i)),c.set(i,p)),p}const s=t.id,o=t.id+"-"+this._currentId;this._currentId++,this.engine.register(o,e);const a=c=>{Array.isArray(c)?c.forEach(a):this.engine.registerTrigger(s,o,e,c.name,c)};return t.data.animation.forEach(a),new wX(this,o,i,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){queueMicrotask(()=>{this._microtaskId++})}scheduleListenerCallback(e,t,r){if(e>=0&&e<this._microtaskId)return void this._zone.run(()=>t(r));const i=this._animationCallbacksBuffer;0==i.length&&queueMicrotask(()=>{this._zone.run(()=>{i.forEach(s=>{const[o,a]=s;o(a)}),this._animationCallbacksBuffer=[]})}),i.push([t,r])}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}const cF=[{provide:LC,useFactory:function CX(){return new HO}},{provide:Om,useClass:(()=>{class n extends Om{constructor(t,r,i){super(t,r,i,qe($_,{optional:!0}))}ngOnDestroy(){this.flush()}static#e=this.\u0275fac=function(r){return new(r||n)(We(Ns),We(VC),We(LC))};static#t=this.\u0275prov=pt({token:n,factory:n.\u0275fac})}return n})()},{provide:jb,useFactory:function xX(n,e,t){return new bX(n,e,t)},deps:[TC,Om,_n]}],nx=[{provide:VC,useFactory:()=>new aF},{provide:q1,useValue:"BrowserAnimations"},...cF],dF=[{provide:VC,useClass:FC},{provide:q1,useValue:"NoopAnimations"},...cF];let DX=(()=>{class n{static withConfig(t){return{ngModule:n,providers:t.disableAnimations?dF:nx}}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275mod=Vr({type:n});static#n=this.\u0275inj=ri({providers:nx,imports:[CO]})}return n})();var xf=oe(635);const hF=n=>n&&"number"==typeof n.length&&"function"!=typeof n;function fF(n){return vt(n?.then)}function pF(n){return vt(n[_s])}function gF(n){return Symbol.asyncIterator&&vt(n?.[Symbol.asyncIterator])}function mF(n){return new TypeError(`You provided ${null!==n&&"object"==typeof n?"an invalid object":`'${n}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}const yF=function SX(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}();function _F(n){return vt(n?.[yF])}function vF(n){return(0,xf.AQ)(this,arguments,function*(){const t=n.getReader();try{for(;;){const{value:r,done:i}=yield(0,xf.N3)(t.read());if(i)return yield(0,xf.N3)(void 0);yield yield(0,xf.N3)(r)}}finally{t.releaseLock()}})}function wF(n){return vt(n?.getReader)}function Zs(n){if(n instanceof rn)return n;if(null!=n){if(pF(n))return function RX(n){return new rn(e=>{const t=n[_s]();if(vt(t.subscribe))return t.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(n);if(hF(n))return function PX(n){return new rn(e=>{for(let t=0;t<n.length&&!e.closed;t++)e.next(n[t]);e.complete()})}(n);if(fF(n))return function MX(n){return new rn(e=>{n.then(t=>{e.closed||(e.next(t),e.complete())},t=>e.error(t)).then(null,On)})}(n);if(gF(n))return EF(n);if(_F(n))return function NX(n){return new rn(e=>{for(const t of n)if(e.next(t),e.closed)return;e.complete()})}(n);if(wF(n))return function kX(n){return EF(vF(n))}(n)}throw mF(n)}function EF(n){return new rn(e=>{(function OX(n,e){var t,r,i,s;return(0,xf.sH)(this,void 0,void 0,function*(){try{for(t=(0,xf.xN)(n);!(r=yield t.next()).done;)if(e.next(r.value),e.closed)return}catch(o){i={error:o}}finally{try{r&&!r.done&&(s=t.return)&&(yield s.call(t))}finally{if(i)throw i.error}}e.complete()})})(n,e).catch(t=>e.error(t))})}function Al(n,e,t,r=0,i=!1){const s=e.schedule(function(){t(),i?n.add(this.schedule(null,r)):this.unsubscribe()},r);if(n.add(s),!i)return s}function Ru(n,e=0){return fe((t,r)=>{t.subscribe(rt(r,i=>Al(r,n,()=>r.next(i),e),()=>Al(r,n,()=>r.complete(),e),i=>Al(r,n,()=>r.error(i),e)))})}function dd(n,e=0){return fe((t,r)=>{r.add(n.schedule(()=>t.subscribe(r),e))})}function IF(n,e){if(!n)throw new Error("Iterable cannot be null");return new rn(t=>{Al(t,e,()=>{const r=n[Symbol.asyncIterator]();Al(t,e,()=>{r.next().then(i=>{i.done?t.complete():t.next(i.value)})},0,!0)})})}function or(n,e){return e?function jX(n,e){if(null!=n){if(pF(n))return function FX(n,e){return Zs(n).pipe(dd(e),Ru(e))}(n,e);if(hF(n))return function LX(n,e){return new rn(t=>{let r=0;return e.schedule(function(){r===n.length?t.complete():(t.next(n[r++]),t.closed||this.schedule())})})}(n,e);if(fF(n))return function VX(n,e){return Zs(n).pipe(dd(e),Ru(e))}(n,e);if(gF(n))return IF(n,e);if(_F(n))return function BX(n,e){return new rn(t=>{let r;return Al(t,e,()=>{r=n[yF](),Al(t,e,()=>{let i,s;try{({value:i,done:s}=r.next())}catch(o){return void t.error(o)}s?t.complete():t.next(i)},0,!0)}),()=>vt(r?.return)&&r.return()})}(n,e);if(wF(n))return function UX(n,e){return IF(vF(n),e)}(n,e)}throw mF(n)}(n,e):Zs(n)}function rx(n){return n[n.length-1]}function bF(n){return vt(rx(n))?n.pop():void 0}function Vm(n){return function $X(n){return n&&vt(n.schedule)}(rx(n))?n.pop():void 0}function Ft(...n){return or(n,Vm(n))}const{isArray:HX}=Array,{getPrototypeOf:qX,prototype:GX,keys:WX}=Object;function AF(n){if(1===n.length){const e=n[0];if(HX(e))return{args:e,keys:null};if(function KX(n){return n&&"object"==typeof n&&qX(n)===GX}(e)){const t=WX(e);return{args:t.map(r=>e[r]),keys:t}}}return{args:n,keys:null}}const{isArray:QX}=Array;function CF(n){return mt(e=>function YX(n,e){return QX(e)?n(...e):n(e)}(n,e))}function xF(n,e){return n.reduce((t,r,i)=>(t[r]=e[i],t),{})}function ix(...n){const e=Vm(n),t=bF(n),{args:r,keys:i}=AF(n);if(0===r.length)return or([],e);const s=new rn(function XX(n,e,t=br){return r=>{DF(e,()=>{const{length:i}=n,s=new Array(i);let o=i,a=i;for(let l=0;l<i;l++)DF(e,()=>{const c=or(n[l],e);let p=!1;c.subscribe(rt(r,m=>{s[l]=m,p||(p=!0,a--),a||r.next(t(s.slice()))},()=>{--o||r.complete()}))},r)},r)}}(r,e,i?o=>xF(i,o):br));return t?s.pipe(CF(t)):s}function DF(n,e,t){n?Al(t,n,e):e()}const Zv=Wt(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});function zi(n,e,t=1/0){return vt(e)?zi((r,i)=>mt((s,o)=>e(r,s,i,o))(Zs(n(r,i))),t):("number"==typeof e&&(t=e),fe((r,i)=>function ZX(n,e,t,r,i,s,o,a){const l=[];let c=0,p=0,m=!1;const w=()=>{m&&!l.length&&!c&&e.complete()},A=R=>c<r?D(R):l.push(R),D=R=>{s&&e.next(R),c++;let N=!1;Zs(t(R,p++)).subscribe(rt(e,ee=>{i?.(ee),s?A(ee):e.next(ee)},()=>{N=!0},void 0,()=>{if(N)try{for(c--;l.length&&c<r;){const ee=l.shift();o?Al(e,o,()=>D(ee)):D(ee)}w()}catch(ee){e.error(ee)}}))};return n.subscribe(rt(e,A,()=>{m=!0,w()})),()=>{a?.()}}(r,i,n,t)))}function Df(n=1/0){return zi(br,n)}function sx(...n){return function JX(){return Df(1)}()(or(n,Vm(n)))}function TF(n){return new rn(e=>{Zs(n()).subscribe(e)})}function Jv(n,e){const t=vt(n)?n:()=>n,r=i=>i.error(t());return new rn(e?i=>e.schedule(r,0,i):r)}const Go=new rn(n=>n.complete());function ox(){return fe((n,e)=>{let t=null;n._refCount++;const r=rt(e,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount)return void(t=null);const i=n._connection,s=t;t=null,i&&(!s||i===s)&&i.unsubscribe(),e.unsubscribe()});n.subscribe(r),r.closed||(t=n.connect())})}class SF extends rn{constructor(e,t){super(),this.source=e,this.subjectFactory=t,this._subject=null,this._refCount=0,this._connection=null,Me(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){const e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new zt;const t=this.getSubject();e.add(this.source.subscribe(rt(t,void 0,()=>{this._teardown(),t.complete()},r=>{this._teardown(),t.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=zt.EMPTY)}return e}refCount(){return ox()(this)}}function ui(n,e){return fe((t,r)=>{let i=null,s=0,o=!1;const a=()=>o&&!i&&r.complete();t.subscribe(rt(r,l=>{i?.unsubscribe();let c=0;const p=s++;Zs(n(l,p)).subscribe(i=rt(r,m=>r.next(e?e(l,m,p,c++):m),()=>{i=null,a()}))},()=>{o=!0,a()}))})}function Tf(n){return n<=0?()=>Go:fe((e,t)=>{let r=0;e.subscribe(rt(t,i=>{++r<=n&&(t.next(i),n<=r&&t.complete())}))})}function ew(...n){const e=Vm(n);return fe((t,r)=>{(e?sx(n,t,e):sx(n,t)).subscribe(r)})}function xo(n,e){return fe((t,r)=>{let i=0;t.subscribe(rt(r,s=>n.call(e,s,i++)&&r.next(s)))})}function tw(n){return fe((e,t)=>{let r=!1;e.subscribe(rt(t,i=>{r=!0,t.next(i)},()=>{r||t.next(n),t.complete()}))})}function RF(n=tZ){return fe((e,t)=>{let r=!1;e.subscribe(rt(t,i=>{r=!0,t.next(i)},()=>r?t.complete():t.error(n())))})}function tZ(){return new Zv}function Pu(n,e){const t=arguments.length>=2;return r=>r.pipe(n?xo((i,s)=>n(i,s,r)):br,Tf(1),t?tw(e):RF(()=>new Zv))}function Sf(n,e){return vt(e)?zi(n,e,1):zi(n,1)}function Hi(n,e,t){const r=vt(n)||e||t?{next:n,error:e,complete:t}:n;return r?fe((i,s)=>{var o;null===(o=r.subscribe)||void 0===o||o.call(r);let a=!0;i.subscribe(rt(s,l=>{var c;null===(c=r.next)||void 0===c||c.call(r,l),s.next(l)},()=>{var l;a=!1,null===(l=r.complete)||void 0===l||l.call(r),s.complete()},l=>{var c;a=!1,null===(c=r.error)||void 0===c||c.call(r,l),s.error(l)},()=>{var l,c;a&&(null===(l=r.unsubscribe)||void 0===l||l.call(r)),null===(c=r.finalize)||void 0===c||c.call(r)}))}):br}function Rf(n){return fe((e,t)=>{let s,r=null,i=!1;r=e.subscribe(rt(t,void 0,void 0,o=>{s=Zs(n(o,Rf(n)(e))),r?(r.unsubscribe(),r=null,s.subscribe(t)):i=!0})),i&&(r.unsubscribe(),r=null,s.subscribe(t))})}function nw(n,e){return fe(function nZ(n,e,t,r,i){return(s,o)=>{let a=t,l=e,c=0;s.subscribe(rt(o,p=>{const m=c++;l=a?n(l,p,m):(a=!0,p),r&&o.next(l)},i&&(()=>{a&&o.next(l),o.complete()})))}}(n,e,arguments.length>=2,!0))}function ax(n){return n<=0?()=>Go:fe((e,t)=>{let r=[];e.subscribe(rt(t,i=>{r.push(i),n<r.length&&r.shift()},()=>{for(const i of r)t.next(i);t.complete()},void 0,()=>{r=null}))})}function Lm(n){return fe((e,t)=>{try{e.subscribe(t)}finally{t.add(n)}})}const nn="primary",Bm=Symbol("RouteTitle");class oZ{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}}function Pf(n){return new oZ(n)}function aZ(n,e,t){const r=t.path.split("/");if(r.length>n.length||"full"===t.pathMatch&&(e.hasChildren()||r.length<n.length))return null;const i={};for(let s=0;s<r.length;s++){const o=r[s],a=n[s];if(o.startsWith(":"))i[o.substring(1)]=a;else if(o!==a.path)return null}return{consumed:n.slice(0,r.length),posParams:i}}function Ca(n,e){const t=n?lx(n):void 0,r=e?lx(e):void 0;if(!t||!r||t.length!=r.length)return!1;let i;for(let s=0;s<t.length;s++)if(i=t[s],!PF(n[i],e[i]))return!1;return!0}function lx(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}function PF(n,e){if(Array.isArray(n)&&Array.isArray(e)){if(n.length!==e.length)return!1;const t=[...n].sort(),r=[...e].sort();return t.every((i,s)=>r[s]===i)}return n===e}function MF(n){return n.length>0?n[n.length-1]:null}function Mu(n){return function TX(n){return!!n&&(n instanceof rn||vt(n.lift)&&vt(n.subscribe))}(n)?n:Em(n)?or(Promise.resolve(n)):Ft(n)}const uZ={exact:function OF(n,e,t){if(!hd(n.segments,e.segments)||!rw(n.segments,e.segments,t)||n.numberOfChildren!==e.numberOfChildren)return!1;for(const r in e.children)if(!n.children[r]||!OF(n.children[r],e.children[r],t))return!1;return!0},subset:FF},NF={exact:function cZ(n,e){return Ca(n,e)},subset:function dZ(n,e){return Object.keys(e).length<=Object.keys(n).length&&Object.keys(e).every(t=>PF(n[t],e[t]))},ignored:()=>!0};function kF(n,e,t){return uZ[t.paths](n.root,e.root,t.matrixParams)&&NF[t.queryParams](n.queryParams,e.queryParams)&&!("exact"===t.fragment&&n.fragment!==e.fragment)}function FF(n,e,t){return VF(n,e,e.segments,t)}function VF(n,e,t,r){if(n.segments.length>t.length){const i=n.segments.slice(0,t.length);return!(!hd(i,t)||e.hasChildren()||!rw(i,t,r))}if(n.segments.length===t.length){if(!hd(n.segments,t)||!rw(n.segments,t,r))return!1;for(const i in e.children)if(!n.children[i]||!FF(n.children[i],e.children[i],r))return!1;return!0}{const i=t.slice(0,n.segments.length),s=t.slice(n.segments.length);return!!(hd(n.segments,i)&&rw(n.segments,i,r)&&n.children[nn])&&VF(n.children[nn],e,s,r)}}function rw(n,e,t){return e.every((r,i)=>NF[t](n[i].parameters,r.parameters))}class Mf{constructor(e=new Gn([],{}),t={},r=null){this.root=e,this.queryParams=t,this.fragment=r}get queryParamMap(){return this._queryParamMap??=Pf(this.queryParams),this._queryParamMap}toString(){return pZ.serialize(this)}}class Gn{constructor(e,t){this.segments=e,this.children=t,this.parent=null,Object.values(t).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return iw(this)}}class Um{constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap??=Pf(this.parameters),this._parameterMap}toString(){return UF(this)}}function hd(n,e){return n.length===e.length&&n.every((t,r)=>t.path===e[r].path)}let Nf=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=pt({token:n,factory:()=>new ux,providedIn:"root"})}return n})();class ux{parse(e){const t=new CZ(e);return new Mf(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){const t=`/${jm(e.root,!0)}`,r=function yZ(n){const e=Object.entries(n).map(([t,r])=>Array.isArray(r)?r.map(i=>`${sw(t)}=${sw(i)}`).join("&"):`${sw(t)}=${sw(r)}`).filter(t=>t);return e.length?`?${e.join("&")}`:""}(e.queryParams);return`${t}${r}${"string"==typeof e.fragment?`#${function gZ(n){return encodeURI(n)}(e.fragment)}`:""}`}}const pZ=new ux;function iw(n){return n.segments.map(e=>UF(e)).join("/")}function jm(n,e){if(!n.hasChildren())return iw(n);if(e){const t=n.children[nn]?jm(n.children[nn],!1):"",r=[];return Object.entries(n.children).forEach(([i,s])=>{i!==nn&&r.push(`${i}:${jm(s,!1)}`)}),r.length>0?`${t}(${r.join("//")})`:t}{const t=function fZ(n,e){let t=[];return Object.entries(n.children).forEach(([r,i])=>{r===nn&&(t=t.concat(e(i,r)))}),Object.entries(n.children).forEach(([r,i])=>{r!==nn&&(t=t.concat(e(i,r)))}),t}(n,(r,i)=>i===nn?[jm(n.children[nn],!1)]:[`${i}:${jm(r,!1)}`]);return 1===Object.keys(n.children).length&&null!=n.children[nn]?`${iw(n)}/${t[0]}`:`${iw(n)}/(${t.join("//")})`}}function LF(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function sw(n){return LF(n).replace(/%3B/gi,";")}function cx(n){return LF(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function ow(n){return decodeURIComponent(n)}function BF(n){return ow(n.replace(/\+/g,"%20"))}function UF(n){return`${cx(n.path)}${function mZ(n){return Object.entries(n).map(([e,t])=>`;${cx(e)}=${cx(t)}`).join("")}(n.parameters)}`}const _Z=/^[^\/()?;#]+/;function dx(n){const e=n.match(_Z);return e?e[0]:""}const vZ=/^[^\/()?;=#]+/,EZ=/^[^=?&#]+/,bZ=/^[^&#]+/;class CZ{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Gn([],{}):new Gn([],this.parseChildren())}parseQueryParams(){const e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(r[nn]=new Gn(e,t)),r}parseSegment(){const e=dx(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new Ae(4009,!1);return this.capture(e),new Um(ow(e),this.parseMatrixParams())}parseMatrixParams(){const e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){const t=function wZ(n){const e=n.match(vZ);return e?e[0]:""}(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const i=dx(this.remaining);i&&(r=i,this.capture(r))}e[ow(t)]=ow(r)}parseQueryParam(e){const t=function IZ(n){const e=n.match(EZ);return e?e[0]:""}(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const o=function AZ(n){const e=n.match(bZ);return e?e[0]:""}(this.remaining);o&&(r=o,this.capture(r))}const i=BF(t),s=BF(r);if(e.hasOwnProperty(i)){let o=e[i];Array.isArray(o)||(o=[o],e[i]=o),o.push(s)}else e[i]=s}parseParens(e){const t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const r=dx(this.remaining),i=this.remaining[r.length];if("/"!==i&&")"!==i&&";"!==i)throw new Ae(4010,!1);let s;r.indexOf(":")>-1?(s=r.slice(0,r.indexOf(":")),this.capture(s),this.capture(":")):e&&(s=nn);const o=this.parseChildren();t[s]=1===Object.keys(o).length?o[nn]:new Gn([],o),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}capture(e){if(!this.consumeOptional(e))throw new Ae(4011,!1)}}function jF(n){return n.segments.length>0?new Gn([],{[nn]:n}):n}function $F(n){const e={};for(const[r,i]of Object.entries(n.children)){const s=$F(i);if(r===nn&&0===s.segments.length&&s.hasChildren())for(const[o,a]of Object.entries(s.children))e[o]=a;else(s.segments.length>0||s.hasChildren())&&(e[r]=s)}return function xZ(n){if(1===n.numberOfChildren&&n.children[nn]){const e=n.children[nn];return new Gn(n.segments.concat(e.segments),e.children)}return n}(new Gn(n.segments,e))}function kf(n){return n instanceof Mf}function zF(n){let e;const i=jF(function t(s){const o={};for(const l of s.children){const c=t(l);o[l.outlet]=c}const a=new Gn(s.url,o);return s===n&&(e=a),a}(n.root));return e??i}function HF(n,e,t,r){let i=n;for(;i.parent;)i=i.parent;if(0===e.length)return hx(i,i,i,t,r);const s=function TZ(n){if("string"==typeof n[0]&&1===n.length&&"/"===n[0])return new GF(!0,0,n);let e=0,t=!1;const r=n.reduce((i,s,o)=>{if("object"==typeof s&&null!=s){if(s.outlets){const a={};return Object.entries(s.outlets).forEach(([l,c])=>{a[l]="string"==typeof c?c.split("/"):c}),[...i,{outlets:a}]}if(s.segmentPath)return[...i,s.segmentPath]}return"string"!=typeof s?[...i,s]:0===o?(s.split("/").forEach((a,l)=>{0==l&&"."===a||(0==l&&""===a?t=!0:".."===a?e++:""!=a&&i.push(a))}),i):[...i,s]},[]);return new GF(t,e,r)}(e);if(s.toRoot())return hx(i,i,new Gn([],{}),t,r);const o=function SZ(n,e,t){if(n.isAbsolute)return new lw(e,!0,0);if(!t)return new lw(e,!1,NaN);if(null===t.parent)return new lw(t,!0,0);const r=aw(n.commands[0])?0:1;return function RZ(n,e,t){let r=n,i=e,s=t;for(;s>i;){if(s-=i,r=r.parent,!r)throw new Ae(4005,!1);i=r.segments.length}return new lw(r,!1,i-s)}(t,t.segments.length-1+r,n.numberOfDoubleDots)}(s,i,n),a=o.processChildren?zm(o.segmentGroup,o.index,s.commands):WF(o.segmentGroup,o.index,s.commands);return hx(i,o.segmentGroup,a,t,r)}function aw(n){return"object"==typeof n&&null!=n&&!n.outlets&&!n.segmentPath}function $m(n){return"object"==typeof n&&null!=n&&n.outlets}function hx(n,e,t,r,i){let o,s={};r&&Object.entries(r).forEach(([l,c])=>{s[l]=Array.isArray(c)?c.map(p=>`${p}`):`${c}`}),o=n===e?t:qF(n,e,t);const a=jF($F(o));return new Mf(a,s,i)}function qF(n,e,t){const r={};return Object.entries(n.children).forEach(([i,s])=>{r[i]=s===e?t:qF(s,e,t)}),new Gn(n.segments,r)}class GF{constructor(e,t,r){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=r,e&&r.length>0&&aw(r[0]))throw new Ae(4003,!1);const i=r.find($m);if(i&&i!==MF(r))throw new Ae(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class lw{constructor(e,t,r){this.segmentGroup=e,this.processChildren=t,this.index=r}}function WF(n,e,t){if(n??=new Gn([],{}),0===n.segments.length&&n.hasChildren())return zm(n,e,t);const r=function MZ(n,e,t){let r=0,i=e;const s={match:!1,pathIndex:0,commandIndex:0};for(;i<n.segments.length;){if(r>=t.length)return s;const o=n.segments[i],a=t[r];if($m(a))break;const l=`${a}`,c=r<t.length-1?t[r+1]:null;if(i>0&&void 0===l)break;if(l&&c&&"object"==typeof c&&void 0===c.outlets){if(!QF(l,c,o))return s;r+=2}else{if(!QF(l,{},o))return s;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(n,e,t),i=t.slice(r.commandIndex);if(r.match&&r.pathIndex<n.segments.length){const s=new Gn(n.segments.slice(0,r.pathIndex),{});return s.children[nn]=new Gn(n.segments.slice(r.pathIndex),n.children),zm(s,0,i)}return r.match&&0===i.length?new Gn(n.segments,{}):r.match&&!n.hasChildren()?fx(n,e,t):r.match?zm(n,0,i):fx(n,e,t)}function zm(n,e,t){if(0===t.length)return new Gn(n.segments,{});{const r=function PZ(n){return $m(n[0])?n[0].outlets:{[nn]:n}}(t),i={};if(Object.keys(r).some(s=>s!==nn)&&n.children[nn]&&1===n.numberOfChildren&&0===n.children[nn].segments.length){const s=zm(n.children[nn],e,t);return new Gn(n.segments,s.children)}return Object.entries(r).forEach(([s,o])=>{"string"==typeof o&&(o=[o]),null!==o&&(i[s]=WF(n.children[s],e,o))}),Object.entries(n.children).forEach(([s,o])=>{void 0===r[s]&&(i[s]=o)}),new Gn(n.segments,i)}}function fx(n,e,t){const r=n.segments.slice(0,e);let i=0;for(;i<t.length;){const s=t[i];if($m(s)){const l=NZ(s.outlets);return new Gn(r,l)}if(0===i&&aw(t[0])){r.push(new Um(n.segments[e].path,KF(t[0]))),i++;continue}const o=$m(s)?s.outlets[nn]:`${s}`,a=i<t.length-1?t[i+1]:null;o&&a&&aw(a)?(r.push(new Um(o,KF(a))),i+=2):(r.push(new Um(o,{})),i++)}return new Gn(r,{})}function NZ(n){const e={};return Object.entries(n).forEach(([t,r])=>{"string"==typeof r&&(r=[r]),null!==r&&(e[t]=fx(new Gn([],{}),0,r))}),e}function KF(n){const e={};return Object.entries(n).forEach(([t,r])=>e[t]=`${r}`),e}function QF(n,e,t){return n==t.path&&Ca(e,t.parameters)}const Hm="imperative";var vn=function(n){return n[n.NavigationStart=0]="NavigationStart",n[n.NavigationEnd=1]="NavigationEnd",n[n.NavigationCancel=2]="NavigationCancel",n[n.NavigationError=3]="NavigationError",n[n.RoutesRecognized=4]="RoutesRecognized",n[n.ResolveStart=5]="ResolveStart",n[n.ResolveEnd=6]="ResolveEnd",n[n.GuardsCheckStart=7]="GuardsCheckStart",n[n.GuardsCheckEnd=8]="GuardsCheckEnd",n[n.RouteConfigLoadStart=9]="RouteConfigLoadStart",n[n.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",n[n.ChildActivationStart=11]="ChildActivationStart",n[n.ChildActivationEnd=12]="ChildActivationEnd",n[n.ActivationStart=13]="ActivationStart",n[n.ActivationEnd=14]="ActivationEnd",n[n.Scroll=15]="Scroll",n[n.NavigationSkipped=16]="NavigationSkipped",n}(vn||{});class xa{constructor(e,t){this.id=e,this.url=t}}class uw extends xa{constructor(e,t,r="imperative",i=null){super(e,t),this.type=vn.NavigationStart,this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Cl extends xa{constructor(e,t,r){super(e,t),this.urlAfterRedirects=r,this.type=vn.NavigationEnd}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}var Js=function(n){return n[n.Redirect=0]="Redirect",n[n.SupersededByNewNavigation=1]="SupersededByNewNavigation",n[n.NoDataFromResolver=2]="NoDataFromResolver",n[n.GuardRejected=3]="GuardRejected",n}(Js||{}),cw=function(n){return n[n.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",n[n.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",n}(cw||{});class Of extends xa{constructor(e,t,r,i){super(e,t),this.reason=r,this.code=i,this.type=vn.NavigationCancel}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Ff extends xa{constructor(e,t,r,i){super(e,t),this.reason=r,this.code=i,this.type=vn.NavigationSkipped}}class dw extends xa{constructor(e,t,r,i){super(e,t),this.error=r,this.target=i,this.type=vn.NavigationError}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class YF extends xa{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=vn.RoutesRecognized}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class kZ extends xa{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=vn.GuardsCheckStart}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class OZ extends xa{constructor(e,t,r,i,s){super(e,t),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=s,this.type=vn.GuardsCheckEnd}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class FZ extends xa{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=vn.ResolveStart}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class VZ extends xa{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=vn.ResolveEnd}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class LZ{constructor(e){this.route=e,this.type=vn.RouteConfigLoadStart}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class BZ{constructor(e){this.route=e,this.type=vn.RouteConfigLoadEnd}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class UZ{constructor(e){this.snapshot=e,this.type=vn.ChildActivationStart}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class jZ{constructor(e){this.snapshot=e,this.type=vn.ChildActivationEnd}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class $Z{constructor(e){this.snapshot=e,this.type=vn.ActivationStart}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class zZ{constructor(e){this.snapshot=e,this.type=vn.ActivationEnd}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class XF{constructor(e,t,r){this.routerEvent=e,this.position=t,this.anchor=r,this.type=vn.Scroll}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class px{}class gx{constructor(e){this.url=e}}class HZ{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new qm,this.attachRef=null}}let qm=(()=>{class n{constructor(){this.contexts=new Map}onChildOutletCreated(t,r){const i=this.getOrCreateContext(t);i.outlet=r,this.contexts.set(t,i)}onChildOutletDestroyed(t){const r=this.getContext(t);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){const t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let r=this.getContext(t);return r||(r=new HZ,this.contexts.set(t,r)),r}getContext(t){return this.contexts.get(t)||null}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=pt({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();class ZF{constructor(e){this._root=e}get root(){return this._root.value}parent(e){const t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){const t=mx(e,this._root);return t?t.children.map(r=>r.value):[]}firstChild(e){const t=mx(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){const t=yx(e,this._root);return t.length<2?[]:t[t.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return yx(e,this._root).map(t=>t.value)}}function mx(n,e){if(n===e.value)return e;for(const t of e.children){const r=mx(n,t);if(r)return r}return null}function yx(n,e){if(n===e.value)return[e];for(const t of e.children){const r=yx(n,t);if(r.length)return r.unshift(e),r}return[]}class Wo{constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}}function Vf(n){const e={};return n&&n.children.forEach(t=>e[t.value.outlet]=t),e}class JF extends ZF{constructor(e,t){super(e),this.snapshot=t,wx(this,e)}toString(){return this.snapshot.toString()}}function eV(n){const e=function qZ(n){const s=new vx([],{},{},"",{},nn,n,null,{});return new tV("",new Wo(s,[]))}(n),t=new Z([new Um("",{})]),r=new Z({}),i=new Z({}),s=new Z({}),o=new Z(""),a=new Lf(t,r,s,o,i,nn,n,e.root);return a.snapshot=e.root,new JF(new Wo(a,[]),e)}class Lf{constructor(e,t,r,i,s,o,a,l){this.urlSubject=e,this.paramsSubject=t,this.queryParamsSubject=r,this.fragmentSubject=i,this.dataSubject=s,this.outlet=o,this.component=a,this._futureSnapshot=l,this.title=this.dataSubject?.pipe(mt(c=>c[Bm]))??Ft(void 0),this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=s}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(mt(e=>Pf(e))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(mt(e=>Pf(e))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function _x(n,e,t="emptyOnly"){let r;const{routeConfig:i}=n;return r=null===e||"always"!==t&&""!==i?.path&&(e.component||e.routeConfig?.loadComponent)?{params:{...n.params},data:{...n.data},resolve:{...n.data,...n._resolvedData??{}}}:{params:{...e.params,...n.params},data:{...e.data,...n.data},resolve:{...n.data,...e.data,...i?.data,...n._resolvedData}},i&&rV(i)&&(r.resolve[Bm]=i.title),r}class vx{get title(){return this.data?.[Bm]}constructor(e,t,r,i,s,o,a,l,c){this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=s,this.outlet=o,this.component=a,this.routeConfig=l,this._resolve=c}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=Pf(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=Pf(this.queryParams),this._queryParamMap}toString(){return`Route(url:'${this.url.map(r=>r.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class tV extends ZF{constructor(e,t){super(t),this.url=e,wx(this,t)}toString(){return nV(this._root)}}function wx(n,e){e.value._routerState=n,e.children.forEach(t=>wx(n,t))}function nV(n){const e=n.children.length>0?` { ${n.children.map(nV).join(", ")} } `:"";return`${n.value}${e}`}function Ex(n){if(n.snapshot){const e=n.snapshot,t=n._futureSnapshot;n.snapshot=t,Ca(e.queryParams,t.queryParams)||n.queryParamsSubject.next(t.queryParams),e.fragment!==t.fragment&&n.fragmentSubject.next(t.fragment),Ca(e.params,t.params)||n.paramsSubject.next(t.params),function lZ(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;++t)if(!Ca(n[t],e[t]))return!1;return!0}(e.url,t.url)||n.urlSubject.next(t.url),Ca(e.data,t.data)||n.dataSubject.next(t.data)}else n.snapshot=n._futureSnapshot,n.dataSubject.next(n._futureSnapshot.data)}function Ix(n,e){const t=Ca(n.params,e.params)&&function hZ(n,e){return hd(n,e)&&n.every((t,r)=>Ca(t.parameters,e[r].parameters))}(n.url,e.url);return t&&!(!n.parent!=!e.parent)&&(!n.parent||Ix(n.parent,e.parent))}function rV(n){return"string"==typeof n.title||null===n.title}let bx=(()=>{class n{constructor(){this.activated=null,this._activatedRoute=null,this.name=nn,this.activateEvents=new Tr,this.deactivateEvents=new Tr,this.attachEvents=new Tr,this.detachEvents=new Tr,this.parentContexts=qe(qm),this.location=qe(Uo),this.changeDetector=qe(Im),this.environmentInjector=qe(ii),this.inputBinder=qe(hw,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(t){if(t.name){const{firstChange:r,previousValue:i}=t.name;if(r)return;this.isTrackedInParentContexts(i)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(i)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(t){return this.parentContexts.getContext(t)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const t=this.parentContexts.getContext(this.name);t?.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Ae(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Ae(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Ae(4012,!1);this.location.detach();const t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,r){this.activated=t,this._activatedRoute=r,this.location.insert(t.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){const t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,r){if(this.isActivated)throw new Ae(4013,!1);this._activatedRoute=t;const i=this.location,o=t.snapshot.component,a=this.parentContexts.getOrCreateContext(this.name).children,l=new Ax(t,a,i.injector);this.activated=i.createComponent(o,{index:i.length,injector:l,environmentInjector:r??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275dir=Vt({type:n,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[ls]})}return n})();class Ax{__ngOutletInjector(e){return new Ax(this.route,this.childContexts,e)}constructor(e,t,r){this.route=e,this.childContexts=t,this.parent=r}get(e,t){return e===Lf?this.route:e===qm?this.childContexts:this.parent.get(e,t)}}const hw=new Qe("");let iV=(()=>{class n{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(t){this.unsubscribeFromRouteData(t),this.subscribeToRouteData(t)}unsubscribeFromRouteData(t){this.outletDataSubscriptions.get(t)?.unsubscribe(),this.outletDataSubscriptions.delete(t)}subscribeToRouteData(t){const{activatedRoute:r}=t,i=ix([r.queryParams,r.params,r.data]).pipe(ui(([s,o,a],l)=>(a={...s,...o,...a},0===l?Ft(a):Promise.resolve(a)))).subscribe(s=>{if(!t.isActivated||!t.activatedComponentRef||t.activatedRoute!==r||null===r.component)return void this.unsubscribeFromRouteData(t);const o=function sW(n){const e=Ht(n);if(!e)return null;const t=new rm(e);return{get selector(){return t.selector},get type(){return t.componentType},get inputs(){return t.inputs},get outputs(){return t.outputs},get ngContentSelectors(){return t.ngContentSelectors},get isStandalone(){return e.standalone},get isSignal(){return e.signals}}}(r.component);if(o)for(const{templateName:a}of o.inputs)t.activatedComponentRef.setInput(a,s[a]);else this.unsubscribeFromRouteData(t)});this.outletDataSubscriptions.set(t,i)}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=pt({token:n,factory:n.\u0275fac})}return n})();function Gm(n,e,t){if(t&&n.shouldReuseRoute(e.value,t.value.snapshot)){const r=t.value;r._futureSnapshot=e.value;const i=function WZ(n,e,t){return e.children.map(r=>{for(const i of t.children)if(n.shouldReuseRoute(r.value,i.value.snapshot))return Gm(n,r,i);return Gm(n,r)})}(n,e,t);return new Wo(r,i)}{if(n.shouldAttach(e.value)){const s=n.retrieve(e.value);if(null!==s){const o=s.route;return o.value._futureSnapshot=e.value,o.children=e.children.map(a=>Gm(n,a)),o}}const r=function KZ(n){return new Lf(new Z(n.url),new Z(n.params),new Z(n.queryParams),new Z(n.fragment),new Z(n.data),n.outlet,n.component,n)}(e.value),i=e.children.map(s=>Gm(n,s));return new Wo(r,i)}}const sV="ngNavigationCancelingError";function oV(n,e){const{redirectTo:t,navigationBehaviorOptions:r}=kf(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=aV(!1,Js.Redirect);return i.url=t,i.navigationBehaviorOptions=r,i}function aV(n,e){const t=new Error(`NavigationCancelingError: ${n||""}`);return t[sV]=!0,t.cancellationCode=e,t}function lV(n){return!!n&&n[sV]}let uV=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275cmp=ji({type:n,selectors:[["ng-component"]],standalone:!0,features:[m2],decls:1,vars:0,template:function(r,i){1&r&&Zn(0,"router-outlet")},dependencies:[bx],encapsulation:2})}return n})();function Cx(n){const e=n.children&&n.children.map(Cx),t=e?{...n,children:e}:{...n};return!t.component&&!t.loadComponent&&(e||t.loadChildren)&&t.outlet&&t.outlet!==nn&&(t.component=uV),t}function Da(n){return n.outlet||nn}function Wm(n){if(!n)return null;if(n.routeConfig?._injector)return n.routeConfig._injector;for(let e=n.parent;e;e=e.parent){const t=e.routeConfig;if(t?._loadedInjector)return t._loadedInjector;if(t?._injector)return t._injector}return null}class nJ{constructor(e,t,r,i,s){this.routeReuseStrategy=e,this.futureState=t,this.currState=r,this.forwardEvent=i,this.inputBindingEnabled=s}activate(e){const t=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,r,e),Ex(this.futureState.root),this.activateChildRoutes(t,r,e)}deactivateChildRoutes(e,t,r){const i=Vf(t);e.children.forEach(s=>{const o=s.value.outlet;this.deactivateRoutes(s,i[o],r),delete i[o]}),Object.values(i).forEach(s=>{this.deactivateRouteAndItsChildren(s,r)})}deactivateRoutes(e,t,r){const i=e.value,s=t?t.value:null;if(i===s)if(i.component){const o=r.getContext(i.outlet);o&&this.deactivateChildRoutes(e,t,o.children)}else this.deactivateChildRoutes(e,t,r);else s&&this.deactivateRouteAndItsChildren(t,r)}deactivateRouteAndItsChildren(e,t){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){const r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,s=Vf(e);for(const o of Object.values(s))this.deactivateRouteAndItsChildren(o,i);if(r&&r.outlet){const o=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:o,route:e,contexts:a})}}deactivateRouteAndOutlet(e,t){const r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,s=Vf(e);for(const o of Object.values(s))this.deactivateRouteAndItsChildren(o,i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(e,t,r){const i=Vf(t);e.children.forEach(s=>{this.activateRoutes(s,i[s.value.outlet],r),this.forwardEvent(new zZ(s.value.snapshot))}),e.children.length&&this.forwardEvent(new jZ(e.value.snapshot))}activateRoutes(e,t,r){const i=e.value,s=t?t.value:null;if(Ex(i),i===s)if(i.component){const o=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,t,o.children)}else this.activateChildRoutes(e,t,r);else if(i.component){const o=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){const a=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),o.children.onOutletReAttached(a.contexts),o.attachRef=a.componentRef,o.route=a.route.value,o.outlet&&o.outlet.attach(a.componentRef,a.route.value),Ex(a.route.value),this.activateChildRoutes(e,null,o.children)}else{const a=Wm(i.snapshot);o.attachRef=null,o.route=i,o.injector=a,o.outlet&&o.outlet.activateWith(i,o.injector),this.activateChildRoutes(e,null,o.children)}}else this.activateChildRoutes(e,null,r)}}class cV{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}}class fw{constructor(e,t){this.component=e,this.route=t}}function rJ(n,e,t){const r=n._root;return Km(r,e?e._root:null,t,[r.value])}function Bf(n,e){const t=Symbol(),r=e.get(n,t);return r===t?"function"!=typeof n||function jp(n){return null!==ea(n)}(n)?e.get(n):n:r}function Km(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const s=Vf(e);return n.children.forEach(o=>{(function sJ(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const s=n.value,o=e?e.value:null,a=t?t.getContext(n.value.outlet):null;if(o&&s.routeConfig===o.routeConfig){const l=function oJ(n,e,t){if("function"==typeof t)return t(n,e);switch(t){case"pathParamsChange":return!hd(n.url,e.url);case"pathParamsOrQueryParamsChange":return!hd(n.url,e.url)||!Ca(n.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Ix(n,e)||!Ca(n.queryParams,e.queryParams);default:return!Ix(n,e)}}(o,s,s.routeConfig.runGuardsAndResolvers);l?i.canActivateChecks.push(new cV(r)):(s.data=o.data,s._resolvedData=o._resolvedData),Km(n,e,s.component?a?a.children:null:t,r,i),l&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new fw(a.outlet.component,o))}else o&&Qm(e,a,i),i.canActivateChecks.push(new cV(r)),Km(n,null,s.component?a?a.children:null:t,r,i)})(o,s[o.value.outlet],t,r.concat([o.value]),i),delete s[o.value.outlet]}),Object.entries(s).forEach(([o,a])=>Qm(a,t.getContext(o),i)),i}function Qm(n,e,t){const r=Vf(n),i=n.value;Object.entries(r).forEach(([s,o])=>{Qm(o,i.component?e?e.children.getContext(s):null:e,t)}),t.canDeactivateChecks.push(new fw(i.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,i))}function Ym(n){return"function"==typeof n}function dV(n){return n instanceof Zv||"EmptyError"===n?.name}const pw=Symbol("INITIAL_VALUE");function Uf(){return ui(n=>ix(n.map(e=>e.pipe(Tf(1),ew(pw)))).pipe(mt(e=>{for(const t of e)if(!0!==t){if(t===pw)return pw;if(!1===t||t instanceof Mf)return t}return!0}),xo(e=>e!==pw),Tf(1)))}function hV(n){return function vs(...n){return so(n)}(Hi(e=>{if(kf(e))throw oV(0,e)}),mt(e=>!0===e))}class xx{constructor(e){this.segmentGroup=e||null}}class Dx extends Error{constructor(e){super(),this.urlTree=e}}function jf(n){return Jv(new xx(n))}class CJ{constructor(e,t){this.urlSerializer=e,this.urlTree=t}lineralizeSegments(e,t){let r=[],i=t.root;for(;;){if(r=r.concat(i.segments),0===i.numberOfChildren)return Ft(r);if(i.numberOfChildren>1||!i.children[nn])return Jv(new Ae(4e3,!1));i=i.children[nn]}}applyRedirectCommands(e,t,r){const i=this.applyRedirectCreateUrlTree(t,this.urlSerializer.parse(t),e,r);if(t.startsWith("/"))throw new Dx(i);return i}applyRedirectCreateUrlTree(e,t,r,i){const s=this.createSegmentGroup(e,t.root,r,i);return new Mf(s,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){const r={};return Object.entries(e).forEach(([i,s])=>{if("string"==typeof s&&s.startsWith(":")){const a=s.substring(1);r[i]=t[a]}else r[i]=s}),r}createSegmentGroup(e,t,r,i){const s=this.createSegments(e,t.segments,r,i);let o={};return Object.entries(t.children).forEach(([a,l])=>{o[a]=this.createSegmentGroup(e,l,r,i)}),new Gn(s,o)}createSegments(e,t,r,i){return t.map(s=>s.path.startsWith(":")?this.findPosParam(e,s,i):this.findOrReturn(s,r))}findPosParam(e,t,r){const i=r[t.path.substring(1)];if(!i)throw new Ae(4001,!1);return i}findOrReturn(e,t){let r=0;for(const i of t){if(i.path===e.path)return t.splice(r),i;r++}return e}}const Tx={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function xJ(n,e,t,r,i){const s=Sx(n,e,t);return s.matched?(r=function YZ(n,e){return n.providers&&!n._injector&&(n._injector=Q_(n.providers,e,`Route: ${n.path}`)),n._injector??e}(e,r),function IJ(n,e,t,r){const i=e.canMatch;return i&&0!==i.length?Ft(i.map(o=>{const a=Bf(o,n);return Mu(function hJ(n){return n&&Ym(n.canMatch)}(a)?a.canMatch(e,t):go(n,()=>a(e,t)))})).pipe(Uf(),hV()):Ft(!0)}(r,e,t).pipe(mt(o=>!0===o?s:{...Tx}))):Ft(s)}function Sx(n,e,t){if("**"===e.path)return function DJ(n){return{matched:!0,parameters:n.length>0?MF(n).parameters:{},consumedSegments:n,remainingSegments:[],positionalParamSegments:{}}}(t);if(""===e.path)return"full"===e.pathMatch&&(n.hasChildren()||t.length>0)?{...Tx}:{matched:!0,consumedSegments:[],remainingSegments:t,parameters:{},positionalParamSegments:{}};const i=(e.matcher||aZ)(t,n,e);if(!i)return{...Tx};const s={};Object.entries(i.posParams??{}).forEach(([a,l])=>{s[a]=l.path});const o=i.consumed.length>0?{...s,...i.consumed[i.consumed.length-1].parameters}:s;return{matched:!0,consumedSegments:i.consumed,remainingSegments:t.slice(i.consumed.length),parameters:o,positionalParamSegments:i.posParams??{}}}function fV(n,e,t,r){return t.length>0&&function RJ(n,e,t){return t.some(r=>gw(n,e,r)&&Da(r)!==nn)}(n,t,r)?{segmentGroup:new Gn(e,SJ(r,new Gn(t,n.children))),slicedSegments:[]}:0===t.length&&function PJ(n,e,t){return t.some(r=>gw(n,e,r))}(n,t,r)?{segmentGroup:new Gn(n.segments,TJ(n,t,r,n.children)),slicedSegments:t}:{segmentGroup:new Gn(n.segments,n.children),slicedSegments:t}}function TJ(n,e,t,r){const i={};for(const s of t)if(gw(n,e,s)&&!r[Da(s)]){const o=new Gn([],{});i[Da(s)]=o}return{...r,...i}}function SJ(n,e){const t={};t[nn]=e;for(const r of n)if(""===r.path&&Da(r)!==nn){const i=new Gn([],{});t[Da(r)]=i}return t}function gw(n,e,t){return(!(n.hasChildren()||e.length>0)||"full"!==t.pathMatch)&&""===t.path}class kJ{}class VJ{constructor(e,t,r,i,s,o,a){this.injector=e,this.configLoader=t,this.rootComponentType=r,this.config=i,this.urlTree=s,this.paramsInheritanceStrategy=o,this.urlSerializer=a,this.applyRedirects=new CJ(this.urlSerializer,this.urlTree),this.absoluteRedirectCount=0,this.allowRedirects=!0}noMatchError(e){return new Ae(4002,`'${e.segmentGroup}'`)}recognize(){const e=fV(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(e).pipe(mt(t=>{const r=new vx([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},nn,this.rootComponentType,null,{}),i=new Wo(r,t),s=new tV("",i),o=function DZ(n,e,t=null,r=null){return HF(zF(n),e,t,r)}(r,[],this.urlTree.queryParams,this.urlTree.fragment);return o.queryParams=this.urlTree.queryParams,s.url=this.urlSerializer.serialize(o),this.inheritParamsAndData(s._root,null),{state:s,tree:o}}))}match(e){return this.processSegmentGroup(this.injector,this.config,e,nn).pipe(Rf(r=>{if(r instanceof Dx)return this.urlTree=r.urlTree,this.match(r.urlTree.root);throw r instanceof xx?this.noMatchError(r):r}))}inheritParamsAndData(e,t){const r=e.value,i=_x(r,t,this.paramsInheritanceStrategy);r.params=Object.freeze(i.params),r.data=Object.freeze(i.data),e.children.forEach(s=>this.inheritParamsAndData(s,r))}processSegmentGroup(e,t,r,i){return 0===r.segments.length&&r.hasChildren()?this.processChildren(e,t,r):this.processSegment(e,t,r,r.segments,i,!0).pipe(mt(s=>s instanceof Wo?[s]:[]))}processChildren(e,t,r){const i=[];for(const s of Object.keys(r.children))"primary"===s?i.unshift(s):i.push(s);return or(i).pipe(Sf(s=>{const o=r.children[s],a=function eJ(n,e){const t=n.filter(r=>Da(r)===e);return t.push(...n.filter(r=>Da(r)!==e)),t}(t,s);return this.processSegmentGroup(e,a,o,s)}),nw((s,o)=>(s.push(...o),s)),tw(null),function rZ(n,e){const t=arguments.length>=2;return r=>r.pipe(n?xo((i,s)=>n(i,s,r)):br,ax(1),t?tw(e):RF(()=>new Zv))}(),zi(s=>{if(null===s)return jf(r);const o=pV(s);return function LJ(n){n.sort((e,t)=>e.value.outlet===nn?-1:t.value.outlet===nn?1:e.value.outlet.localeCompare(t.value.outlet))}(o),Ft(o)}))}processSegment(e,t,r,i,s,o){return or(t).pipe(Sf(a=>this.processSegmentAgainstRoute(a._injector??e,t,a,r,i,s,o).pipe(Rf(l=>{if(l instanceof xx)return Ft(null);throw l}))),Pu(a=>!!a),Rf(a=>{if(dV(a))return function NJ(n,e,t){return 0===e.length&&!n.children[t]}(r,i,s)?Ft(new kJ):jf(r);throw a}))}processSegmentAgainstRoute(e,t,r,i,s,o,a){return function MJ(n,e,t,r){return!!(Da(n)===r||r!==nn&&gw(e,t,n))&&Sx(e,n,t).matched}(r,i,s,o)?void 0===r.redirectTo?this.matchSegmentAgainstRoute(e,i,r,s,o):this.allowRedirects&&a?this.expandSegmentAgainstRouteUsingRedirect(e,i,t,r,s,o):jf(i):jf(i)}expandSegmentAgainstRouteUsingRedirect(e,t,r,i,s,o){const{matched:a,consumedSegments:l,positionalParamSegments:c,remainingSegments:p}=Sx(t,i,s);if(!a)return jf(t);i.redirectTo.startsWith("/")&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>31&&(this.allowRedirects=!1));const m=this.applyRedirects.applyRedirectCommands(l,i.redirectTo,c);return this.applyRedirects.lineralizeSegments(i,m).pipe(zi(w=>this.processSegment(e,r,t,w.concat(p),o,!1)))}matchSegmentAgainstRoute(e,t,r,i,s){const o=xJ(t,r,i,e);return"**"===r.path&&(t.children={}),o.pipe(ui(a=>a.matched?this.getChildConfig(e=r._injector??e,r,i).pipe(ui(({routes:l})=>{const c=r._loadedInjector??e,{consumedSegments:p,remainingSegments:m,parameters:w}=a,A=new vx(p,w,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,function UJ(n){return n.data||{}}(r),Da(r),r.component??r._loadedComponent??null,r,function jJ(n){return n.resolve||{}}(r)),{segmentGroup:D,slicedSegments:R}=fV(t,p,m,l);if(0===R.length&&D.hasChildren())return this.processChildren(c,l,D).pipe(mt(ee=>null===ee?null:new Wo(A,ee)));if(0===l.length&&0===R.length)return Ft(new Wo(A,[]));const N=Da(r)===s;return this.processSegment(c,l,D,R,N?nn:s,!0).pipe(mt(ee=>new Wo(A,ee instanceof Wo?[ee]:[])))})):jf(t)))}getChildConfig(e,t,r){return t.children?Ft({routes:t.children,injector:e}):t.loadChildren?void 0!==t._loadedRoutes?Ft({routes:t._loadedRoutes,injector:t._loadedInjector}):function EJ(n,e,t,r){const i=e.canLoad;return void 0===i||0===i.length?Ft(!0):Ft(i.map(o=>{const a=Bf(o,n);return Mu(function lJ(n){return n&&Ym(n.canLoad)}(a)?a.canLoad(e,t):go(n,()=>a(e,t)))})).pipe(Uf(),hV())}(e,t,r).pipe(zi(i=>i?this.configLoader.loadChildren(e,t).pipe(Hi(s=>{t._loadedRoutes=s.routes,t._loadedInjector=s.injector})):function AJ(n){return Jv(aV(!1,Js.GuardRejected))}())):Ft({routes:[],injector:e})}}function BJ(n){const e=n.value.routeConfig;return e&&""===e.path}function pV(n){const e=[],t=new Set;for(const r of n){if(!BJ(r)){e.push(r);continue}const i=e.find(s=>r.value.routeConfig===s.value.routeConfig);void 0!==i?(i.children.push(...r.children),t.add(i)):e.push(r)}for(const r of t){const i=pV(r.children);e.push(new Wo(r.value,i))}return e.filter(r=>!t.has(r))}function gV(n){const e=n.children.map(t=>gV(t)).flat();return[n,...e]}function Rx(n){return ui(e=>{const t=n(e);return t?or(t).pipe(mt(()=>e)):Ft(e)})}let mV=(()=>{class n{buildTitle(t){let r,i=t.root;for(;void 0!==i;)r=this.getResolvedTitleForRoute(i)??r,i=i.children.find(s=>s.outlet===nn);return r}getResolvedTitleForRoute(t){return t.data[Bm]}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=pt({token:n,factory:()=>qe(WJ),providedIn:"root"})}return n})(),WJ=(()=>{class n extends mV{constructor(t){super(),this.title=t}updateTitle(t){const r=this.buildTitle(t);void 0!==r&&this.title.setTitle(r)}static#e=this.\u0275fac=function(r){return new(r||n)(We(xO))};static#t=this.\u0275prov=pt({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();const $f=new Qe("",{providedIn:"root",factory:()=>({})}),zf=new Qe("");let Px=(()=>{class n{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=qe(K2)}loadComponent(t){if(this.componentLoaders.get(t))return this.componentLoaders.get(t);if(t._loadedComponent)return Ft(t._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(t);const r=Mu(t.loadComponent()).pipe(mt(yV),Hi(s=>{this.onLoadEndListener&&this.onLoadEndListener(t),t._loadedComponent=s}),Lm(()=>{this.componentLoaders.delete(t)})),i=new SF(r,()=>new Q).pipe(ox());return this.componentLoaders.set(t,i),i}loadChildren(t,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return Ft({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);const s=function KJ(n,e,t,r){return Mu(n.loadChildren()).pipe(mt(yV),zi(i=>i instanceof nM||Array.isArray(i)?Ft(i):or(e.compileModuleAsync(i))),mt(i=>{r&&r(n);let s,o,a=!1;return Array.isArray(i)?(o=i,!0):(s=i.create(t).injector,o=s.get(zf,[],{optional:!0,self:!0}).flat()),{routes:o.map(Cx),injector:s}}))}(r,this.compiler,t,this.onLoadEndListener).pipe(Lm(()=>{this.childrenLoaders.delete(r)})),o=new SF(s,()=>new Q).pipe(ox());return this.childrenLoaders.set(r,o),o}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=pt({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function yV(n){return function QJ(n){return n&&"object"==typeof n&&"default"in n}(n)?n.default:n}let Mx=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=pt({token:n,factory:()=>qe(YJ),providedIn:"root"})}return n})(),YJ=(()=>{class n{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,r){return t}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=pt({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();const _V=new Qe(""),vV=new Qe("");function XJ(n,e,t){const r=n.get(vV),i=n.get(Ns);return n.get(_n).runOutsideAngular(()=>{if(!i.startViewTransition||r.skipNextTransition)return r.skipNextTransition=!1,new Promise(c=>setTimeout(c));let s;const o=new Promise(c=>{s=c}),a=i.startViewTransition(()=>(s(),function ZJ(n){return new Promise(e=>{Gb(e,{injector:n})})}(n))),{onViewTransitionCreated:l}=r;return l&&go(n,()=>l({transition:a,from:e,to:t})),o})}let mw=(()=>{class n{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new Q,this.transitionAbortSubject=new Q,this.configLoader=qe(Px),this.environmentInjector=qe(ii),this.urlSerializer=qe(Nf),this.rootContexts=qe(qm),this.location=qe(Cm),this.inputBindingEnabled=null!==qe(hw,{optional:!0}),this.titleStrategy=qe(mV),this.options=qe($f,{optional:!0})||{},this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlHandlingStrategy=qe(Mx),this.createViewTransition=qe(_V,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>Ft(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=i=>this.events.next(new BZ(i)),this.configLoader.onLoadStartListener=i=>this.events.next(new LZ(i))}complete(){this.transitions?.complete()}handleNavigationRequest(t){const r=++this.navigationId;this.transitions?.next({...this.transitions.value,...t,id:r})}setupNavigations(t,r,i){return this.transitions=new Z({id:0,currentUrlTree:r,currentRawUrl:r,extractedUrl:this.urlHandlingStrategy.extract(r),urlAfterRedirects:this.urlHandlingStrategy.extract(r),rawUrl:r,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:Hm,restoredState:null,currentSnapshot:i.snapshot,targetSnapshot:null,currentRouterState:i,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(xo(s=>0!==s.id),mt(s=>({...s,extractedUrl:this.urlHandlingStrategy.extract(s.rawUrl)})),ui(s=>{let o=!1,a=!1;return Ft(s).pipe(ui(l=>{if(this.navigationId>s.id)return this.cancelNavigationTransition(s,"",Js.SupersededByNewNavigation),Go;this.currentTransition=s,this.currentNavigation={id:l.id,initialUrl:l.rawUrl,extractedUrl:l.extractedUrl,trigger:l.source,extras:l.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null};const c=!t.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl();if(!c&&"reload"!==(l.extras.onSameUrlNavigation??t.onSameUrlNavigation)){const m="";return this.events.next(new Ff(l.id,this.urlSerializer.serialize(l.rawUrl),m,cw.IgnoredSameUrlNavigation)),l.resolve(null),Go}if(this.urlHandlingStrategy.shouldProcessUrl(l.rawUrl))return Ft(l).pipe(ui(m=>{const w=this.transitions?.getValue();return this.events.next(new uw(m.id,this.urlSerializer.serialize(m.extractedUrl),m.source,m.restoredState)),w!==this.transitions?.getValue()?Go:Promise.resolve(m)}),function $J(n,e,t,r,i,s){return zi(o=>function OJ(n,e,t,r,i,s,o="emptyOnly"){return new VJ(n,e,t,r,i,o,s).recognize()}(n,e,t,r,o.extractedUrl,i,s).pipe(mt(({state:a,tree:l})=>({...o,targetSnapshot:a,urlAfterRedirects:l}))))}(this.environmentInjector,this.configLoader,this.rootComponentType,t.config,this.urlSerializer,this.paramsInheritanceStrategy),Hi(m=>{s.targetSnapshot=m.targetSnapshot,s.urlAfterRedirects=m.urlAfterRedirects,this.currentNavigation={...this.currentNavigation,finalUrl:m.urlAfterRedirects};const w=new YF(m.id,this.urlSerializer.serialize(m.extractedUrl),this.urlSerializer.serialize(m.urlAfterRedirects),m.targetSnapshot);this.events.next(w)}));if(c&&this.urlHandlingStrategy.shouldProcessUrl(l.currentRawUrl)){const{id:m,extractedUrl:w,source:A,restoredState:D,extras:R}=l,N=new uw(m,this.urlSerializer.serialize(w),A,D);this.events.next(N);const ee=eV(this.rootComponentType).snapshot;return this.currentTransition=s={...l,targetSnapshot:ee,urlAfterRedirects:w,extras:{...R,skipLocationChange:!1,replaceUrl:!1}},this.currentNavigation.finalUrl=w,Ft(s)}{const m="";return this.events.next(new Ff(l.id,this.urlSerializer.serialize(l.extractedUrl),m,cw.IgnoredByUrlHandlingStrategy)),l.resolve(null),Go}}),Hi(l=>{const c=new kZ(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(c)}),mt(l=>(this.currentTransition=s={...l,guards:rJ(l.targetSnapshot,l.currentSnapshot,this.rootContexts)},s)),function fJ(n,e){return zi(t=>{const{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:s,canDeactivateChecks:o}}=t;return 0===o.length&&0===s.length?Ft({...t,guardsResult:!0}):function pJ(n,e,t,r){return or(n).pipe(zi(i=>function wJ(n,e,t,r,i){const s=e&&e.routeConfig?e.routeConfig.canDeactivate:null;return s&&0!==s.length?Ft(s.map(a=>{const l=Wm(e)??i,c=Bf(a,l);return Mu(function dJ(n){return n&&Ym(n.canDeactivate)}(c)?c.canDeactivate(n,e,t,r):go(l,()=>c(n,e,t,r))).pipe(Pu())})).pipe(Uf()):Ft(!0)}(i.component,i.route,t,e,r)),Pu(i=>!0!==i,!0))}(o,r,i,n).pipe(zi(a=>a&&function aJ(n){return"boolean"==typeof n}(a)?function gJ(n,e,t,r){return or(e).pipe(Sf(i=>sx(function yJ(n,e){return null!==n&&e&&e(new UZ(n)),Ft(!0)}(i.route.parent,r),function mJ(n,e){return null!==n&&e&&e(new $Z(n)),Ft(!0)}(i.route,r),function vJ(n,e,t){const r=e[e.length-1],s=e.slice(0,e.length-1).reverse().map(o=>function iJ(n){const e=n.routeConfig?n.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:n,guards:e}:null}(o)).filter(o=>null!==o).map(o=>TF(()=>Ft(o.guards.map(l=>{const c=Wm(o.node)??t,p=Bf(l,c);return Mu(function cJ(n){return n&&Ym(n.canActivateChild)}(p)?p.canActivateChild(r,n):go(c,()=>p(r,n))).pipe(Pu())})).pipe(Uf())));return Ft(s).pipe(Uf())}(n,i.path,t),function _J(n,e,t){const r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||0===r.length)return Ft(!0);const i=r.map(s=>TF(()=>{const o=Wm(e)??t,a=Bf(s,o);return Mu(function uJ(n){return n&&Ym(n.canActivate)}(a)?a.canActivate(e,n):go(o,()=>a(e,n))).pipe(Pu())}));return Ft(i).pipe(Uf())}(n,i.route,t))),Pu(i=>!0!==i,!0))}(r,s,n,e):Ft(a)),mt(a=>({...t,guardsResult:a})))})}(this.environmentInjector,l=>this.events.next(l)),Hi(l=>{if(s.guardsResult=l.guardsResult,kf(l.guardsResult))throw oV(0,l.guardsResult);const c=new OZ(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot,!!l.guardsResult);this.events.next(c)}),xo(l=>!!l.guardsResult||(this.cancelNavigationTransition(l,"",Js.GuardRejected),!1)),Rx(l=>{if(l.guards.canActivateChecks.length)return Ft(l).pipe(Hi(c=>{const p=new FZ(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot);this.events.next(p)}),ui(c=>{let p=!1;return Ft(c).pipe(function zJ(n,e){return zi(t=>{const{targetSnapshot:r,guards:{canActivateChecks:i}}=t;if(!i.length)return Ft(t);const s=new Set(i.map(l=>l.route)),o=new Set;for(const l of s)if(!o.has(l))for(const c of gV(l))o.add(c);let a=0;return or(o).pipe(Sf(l=>s.has(l)?function HJ(n,e,t,r){const i=n.routeConfig,s=n._resolve;return void 0!==i?.title&&!rV(i)&&(s[Bm]=i.title),function qJ(n,e,t,r){const i=lx(n);if(0===i.length)return Ft({});const s={};return or(i).pipe(zi(o=>function GJ(n,e,t,r){const i=Wm(e)??r,s=Bf(n,i);return Mu(s.resolve?s.resolve(e,t):go(i,()=>s(e,t)))}(n[o],e,t,r).pipe(Pu(),Hi(a=>{s[o]=a}))),ax(1),function iZ(n){return mt(()=>n)}(s),Rf(o=>dV(o)?Go:Jv(o)))}(s,n,e,r).pipe(mt(o=>(n._resolvedData=o,n.data=_x(n,n.parent,t).resolve,null)))}(l,r,n,e):(l.data=_x(l,l.parent,n).resolve,Ft(void 0))),Hi(()=>a++),ax(1),zi(l=>a===o.size?Ft(t):Go))})}(this.paramsInheritanceStrategy,this.environmentInjector),Hi({next:()=>p=!0,complete:()=>{p||this.cancelNavigationTransition(c,"",Js.NoDataFromResolver)}}))}),Hi(c=>{const p=new VZ(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot);this.events.next(p)}))}),Rx(l=>{const c=p=>{const m=[];p.routeConfig?.loadComponent&&!p.routeConfig._loadedComponent&&m.push(this.configLoader.loadComponent(p.routeConfig).pipe(Hi(w=>{p.component=w}),mt(()=>{})));for(const w of p.children)m.push(...c(w));return m};return ix(c(l.targetSnapshot.root)).pipe(tw(null),Tf(1))}),Rx(()=>this.afterPreactivation()),ui(()=>{const{currentSnapshot:l,targetSnapshot:c}=s,p=this.createViewTransition?.(this.environmentInjector,l.root,c.root);return p?or(p).pipe(mt(()=>s)):Ft(s)}),mt(l=>{const c=function GZ(n,e,t){const r=Gm(n,e._root,t?t._root:void 0);return new JF(r,e)}(t.routeReuseStrategy,l.targetSnapshot,l.currentRouterState);return this.currentTransition=s={...l,targetRouterState:c},this.currentNavigation.targetRouterState=c,s}),Hi(()=>{this.events.next(new px)}),((n,e,t,r)=>mt(i=>(new nJ(e,i.targetRouterState,i.currentRouterState,t,r).activate(n),i)))(this.rootContexts,t.routeReuseStrategy,l=>this.events.next(l),this.inputBindingEnabled),Tf(1),Hi({next:l=>{o=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new Cl(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects))),this.titleStrategy?.updateTitle(l.targetRouterState.snapshot),l.resolve(!0)},complete:()=>{o=!0}}),function sZ(n){return fe((e,t)=>{Zs(n).subscribe(rt(t,()=>t.complete(),Nr)),!t.closed&&e.subscribe(t)})}(this.transitionAbortSubject.pipe(Hi(l=>{throw l}))),Lm(()=>{!o&&!a&&this.cancelNavigationTransition(s,"",Js.SupersededByNewNavigation),this.currentTransition?.id===s.id&&(this.currentNavigation=null,this.currentTransition=null)}),Rf(l=>{if(a=!0,lV(l))this.events.next(new Of(s.id,this.urlSerializer.serialize(s.extractedUrl),l.message,l.cancellationCode)),function QZ(n){return lV(n)&&kf(n.url)}(l)?this.events.next(new gx(l.url)):s.resolve(!1);else{this.events.next(new dw(s.id,this.urlSerializer.serialize(s.extractedUrl),l,s.targetSnapshot??void 0));try{s.resolve(t.errorHandler(l))}catch(c){this.options.resolveNavigationPromiseOnError?s.resolve(!1):s.reject(c)}}return Go}))}))}cancelNavigationTransition(t,r,i){const s=new Of(t.id,this.urlSerializer.serialize(t.extractedUrl),r,i);this.events.next(s),t.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){return this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))).toString()!==this.currentTransition?.extractedUrl.toString()&&!this.currentTransition?.extras.skipLocationChange}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=pt({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function JJ(n){return n!==Hm}let eee=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=pt({token:n,factory:()=>qe(nee),providedIn:"root"})}return n})();class tee{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}}let nee=(()=>{class n extends tee{static#e=this.\u0275fac=(()=>{let t;return function(i){return(t||(t=yr(n)))(i||n)}})();static#t=this.\u0275prov=pt({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),wV=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=pt({token:n,factory:()=>qe(ree),providedIn:"root"})}return n})(),ree=(()=>{class n extends wV{constructor(){super(...arguments),this.location=qe(Cm),this.urlSerializer=qe(Nf),this.options=qe($f,{optional:!0})||{},this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.urlHandlingStrategy=qe(Mx),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.currentUrlTree=new Mf,this.rawUrlTree=this.currentUrlTree,this.currentPageId=0,this.lastSuccessfulId=-1,this.routerState=eV(null),this.stateMemento=this.createStateMemento()}getCurrentUrlTree(){return this.currentUrlTree}getRawUrlTree(){return this.rawUrlTree}restoredState(){return this.location.getState()}get browserPageId(){return"computed"!==this.canceledNavigationResolution?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}getRouterState(){return this.routerState}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(t){return this.location.subscribe(r=>{"popstate"===r.type&&t(r.url,r.state)})}handleRouterEvent(t,r){if(t instanceof uw)this.stateMemento=this.createStateMemento();else if(t instanceof Ff)this.rawUrlTree=r.initialUrl;else if(t instanceof YF){if("eager"===this.urlUpdateStrategy&&!r.extras.skipLocationChange){const i=this.urlHandlingStrategy.merge(r.finalUrl,r.initialUrl);this.setBrowserUrl(i,r)}}else t instanceof px?(this.currentUrlTree=r.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(r.finalUrl,r.initialUrl),this.routerState=r.targetRouterState,"deferred"===this.urlUpdateStrategy&&(r.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,r))):t instanceof Of&&(t.code===Js.GuardRejected||t.code===Js.NoDataFromResolver)?this.restoreHistory(r):t instanceof dw?this.restoreHistory(r,!0):t instanceof Cl&&(this.lastSuccessfulId=t.id,this.currentPageId=this.browserPageId)}setBrowserUrl(t,r){const i=this.urlSerializer.serialize(t);if(this.location.isCurrentPathEqualTo(i)||r.extras.replaceUrl){const o={...r.extras.state,...this.generateNgRouterState(r.id,this.browserPageId)};this.location.replaceState(i,"",o)}else{const s={...r.extras.state,...this.generateNgRouterState(r.id,this.browserPageId+1)};this.location.go(i,"",s)}}restoreHistory(t,r=!1){if("computed"===this.canceledNavigationResolution){const s=this.currentPageId-this.browserPageId;0!==s?this.location.historyGo(s):this.currentUrlTree===t.finalUrl&&0===s&&(this.resetState(t),this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(r&&this.resetState(t),this.resetUrlToCurrentUrlTree())}resetState(t){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.finalUrl??this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(t,r){return"computed"===this.canceledNavigationResolution?{navigationId:t,\u0275routerPageId:r}:{navigationId:t}}static#e=this.\u0275fac=(()=>{let t;return function(i){return(t||(t=yr(n)))(i||n)}})();static#t=this.\u0275prov=pt({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var Xm=function(n){return n[n.COMPLETE=0]="COMPLETE",n[n.FAILED=1]="FAILED",n[n.REDIRECTING=2]="REDIRECTING",n}(Xm||{});function EV(n,e){n.events.pipe(xo(t=>t instanceof Cl||t instanceof Of||t instanceof dw||t instanceof Ff),mt(t=>t instanceof Cl||t instanceof Ff?Xm.COMPLETE:t instanceof Of&&(t.code===Js.Redirect||t.code===Js.SupersededByNewNavigation)?Xm.REDIRECTING:Xm.FAILED),xo(t=>t!==Xm.REDIRECTING),Tf(1)).subscribe(()=>{e()})}function iee(n){throw n}const see={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},oee={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let Do=(()=>{class n{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}constructor(){this.disposed=!1,this.isNgZoneEnabled=!1,this.console=qe(L2),this.stateManager=qe(wV),this.options=qe($f,{optional:!0})||{},this.pendingTasks=qe(bu),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.navigationTransitions=qe(mw),this.urlSerializer=qe(Nf),this.location=qe(Cm),this.urlHandlingStrategy=qe(Mx),this._events=new Q,this.errorHandler=this.options.errorHandler||iee,this.navigated=!1,this.routeReuseStrategy=qe(eee),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.config=qe(zf,{optional:!0})?.flat()??[],this.componentInputBindingEnabled=!!qe(hw,{optional:!0}),this.eventsSubscription=new zt,this.isNgZoneEnabled=qe(_n)instanceof _n&&_n.isInAngularZone(),this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe({error:t=>{this.console.warn(t)}}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){const t=this.navigationTransitions.events.subscribe(r=>{try{const i=this.navigationTransitions.currentTransition,s=this.navigationTransitions.currentNavigation;if(null!==i&&null!==s)if(this.stateManager.handleRouterEvent(r,s),r instanceof Of&&r.code!==Js.Redirect&&r.code!==Js.SupersededByNewNavigation)this.navigated=!0;else if(r instanceof Cl)this.navigated=!0;else if(r instanceof gx){const o=this.urlHandlingStrategy.merge(r.url,i.currentRawUrl),a={info:i.extras.info,skipLocationChange:i.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||JJ(i.source)};this.scheduleNavigation(o,Hm,null,a,{resolve:i.resolve,reject:i.reject,promise:i.promise})}(function lee(n){return!(n instanceof px||n instanceof gx)})(r)&&this._events.next(r)}catch(i){this.navigationTransitions.transitionAbortSubject.next(i)}});this.eventsSubscription.add(t)}resetRootComponentType(t){this.routerState.root.component=t,this.navigationTransitions.rootComponentType=t}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),Hm,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((t,r)=>{setTimeout(()=>{this.navigateToSyncWithBrowser(t,"popstate",r)},0)})}navigateToSyncWithBrowser(t,r,i){const s={replaceUrl:!0},o=i?.navigationId?i:null;if(i){const l={...i};delete l.navigationId,delete l.\u0275routerPageId,0!==Object.keys(l).length&&(s.state=l)}const a=this.parseUrl(t);this.scheduleNavigation(a,r,o,s)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(t){this.config=t.map(Cx),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(t,r={}){const{relativeTo:i,queryParams:s,fragment:o,queryParamsHandling:a,preserveFragment:l}=r,c=l?this.currentUrlTree.fragment:o;let m,p=null;switch(a){case"merge":p={...this.currentUrlTree.queryParams,...s};break;case"preserve":p=this.currentUrlTree.queryParams;break;default:p=s||null}null!==p&&(p=this.removeEmptyProps(p));try{m=zF(i?i.snapshot:this.routerState.snapshot.root)}catch{("string"!=typeof t[0]||!t[0].startsWith("/"))&&(t=[]),m=this.currentUrlTree.root}return HF(m,t,p,c??null)}navigateByUrl(t,r={skipLocationChange:!1}){const i=kf(t)?t:this.parseUrl(t),s=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(s,Hm,null,r)}navigate(t,r={skipLocationChange:!1}){return function aee(n){for(let e=0;e<n.length;e++)if(null==n[e])throw new Ae(4008,!1)}(t),this.navigateByUrl(this.createUrlTree(t,r),r)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){try{return this.urlSerializer.parse(t)}catch{return this.urlSerializer.parse("/")}}isActive(t,r){let i;if(i=!0===r?{...see}:!1===r?{...oee}:r,kf(t))return kF(this.currentUrlTree,t,i);const s=this.parseUrl(t);return kF(this.currentUrlTree,s,i)}removeEmptyProps(t){return Object.entries(t).reduce((r,[i,s])=>(null!=s&&(r[i]=s),r),{})}scheduleNavigation(t,r,i,s,o){if(this.disposed)return Promise.resolve(!1);let a,l,c;o?(a=o.resolve,l=o.reject,c=o.promise):c=new Promise((m,w)=>{a=m,l=w});const p=this.pendingTasks.add();return EV(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(p))}),this.navigationTransitions.handleNavigationRequest({source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:t,extras:s,resolve:a,reject:l,promise:c,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),c.catch(m=>Promise.reject(m))}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=pt({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();class IV{}let dee=(()=>{class n{constructor(t,r,i,s,o){this.router=t,this.injector=i,this.preloadingStrategy=s,this.loader=o}setUpPreloading(){this.subscription=this.router.events.pipe(xo(t=>t instanceof Cl),Sf(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,r){const i=[];for(const s of r){s.providers&&!s._injector&&(s._injector=Q_(s.providers,t,`Route: ${s.path}`));const o=s._injector??t,a=s._loadedInjector??o;(s.loadChildren&&!s._loadedRoutes&&void 0===s.canLoad||s.loadComponent&&!s._loadedComponent)&&i.push(this.preloadConfig(o,s)),(s.children||s._loadedRoutes)&&i.push(this.processRoutes(a,s.children??s._loadedRoutes))}return or(i).pipe(Df())}preloadConfig(t,r){return this.preloadingStrategy.preload(r,()=>{let i;i=r.loadChildren&&void 0===r.canLoad?this.loader.loadChildren(t,r):Ft(null);const s=i.pipe(zi(o=>null===o?Ft(void 0):(r._loadedRoutes=o.routes,r._loadedInjector=o.injector,this.processRoutes(o.injector??t,o.routes))));return r.loadComponent&&!r._loadedComponent?or([s,this.loader.loadComponent(r)]).pipe(Df()):s})}static#e=this.\u0275fac=function(r){return new(r||n)(We(Do),We(K2),We(ii),We(IV),We(Px))};static#t=this.\u0275prov=pt({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();const kx=new Qe("");let bV=(()=>{class n{constructor(t,r,i,s,o={}){this.urlSerializer=t,this.transitions=r,this.viewportScroller=i,this.zone=s,this.options=o,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},this.environmentInjector=qe(ii),o.scrollPositionRestoration||="disabled",o.anchorScrolling||="disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof uw?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof Cl?(this.lastId=t.id,this.scheduleScrollEvent(t,this.urlSerializer.parse(t.urlAfterRedirects).fragment)):t instanceof Ff&&t.code===cw.IgnoredSameUrlNavigation&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(t,this.urlSerializer.parse(t.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof XF&&(t.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,r){var i=this;this.zone.runOutsideAngular((0,E.A)(function*(){yield new Promise(s=>{setTimeout(()=>{s()}),Gb(()=>{s()},{injector:i.environmentInjector})}),i.zone.run(()=>{i.transitions.events.next(new XF(t,"popstate"===i.lastSource?i.store[i.restoredId]:null,r))})}))}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static#e=this.\u0275fac=function(r){!function LR(){throw new Error("invalid")}()};static#t=this.\u0275prov=pt({token:n,factory:n.\u0275fac})}return n})();function Ta(n,e){return{\u0275kind:n,\u0275providers:e}}function CV(){const n=qe(an);return e=>{const t=n.get(xu);if(e!==t.components[0])return;const r=n.get(Do),i=n.get(xV);1===n.get(Ox)&&r.initialNavigation(),n.get(DV,null,Jt.Optional)?.setUpPreloading(),n.get(kx,null,Jt.Optional)?.init(),r.resetRootComponentType(t.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}const xV=new Qe("",{factory:()=>new Q}),Ox=new Qe("",{providedIn:"root",factory:()=>1}),DV=new Qe("");function gee(n){return Ta(0,[{provide:DV,useExisting:dee},{provide:IV,useExisting:n}])}function yee(n){return Ta(9,[{provide:_V,useValue:XJ},{provide:vV,useValue:{skipNextTransition:!!n?.skipInitialTransition,...n}}])}const TV=new Qe("ROUTER_FORROOT_GUARD"),_ee=[Cm,{provide:Nf,useClass:ux},Do,qm,{provide:Lf,useFactory:function AV(n){return n.routerState.root},deps:[Do]},Px,[]];let SV=(()=>{class n{constructor(t){}static forRoot(t,r){return{ngModule:n,providers:[_ee,[],{provide:zf,multi:!0,useValue:t},{provide:TV,useFactory:Iee,deps:[[Do,new is,new ho]]},{provide:$f,useValue:r||{}},r?.useHash?{provide:ad,useClass:cW}:{provide:ad,useClass:Bk},{provide:kx,useFactory:()=>{const n=qe(MK),e=qe(_n),t=qe($f),r=qe(mw),i=qe(Nf);return t.scrollOffset&&n.setOffset(t.scrollOffset),new bV(i,r,n,e,t)}},r?.preloadingStrategy?gee(r.preloadingStrategy).\u0275providers:[],r?.initialNavigation?bee(r):[],r?.bindToComponentInputs?Ta(8,[iV,{provide:hw,useExisting:iV}]).\u0275providers:[],r?.enableViewTransitions?yee().\u0275providers:[],[{provide:RV,useFactory:CV},{provide:QA,multi:!0,useExisting:RV}]]}}static forChild(t){return{ngModule:n,providers:[{provide:zf,multi:!0,useValue:t}]}}static#e=this.\u0275fac=function(r){return new(r||n)(We(TV,8))};static#t=this.\u0275mod=Vr({type:n});static#n=this.\u0275inj=ri({})}return n})();function Iee(n){return"guarded"}function bee(n){return["disabled"===n.initialNavigation?Ta(3,[{provide:WA,multi:!0,useFactory:()=>{const e=qe(Do);return()=>{e.setUpLocationChangeListener()}}},{provide:Ox,useValue:2}]).\u0275providers:[],"enabledBlocking"===n.initialNavigation?Ta(2,[{provide:Ox,useValue:0},{provide:WA,multi:!0,deps:[an],useFactory:e=>{const t=e.get(lW,Promise.resolve());return()=>t.then(()=>new Promise(r=>{const i=e.get(Do),s=e.get(xV);EV(i,()=>{r(!0)}),e.get(mw).afterPreactivation=()=>(r(!0),s.closed?Ft(void 0):s),i.initialNavigation()}))}}]).\u0275providers:[]]}const RV=new Qe("");let Cee=(()=>{class n{constructor(){this.currentColor="blue"}ngOnInit(){setInterval(()=>{this.toggleColor()},5e3)}toggleColor(){this.currentColor="blue"===this.currentColor?"green":"blue"}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275cmp=ji({type:n,selectors:[["app-about"]],decls:31,vars:3,consts:[["id","about",1,"section"],[1,"container"],["data-aos","fade-up","data-aos-offset","10",1,"card"],[1,"col-lg-12","col-md-12"],[1,"card-body"],[1,"h4","mt-0","title"]],template:function(r,i){1&r&&(Ge(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5),Ye(6,"About"),ze(),Ge(7,"p"),Ye(8," Hi! I am "),Ge(9,"b"),Ye(10,"Kavinkumar M"),ze(),Ye(11,", a passionate and driven 22-year-old professional with Two years of hands-on experience in Angular. I also have a keen interest in other domains like Java and Data Modelling, recognizing the importance of staying versatile in the ever-evolving technology landscape. "),ze(),Ge(12,"p")(13,"strong"),Ye(14,"Experience:"),ze(),Zn(15,"br"),Ye(16," During the past year, I focused on honing my skills in Angular through various projects. As a result, I gained practical knowledge in front-end development, user interface design, and responsive web applications. I have become proficient in building dynamic and interactive web solutions while prioritizing enhanced user experiences and effective teamwork."),ze(),Ge(17,"p")(18,"strong"),Ye(19,"Objectives:"),ze(),Zn(20,"br"),Ye(21," Now, I am eager to secure a challenging position in a reputed organization that encourages continuous learning and professional growth. My objective is to contribute my existing skills while actively acquiring new ones. I aim to deliver innovative and cutting-edge solutions that push the boundaries of technology."),ze(),Ge(22,"p"),Ye(23,"With a strong work ethic, adaptability, and an insatiable thirst for knowledge, I am confident in my ability to bring valuable insights and fresh perspectives to any project. I am excited to embark on this new journey and make a positive impact on the technological landscape."),ze(),Ge(24,"p"),Ye(25,"Thank you for considering my profile, and I invite you to visit my LinkedIn profile for more details about my experience and achievements. "),ze(),Ge(26,"p"),Ye(27," Best Regards, "),Zn(28,"br"),Ge(29,"b"),Ye(30,"Kavinkumar M"),ze()()()()()()()),2&r&&(ya(2),id("@colorChangeAnimation",i.currentColor),ya(7),id("@textColorChange",i.currentColor),ya(20),id("@textColorChange",i.currentColor))},styles:['.section[_ngcontent-%COMP%]{background-color:#f8f9fa;padding:40px 0}.card[_ngcontent-%COMP%]{border:none;border-radius:30px;box-shadow:0 0 20px #0000001a;padding:5px 5;opacity:0;position:relative;background-color:#f8f9fa}.card[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]{color:#000;border-radius:30px;background-color:#fff}.card[_ngcontent-%COMP%]:before, .card[_ngcontent-%COMP%]:after{content:"";position:absolute;top:0;bottom:0;width:5px;transition:background-color 1s ease-out}.card[_ngcontent-%COMP%]:before{left:0}.card[_ngcontent-%COMP%]:after{right:0}.card[state=green][_ngcontent-%COMP%]:before, .card[state=green][_ngcontent-%COMP%]:after{background-color:#28a745}.container[_ngcontent-%COMP%]{max-width:1000px;margin:0 auto}'],data:{animation:[RO("colorChangeAnimation",[Bv("blue",Af({backgroundColor:"#3b5998"})),Bv("green",Af({backgroundColor:"#28a745"})),MO("blue => green, green => blue",[PO("1s ease-out")])]),RO("textColorChange",[Bv("blue",Af({color:"#3b5998"})),Bv("green",Af({color:"#28a745"})),MO("blue => green, green => blue",[PO("1s ease-out")])])]}})}return n})(),xee=(()=>{class n{constructor(){this.activeSection="introduction",this.sections=[{id:"about",offset:0},{id:"experience",offset:0},{id:"skill",offset:0},{id:"education",offset:0},{id:"contact",offset:0}]}onWindowScroll(){this.sections.forEach(r=>{const i=document.getElementById(r.id);i&&(r.offset=i.offsetTop)});const t=window.pageYOffset+window.innerHeight/2;for(let r of this.sections)t>=r.offset&&(this.activeSection=r.id)}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275cmp=ji({type:n,selectors:[["app-header"]],hostBindings:function(r,i){1&r&&Xr("scroll",function(o){return i.onWindowScroll(o)},0,D_)},decls:27,vars:10,consts:[[1,"profile-page","sidebar-collapse"],["color-on-scroll","400",1,"navbar","navbar-expand-lg","fixed-top","navbar-transparent","bg-primary"],[1,"container"],[1,"navbar-translate"],["href","#","rel","tooltip",1,"navbar-brand"],["type","button","data-toggle","collapse","data-target","#navigation","aria-controls","navigation","aria-expanded","false","aria-label","Toggle navigation",1,"navbar-toggler","navbar-toggler"],[1,"navbar-toggler-bar","bar1"],[1,"navbar-toggler-bar","bar2"],[1,"navbar-toggler-bar","bar3"],["id","navigation",1,"collapse","navbar-collapse","justify-content-end"],[1,"navbar-nav"],[1,"nav-item"],["href","#about",1,"nav-link","smooth-scroll"],["href","#experience",1,"nav-link","smooth-scroll"],["href","#skill",1,"nav-link","smooth-scroll"],["href","#education",1,"nav-link","smooth-scroll"],["href","#contact",1,"nav-link","smooth-scroll"]],template:function(r,i){1&r&&(Ge(0,"div",0)(1,"nav",1)(2,"div",2)(3,"div",3)(4,"a",4),Ye(5,"Kavin's Profile"),ze(),Ge(6,"button",5),Zn(7,"span",6)(8,"span",7)(9,"span",8),ze()(),Ge(10,"div",9)(11,"ul",10)(12,"li",11)(13,"a",12),Ye(14,"About"),ze()(),Ge(15,"li",11)(16,"a",13),Ye(17,"Experience"),ze()(),Ge(18,"li",11)(19,"a",14),Ye(20,"Skills"),ze()(),Ge(21,"li",11)(22,"a",15),Ye(23,"Education"),ze()(),Ge(24,"li",11)(25,"a",16),Ye(26,"Contact"),ze()()()()()()()),2&r&&(ya(12),yl("active","about"===i.activeSection),ya(3),yl("active","experience"===i.activeSection),ya(3),yl("active","skill"===i.activeSection),ya(3),yl("active","education"===i.activeSection),ya(3),yl("active","contact"===i.activeSection))},styles:[".nav-item.active[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]{font-weight:500}"]})}return n})();const Dee=["textContainer"];let Tee=(()=>{class n{constructor(){this.title="resume",this.roles=["Front End Web Developer - Angular 13+","Data Modeler"],this.index=0,this.roleIndex=0,this.isInDeletingState=!1,this.myPhoneNumber="9092850954"}ngOnInit(){this.typeWriter()}downloadPDF(){const t="assets/kavinkumar_Angular_developer.pdf",r=document.createElement("a");r.href=t,r.download="Kavinkuamar_Resume.pdf",r.dispatchEvent(new MouseEvent("click")),r.remove(),window.open(t,"_blank")}typeWriter(){const t=this.textContainerRef.nativeElement,r=this.roles[this.roleIndex],i=r.slice(0,this.index);t.textContent=i,this.isInDeletingState?(this.index--,0===this.index&&(this.isInDeletingState=!1,this.roleIndex=(this.roleIndex+1)%this.roles.length),setTimeout(()=>this.typeWriter(),50)):(this.index++,this.index>r.length?(this.isInDeletingState=!0,setTimeout(()=>this.typeWriter(),3e3)):setTimeout(()=>this.typeWriter(),100))}openWhatsApp(){window.open(`https://wa.me/${this.myPhoneNumber}`,"_blank")}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275cmp=ji({type:n,selectors:[["app-introduction"]],viewQuery:function(r,i){if(1&r&&function WN(n,e,t){kP(n,e,t)}(Dee,7),2&r){let s;(function MA(n){const e=Ne(),t=on(),r=yg();_g(r+1);const i=rA(t,r);if(n.dirty&&function hI(n){return!(4&~n[Ct])}(e)===!(2&~i.metadata.flags)){if(null===i.matches)n.reset([]);else{const s=VP(e,r);n.reset(s,A1),n.notifyOnChanges()}return!0}return!1})(s=NA())&&(i.textContainerRef=s.first)}},decls:28,vars:0,consts:[[1,"profile-page",2,"background-image","url('assets/images/lines.jpg')"],[1,"wrapper"],["filter-color","blue",1,"page-header","page-header-small"],["data-parallax","true",1,"page-header-image"],[1,"container","margin"],[1,"content-center"],[1,"cc-profile-image"],["href","#"],["src","assets/images/img4.jpg","alt","Image"],[1,"h2","title"],[1,"category","text-white","typing","typeText"],["target","_blank","href","mailto:kavinkumar025@gmail.com?subject=Regarding%20Job%20Opportunity","data-aos","zoom-in","data-aos-anchor","data-aos-anchor",1,"btn","btn-primary","animate-zoom","smooth-scroll","mr-2"],["data-aos","zoom-in","data-aos-anchor","data-aos-anchor",1,"btn","btn-secondary","animate-slide","smooth-scroll","mr-2",3,"click"],[1,"section"],[1,"container"],[1,"button-container"],["href","https://www.linkedin.com/in/kavinkumar-m-17511b20a/","target","_blank","rel","tooltip","title","Follow me on LinkedIn",1,"btn","btn-default","btn-round","btn-lg","btn-icon"],[1,"fa","fa-linkedin"],["href","javascript:void(0)","target","_blank","rel","tooltip","title","Text me on WhatsApp",1,"btn","btn-default","btn-round","btn-lg","btn-icon",3,"click"],[1,"fa","fa-whatsapp"],["target","_blank","rel","tooltip","title","Follow me on Github","href","https://github.com/kavinkumar025/resume",1,"btn","btn-default","btn-round","btn-lg","btn-icon"],[1,"fa","fa-github"],["href","https://instagram.com/im_kavin__25?utm_source=qr&igshid=MzNlNGNkZWQ4Mg%3D%3D ","target","_blank","rel","tooltip","title","Follow me on Instagram",1,"btn","btn-default","btn-round","btn-lg","btn-icon"],[1,"fa","fa-instagram"]],template:function(r,i){1&r&&(Ge(0,"div",0)(1,"div",1)(2,"div",2),Zn(3,"div",3),Ge(4,"div",4)(5,"div",5)(6,"div",6)(7,"a",7),Zn(8,"img",8),ze()(),Ge(9,"h1",9),Ye(10,"Kavinkumar M"),ze(),Ge(11,"p",10),Ye(12,"Angular Developer"),ze(),Ge(13,"a",11),Ye(14," Recruit me "),ze(),Ge(15,"a",12),Xr("click",function(){return i.downloadPDF()}),Ye(16," Grab Resume "),ze()()(),Ge(17,"div",13)(18,"div",14)(19,"div",15)(20,"a",16),Zn(21,"i",17),ze(),Ge(22,"a",18),Xr("click",function(){return i.openWhatsApp()}),Zn(23,"i",19),ze(),Ge(24,"a",20),Zn(25,"i",21),ze(),Ge(26,"a",22),Zn(27,"i",23),ze()()()()()()())},styles:['.cc-profile-image[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{position:relative}.cc-profile-image[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:before{content:"";border:15px solid rgba(251,252,252,.6);border-radius:50%;height:250px;width:250px;position:absolute;left:0;animation:pulsate 2.6s ease-out;animation-iteration-count:infinite;opacity:0;z-index:99;margin-top:30px}.cc-profile-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{margin-top:30px;position:relative;border-radius:50%;height:250px;width:250px;padding:0;border:15px solid transparent;z-index:9999;transition:all .3s ease-out}.cc-profile-image[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover   img[_ngcontent-%COMP%]{transform:scale(1.1);transform-origin:50% 50%}.profile-page[_ngcontent-%COMP%]{background-size:cover;background-position:center;background-repeat:no-repeat;position:relative}.btn[_ngcontent-%COMP%]{display:inline-block;padding:12px 24px;border-radius:5px;font-size:16px;color:#fff;text-decoration:none;transition:background-color .3s ease,transform .2s ease;cursor:pointer;position:relative;overflow:hidden;z-index:1}.btn-primary[_ngcontent-%COMP%], .btn-secondary[_ngcontent-%COMP%]{background-color:#007bff}.btn[_ngcontent-%COMP%]:hover{background-color:#0056b3;transform:scale(1.05)}.animate-zoom[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_zoomIn .8s ease}@keyframes _ngcontent-%COMP%_zoomIn{0%{transform:scale(0);opacity:0}to{transform:scale(1);opacity:1}}.animate-slide[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_slideIn .5s ease}@keyframes _ngcontent-%COMP%_slideIn{0%{transform:translate(-100%)}to{transform:translate(0)}}.h2.title[_ngcontent-%COMP%]:hover{transform:scale(1.1)}.typeText[_ngcontent-%COMP%]:hover{transform:scale(1.2)}']})}return n})(),See=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275cmp=ji({type:n,selectors:[["app-experience"]],decls:49,vars:0,consts:[["id","experience",1,"education"],[1,"container"],[1,"title"],[1,"education-list"],[1,"education-item"],[1,"education-header"],[1,"date"],[1,"degree"],[1,"education-details"],[1,"institute"]],template:function(r,i){1&r&&(Ge(0,"section",0)(1,"div",1)(2,"h2",2),Ye(3,"Experience"),ze(),Ge(4,"div",3)(5,"div",4)(6,"div",5)(7,"div",6),Ye(8,"12 Days"),ze(),Ge(9,"div",7),Ye(10,"Implant Training"),ze()(),Ge(11,"div",8)(12,"h3",9),Ye(13,"Python"),ze(),Ge(14,"p"),Ye(15,"I completed a 12-day Python implant training at Durga Tech in Erode, Tamil Nadu"),ze(),Ge(16,"p"),Ye(17,"where I gained valuable hands-on experience and a strong foundation in Python programming."),ze()()(),Ge(18,"div",4)(19,"div",5)(20,"div",6),Ye(21,"30 Days"),ze(),Ge(22,"div",7),Ye(23,"Internship"),ze()(),Ge(24,"div",8)(25,"h3",9),Ye(26,"Data Analysis"),ze(),Ge(27,"p"),Ye(28,"I participated in a 30-day Data Analysis program at Prayoga Technologies."),ze(),Ge(29,"p"),Ye(30,"where I honed my skills in data analysis techniques and tools, preparing me for real-world data challenges."),ze()()(),Ge(31,"div",4)(32,"div",5)(33,"div",6),Ye(34,"SEP 2022 - Present"),ze(),Ge(35,"div",7),Ye(36,"Full-time Job"),ze()(),Ge(37,"div",8)(38,"h3",9),Ye(39,"Angular Developer"),ze(),Ge(40,"p"),Ye(41," Successfully completed Two years as an "),Ge(42,"strong"),Ye(43,"Angular Developer"),ze(),Ye(44," at Aseuro Technologies. "),ze(),Ge(45,"p"),Ye(46,"collaborating on various projects and gaining extensive experience in building dynamic and interactive web applications using Angular framework. "),ze(),Ge(47,"p"),Ye(48,"My time at Aseuro Technologies significantly enhanced my expertise in frontend development and problem-solving in the web development domain."),ze()()()()()())},styles:["body[_ngcontent-%COMP%]{font-family:Inter,sans-serif;line-height:1.6;background-color:#f0f2f5;color:#333;margin:0;padding:0}p[_ngcontent-%COMP%]{text-align:left;margin-bottom:1rem}.container[_ngcontent-%COMP%]{max-width:1100px;margin:0 auto;padding:40px 20px}.education[_ngcontent-%COMP%]{background-color:#f9fbfd;padding:50px 0;border-radius:12px;box-shadow:0 10px 25px #0000001a}.title[_ngcontent-%COMP%]{font-size:40px;font-weight:700;text-align:center;margin-bottom:50px;color:#1a73e8}.education-list[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(3,1fr);grid-gap:35px}.education-item[_ngcontent-%COMP%]{background-color:#fff;border-radius:15px;padding:30px;text-align:center;box-shadow:0 6px 15px #00000014;transition:transform .3s ease,box-shadow .3s ease;cursor:pointer}.education-item[_ngcontent-%COMP%]:hover{transform:translateY(-10px);box-shadow:0 10px 20px #007bff26}.education-header[_ngcontent-%COMP%]{padding-bottom:20px;border-bottom:2px solid #1a73e8}.date[_ngcontent-%COMP%]{font-size:18px;font-weight:600;color:#1a73e8}.degree[_ngcontent-%COMP%]{font-size:20px;font-weight:600;color:#444}.education-details[_ngcontent-%COMP%]{margin-top:20px;font-size:16px;line-height:1.8}.institute[_ngcontent-%COMP%]{font-size:20px;font-weight:600;margin-bottom:15px;color:#1a73e8}p[_ngcontent-%COMP%]{font-size:16px;line-height:1.6;color:#666}.education-item[_ngcontent-%COMP%]:hover   .education-details[_ngcontent-%COMP%]{background-color:#f1f7ff;padding:25px;border-radius:15px;transform:translateY(-10px);transition:background-color .3s ease,color .3s ease,transform .3s ease}.education-item[_ngcontent-%COMP%]:hover   .institute[_ngcontent-%COMP%], .education-item[_ngcontent-%COMP%]:hover   p[_ngcontent-%COMP%]{color:#1a73e8}@keyframes _ngcontent-%COMP%_fadeIn{0%{opacity:0;transform:translateY(20px)}to{opacity:1;transform:translateY(0)}}.education-item[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_fadeIn .6s ease;animation-fill-mode:forwards}@media (max-width: 767px){.education-list[_ngcontent-%COMP%]{grid-template-columns:1fr;grid-gap:25px}.title[_ngcontent-%COMP%]{font-size:32px}.education-item[_ngcontent-%COMP%]{padding:20px}.education-header[_ngcontent-%COMP%], .education-details[_ngcontent-%COMP%]{padding:15px}.date[_ngcontent-%COMP%], .degree[_ngcontent-%COMP%]{font-size:16px}.institute[_ngcontent-%COMP%], p[_ngcontent-%COMP%]{font-size:14px}}"]})}return n})(),Ree=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275cmp=ji({type:n,selectors:[["app-education"]],decls:47,vars:0,consts:[["id","education",1,"education"],[1,"container"],[1,"title"],[1,"education-list"],[1,"education-item"],[1,"education-header"],[1,"date"],[1,"degree"],[1,"education-details"],[1,"institute"]],template:function(r,i){1&r&&(Ge(0,"section",0)(1,"div",1)(2,"h2",2),Ye(3,"Education"),ze(),Ge(4,"div",3)(5,"div",4)(6,"div",5)(7,"div",6),Ye(8,"SSLC"),ze(),Ge(9,"div",7),Ye(10,"2014 - 2016"),ze()(),Ge(11,"div",8)(12,"h3",9),Ye(13,"Adharsh Vidhyalaya Higher Secondary School"),ze(),Ge(14,"p"),Ye(15,"My Secondary school performance yielded an outstanding result of "),Ge(16,"b"),Ye(17,"84%"),ze(),Ye(18,"."),ze()()(),Ge(19,"div",4)(20,"div",5)(21,"div",6),Ye(22,"HSC"),ze(),Ge(23,"div",7),Ye(24,"2016 - 2018"),ze()(),Ge(25,"div",8)(26,"h3",9),Ye(27,"Kongu National Matriculation Higher Secondary School"),ze(),Ge(28,"p"),Ye(29,"My high school performance yielded an outstanding result of "),Ge(30,"b"),Ye(31,"69%"),ze(),Ye(32,"."),ze()()(),Ge(33,"div",4)(34,"div",5)(35,"div",6),Ye(36,"B.E - CSE"),ze(),Ge(37,"div",7),Ye(38,"2018 - 2022"),ze()(),Ge(39,"div",8)(40,"h3",9),Ye(41,"Velalar College of Engineering and Technology"),ze(),Ge(42,"p"),Ye(43," My College performance yielded an outstanding result of "),Ge(44,"b"),Ye(45,"8.35 CGPA"),ze(),Ye(46,"."),ze()()()()()())},styles:["body[_ngcontent-%COMP%]{font-family:Inter,sans-serif;line-height:1.6;background-color:#f0f2f5;color:#333;margin:0;padding:0}p[_ngcontent-%COMP%]{text-align:left;margin-bottom:1rem}.container[_ngcontent-%COMP%]{max-width:1100px;margin:0 auto;padding:40px 20px}.education[_ngcontent-%COMP%]{background-color:#f9fbfd;padding:50px 0;border-radius:12px;box-shadow:0 10px 25px #0000001a}.title[_ngcontent-%COMP%]{font-size:40px;font-weight:700;text-align:center;margin-bottom:50px;color:#1a73e8}.education-list[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(3,1fr);grid-gap:35px}.education-item[_ngcontent-%COMP%]{background-color:#fff;border-radius:15px;padding:30px;text-align:center;box-shadow:0 6px 15px #00000014;transition:transform .3s ease,box-shadow .3s ease;cursor:pointer}.education-item[_ngcontent-%COMP%]:hover{transform:translateY(-10px);box-shadow:0 10px 20px #007bff26}.education-header[_ngcontent-%COMP%]{padding-bottom:20px;border-bottom:2px solid #1a73e8}.date[_ngcontent-%COMP%]{font-size:18px;font-weight:600;color:#1a73e8}.degree[_ngcontent-%COMP%]{font-size:20px;font-weight:600;color:#444}.education-details[_ngcontent-%COMP%]{margin-top:20px;font-size:16px;line-height:1.8}.institute[_ngcontent-%COMP%]{font-size:20px;font-weight:600;margin-bottom:15px;color:#1a73e8}p[_ngcontent-%COMP%]{font-size:16px;line-height:1.6;color:#666}.education-item[_ngcontent-%COMP%]:hover   .education-details[_ngcontent-%COMP%]{background-color:#f1f7ff;padding:25px;border-radius:15px;transform:translateY(-10px);transition:background-color .3s ease,color .3s ease,transform .3s ease}.education-item[_ngcontent-%COMP%]:hover   .institute[_ngcontent-%COMP%], .education-item[_ngcontent-%COMP%]:hover   p[_ngcontent-%COMP%]{color:#1a73e8}@keyframes _ngcontent-%COMP%_fadeIn{0%{opacity:0;transform:translateY(20px)}to{opacity:1;transform:translateY(0)}}.education-item[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_fadeIn .6s ease;animation-fill-mode:forwards}@media (max-width: 767px){.education-list[_ngcontent-%COMP%]{grid-template-columns:1fr;grid-gap:25px}.title[_ngcontent-%COMP%]{font-size:32px}.education-item[_ngcontent-%COMP%]{padding:20px}.education-header[_ngcontent-%COMP%], .education-details[_ngcontent-%COMP%]{padding:15px}.date[_ngcontent-%COMP%], .degree[_ngcontent-%COMP%]{font-size:16px}.institute[_ngcontent-%COMP%], p[_ngcontent-%COMP%]{font-size:14px}}"]})}return n})(),Pee=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275cmp=ji({type:n,selectors:[["app-skill"]],decls:88,vars:0,consts:[["id","skill"],[1,"container"],[1,"title"],[1,"row"],[1,"col-md-6"],[1,"skills-list"],[1,"skill-name"],[1,"bar-container"],[1,"bar",2,"width","90%"],[1,"bar",2,"width","85%"],[1,"bar",2,"width","100%"],[1,"bar",2,"width","80%"],[1,"section-content"],[1,"section-title"],[1,"section-description"]],template:function(r,i){1&r&&(Ge(0,"section",0)(1,"div",1)(2,"h2",2),Ye(3,"Skills"),ze(),Ge(4,"div",3)(5,"div",4)(6,"ul",5)(7,"li")(8,"div",6),Ye(9,"Angular (including Angular 13+)"),ze(),Ge(10,"div",7)(11,"div",8),Ye(12,"95%"),ze()()(),Ge(13,"li")(14,"div",6),Ye(15,"Java / JavaScript / TypeScript"),ze(),Ge(16,"div",7)(17,"div",8),Ye(18,"90%"),ze()()(),Ge(19,"li")(20,"div",6),Ye(21,"HTML5 / CSS / Bootstrap"),ze(),Ge(22,"div",7)(23,"div",9),Ye(24,"85%"),ze()()(),Ge(25,"li")(26,"div",6),Ye(27,"RESTful API's"),ze(),Ge(28,"div",7)(29,"div",10),Ye(30,"100%"),ze()()(),Ge(31,"li")(32,"div",6),Ye(33,"AWS CodeCommit / Git / Jenkins"),ze(),Ge(34,"div",7)(35,"div",10),Ye(36,"100%"),ze()()(),Ge(37,"li")(38,"div",6),Ye(39,"Telerik & Kendo UI / API Integration"),ze(),Ge(40,"div",7)(41,"div",9),Ye(42,"85%"),ze()()(),Ge(43,"li")(44,"div",6),Ye(45,"Unit Testing [Karma and Jasmine] and debugging"),ze(),Ge(46,"div",7)(47,"div",11),Ye(48,"80%"),ze()()(),Ge(49,"li")(50,"div",6),Ye(51,"Data Modelling / SQL / Stored Procedures"),ze(),Ge(52,"div",7)(53,"div",11),Ye(54,"80%"),ze()()(),Ge(55,"li")(56,"div",6),Ye(57,"SonarQube / Google Firebase Database"),ze(),Ge(58,"div",7)(59,"div",10),Ye(60,"100%"),ze()()(),Ge(61,"li")(62,"div",6),Ye(63,"Angular 12 to 17 Migration"),ze(),Ge(64,"div",7)(65,"div",10),Ye(66,"100%"),ze()()()()(),Ge(67,"div",4)(68,"div",12)(69,"h3",13),Ye(70,"Front-End Development"),ze(),Ge(71,"p",14),Ye(72," As a Front-End Developer, I have demonstrated my creativity and skills by designing and developing new user interfaces for FMG clients. My expertise in Angular, coupled with the utilization of Kendo UI, has enabled me to work on three successful projects tailored to meet our clients' specific requirements. "),ze()(),Ge(73,"div",12)(74,"h3",13),Ye(75,"Unit Testing with Karma and Jasmine"),ze(),Ge(76,"p",14),Ye(77," I've honed my debugging skills and now I'm focused on learning Karma and Jasmine for effective unit testing in Angular applications. Combining these abilities will enable me to deliver high-quality and reliable software solutions. "),ze()(),Ge(78,"div",12)(79,"h3",13),Ye(80,"Data Modeler and Database Developer"),ze(),Ge(81,"p",14),Ye(82," As a skilled Data Modeler and Database Developer, I excel in converting AS400 IBM database models to Redshift databases, enabling the establishment of powerful and scalable data lakes. My expertise lies in architecting and designing data models that efficiently store and organize vast amounts of structured and unstructured data, leveraging a profound understanding of AS400 IBM database systems and Redshift. "),ze()(),Ge(83,"div",12)(84,"h3",13),Ye(85,"Customer-Facing Applications and In-House Projects"),ze(),Ge(86,"p",14),Ye(87," Over the past six months, I have independently managed customer-facing applications in insurance and payment. Additionally, I have worked on over five in-house applications, including migrating from Angular 12 to 17 and addressing Karma and Jasmine unit test cases. These experiences have strengthened my ability to handle complex projects and ensure high-quality outcomes. "),ze()()()()()())},styles:["body[_ngcontent-%COMP%]{font-family:Arial,sans-serif;background-color:#f2f2f2;margin:0;padding:0}.container[_ngcontent-%COMP%]{max-width:1000px;margin:50px auto;padding:20px;background-color:#fff;border-radius:8px;box-shadow:0 4px 8px #0000001a}h1[_ngcontent-%COMP%]{text-align:center;color:#007bff}.skills-list[_ngcontent-%COMP%]{list-style:none;padding:0}.skills-list[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{margin-bottom:20px;background-color:#f7f7f7;border-radius:8px;box-shadow:0 4px 8px #0000001a;padding:16px;transition:transform .3s ease,box-shadow .3s ease}.skills-list[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:hover{transform:translateY(-5px);box-shadow:0 6px 12px #0003}.skill-name[_ngcontent-%COMP%]{font-weight:700;margin-bottom:10px}.bar-container[_ngcontent-%COMP%]{width:100%;background-color:#e0e0e0;border-radius:4px;overflow:hidden}.bar[_ngcontent-%COMP%]{background-color:#185602;color:#fff;text-align:center;line-height:20px;height:100%;width:50;animation:_ngcontent-%COMP%_progress-expand 1s ease}@keyframes _ngcontent-%COMP%_progress-expand{0%{width:0}to{width:var(--width, 0)}}.title[_ngcontent-%COMP%]{font-size:36px;font-weight:700;text-align:center;margin-bottom:30px}#skill[_ngcontent-%COMP%]{padding:50px 0}.info-container[_ngcontent-%COMP%]{background-color:#f0f0f0;padding:20px;border-radius:5px;box-shadow:0 4px 8px #0000001a}.info-title[_ngcontent-%COMP%]{font-size:24px;font-weight:700;margin-bottom:20px;text-align:center}.info-content[_ngcontent-%COMP%]{opacity:0;transform:translateY(20px);transition:opacity .3s ease,transform .3s ease}.info-container[_ngcontent-%COMP%]:hover   .info-content[_ngcontent-%COMP%]{opacity:1;transform:translateY(0)}.section-content[_ngcontent-%COMP%]{padding:20px;border:1px solid #ccc;border-radius:5px;margin-bottom:20px;transition:box-shadow .3s ease,transform .3s ease}.section-content[_ngcontent-%COMP%]:hover{box-shadow:0 0 10px #0003;transform:scale(1.03)}.section-title[_ngcontent-%COMP%]{font-size:20px;font-weight:700;margin-bottom:10px;transition:color .3s ease}.section-description[_ngcontent-%COMP%]{font-size:14px;color:#555;transition:color .3s ease}.skills-list[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:hover   .bar[_ngcontent-%COMP%]{width:100%}.section-content[_ngcontent-%COMP%]:hover   .section-title[_ngcontent-%COMP%]{color:#185602}.section-content[_ngcontent-%COMP%]:hover   .section-description[_ngcontent-%COMP%]{color:#333}"]})}return n})(),PV=(()=>{class n{constructor(t,r){this._renderer=t,this._elementRef=r,this.onChange=i=>{},this.onTouched=()=>{}}setProperty(t,r){this._renderer.setProperty(this._elementRef.nativeElement,t,r)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}static#e=this.\u0275fac=function(r){return new(r||n)(Ze(ml),Ze(Gs))};static#t=this.\u0275dir=Vt({type:n})}return n})(),fd=(()=>{class n extends PV{static#e=this.\u0275fac=(()=>{let t;return function(i){return(t||(t=yr(n)))(i||n)}})();static#t=this.\u0275dir=Vt({type:n,features:[Un]})}return n})();const Sa=new Qe(""),kee={provide:Sa,useExisting:Nn(()=>yw),multi:!0},Fee=new Qe("");let yw=(()=>{class n extends PV{constructor(t,r,i){super(t,r),this._compositionMode=i,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function Oee(){const n=Tu()?Tu().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}())}writeValue(t){this.setProperty("value",t??"")}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}static#e=this.\u0275fac=function(r){return new(r||n)(Ze(ml),Ze(Gs),Ze(Fee,8))};static#t=this.\u0275dir=Vt({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(r,i){1&r&&Xr("input",function(o){return i._handleInput(o.target.value)})("blur",function(){return i.onTouched()})("compositionstart",function(){return i._compositionStart()})("compositionend",function(o){return i._compositionEnd(o.target.value)})},features:[_r([kee]),Un]})}return n})();function Nu(n){return null==n||("string"==typeof n||Array.isArray(n))&&0===n.length}function NV(n){return null!=n&&"number"==typeof n.length}const qi=new Qe(""),ku=new Qe(""),Vee=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class Hf{static min(e){return function kV(n){return e=>{if(Nu(e.value)||Nu(n))return null;const t=parseFloat(e.value);return!isNaN(t)&&t<n?{min:{min:n,actual:e.value}}:null}}(e)}static max(e){return function OV(n){return e=>{if(Nu(e.value)||Nu(n))return null;const t=parseFloat(e.value);return!isNaN(t)&&t>n?{max:{max:n,actual:e.value}}:null}}(e)}static required(e){return FV(e)}static requiredTrue(e){return function VV(n){return!0===n.value?null:{required:!0}}(e)}static email(e){return function LV(n){return Nu(n.value)||Vee.test(n.value)?null:{email:!0}}(e)}static minLength(e){return function BV(n){return e=>Nu(e.value)||!NV(e.value)?null:e.value.length<n?{minlength:{requiredLength:n,actualLength:e.value.length}}:null}(e)}static maxLength(e){return function UV(n){return e=>NV(e.value)&&e.value.length>n?{maxlength:{requiredLength:n,actualLength:e.value.length}}:null}(e)}static pattern(e){return function jV(n){if(!n)return _w;let e,t;return"string"==typeof n?(t="","^"!==n.charAt(0)&&(t+="^"),t+=n,"$"!==n.charAt(n.length-1)&&(t+="$"),e=new RegExp(t)):(t=n.toString(),e=n),r=>{if(Nu(r.value))return null;const i=r.value;return e.test(i)?null:{pattern:{requiredPattern:t,actualValue:i}}}}(e)}static nullValidator(e){return null}static compose(e){return WV(e)}static composeAsync(e){return KV(e)}}function FV(n){return Nu(n.value)?{required:!0}:null}function _w(n){return null}function $V(n){return null!=n}function zV(n){return Em(n)?or(n):n}function HV(n){let e={};return n.forEach(t=>{e=null!=t?{...e,...t}:e}),0===Object.keys(e).length?null:e}function qV(n,e){return e.map(t=>t(n))}function GV(n){return n.map(e=>function Lee(n){return!n.validate}(e)?e:t=>e.validate(t))}function WV(n){if(!n)return null;const e=n.filter($V);return 0==e.length?null:function(t){return HV(qV(t,e))}}function Fx(n){return null!=n?WV(GV(n)):null}function KV(n){if(!n)return null;const e=n.filter($V);return 0==e.length?null:function(t){return function Mee(...n){const e=bF(n),{args:t,keys:r}=AF(n),i=new rn(s=>{const{length:o}=t;if(!o)return void s.complete();const a=new Array(o);let l=o,c=o;for(let p=0;p<o;p++){let m=!1;Zs(t[p]).subscribe(rt(s,w=>{m||(m=!0,c--),a[p]=w},()=>l--,void 0,()=>{(!l||!m)&&(c||s.next(r?xF(r,a):a),s.complete())}))}});return e?i.pipe(CF(e)):i}(qV(t,e).map(zV)).pipe(mt(HV))}}function Vx(n){return null!=n?KV(GV(n)):null}function QV(n,e){return null===n?[e]:Array.isArray(n)?[...n,e]:[n,e]}function YV(n){return n._rawValidators}function XV(n){return n._rawAsyncValidators}function Lx(n){return n?Array.isArray(n)?n:[n]:[]}function vw(n,e){return Array.isArray(n)?n.includes(e):n===e}function ZV(n,e){const t=Lx(e);return Lx(n).forEach(i=>{vw(t,i)||t.push(i)}),t}function JV(n,e){return Lx(e).filter(t=>!vw(n,t))}class eL{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=Fx(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=Vx(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e=void 0){this.control&&this.control.reset(e)}hasError(e,t){return!!this.control&&this.control.hasError(e,t)}getError(e,t){return this.control?this.control.getError(e,t):null}}class hs extends eL{get formDirective(){return null}get path(){return null}}class Ou extends eL{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class tL{constructor(e){this._cd=e}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let nL=(()=>{class n extends tL{constructor(t){super(t)}static#e=this.\u0275fac=function(r){return new(r||n)(Ze(Ou,2))};static#t=this.\u0275dir=Vt({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(r,i){2&r&&yl("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)},features:[Un]})}return n})(),rL=(()=>{class n extends tL{constructor(t){super(t)}static#e=this.\u0275fac=function(r){return new(r||n)(Ze(hs,10))};static#t=this.\u0275dir=Vt({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(r,i){2&r&&yl("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)("ng-submitted",i.isSubmitted)},features:[Un]})}return n})();const Zm="VALID",Ew="INVALID",qf="PENDING",Jm="DISABLED";function jx(n){return(Iw(n)?n.validators:n)||null}function $x(n,e){return(Iw(e)?e.asyncValidators:n)||null}function Iw(n){return null!=n&&!Array.isArray(n)&&"object"==typeof n}function sL(n,e,t){const r=n.controls;if(!(e?Object.keys(r):r).length)throw new Ae(1e3,"");if(!r[t])throw new Ae(1001,"")}function oL(n,e,t){n._forEachChild((r,i)=>{if(void 0===t[i])throw new Ae(1002,"")})}class bw{constructor(e,t){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(e),this._assignAsyncValidators(t)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===Zm}get invalid(){return this.status===Ew}get pending(){return this.status==qf}get disabled(){return this.status===Jm}get enabled(){return this.status!==Jm}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(ZV(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(ZV(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(JV(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(JV(e,this._rawAsyncValidators))}hasValidator(e){return vw(this._rawValidators,e)}hasAsyncValidator(e){return vw(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(t=>{t.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(t=>{t.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=qf,!1!==e.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=Jm,this.errors=null,this._forEachChild(r=>{r.disable({...e,onlySelf:!0})}),this._updateValue(),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...e,skipPristineCheck:t}),this._onDisabledChange.forEach(r=>r(!0))}enable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=Zm,this._forEachChild(r=>{r.enable({...e,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors({...e,skipPristineCheck:t}),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Zm||this.status===qf)&&this._runAsyncValidator(e.emitEvent)),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Jm:Zm}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=qf,this._hasOwnPendingAsyncValidator=!0;const t=zV(this.asyncValidator(this));this._asyncValidationSubscription=t.subscribe(r=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(r,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,t={}){this.errors=e,this._updateControlsErrors(!1!==t.emitEvent)}get(e){let t=e;return null==t||(Array.isArray(t)||(t=t.split(".")),0===t.length)?null:t.reduce((r,i)=>r&&r._find(i),this)}getError(e,t){const r=t?this.get(t):this;return r&&r.errors?r.errors[e]:null}hasError(e,t){return!!this.getError(e,t)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new Tr,this.statusChanges=new Tr}_calculateStatus(){return this._allControlsDisabled()?Jm:this.errors?Ew:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(qf)?qf:this._anyControlsHaveStatus(Ew)?Ew:Zm}_anyControlsHaveStatus(e){return this._anyControls(t=>t.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){Iw(e)&&null!=e.updateOn&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){return!e&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=function $ee(n){return Array.isArray(n)?Fx(n):n||null}(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=function zee(n){return Array.isArray(n)?Vx(n):n||null}(this._rawAsyncValidators)}}class e0 extends bw{constructor(e,t,r){super(jx(t),$x(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,t){return this.controls[e]?this.controls[e]:(this.controls[e]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}addControl(e,t,r={}){this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}setControl(e,t,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],t&&this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,t={}){oL(this,0,e),Object.keys(e).forEach(r=>{sL(this,!0,r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(Object.keys(e).forEach(r=>{const i=this.controls[r];i&&i.patchValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e={},t={}){this._forEachChild((r,i)=>{r.reset(e?e[i]:null,{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this._reduceChildren({},(e,t,r)=>(e[r]=t.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(t,r)=>!!r._syncPendingControls()||t);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(t=>{const r=this.controls[t];r&&e(r,t)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(const[t,r]of Object.entries(this.controls))if(this.contains(t)&&e(r))return!0;return!1}_reduceValue(){return this._reduceChildren({},(t,r,i)=>((r.enabled||this.disabled)&&(t[i]=r.value),t))}_reduceChildren(e,t){let r=e;return this._forEachChild((i,s)=>{r=t(r,i,s)}),r}_allControlsDisabled(){for(const e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}}class aL extends e0{}const pd=new Qe("CallSetDisabledState",{providedIn:"root",factory:()=>t0}),t0="always";function n0(n,e,t=t0){zx(n,e),e.valueAccessor.writeValue(n.value),(n.disabled||"always"===t)&&e.valueAccessor.setDisabledState?.(n.disabled),function qee(n,e){e.valueAccessor.registerOnChange(t=>{n._pendingValue=t,n._pendingChange=!0,n._pendingDirty=!0,"change"===n.updateOn&&lL(n,e)})}(n,e),function Wee(n,e){const t=(r,i)=>{e.valueAccessor.writeValue(r),i&&e.viewToModelUpdate(r)};n.registerOnChange(t),e._registerOnDestroy(()=>{n._unregisterOnChange(t)})}(n,e),function Gee(n,e){e.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,"blur"===n.updateOn&&n._pendingChange&&lL(n,e),"submit"!==n.updateOn&&n.markAsTouched()})}(n,e),function Hee(n,e){if(e.valueAccessor.setDisabledState){const t=r=>{e.valueAccessor.setDisabledState(r)};n.registerOnDisabledChange(t),e._registerOnDestroy(()=>{n._unregisterOnDisabledChange(t)})}}(n,e)}function Cw(n,e,t=!0){const r=()=>{};e.valueAccessor&&(e.valueAccessor.registerOnChange(r),e.valueAccessor.registerOnTouched(r)),Dw(n,e),n&&(e._invokeOnDestroyCallbacks(),n._registerOnCollectionChange(()=>{}))}function xw(n,e){n.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function zx(n,e){const t=YV(n);null!==e.validator?n.setValidators(QV(t,e.validator)):"function"==typeof t&&n.setValidators([t]);const r=XV(n);null!==e.asyncValidator?n.setAsyncValidators(QV(r,e.asyncValidator)):"function"==typeof r&&n.setAsyncValidators([r]);const i=()=>n.updateValueAndValidity();xw(e._rawValidators,i),xw(e._rawAsyncValidators,i)}function Dw(n,e){let t=!1;if(null!==n){if(null!==e.validator){const i=YV(n);if(Array.isArray(i)&&i.length>0){const s=i.filter(o=>o!==e.validator);s.length!==i.length&&(t=!0,n.setValidators(s))}}if(null!==e.asyncValidator){const i=XV(n);if(Array.isArray(i)&&i.length>0){const s=i.filter(o=>o!==e.asyncValidator);s.length!==i.length&&(t=!0,n.setAsyncValidators(s))}}}const r=()=>{};return xw(e._rawValidators,r),xw(e._rawAsyncValidators,r),t}function lL(n,e){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function dL(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}function hL(n){return"object"==typeof n&&null!==n&&2===Object.keys(n).length&&"value"in n&&"disabled"in n}Promise.resolve();const s0=class extends bw{constructor(e=null,t,r){super(jx(t),$x(r,t)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Iw(t)&&(t.nonNullable||t.initialValueIsDefault)&&(this.defaultValue=hL(e)?e.value:e)}setValue(e,t={}){this.value=this._pendingValue=e,this._onChange.length&&!1!==t.emitModelToViewChange&&this._onChange.forEach(r=>r(this.value,!1!==t.emitViewToModelChange)),this.updateValueAndValidity(t)}patchValue(e,t={}){this.setValue(e,t)}reset(e=this.defaultValue,t={}){this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){dL(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){dL(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(e){hL(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}};Promise.resolve();let yL=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275dir=Vt({type:n,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]})}return n})();const Kx=new Qe(""),ate={provide:hs,useExisting:Nn(()=>Tw)};let Tw=(()=>{class n extends hs{constructor(t,r,i){super(),this.callSetDisabledState=i,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new Tr,this._setValidators(t),this._setAsyncValidators(r)}ngOnChanges(t){this._checkFormPresent(),t.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(Dw(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(t){const r=this.form.get(t.path);return n0(r,t,this.callSetDisabledState),r.updateValueAndValidity({emitEvent:!1}),this.directives.push(t),r}getControl(t){return this.form.get(t.path)}removeControl(t){Cw(t.control||null,t,!1),function Xee(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}(this.directives,t)}addFormGroup(t){this._setUpFormContainer(t)}removeFormGroup(t){this._cleanUpFormContainer(t)}getFormGroup(t){return this.form.get(t.path)}addFormArray(t){this._setUpFormContainer(t)}removeFormArray(t){this._cleanUpFormContainer(t)}getFormArray(t){return this.form.get(t.path)}updateModel(t,r){this.form.get(t.path).setValue(r)}onSubmit(t){return this.submitted=!0,function cL(n,e){n._syncPendingControls(),e.forEach(t=>{const r=t.control;"submit"===r.updateOn&&r._pendingChange&&(t.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}(this.form,this.directives),this.ngSubmit.emit(t),"dialog"===t?.target?.method}onReset(){this.resetForm()}resetForm(t=void 0){this.form.reset(t),this.submitted=!1}_updateDomValue(){this.directives.forEach(t=>{const r=t.control,i=this.form.get(t.path);r!==i&&(Cw(r||null,t),(n=>n instanceof s0)(i)&&(n0(i,t,this.callSetDisabledState),t.control=i))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(t){const r=this.form.get(t.path);(function uL(n,e){zx(n,e)})(r,t),r.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(t){if(this.form){const r=this.form.get(t.path);r&&function Kee(n,e){return Dw(n,e)}(r,t)&&r.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){zx(this.form,this),this._oldForm&&Dw(this._oldForm,this)}_checkFormPresent(){}static#e=this.\u0275fac=function(r){return new(r||n)(Ze(qi,10),Ze(ku,10),Ze(pd,8))};static#t=this.\u0275dir=Vt({type:n,selectors:[["","formGroup",""]],hostBindings:function(r,i){1&r&&Xr("submit",function(o){return i.onSubmit(o)})("reset",function(){return i.onReset()})},inputs:{form:[kn.None,"formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[_r([ate]),Un,ls]})}return n})();const cte={provide:Ou,useExisting:Nn(()=>Xx)};let Xx=(()=>{class n extends Ou{set isDisabled(t){}static#e=this._ngModelWarningSentOnce=!1;constructor(t,r,i,s,o){super(),this._ngModelWarningConfig=o,this._added=!1,this.name=null,this.update=new Tr,this._ngModelWarningSent=!1,this._parent=t,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=function Gx(n,e){if(!e)return null;let t,r,i;return Array.isArray(e),e.forEach(s=>{s.constructor===yw?t=s:function Yee(n){return Object.getPrototypeOf(n.constructor)===fd}(s)?r=s:i=s}),i||r||t||null}(0,s)}ngOnChanges(t){this._added||this._setUpControl(),function qx(n,e){if(!n.hasOwnProperty("model"))return!1;const t=n.model;return!!t.isFirstChange()||!Object.is(e,t.currentValue)}(t,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}get path(){return function Aw(n,e){return[...e.path,n]}(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}static#t=this.\u0275fac=function(r){return new(r||n)(Ze(hs,13),Ze(qi,10),Ze(ku,10),Ze(Sa,10),Ze(Kx,8))};static#n=this.\u0275dir=Vt({type:n,selectors:[["","formControlName",""]],inputs:{name:[kn.None,"formControlName","name"],isDisabled:[kn.None,"disabled","isDisabled"],model:[kn.None,"ngModel","model"]},outputs:{update:"ngModelChange"},features:[_r([cte]),Un,ls]})}return n})(),gd=(()=>{class n{constructor(){this._validator=_w}ngOnChanges(t){if(this.inputName in t){const r=this.normalizeInput(t[this.inputName].currentValue);this._enabled=this.enabled(r),this._validator=this._enabled?this.createValidator(r):_w,this._onChange&&this._onChange()}}validate(t){return this._validator(t)}registerOnValidatorChange(t){this._onChange=t}enabled(t){return null!=t}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275dir=Vt({type:n,features:[ls]})}return n})();const vte={provide:qi,useExisting:Nn(()=>Sw),multi:!0};let Sw=(()=>{class n extends gd{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=If,this.createValidator=t=>FV}enabled(t){return t}static#e=this.\u0275fac=(()=>{let t;return function(i){return(t||(t=yr(n)))(i||n)}})();static#t=this.\u0275dir=Vt({type:n,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(r,i){2&r&&Ea("required",i._enabled?"":null)},inputs:{required:"required"},features:[_r([vte]),Un]})}return n})(),kL=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275mod=Vr({type:n});static#n=this.\u0275inj=ri({})}return n})();class OL extends bw{constructor(e,t,r){super(jx(t),$x(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(e){return this.controls[this._adjustIndex(e)]}push(e,t={}){this.controls.push(e),this._registerControl(e),this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}insert(e,t,r={}){this.controls.splice(e,0,t),this._registerControl(t),this.updateValueAndValidity({emitEvent:r.emitEvent})}removeAt(e,t={}){let r=this._adjustIndex(e);r<0&&(r=0),this.controls[r]&&this.controls[r]._registerOnCollectionChange(()=>{}),this.controls.splice(r,1),this.updateValueAndValidity({emitEvent:t.emitEvent})}setControl(e,t,r={}){let i=this._adjustIndex(e);i<0&&(i=0),this.controls[i]&&this.controls[i]._registerOnCollectionChange(()=>{}),this.controls.splice(i,1),t&&(this.controls.splice(i,0,t),this._registerControl(t)),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(e,t={}){oL(this,0,e),e.forEach((r,i)=>{sL(this,!1,i),this.at(i).setValue(r,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(e.forEach((r,i)=>{this.at(i)&&this.at(i).patchValue(r,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e=[],t={}){this._forEachChild((r,i)=>{r.reset(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this.controls.map(e=>e.getRawValue())}clear(e={}){this.controls.length<1||(this._forEachChild(t=>t._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:e.emitEvent}))}_adjustIndex(e){return e<0?e+this.length:e}_syncPendingControls(){let e=this.controls.reduce((t,r)=>!!r._syncPendingControls()||t,!1);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){this.controls.forEach((t,r)=>{e(t,r)})}_updateValue(){this.value=this.controls.filter(e=>e.enabled||this.disabled).map(e=>e.value)}_anyControls(e){return this.controls.some(t=>t.enabled&&e(t))}_setUpControls(){this._forEachChild(e=>this._registerControl(e))}_allControlsDisabled(){for(const e of this.controls)if(e.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(e){e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)}_find(e){return this.at(e)??null}}function FL(n){return!!n&&(void 0!==n.asyncValidators||void 0!==n.validators||void 0!==n.updateOn)}let Cte=(()=>{class n{constructor(){this.useNonNullable=!1}get nonNullable(){const t=new n;return t.useNonNullable=!0,t}group(t,r=null){const i=this._reduceControls(t);let s={};return FL(r)?s=r:null!==r&&(s.validators=r.validator,s.asyncValidators=r.asyncValidator),new e0(i,s)}record(t,r=null){const i=this._reduceControls(t);return new aL(i,r)}control(t,r,i){let s={};return this.useNonNullable?(FL(r)?s=r:(s.validators=r,s.asyncValidators=i),new s0(t,{...s,nonNullable:!0})):new s0(t,r,i)}array(t,r,i){const s=t.map(o=>this._createControl(o));return new OL(s,r,i)}_reduceControls(t){const r={};return Object.keys(t).forEach(i=>{r[i]=this._createControl(t[i])}),r}_createControl(t){return t instanceof s0||t instanceof bw?t:Array.isArray(t)?this.control(t[0],t.length>1?t[1]:null,t.length>2?t[2]:null):this.control(t)}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=pt({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),xte=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:pd,useValue:t.callSetDisabledState??t0}]}}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275mod=Vr({type:n});static#n=this.\u0275inj=ri({imports:[kL]})}return n})(),Dte=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:Kx,useValue:t.warnOnNgModelWithFormControl??"always"},{provide:pd,useValue:t.callSetDisabledState??t0}]}}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275mod=Vr({type:n});static#n=this.\u0275inj=ri({imports:[kL]})}return n})();var Tte=oe(32),VL=oe.n(Tte),Ko=oe(852);(0,Ko.registerVersion)("firebase","10.13.2","app");class Pte extends zt{constructor(e,t){super()}schedule(e,t=0){return this}}const Rw={setInterval(n,e,...t){const{delegate:r}=Rw;return r?.setInterval?r.setInterval(n,e,...t):setInterval(n,e,...t)},clearInterval(n){const{delegate:e}=Rw;return(e?.clearInterval||clearInterval)(n)},delegate:void 0};class LL extends Pte{constructor(e,t){super(e,t),this.scheduler=e,this.work=t,this.pending=!1}schedule(e,t=0){var r;if(this.closed)return this;this.state=e;const i=this.id,s=this.scheduler;return null!=i&&(this.id=this.recycleAsyncId(s,i,t)),this.pending=!0,this.delay=t,this.id=null!==(r=this.id)&&void 0!==r?r:this.requestAsyncId(s,this.id,t),this}requestAsyncId(e,t,r=0){return Rw.setInterval(e.flush.bind(e,this),r)}recycleAsyncId(e,t,r=0){if(null!=r&&this.delay===r&&!1===this.pending)return t;null!=t&&Rw.clearInterval(t)}execute(e,t){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const r=this._execute(e,t);if(r)return r;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,t){let i,r=!1;try{this.work(e)}catch(s){r=!0,i=s||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){const{id:e,scheduler:t}=this,{actions:r}=t;this.work=this.state=this.scheduler=null,this.pending=!1,Pn(r,this),null!=e&&(this.id=this.recycleAsyncId(t,e,null)),this.delay=null,super.unsubscribe()}}}const eD={now:()=>(eD.delegate||Date).now(),delegate:void 0};class o0{constructor(e,t=o0.now){this.schedulerActionCtor=e,this.now=t}schedule(e,t=0,r){return new this.schedulerActionCtor(this,e).schedule(r,t)}}o0.now=eD.now;class BL extends o0{constructor(e,t=o0.now){super(e,t),this.actions=[],this._active=!1}flush(e){const{actions:t}=this;if(this._active)return void t.push(e);let r;this._active=!0;do{if(r=e.execute(e.state,e.delay))break}while(e=t.shift());if(this._active=!1,r){for(;e=t.shift();)e.unsubscribe();throw r}}}const kte=new class Nte extends BL{}(class Mte extends LL{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}schedule(e,t=0){return t>0?super.schedule(e,t):(this.delay=t,this.state=e,this.scheduler.flush(this),this)}execute(e,t){return t>0||this.closed?super.execute(e,t):this._execute(e,t)}requestAsyncId(e,t,r=0){return null!=r&&r>0||null==r&&this.delay>0?super.requestAsyncId(e,t,r):(e.flush(this),0)}}),UL=new BL(LL),tD=new wf("ANGULARFIRE2_VERSION");class $L{constructor(){return((n,e)=>{const t=e?[e]:(0,Ko.getApps)(),r=[];return t.forEach(i=>{i.container.getProvider(n).instances.forEach(o=>{r.includes(o)||r.push(o)})}),r})(Fte)}}const Fte="app-check";function Gf(){}class zL{zone;delegate;constructor(e,t=kte){this.zone=e,this.delegate=t}now(){return this.delegate.now()}schedule(e,t,r){const i=this.zone;return this.delegate.schedule(function(o){i.runGuarded(()=>{e.apply(this,[o])})},t,r)}}class Vte{zone;task=null;constructor(e){this.zone=e}call(e,t){const r=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Gf,{},Gf,Gf)),t.pipe(Hi({next:r,complete:r,error:r})).subscribe(e).add(r)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let HL=(()=>{class n{ngZone;outsideAngular;insideAngular;constructor(t){this.ngZone=t,this.outsideAngular=t.runOutsideAngular(()=>new zL(Zone.current)),this.insideAngular=t.run(()=>new zL(Zone.current,UL)),globalThis.\u0275AngularFireScheduler||=this}static \u0275fac=function(r){return new(r||n)(We(_n))};static \u0275prov=pt({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function Wf(){const n=globalThis.\u0275AngularFireScheduler;if(!n)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return n}function md(n){return Wf().ngZone.run(()=>n())}function eo(n){return function Bte(n){return function(t){return(t=t.lift(new Vte(n.ngZone))).pipe(dd(n.outsideAngular),Ru(n.insideAngular))}}(Wf())(n)}const Ute=(n,e)=>function(){const r=arguments;return e&&setTimeout(()=>{"scheduled"===e.state&&e.invoke()},10),md(()=>n.apply(void 0,r))},qL=(n,e)=>function(){let t;const r=arguments;for(let s=0;s<arguments.length;s++)"function"==typeof r[s]&&(e&&(t||=md(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Gf,{},Gf,Gf))),r[s]=Ute(r[s],t));const i=function Lte(n){return Wf().ngZone.runOutsideAngular(()=>n())}(()=>n.apply(this,r));if(!e){if(i instanceof rn){const s=Wf();return i.pipe(dd(s.outsideAngular),Ru(s.insideAngular))}return md(()=>i)}return i instanceof rn?i.pipe(eo):i instanceof Promise?md(()=>new Promise((s,o)=>i.then(a=>md(()=>s(a)),a=>md(()=>o(a))))):"function"==typeof i&&t?function(){return setTimeout(()=>{t&&"scheduled"===t.state&&t.invoke()},10),i.apply(this,arguments)}:md(()=>i)};var Fu=oe(345);Fu.A.registerVersion("firebase","10.13.2","app-compat");const zte=["ngOnDestroy"];class GL{constructor(e){return e}}const Pw=new Qe("angularfire2.app.options"),Mw=new Qe("angularfire2.app.name");function nD(n,e,t){const i="object"==typeof t&&t||{};i.name=i.name||"string"==typeof t&&t||"[DEFAULT]";const o=Fu.A.apps.filter(a=>a&&a.name===i.name)[0]||e.runOutsideAngular(()=>Fu.A.initializeApp(n,i));try{if(JSON.stringify(n)!==JSON.stringify(o.options)){const a=!!module.hot;Gte("error",`${o.name} Firebase App already initialized with different options${a?", you may need to reload as Firebase is not HMR aware.":"."}`)}}catch{}return new GL(o)}const Gte=(n,...e)=>{},Wte={provide:GL,useFactory:nD,deps:[Pw,_n,[new is,Mw]]};let Kte=(()=>{class n{static initializeApp(t,r){return{ngModule:n,providers:[{provide:Pw,useValue:t},{provide:Mw,useValue:r}]}}constructor(t){Fu.A.registerVersion("angularfire",tD.full,"core"),Fu.A.registerVersion("angularfire",tD.full,"app-compat"),Fu.A.registerVersion("angular",wq.full,t.toString())}static \u0275fac=function(r){return new(r||n)(We(Lo))};static \u0275mod=Vr({type:n});static \u0275inj=ri({providers:[Wte]})}return n})();function WL(n,e,t,r,i){const[,s,o]=globalThis.\u0275AngularfireInstanceCache.find(a=>a[0]===n)||[];if(s)return function Qte(n,e){try{return n.toString()===e.toString()}catch{return n===e}}(i,o)||(KL("error",`${e} was already initialized on the ${t} Firebase App with different settings.${Yte?" You may need to reload as Firebase is not HMR aware.":""}`),KL("warn",{is:i,was:o})),s;{const a=r();return globalThis.\u0275AngularfireInstanceCache.push([n,a,i]),a}}const Yte=typeof module<"u"&&!!module.hot,KL=(n,...e)=>{};globalThis.\u0275AngularfireInstanceCache||=[],oe(955);class Zte extends Q{constructor(e=1/0,t=1/0,r=eD){super(),this._bufferSize=e,this._windowTime=t,this._timestampProvider=r,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=t===1/0,this._bufferSize=Math.max(1,e),this._windowTime=Math.max(1,t)}next(e){const{isStopped:t,_buffer:r,_infiniteTimeWindow:i,_timestampProvider:s,_windowTime:o}=this;t||(r.push(e),!i&&r.push(s.now()+o)),this._trimBuffer(),super.next(e)}_subscribe(e){this._throwIfClosed(),this._trimBuffer();const t=this._innerSubscribe(e),{_infiniteTimeWindow:r,_buffer:i}=this,s=i.slice();for(let o=0;o<s.length&&!e.closed;o+=r?1:2)e.next(s[o]);return this._checkFinalizedStatuses(e),t}_trimBuffer(){const{_bufferSize:e,_timestampProvider:t,_buffer:r,_infiniteTimeWindow:i}=this,s=(i?1:2)*e;if(e<1/0&&s<r.length&&r.splice(0,r.length-s),!i){const o=t.now();let a=0;for(let l=1;l<r.length&&r[l]<=o;l+=2)a=l;a&&r.splice(0,a+1)}}}function rD(n,e,...t){if(!0===e)return void n();if(!1===e)return;const r=new Li({next:()=>{r.unsubscribe(),n()}});return Zs(e(...t)).subscribe(r)}function QL(n,e,t){let r,i=!1;return n&&"object"==typeof n?({bufferSize:r=1/0,windowTime:e=1/0,refCount:i=!1,scheduler:t}=n):r=n??1/0,function Jte(n={}){const{connector:e=(()=>new Q),resetOnError:t=!0,resetOnComplete:r=!0,resetOnRefCountZero:i=!0}=n;return s=>{let o,a,l,c=0,p=!1,m=!1;const w=()=>{a?.unsubscribe(),a=void 0},A=()=>{w(),o=l=void 0,p=m=!1},D=()=>{const R=o;A(),R?.unsubscribe()};return fe((R,N)=>{c++,!m&&!p&&w();const ee=l=l??e();N.add(()=>{c--,0===c&&!m&&!p&&(a=rD(D,i))}),ee.subscribe(N),!o&&c>0&&(o=new Li({next:se=>ee.next(se),error:se=>{m=!0,w(),a=rD(A,t,se),ee.error(se)},complete:()=>{p=!0,w(),a=rD(A,r),ee.complete()}}),Zs(R).subscribe(o))})(s)}}({connector:()=>new Zte(r,e,t),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:i})}function YL(n,e){return vt(e)?ui(()=>n,e):ui(()=>n)}const XL=new Qe("angularfire2.auth.use-emulator"),ZL=new Qe("angularfire2.auth.settings"),JL=new Qe("angularfire2.auth.tenant-id"),eB=new Qe("angularfire2.auth.langugage-code"),tB=new Qe("angularfire2.auth.use-device-language"),nB=new Qe("angularfire.auth.persistence"),rB=(n,e,t,r,i,s,o,a)=>WL(`${n.name}.auth`,"AngularFireAuth",n.name,()=>{const l=e.runOutsideAngular(()=>n.auth());if(t&&l.useEmulator(...t),r&&(l.tenantId=r),l.languageCode=i,s&&l.useDeviceLanguage(),o)for(const[c,p]of Object.entries(o))l.settings[c]=p;return a&&l.setPersistence(a),l},[t,r,i,s,o,a]);let iB=(()=>{class n{authState;idToken;user;idTokenResult;credential;constructor(t,r,i,s,o,a,l,c,p,m,w,A){const D=new Q,R=Ft(void 0).pipe(Ru(o.outsideAngular),ui(()=>s.runOutsideAngular(()=>Promise.resolve().then(oe.bind(oe,955)))),mt(()=>nD(t,s,r)),mt(N=>rB(N,s,a,c,p,m,l,w)),QL({bufferSize:1,refCount:!1}));if(Ov(i))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=Ft(null);else{R.pipe(Pu()).subscribe();const N=R.pipe(ui(ge=>ge.getRedirectResult().then(Oe=>Oe,()=>null)),eo,QL({bufferSize:1,refCount:!1})),ee=R.pipe(ui(ge=>new rn(Oe=>({unsubscribe:s.runOutsideAngular(()=>ge.onAuthStateChanged(et=>Oe.next(et),et=>Oe.error(et),()=>Oe.complete()))})))),se=R.pipe(ui(ge=>new rn(Oe=>({unsubscribe:s.runOutsideAngular(()=>ge.onIdTokenChanged(et=>Oe.next(et),et=>Oe.error(et),()=>Oe.complete()))}))));this.authState=N.pipe(YL(ee),dd(o.outsideAngular),Ru(o.insideAngular)),this.user=N.pipe(YL(se),dd(o.outsideAngular),Ru(o.insideAngular)),this.idToken=this.user.pipe(ui(ge=>ge?or(ge.getIdToken()):Ft(null))),this.idTokenResult=this.user.pipe(ui(ge=>ge?or(ge.getIdTokenResult()):Ft(null))),this.credential=function Xte(...n){const e=Vm(n),t=function zX(n,e){return"number"==typeof rx(n)?n.pop():e}(n,1/0),r=n;return r.length?1===r.length?Zs(r[0]):Df(t)(or(r,e)):Go}(N,D,this.authState.pipe(xo(ge=>!ge))).pipe(mt(ge=>ge?.user?ge:null),dd(o.outsideAngular),Ru(o.insideAngular))}return((n,e,t,r={})=>new Proxy(n,{get:(i,s)=>t.runOutsideAngular(()=>{if(n[s])return r?.spy?.get&&r.spy.get(s,n[s]),n[s];if(zte.indexOf(s)>-1)return()=>{};const o=e.toPromise().then(a=>{const l=a?.[s];return"function"==typeof l?l.bind(a):l?.then?l.then(c=>t.run(()=>c)):t.run(()=>l)});return new Proxy(()=>{},{get:(a,l)=>o[l],apply:(a,l,c)=>o.then(p=>{const m=p?.(...c);return r?.spy?.apply&&r.spy.apply(s,c,m),m})})})}))(this,R,s,{spy:{apply:(N,ee,se)=>{(N.startsWith("signIn")||N.startsWith("createUser"))&&se.then(ge=>D.next(ge))}}})}static \u0275fac=function(r){return new(r||n)(We(Pw),We(Mw,8),We(Lo),We(_n),We(HL),We(XL,8),We(ZL,8),We(JL,8),We(eB,8),We(tB,8),We(nB,8),We($L,8))};static \u0275prov=pt({token:n,factory:n.\u0275fac,providedIn:"any"})}return n})();function iD(){return fe((n,e)=>{let t,r=!1;n.subscribe(rt(e,i=>{const s=t;t=i,r&&e.next([s,i]),r=!0}))})}function nne(n,e){return n===e}var yd,lB,sB=oe(362),Ra=oe(41),xn=oe(76),oB=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},aB={};(function(){var n;function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}function i(J,j,te){te||(te=0);var ue=Array(16);if("string"==typeof j)for(var _e=0;16>_e;++_e)ue[_e]=j.charCodeAt(te++)|j.charCodeAt(te++)<<8|j.charCodeAt(te++)<<16|j.charCodeAt(te++)<<24;else for(_e=0;16>_e;++_e)ue[_e]=j[te++]|j[te++]<<8|j[te++]<<16|j[te++]<<24;var Ce=J.g[3],ne=(j=J.g[0])+(Ce^(te=J.g[1])&((_e=J.g[2])^Ce))+ue[0]+3614090360&4294967295;ne=(te=(_e=(Ce=(j=(te=(_e=(Ce=(j=(te=(_e=(Ce=(j=(te=(_e=(Ce=(j=(te=(_e=(Ce=(j=(te=(_e=(Ce=(j=(te=(_e=(Ce=(j=(te=(_e=(Ce=(j=(te=(_e=(Ce=(j=(te=(_e=(Ce=(j=(te=(_e=(Ce=(j=(te=(_e=(Ce=(j=(te=(_e=(Ce=(j=(te=(_e=(Ce=(j=(te=(_e=(Ce=(j=te+(ne<<7&4294967295|ne>>>25))+((ne=Ce+(_e^j&(te^_e))+ue[1]+3905402710&4294967295)<<12&4294967295|ne>>>20))+((ne=_e+(te^Ce&(j^te))+ue[2]+606105819&4294967295)<<17&4294967295|ne>>>15))+((ne=te+(j^_e&(Ce^j))+ue[3]+3250441966&4294967295)<<22&4294967295|ne>>>10))+((ne=j+(Ce^te&(_e^Ce))+ue[4]+4118548399&4294967295)<<7&4294967295|ne>>>25))+((ne=Ce+(_e^j&(te^_e))+ue[5]+1200080426&4294967295)<<12&4294967295|ne>>>20))+((ne=_e+(te^Ce&(j^te))+ue[6]+2821735955&4294967295)<<17&4294967295|ne>>>15))+((ne=te+(j^_e&(Ce^j))+ue[7]+4249261313&4294967295)<<22&4294967295|ne>>>10))+((ne=j+(Ce^te&(_e^Ce))+ue[8]+1770035416&4294967295)<<7&4294967295|ne>>>25))+((ne=Ce+(_e^j&(te^_e))+ue[9]+2336552879&4294967295)<<12&4294967295|ne>>>20))+((ne=_e+(te^Ce&(j^te))+ue[10]+4294925233&4294967295)<<17&4294967295|ne>>>15))+((ne=te+(j^_e&(Ce^j))+ue[11]+2304563134&4294967295)<<22&4294967295|ne>>>10))+((ne=j+(Ce^te&(_e^Ce))+ue[12]+1804603682&4294967295)<<7&4294967295|ne>>>25))+((ne=Ce+(_e^j&(te^_e))+ue[13]+4254626195&4294967295)<<12&4294967295|ne>>>20))+((ne=_e+(te^Ce&(j^te))+ue[14]+2792965006&4294967295)<<17&4294967295|ne>>>15))+((ne=te+(j^_e&(Ce^j))+ue[15]+1236535329&4294967295)<<22&4294967295|ne>>>10))+((ne=j+(_e^Ce&(te^_e))+ue[1]+4129170786&4294967295)<<5&4294967295|ne>>>27))+((ne=Ce+(te^_e&(j^te))+ue[6]+3225465664&4294967295)<<9&4294967295|ne>>>23))+((ne=_e+(j^te&(Ce^j))+ue[11]+643717713&4294967295)<<14&4294967295|ne>>>18))+((ne=te+(Ce^j&(_e^Ce))+ue[0]+3921069994&4294967295)<<20&4294967295|ne>>>12))+((ne=j+(_e^Ce&(te^_e))+ue[5]+3593408605&4294967295)<<5&4294967295|ne>>>27))+((ne=Ce+(te^_e&(j^te))+ue[10]+38016083&4294967295)<<9&4294967295|ne>>>23))+((ne=_e+(j^te&(Ce^j))+ue[15]+3634488961&4294967295)<<14&4294967295|ne>>>18))+((ne=te+(Ce^j&(_e^Ce))+ue[4]+3889429448&4294967295)<<20&4294967295|ne>>>12))+((ne=j+(_e^Ce&(te^_e))+ue[9]+568446438&4294967295)<<5&4294967295|ne>>>27))+((ne=Ce+(te^_e&(j^te))+ue[14]+3275163606&4294967295)<<9&4294967295|ne>>>23))+((ne=_e+(j^te&(Ce^j))+ue[3]+4107603335&4294967295)<<14&4294967295|ne>>>18))+((ne=te+(Ce^j&(_e^Ce))+ue[8]+1163531501&4294967295)<<20&4294967295|ne>>>12))+((ne=j+(_e^Ce&(te^_e))+ue[13]+2850285829&4294967295)<<5&4294967295|ne>>>27))+((ne=Ce+(te^_e&(j^te))+ue[2]+4243563512&4294967295)<<9&4294967295|ne>>>23))+((ne=_e+(j^te&(Ce^j))+ue[7]+1735328473&4294967295)<<14&4294967295|ne>>>18))+((ne=te+(Ce^j&(_e^Ce))+ue[12]+2368359562&4294967295)<<20&4294967295|ne>>>12))+((ne=j+(te^_e^Ce)+ue[5]+4294588738&4294967295)<<4&4294967295|ne>>>28))+((ne=Ce+(j^te^_e)+ue[8]+2272392833&4294967295)<<11&4294967295|ne>>>21))+((ne=_e+(Ce^j^te)+ue[11]+1839030562&4294967295)<<16&4294967295|ne>>>16))+((ne=te+(_e^Ce^j)+ue[14]+4259657740&4294967295)<<23&4294967295|ne>>>9))+((ne=j+(te^_e^Ce)+ue[1]+2763975236&4294967295)<<4&4294967295|ne>>>28))+((ne=Ce+(j^te^_e)+ue[4]+1272893353&4294967295)<<11&4294967295|ne>>>21))+((ne=_e+(Ce^j^te)+ue[7]+4139469664&4294967295)<<16&4294967295|ne>>>16))+((ne=te+(_e^Ce^j)+ue[10]+3200236656&4294967295)<<23&4294967295|ne>>>9))+((ne=j+(te^_e^Ce)+ue[13]+681279174&4294967295)<<4&4294967295|ne>>>28))+((ne=Ce+(j^te^_e)+ue[0]+3936430074&4294967295)<<11&4294967295|ne>>>21))+((ne=_e+(Ce^j^te)+ue[3]+3572445317&4294967295)<<16&4294967295|ne>>>16))+((ne=te+(_e^Ce^j)+ue[6]+76029189&4294967295)<<23&4294967295|ne>>>9))+((ne=j+(te^_e^Ce)+ue[9]+3654602809&4294967295)<<4&4294967295|ne>>>28))+((ne=Ce+(j^te^_e)+ue[12]+3873151461&4294967295)<<11&4294967295|ne>>>21))+((ne=_e+(Ce^j^te)+ue[15]+530742520&4294967295)<<16&4294967295|ne>>>16))+((ne=te+(_e^Ce^j)+ue[2]+3299628645&4294967295)<<23&4294967295|ne>>>9))+((ne=j+(_e^(te|~Ce))+ue[0]+4096336452&4294967295)<<6&4294967295|ne>>>26))+((ne=Ce+(te^(j|~_e))+ue[7]+1126891415&4294967295)<<10&4294967295|ne>>>22))+((ne=_e+(j^(Ce|~te))+ue[14]+2878612391&4294967295)<<15&4294967295|ne>>>17))+((ne=te+(Ce^(_e|~j))+ue[5]+4237533241&4294967295)<<21&4294967295|ne>>>11))+((ne=j+(_e^(te|~Ce))+ue[12]+1700485571&4294967295)<<6&4294967295|ne>>>26))+((ne=Ce+(te^(j|~_e))+ue[3]+2399980690&4294967295)<<10&4294967295|ne>>>22))+((ne=_e+(j^(Ce|~te))+ue[10]+4293915773&4294967295)<<15&4294967295|ne>>>17))+((ne=te+(Ce^(_e|~j))+ue[1]+2240044497&4294967295)<<21&4294967295|ne>>>11))+((ne=j+(_e^(te|~Ce))+ue[8]+1873313359&4294967295)<<6&4294967295|ne>>>26))+((ne=Ce+(te^(j|~_e))+ue[15]+4264355552&4294967295)<<10&4294967295|ne>>>22))+((ne=_e+(j^(Ce|~te))+ue[6]+2734768916&4294967295)<<15&4294967295|ne>>>17))+((ne=te+(Ce^(_e|~j))+ue[13]+1309151649&4294967295)<<21&4294967295|ne>>>11))+((Ce=(j=te+((ne=j+(_e^(te|~Ce))+ue[4]+4149444226&4294967295)<<6&4294967295|ne>>>26))+((ne=Ce+(te^(j|~_e))+ue[11]+3174756917&4294967295)<<10&4294967295|ne>>>22))^((_e=Ce+((ne=_e+(j^(Ce|~te))+ue[2]+718787259&4294967295)<<15&4294967295|ne>>>17))|~j))+ue[9]+3951481745&4294967295,J.g[0]=J.g[0]+j&4294967295,J.g[1]=J.g[1]+(_e+(ne<<21&4294967295|ne>>>11))&4294967295,J.g[2]=J.g[2]+_e&4294967295,J.g[3]=J.g[3]+Ce&4294967295}function o(J,j){this.h=j;for(var te=[],ue=!0,_e=J.length-1;0<=_e;_e--){var Ce=0|J[_e];ue&&Ce==j||(te[_e]=Ce,ue=!1)}this.g=te}(function e(J,j){function te(){}te.prototype=j.prototype,J.D=j.prototype,J.prototype=new te,J.prototype.constructor=J,J.C=function(ue,_e,Ce){for(var ne=Array(arguments.length-2),Ro=2;Ro<arguments.length;Ro++)ne[Ro-2]=arguments[Ro];return j.prototype[_e].apply(ue,ne)}})(r,function t(){this.blockSize=-1}),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0},r.prototype.u=function(J,j){void 0===j&&(j=J.length);for(var te=j-this.blockSize,ue=this.B,_e=this.h,Ce=0;Ce<j;){if(0==_e)for(;Ce<=te;)i(this,J,Ce),Ce+=this.blockSize;if("string"==typeof J){for(;Ce<j;)if(ue[_e++]=J.charCodeAt(Ce++),_e==this.blockSize){i(this,ue),_e=0;break}}else for(;Ce<j;)if(ue[_e++]=J[Ce++],_e==this.blockSize){i(this,ue),_e=0;break}}this.h=_e,this.o+=j},r.prototype.v=function(){var J=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);J[0]=128;for(var j=1;j<J.length-8;++j)J[j]=0;var te=8*this.o;for(j=J.length-8;j<J.length;++j)J[j]=255&te,te/=256;for(this.u(J),J=Array(16),j=te=0;4>j;++j)for(var ue=0;32>ue;ue+=8)J[te++]=this.g[j]>>>ue&255;return J};var a={};function l(J){return-128<=J&&128>J?function s(J,j){var te=a;return Object.prototype.hasOwnProperty.call(te,J)?te[J]:te[J]=j(J)}(J,function(j){return new o([0|j],0>j?-1:0)}):new o([0|J],0>J?-1:0)}function c(J){if(isNaN(J)||!isFinite(J))return m;if(0>J)return N(c(-J));for(var j=[],te=1,ue=0;J>=te;ue++)j[ue]=J/te|0,te*=4294967296;return new o(j,0)}var m=l(0),w=l(1),A=l(16777216);function D(J){if(0!=J.h)return!1;for(var j=0;j<J.g.length;j++)if(0!=J.g[j])return!1;return!0}function R(J){return-1==J.h}function N(J){for(var j=J.g.length,te=[],ue=0;ue<j;ue++)te[ue]=~J.g[ue];return new o(te,~J.h).add(w)}function ee(J,j){return J.add(N(j))}function se(J,j){for(;(65535&J[j])!=J[j];)J[j+1]+=J[j]>>>16,J[j]&=65535,j++}function ge(J,j){this.g=J,this.h=j}function Oe(J,j){if(D(j))throw Error("division by zero");if(D(J))return new ge(m,m);if(R(J))return j=Oe(N(J),j),new ge(N(j.g),N(j.h));if(R(j))return j=Oe(J,N(j)),new ge(N(j.g),j.h);if(30<J.g.length){if(R(J)||R(j))throw Error("slowDivide_ only works with positive integers.");for(var te=w,ue=j;0>=ue.l(J);)te=et(te),ue=et(ue);var _e=ot(te,1),Ce=ot(ue,1);for(ue=ot(ue,2),te=ot(te,2);!D(ue);){var ne=Ce.add(ue);0>=ne.l(J)&&(_e=_e.add(te),Ce=ne),ue=ot(ue,1),te=ot(te,1)}return j=ee(J,_e.j(j)),new ge(_e,j)}for(_e=m;0<=J.l(j);){for(te=Math.max(1,Math.floor(J.m()/j.m())),ue=48>=(ue=Math.ceil(Math.log(te)/Math.LN2))?1:Math.pow(2,ue-48),ne=(Ce=c(te)).j(j);R(ne)||0<ne.l(J);)ne=(Ce=c(te-=ue)).j(j);D(Ce)&&(Ce=w),_e=_e.add(Ce),J=ee(J,ne)}return new ge(_e,J)}function et(J){for(var j=J.g.length+1,te=[],ue=0;ue<j;ue++)te[ue]=J.i(ue)<<1|J.i(ue-1)>>>31;return new o(te,J.h)}function ot(J,j){var te=j>>5;j%=32;for(var ue=J.g.length-te,_e=[],Ce=0;Ce<ue;Ce++)_e[Ce]=0<j?J.i(Ce+te)>>>j|J.i(Ce+te+1)<<32-j:J.i(Ce+te);return new o(_e,J.h)}(n=o.prototype).m=function(){if(R(this))return-N(this).m();for(var J=0,j=1,te=0;te<this.g.length;te++){var ue=this.i(te);J+=(0<=ue?ue:4294967296+ue)*j,j*=4294967296}return J},n.toString=function(J){if(2>(J=J||10)||36<J)throw Error("radix out of range: "+J);if(D(this))return"0";if(R(this))return"-"+N(this).toString(J);for(var j=c(Math.pow(J,6)),te=this,ue="";;){var _e=Oe(te,j).g,Ce=((0<(te=ee(te,_e.j(j))).g.length?te.g[0]:te.h)>>>0).toString(J);if(D(te=_e))return Ce+ue;for(;6>Ce.length;)Ce="0"+Ce;ue=Ce+ue}},n.i=function(J){return 0>J?0:J<this.g.length?this.g[J]:this.h},n.l=function(J){return R(J=ee(this,J))?-1:D(J)?0:1},n.abs=function(){return R(this)?N(this):this},n.add=function(J){for(var j=Math.max(this.g.length,J.g.length),te=[],ue=0,_e=0;_e<=j;_e++){var Ce=ue+(65535&this.i(_e))+(65535&J.i(_e)),ne=(Ce>>>16)+(this.i(_e)>>>16)+(J.i(_e)>>>16);ue=ne>>>16,te[_e]=(ne&=65535)<<16|(Ce&=65535)}return new o(te,-2147483648&te[te.length-1]?-1:0)},n.j=function(J){if(D(this)||D(J))return m;if(R(this))return R(J)?N(this).j(N(J)):N(N(this).j(J));if(R(J))return N(this.j(N(J)));if(0>this.l(A)&&0>J.l(A))return c(this.m()*J.m());for(var j=this.g.length+J.g.length,te=[],ue=0;ue<2*j;ue++)te[ue]=0;for(ue=0;ue<this.g.length;ue++)for(var _e=0;_e<J.g.length;_e++){var Ce=this.i(ue)>>>16,ne=65535&this.i(ue),Ro=J.i(_e)>>>16,sc=65535&J.i(_e);te[2*ue+2*_e]+=ne*sc,se(te,2*ue+2*_e),te[2*ue+2*_e+1]+=Ce*sc,se(te,2*ue+2*_e+1),te[2*ue+2*_e+1]+=ne*Ro,se(te,2*ue+2*_e+1),te[2*ue+2*_e+2]+=Ce*Ro,se(te,2*ue+2*_e+2)}for(ue=0;ue<j;ue++)te[ue]=te[2*ue+1]<<16|te[2*ue];for(ue=j;ue<2*j;ue++)te[ue]=0;return new o(te,0)},n.A=function(J){return Oe(this,J).h},n.and=function(J){for(var j=Math.max(this.g.length,J.g.length),te=[],ue=0;ue<j;ue++)te[ue]=this.i(ue)&J.i(ue);return new o(te,this.h&J.h)},n.or=function(J){for(var j=Math.max(this.g.length,J.g.length),te=[],ue=0;ue<j;ue++)te[ue]=this.i(ue)|J.i(ue);return new o(te,this.h|J.h)},n.xor=function(J){for(var j=Math.max(this.g.length,J.g.length),te=[],ue=0;ue<j;ue++)te[ue]=this.i(ue)^J.i(ue);return new o(te,this.h^J.h)},r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,lB=aB.Md5=r,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.A,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=c,o.fromString=function p(J,j){if(0==J.length)throw Error("number format error: empty string");if(2>(j=j||10)||36<j)throw Error("radix out of range: "+j);if("-"==J.charAt(0))return N(p(J.substring(1),j));if(0<=J.indexOf("-"))throw Error('number format error: interior "-" character');for(var te=c(Math.pow(j,8)),ue=m,_e=0;_e<J.length;_e+=8){var Ce=Math.min(8,J.length-_e),ne=parseInt(J.substring(_e,_e+Ce),j);8>Ce?(Ce=c(Math.pow(j,Ce)),ue=ue.j(Ce).add(c(ne))):ue=(ue=ue.j(te)).add(c(ne))}return ue},yd=aB.Integer=o}).apply(typeof oB<"u"?oB:typeof self<"u"?self:typeof window<"u"?window:{});var uB,cB,a0,dB,kw,sD,hB,fB,pB,Nw=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},xl={};(function(){var n,e="function"==typeof Object.defineProperties?Object.defineProperty:function(h,v,b){return h==Array.prototype||h==Object.prototype||(h[v]=b.value),h},r=function t(h){h=["object"==typeof globalThis&&globalThis,h,"object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof Nw&&Nw];for(var v=0;v<h.length;++v){var b=h[v];if(b&&b.Math==Math)return b}throw Error("Cannot find global object")}(this);!function i(h,v){if(v)e:{var b=r;h=h.split(".");for(var P=0;P<h.length-1;P++){var Ie=h[P];if(!(Ie in b))break e;b=b[Ie]}(v=v(P=b[h=h[h.length-1]]))!=P&&null!=v&&e(b,h,{configurable:!0,writable:!0,value:v})}}("Array.prototype.values",function(h){return h||function(){return function s(h,v){h instanceof String&&(h+="");var b=0,P=!1,Ie={next:function(){if(!P&&b<h.length){var Pe=b++;return{value:v(Pe,h[Pe]),done:!1}}return P=!0,{done:!0,value:void 0}}};return Ie[Symbol.iterator]=function(){return Ie},Ie}(this,function(v,b){return b})}});var o=o||{},a=this||self;function l(h){var v=typeof h;return"array"==(v="object"!=v?v:h?Array.isArray(h)?"array":v:"null")||"object"==v&&"number"==typeof h.length}function c(h){var v=typeof h;return"object"==v&&null!=h||"function"==v}function p(h,v,b){return h.call.apply(h.bind,arguments)}function m(h,v,b){if(!h)throw Error();if(2<arguments.length){var P=Array.prototype.slice.call(arguments,2);return function(){var Ie=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(Ie,P),h.apply(v,Ie)}}return function(){return h.apply(v,arguments)}}function w(h,v,b){return(w=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?p:m).apply(null,arguments)}function A(h,v){var b=Array.prototype.slice.call(arguments,1);return function(){var P=b.slice();return P.push.apply(P,arguments),h.apply(this,P)}}function D(h,v){function b(){}b.prototype=v.prototype,h.aa=v.prototype,h.prototype=new b,h.prototype.constructor=h,h.Qb=function(P,Ie,Pe){for(var ct=Array(arguments.length-2),er=2;er<arguments.length;er++)ct[er-2]=arguments[er];return v.prototype[Ie].apply(P,ct)}}function R(h){const v=h.length;if(0<v){const b=Array(v);for(let P=0;P<v;P++)b[P]=h[P];return b}return[]}function N(h,v){for(let b=1;b<arguments.length;b++){const P=arguments[b];if(l(P)){const Ie=h.length||0,Pe=P.length||0;h.length=Ie+Pe;for(let ct=0;ct<Pe;ct++)h[Ie+ct]=P[ct]}else h.push(P)}}function se(h){return/^[\s\xa0]*$/.test(h)}function ge(){var h=a.navigator;return h&&(h=h.userAgent)?h:""}function Oe(h){return Oe[" "](h),h}Oe[" "]=function(){};var et=!(-1==ge().indexOf("Gecko")||-1!=ge().toLowerCase().indexOf("webkit")&&-1==ge().indexOf("Edge")||-1!=ge().indexOf("Trident")||-1!=ge().indexOf("MSIE")||-1!=ge().indexOf("Edge"));function ot(h,v,b){for(const P in h)v.call(b,h[P],P,h)}function j(h){const v={};for(const b in h)v[b]=h[b];return v}const te="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function ue(h,v){let b,P;for(let Ie=1;Ie<arguments.length;Ie++){for(b in P=arguments[Ie],P)h[b]=P[b];for(let Pe=0;Pe<te.length;Pe++)b=te[Pe],Object.prototype.hasOwnProperty.call(P,b)&&(h[b]=P[b])}}function _e(h){var v=1;h=h.split(":");const b=[];for(;0<v&&h.length;)b.push(h.shift()),v--;return h.length&&b.push(h.join(":")),b}function Ce(h){a.setTimeout(()=>{throw h},0)}function ne(){var h=cn;let v=null;return h.g&&(v=h.g,h.g=h.g.next,h.g||(h.h=null),v.next=null),v}var sc=new class ee{constructor(v,b){this.i=v,this.j=b,this.h=0,this.g=null}get(){let v;return 0<this.h?(this.h--,v=this.g,this.g=v.next,v.next=null):v=this.i(),v}}(()=>new It,h=>h.reset());class It{constructor(){this.next=this.g=this.h=null}set(v,b){this.h=v,this.g=b,this.next=null}reset(){this.next=this.g=this.h=null}}let St,kt=!1,cn=new class Ro{constructor(){this.h=this.g=null}add(v,b){const P=sc.get();P.set(v,b),this.h?this.h.next=P:this.g=P,this.h=P}},qr=()=>{const h=a.Promise.resolve(void 0);St=()=>{h.then(Po)}};var Po=()=>{for(var h;h=ne();){try{h.h.call(h.g)}catch(b){Ce(b)}var v=sc;v.j(h),100>v.h&&(v.h++,h.next=v.g,v.g=h)}kt=!1};function Rr(){this.s=this.s,this.C=this.C}function fr(h,v){this.type=h,this.g=this.target=v,this.defaultPrevented=!1}Rr.prototype.s=!1,Rr.prototype.ma=function(){this.s||(this.s=!0,this.N())},Rr.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()},fr.prototype.h=function(){this.defaultPrevented=!0};var pr=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var h=!1,v=Object.defineProperty({},"passive",{get:function(){h=!0}});try{const b=()=>{};a.addEventListener("test",b,v),a.removeEventListener("test",b,v)}catch{}return h}();function oc(h,v){if(fr.call(this,h?h.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,h){var b=this.type=h.type,P=h.changedTouches&&h.changedTouches.length?h.changedTouches[0]:null;if(this.target=h.target||h.srcElement,this.g=v,v=h.relatedTarget){if(et){e:{try{Oe(v.nodeName);var Ie=!0;break e}catch{}Ie=!1}Ie||(v=null)}}else"mouseover"==b?v=h.fromElement:"mouseout"==b&&(v=h.toElement);this.relatedTarget=v,P?(this.clientX=void 0!==P.clientX?P.clientX:P.pageX,this.clientY=void 0!==P.clientY?P.clientY:P.pageY,this.screenX=P.screenX||0,this.screenY=P.screenY||0):(this.clientX=void 0!==h.clientX?h.clientX:h.pageX,this.clientY=void 0!==h.clientY?h.clientY:h.pageY,this.screenX=h.screenX||0,this.screenY=h.screenY||0),this.button=h.button,this.key=h.key||"",this.ctrlKey=h.ctrlKey,this.altKey=h.altKey,this.shiftKey=h.shiftKey,this.metaKey=h.metaKey,this.pointerId=h.pointerId||0,this.pointerType="string"==typeof h.pointerType?h.pointerType:BS[h.pointerType]||"",this.state=h.state,this.i=h,h.defaultPrevented&&oc.aa.h.call(this)}}D(oc,fr);var BS={2:"touch",3:"pen",4:"mouse"};oc.prototype.h=function(){oc.aa.h.call(this);var h=this.i;h.preventDefault?h.preventDefault():h.returnValue=!1};var Pr="closure_listenable_"+(1e6*Math.random()|0),Fl=0;function Vs(h,v,b,P,Ie){this.listener=h,this.proxy=null,this.src=v,this.type=b,this.capture=!!P,this.ha=Ie,this.key=++Fl,this.da=this.fa=!1}function Vl(h){h.da=!0,h.listener=null,h.proxy=null,h.src=null,h.ha=null}function ac(h){this.src=h,this.g={},this.h=0}function US(h,v){var b=v.type;if(b in h.g){var Pe,P=h.g[b],Ie=Array.prototype.indexOf.call(P,v,void 0);(Pe=0<=Ie)&&Array.prototype.splice.call(P,Ie,1),Pe&&(Vl(v),0==h.g[b].length&&(delete h.g[b],h.h--))}}function jS(h,v,b,P){for(var Ie=0;Ie<h.length;++Ie){var Pe=h[Ie];if(!Pe.da&&Pe.listener==v&&Pe.capture==!!b&&Pe.ha==P)return Ie}return-1}ac.prototype.add=function(h,v,b,P,Ie){var Pe=h.toString();(h=this.g[Pe])||(h=this.g[Pe]=[],this.h++);var ct=jS(h,v,P,Ie);return-1<ct?(v=h[ct],b||(v.fa=!1)):((v=new Vs(v,this.src,Pe,!!P,Ie)).fa=b,h.push(v)),v};var $S="closure_lm_"+(1e6*Math.random()|0),zS={};function O5(h,v,b,P,Ie){if(P&&P.once)return V5(h,v,b,P,Ie);if(Array.isArray(v)){for(var Pe=0;Pe<v.length;Pe++)O5(h,v[Pe],b,P,Ie);return null}return b=WS(b),h&&h[Pr]?h.K(v,b,c(P)?!!P.capture:!!P,Ie):F5(h,v,b,!1,P,Ie)}function F5(h,v,b,P,Ie,Pe){if(!v)throw Error("Invalid event type");var ct=c(Ie)?!!Ie.capture:!!Ie,er=qS(h);if(er||(h[$S]=er=new ac(h)),(b=er.add(v,b,P,ct,Pe)).proxy)return b;if(P=function Pae(){const v=Mae;return function h(b){return v.call(h.src,h.listener,b)}}(),b.proxy=P,P.src=h,P.listener=b,h.addEventListener)pr||(Ie=ct),void 0===Ie&&(Ie=!1),h.addEventListener(v.toString(),P,Ie);else if(h.attachEvent)h.attachEvent(B5(v.toString()),P);else{if(!h.addListener||!h.removeListener)throw Error("addEventListener and attachEvent are unavailable.");h.addListener(P)}return b}function V5(h,v,b,P,Ie){if(Array.isArray(v)){for(var Pe=0;Pe<v.length;Pe++)V5(h,v[Pe],b,P,Ie);return null}return b=WS(b),h&&h[Pr]?h.L(v,b,c(P)?!!P.capture:!!P,Ie):F5(h,v,b,!0,P,Ie)}function L5(h,v,b,P,Ie){if(Array.isArray(v))for(var Pe=0;Pe<v.length;Pe++)L5(h,v[Pe],b,P,Ie);else P=c(P)?!!P.capture:!!P,b=WS(b),h&&h[Pr]?(h=h.i,(v=String(v).toString())in h.g&&-1<(b=jS(Pe=h.g[v],b,P,Ie))&&(Vl(Pe[b]),Array.prototype.splice.call(Pe,b,1),0==Pe.length&&(delete h.g[v],h.h--))):h&&(h=qS(h))&&(v=h.g[v.toString()],h=-1,v&&(h=jS(v,b,P,Ie)),(b=-1<h?v[h]:null)&&HS(b))}function HS(h){if("number"!=typeof h&&h&&!h.da){var v=h.src;if(v&&v[Pr])US(v.i,h);else{var b=h.type,P=h.proxy;v.removeEventListener?v.removeEventListener(b,P,h.capture):v.detachEvent?v.detachEvent(B5(b),P):v.addListener&&v.removeListener&&v.removeListener(P),(b=qS(v))?(US(b,h),0==b.h&&(b.src=null,v[$S]=null)):Vl(h)}}}function B5(h){return h in zS?zS[h]:zS[h]="on"+h}function Mae(h,v){if(h.da)h=!0;else{v=new oc(v,this);var b=h.listener,P=h.ha||h.src;h.fa&&HS(h),h=b.call(P,v)}return h}function qS(h){return(h=h[$S])instanceof ac?h:null}var GS="__closure_events_fn_"+(1e9*Math.random()>>>0);function WS(h){return"function"==typeof h?h:(h[GS]||(h[GS]=function(v){return h.handleEvent(v)}),h[GS])}function Yi(){Rr.call(this),this.i=new ac(this),this.M=this,this.F=null}function gs(h,v){var b,P=h.F;if(P)for(b=[];P;P=P.F)b.push(P);if(h=h.M,P=v.type||v,"string"==typeof v)v=new fr(v,h);else if(v instanceof fr)v.target=v.target||h;else{var Ie=v;ue(v=new fr(P,h),Ie)}if(Ie=!0,b)for(var Pe=b.length-1;0<=Pe;Pe--){var ct=v.g=b[Pe];Ie=$E(ct,P,!0,v)&&Ie}if(Ie=$E(ct=v.g=h,P,!0,v)&&Ie,Ie=$E(ct,P,!1,v)&&Ie,b)for(Pe=0;Pe<b.length;Pe++)Ie=$E(ct=v.g=b[Pe],P,!1,v)&&Ie}function $E(h,v,b,P){if(!(v=h.i.g[String(v)]))return!0;v=v.concat();for(var Ie=!0,Pe=0;Pe<v.length;++Pe){var ct=v[Pe];if(ct&&!ct.da&&ct.capture==b){var er=ct.listener,Vi=ct.ha||ct.src;ct.fa&&US(h.i,ct),Ie=!1!==er.call(Vi,P)&&Ie}}return Ie&&!P.defaultPrevented}function U5(h,v,b){if("function"==typeof h)b&&(h=w(h,b));else{if(!h||"function"!=typeof h.handleEvent)throw Error("Invalid listener argument");h=w(h.handleEvent,h)}return 2147483647<Number(v)?-1:a.setTimeout(h,v||0)}function j5(h){h.g=U5(()=>{h.g=null,h.i&&(h.i=!1,j5(h))},h.l);const v=h.h;h.h=null,h.m.apply(null,v)}D(Yi,Rr),Yi.prototype[Pr]=!0,Yi.prototype.removeEventListener=function(h,v,b,P){L5(this,h,v,b,P)},Yi.prototype.N=function(){if(Yi.aa.N.call(this),this.i){var v,h=this.i;for(v in h.g){for(var b=h.g[v],P=0;P<b.length;P++)Vl(b[P]);delete h.g[v],h.h--}}this.F=null},Yi.prototype.K=function(h,v,b,P){return this.i.add(String(h),v,!1,b,P)},Yi.prototype.L=function(h,v,b,P){return this.i.add(String(h),v,!0,b,P)};class Nae extends Rr{constructor(v,b){super(),this.m=v,this.l=b,this.h=null,this.i=!1,this.g=null}j(v){this.h=arguments,this.g?this.i=!0:j5(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Z0(h){Rr.call(this),this.h=h,this.g={}}D(Z0,Rr);var $5=[];function z5(h){ot(h.g,function(v,b){this.g.hasOwnProperty(b)&&HS(v)},h),h.g={}}Z0.prototype.N=function(){Z0.aa.N.call(this),z5(this)},Z0.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var KS=a.JSON.stringify,kae=a.JSON.parse,Oae=class{stringify(h){return a.JSON.stringify(h,void 0)}parse(h){return a.JSON.parse(h,void 0)}};function QS(){}function q5(){}QS.prototype.h=null;var J0={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function YS(){fr.call(this,"d")}function XS(){fr.call(this,"c")}D(YS,fr),D(XS,fr);var zd={},G5=null;function zE(){return G5=G5||new Yi}function W5(h){fr.call(this,zd.La,h)}function ey(h){const v=zE();gs(v,new W5(v))}function K5(h,v){fr.call(this,zd.STAT_EVENT,h),this.stat=v}function ms(h){const v=zE();gs(v,new K5(v,h))}function Q5(h,v){fr.call(this,zd.Ma,h),this.size=v}function ty(h,v){if("function"!=typeof h)throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){h()},v)}function ny(){this.g=!0}function Np(h,v,b,P){h.info(function(){return"XMLHTTP TEXT ("+v+"): "+function Bae(h,v){if(!h.g)return v;if(!v)return null;try{var b=JSON.parse(v);if(b)for(h=0;h<b.length;h++)if(Array.isArray(b[h])){var P=b[h];if(!(2>P.length)){var Ie=P[1];if(Array.isArray(Ie)&&!(1>Ie.length)){var Pe=Ie[0];if("noop"!=Pe&&"stop"!=Pe&&"close"!=Pe)for(var ct=1;ct<Ie.length;ct++)Ie[ct]=""}}}return KS(b)}catch{return v}}(h,b)+(P?" "+P:"")})}zd.La="serverreachability",D(W5,fr),zd.STAT_EVENT="statevent",D(K5,fr),zd.Ma="timingevent",D(Q5,fr),ny.prototype.xa=function(){this.g=!1},ny.prototype.info=function(){};var ZS,HE={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Y5={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"};function qE(){}function lc(h,v,b,P){this.j=h,this.i=v,this.l=b,this.R=P||1,this.U=new Z0(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new X5}function X5(){this.i=null,this.g="",this.h=!1}D(qE,QS),qE.prototype.g=function(){return new XMLHttpRequest},qE.prototype.i=function(){return{}},ZS=new qE;var Z5={},JS={};function e1(h,v,b){h.L=1,h.v=QE(Ll(v)),h.m=b,h.P=!0,J5(h,null)}function J5(h,v){h.F=Date.now(),GE(h),h.A=Ll(h.v);var b=h.A,P=h.R;Array.isArray(P)||(P=[String(P)]),f6(b.i,"t",P),h.C=0,b=h.j.J,h.h=new X5,h.g=P6(h.j,b?v:null,!h.m),0<h.O&&(h.M=new Nae(w(h.Y,h,h.g),h.O)),v=h.U,b=h.g,P=h.ca;var Ie="readystatechange";Array.isArray(Ie)||(Ie&&($5[0]=Ie.toString()),Ie=$5);for(var Pe=0;Pe<Ie.length;Pe++){var ct=O5(b,Ie[Pe],P||v.handleEvent,!1,v.h||v);if(!ct)break;v.g[ct.key]=ct}v=h.H?j(h.H):{},h.m?(h.u||(h.u="POST"),v["Content-Type"]="application/x-www-form-urlencoded",h.g.ea(h.A,h.u,h.m,v)):(h.u="GET",h.g.ea(h.A,h.u,null,v)),ey(),function Fae(h,v,b,P,Ie,Pe){h.info(function(){if(h.g)if(Pe)for(var ct="",er=Pe.split("&"),Vi=0;Vi<er.length;Vi++){var Dn=er[Vi].split("=");if(1<Dn.length){var Xi=Dn[0];Dn=Dn[1];var Zi=Xi.split("_");ct=2<=Zi.length&&"type"==Zi[1]?ct+(Xi+"=")+Dn+"&":ct+(Xi+"=redacted&")}}else ct=null;else ct=Pe;return"XMLHTTP REQ ("+P+") [attempt "+Ie+"]: "+v+"\n"+b+"\n"+ct})}(h.i,h.u,h.A,h.l,h.R,h.m)}function e6(h){return!!h.g&&"GET"==h.u&&2!=h.L&&h.j.Ca}function Uae(h,v){var b=h.C,P=v.indexOf("\n",b);return-1==P?JS:(b=Number(v.substring(b,P)),isNaN(b)?Z5:(P+=1)+b>v.length?JS:(v=v.slice(P,P+b),h.C=P+b,v))}function GE(h){h.S=Date.now()+h.I,t6(h,h.I)}function t6(h,v){if(null!=h.B)throw Error("WatchDog timer not null");h.B=ty(w(h.ba,h),v)}function t1(h){h.B&&(a.clearTimeout(h.B),h.B=null)}function ry(h){0==h.j.G||h.J||D6(h.j,h)}function Hd(h){t1(h);var v=h.M;v&&"function"==typeof v.ma&&v.ma(),h.M=null,z5(h.U),h.g&&(v=h.g,h.g=null,v.abort(),v.ma())}function n1(h,v){try{var b=h.j;if(0!=b.G&&(b.g==h||r1(b.h,h)))if(!h.K&&r1(b.h,h)&&3==b.G){try{var P=b.Da.g.parse(v)}catch{P=null}if(Array.isArray(P)&&3==P.length){var Ie=P;if(0==Ie[0]){e:if(!b.u){if(b.g){if(!(b.g.F+3e3<h.F))break e;eI(b),ZE(b)}a1(b),ms(18)}}else b.za=Ie[1],0<b.za-b.T&&37500>Ie[2]&&b.F&&0==b.v&&!b.C&&(b.C=ty(w(b.Za,b),6e3));if(1>=i6(b.h)&&b.ca){try{b.ca()}catch{}b.ca=void 0}}else Gd(b,11)}else if((h.K||b.g==h)&&eI(b),!se(v))for(Ie=b.Da.g.parse(v),v=0;v<Ie.length;v++){let Dn=Ie[v];if(b.T=Dn[0],Dn=Dn[1],2==b.G)if("c"==Dn[0]){b.K=Dn[1],b.ia=Dn[2];const Xi=Dn[3];null!=Xi&&(b.la=Xi,b.j.info("VER="+b.la));const Zi=Dn[4];null!=Zi&&(b.Aa=Zi,b.j.info("SVER="+b.Aa));const Fp=Dn[5];null!=Fp&&"number"==typeof Fp&&0<Fp&&(b.L=P=1.5*Fp,b.j.info("backChannelRequestTimeoutMs_="+P)),P=b;const Qo=h.g;if(Qo){const nI=Qo.g?Qo.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(nI){var Pe=P.h;Pe.g||-1==nI.indexOf("spdy")&&-1==nI.indexOf("quic")&&-1==nI.indexOf("h2")||(Pe.j=Pe.l,Pe.g=new Set,Pe.h&&(i1(Pe,Pe.h),Pe.h=null))}if(P.D){const u1=Qo.g?Qo.g.getResponseHeader("X-HTTP-Session-Id"):null;u1&&(P.ya=u1,gr(P.I,P.D,u1))}}b.G=3,b.l&&b.l.ua(),b.ba&&(b.R=Date.now()-h.F,b.j.info("Handshake RTT: "+b.R+"ms"));var ct=h;if((P=b).qa=R6(P,P.J?P.ia:null,P.W),ct.K){s6(P.h,ct);var er=ct,Vi=P.L;Vi&&(er.I=Vi),er.B&&(t1(er),GE(er)),P.g=ct}else C6(P);0<b.i.length&&JE(b)}else"stop"!=Dn[0]&&"close"!=Dn[0]||Gd(b,7);else 3==b.G&&("stop"==Dn[0]||"close"==Dn[0]?"stop"==Dn[0]?Gd(b,7):o1(b):"noop"!=Dn[0]&&b.l&&b.l.ta(Dn),b.v=0)}ey()}catch{}}lc.prototype.ca=function(h){h=h.target;const v=this.M;v&&3==Bl(h)?v.j():this.Y(h)},lc.prototype.Y=function(h){try{if(h==this.g)e:{const Zi=Bl(this.g);var v=this.g.Ba();if(this.g.Z(),!(3>Zi)&&(3!=Zi||this.g&&(this.h.h||this.g.oa()||w6(this.g)))){this.J||4!=Zi||7==v||ey(),t1(this);var b=this.g.Z();this.X=b;t:if(e6(this)){var P=w6(this.g);h="";var Ie=P.length,Pe=4==Bl(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){Hd(this),ry(this);var ct="";break t}this.h.i=new a.TextDecoder}for(v=0;v<Ie;v++)this.h.h=!0,h+=this.h.i.decode(P[v],{stream:!(Pe&&v==Ie-1)});P.length=0,this.h.g+=h,this.C=0,ct=this.h.g}else ct=this.g.oa();if(this.o=200==b,function Vae(h,v,b,P,Ie,Pe,ct){h.info(function(){return"XMLHTTP RESP ("+P+") [ attempt "+Ie+"]: "+v+"\n"+b+"\n"+Pe+" "+ct})}(this.i,this.u,this.A,this.l,this.R,Zi,b),this.o){if(this.T&&!this.K){t:{if(this.g){var er,Vi=this.g;if((er=Vi.g?Vi.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!se(er)){var Dn=er;break t}}Dn=null}if(!(b=Dn)){this.o=!1,this.s=3,ms(12),Hd(this),ry(this);break e}Np(this.i,this.l,b,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,n1(this,b)}if(this.P){let Qo;for(b=!0;!this.J&&this.C<ct.length;){if(Qo=Uae(this,ct),Qo==JS){4==Zi&&(this.s=4,ms(14),b=!1),Np(this.i,this.l,null,"[Incomplete Response]");break}if(Qo==Z5){this.s=4,ms(15),Np(this.i,this.l,ct,"[Invalid Chunk]"),b=!1;break}Np(this.i,this.l,Qo,null),n1(this,Qo)}if(e6(this)&&0!=this.C&&(this.h.g=this.h.g.slice(this.C),this.C=0),4!=Zi||0!=ct.length||this.h.h||(this.s=1,ms(16),b=!1),this.o=this.o&&b,b){if(0<ct.length&&!this.W){this.W=!0;var Xi=this.j;Xi.g==this&&Xi.ba&&!Xi.M&&(Xi.j.info("Great, no buffering proxy detected. Bytes received: "+ct.length),l1(Xi),Xi.M=!0,ms(11))}}else Np(this.i,this.l,ct,"[Invalid Chunked Response]"),Hd(this),ry(this)}else Np(this.i,this.l,ct,null),n1(this,ct);4==Zi&&Hd(this),this.o&&!this.J&&(4==Zi?D6(this.j,this):(this.o=!1,GE(this)))}else(function rle(h){const v={};h=(h.g&&2<=Bl(h)&&h.g.getAllResponseHeaders()||"").split("\r\n");for(let P=0;P<h.length;P++){if(se(h[P]))continue;var b=_e(h[P]);const Ie=b[0];if("string"!=typeof(b=b[1]))continue;b=b.trim();const Pe=v[Ie]||[];v[Ie]=Pe,Pe.push(b)}!function J(h,v){for(const b in h)v.call(void 0,h[b],b,h)}(v,function(P){return P.join(", ")})})(this.g),400==b&&0<ct.indexOf("Unknown SID")?(this.s=3,ms(12)):(this.s=0,ms(13)),Hd(this),ry(this)}}}catch{}},lc.prototype.cancel=function(){this.J=!0,Hd(this)},lc.prototype.ba=function(){this.B=null;const h=Date.now();0<=h-this.S?(function Lae(h,v){h.info(function(){return"TIMEOUT: "+v})}(this.i,this.A),2!=this.L&&(ey(),ms(17)),Hd(this),this.s=2,ry(this)):t6(this,this.S-h)};var jae=class{constructor(h,v){this.g=h,this.map=v}};function n6(h){this.l=h||10,h=a.PerformanceNavigationTiming?0<(h=a.performance.getEntriesByType("navigation")).length&&("hq"==h[0].nextHopProtocol||"h2"==h[0].nextHopProtocol):!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=h?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function r6(h){return!!h.h||!!h.g&&h.g.size>=h.j}function i6(h){return h.h?1:h.g?h.g.size:0}function r1(h,v){return h.h?h.h==v:!!h.g&&h.g.has(v)}function i1(h,v){h.g?h.g.add(v):h.h=v}function s6(h,v){h.h&&h.h==v?h.h=null:h.g&&h.g.has(v)&&h.g.delete(v)}function o6(h){if(null!=h.h)return h.i.concat(h.h.D);if(null!=h.g&&0!==h.g.size){let v=h.i;for(const b of h.g.values())v=v.concat(b.D);return v}return R(h.i)}function a6(h,v){if(h.forEach&&"function"==typeof h.forEach)h.forEach(v,void 0);else if(l(h)||"string"==typeof h)Array.prototype.forEach.call(h,v,void 0);else for(var b=function zae(h){if(h.na&&"function"==typeof h.na)return h.na();if(!h.V||"function"!=typeof h.V){if(typeof Map<"u"&&h instanceof Map)return Array.from(h.keys());if(!(typeof Set<"u"&&h instanceof Set)){if(l(h)||"string"==typeof h){var v=[];h=h.length;for(var b=0;b<h;b++)v.push(b);return v}v=[],b=0;for(const P in h)v[b++]=P;return v}}}(h),P=function $ae(h){if(h.V&&"function"==typeof h.V)return h.V();if(typeof Map<"u"&&h instanceof Map||typeof Set<"u"&&h instanceof Set)return Array.from(h.values());if("string"==typeof h)return h.split("");if(l(h)){for(var v=[],b=h.length,P=0;P<b;P++)v.push(h[P]);return v}for(P in v=[],b=0,h)v[b++]=h[P];return v}(h),Ie=P.length,Pe=0;Pe<Ie;Pe++)v.call(void 0,P[Pe],b&&b[Pe],h)}n6.prototype.cancel=function(){if(this.i=o6(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const h of this.g.values())h.cancel();this.g.clear()}};var l6=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function qd(h){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,h instanceof qd){this.h=h.h,WE(this,h.j),this.o=h.o,this.g=h.g,KE(this,h.s),this.l=h.l;var v=h.i,b=new oy;b.i=v.i,v.g&&(b.g=new Map(v.g),b.h=v.h),u6(this,b),this.m=h.m}else h&&(v=String(h).match(l6))?(this.h=!1,WE(this,v[1]||"",!0),this.o=iy(v[2]||""),this.g=iy(v[3]||"",!0),KE(this,v[4]),this.l=iy(v[5]||"",!0),u6(this,v[6]||"",!0),this.m=iy(v[7]||"")):(this.h=!1,this.i=new oy(null,this.h))}function Ll(h){return new qd(h)}function WE(h,v,b){h.j=b?iy(v,!0):v,h.j&&(h.j=h.j.replace(/:$/,""))}function KE(h,v){if(v){if(v=Number(v),isNaN(v)||0>v)throw Error("Bad port number "+v);h.s=v}else h.s=null}function u6(h,v,b){v instanceof oy?(h.i=v,function Yae(h,v){v&&!h.j&&(uc(h),h.i=null,h.g.forEach(function(b,P){var Ie=P.toLowerCase();P!=Ie&&(d6(this,P),f6(this,Ie,b))},h)),h.j=v}(h.i,h.h)):(b||(v=sy(v,Kae)),h.i=new oy(v,h.h))}function gr(h,v,b){h.i.set(v,b)}function QE(h){return gr(h,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),h}function iy(h,v){return h?v?decodeURI(h.replace(/%25/g,"%2525")):decodeURIComponent(h):""}function sy(h,v,b){return"string"==typeof h?(h=encodeURI(h).replace(v,qae),b&&(h=h.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),h):null}function qae(h){return"%"+((h=h.charCodeAt(0))>>4&15).toString(16)+(15&h).toString(16)}qd.prototype.toString=function(){var h=[],v=this.j;v&&h.push(sy(v,c6,!0),":");var b=this.g;return(b||"file"==v)&&(h.push("//"),(v=this.o)&&h.push(sy(v,c6,!0),"@"),h.push(encodeURIComponent(String(b)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(b=this.s)&&h.push(":",String(b))),(b=this.l)&&(this.g&&"/"!=b.charAt(0)&&h.push("/"),h.push(sy(b,"/"==b.charAt(0)?Wae:Gae,!0))),(b=this.i.toString())&&h.push("?",b),(b=this.m)&&h.push("#",sy(b,Qae)),h.join("")};var c6=/[#\/\?@]/g,Gae=/[#\?:]/g,Wae=/[#\?]/g,Kae=/[#\?@]/g,Qae=/#/g;function oy(h,v){this.h=this.g=null,this.i=h||null,this.j=!!v}function uc(h){h.g||(h.g=new Map,h.h=0,h.i&&function Hae(h,v){if(h){h=h.split("&");for(var b=0;b<h.length;b++){var P=h[b].indexOf("="),Ie=null;if(0<=P){var Pe=h[b].substring(0,P);Ie=h[b].substring(P+1)}else Pe=h[b];v(Pe,Ie?decodeURIComponent(Ie.replace(/\+/g," ")):"")}}}(h.i,function(v,b){h.add(decodeURIComponent(v.replace(/\+/g," ")),b)}))}function d6(h,v){uc(h),v=kp(h,v),h.g.has(v)&&(h.i=null,h.h-=h.g.get(v).length,h.g.delete(v))}function h6(h,v){return uc(h),v=kp(h,v),h.g.has(v)}function f6(h,v,b){d6(h,v),0<b.length&&(h.i=null,h.g.set(kp(h,v),R(b)),h.h+=b.length)}function kp(h,v){return v=String(v),h.j&&(v=v.toLowerCase()),v}function cc(h,v,b,P,Ie){try{Ie&&(Ie.onload=null,Ie.onerror=null,Ie.onabort=null,Ie.ontimeout=null),P(b)}catch{}}function Jae(){this.g=new Oae}function ele(h,v,b){const P=b||"";try{a6(h,function(Ie,Pe){let ct=Ie;c(Ie)&&(ct=KS(Ie)),v.push(P+Pe+"="+encodeURIComponent(ct))})}catch(Ie){throw v.push(P+"type="+encodeURIComponent("_badmap")),Ie}}function ay(h){this.l=h.Ub||null,this.j=h.eb||!1}function YE(h,v){Yi.call(this),this.D=h,this.o=v,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}function p6(h){h.j.read().then(h.Pa.bind(h)).catch(h.ga.bind(h))}function ly(h){h.readyState=4,h.l=null,h.j=null,h.v=null,uy(h)}function uy(h){h.onreadystatechange&&h.onreadystatechange.call(h)}function g6(h){let v="";return ot(h,function(b,P){v+=P,v+=":",v+=b,v+="\r\n"}),v}function s1(h,v,b){e:{for(P in b){var P=!1;break e}P=!0}P||(b=g6(b),"string"==typeof h?null!=b&&encodeURIComponent(String(b)):gr(h,v,b))}function Mr(h){Yi.call(this),this.headers=new Map,this.o=h||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}(n=oy.prototype).add=function(h,v){uc(this),this.i=null,h=kp(this,h);var b=this.g.get(h);return b||this.g.set(h,b=[]),b.push(v),this.h+=1,this},n.forEach=function(h,v){uc(this),this.g.forEach(function(b,P){b.forEach(function(Ie){h.call(v,Ie,P,this)},this)},this)},n.na=function(){uc(this);const h=Array.from(this.g.values()),v=Array.from(this.g.keys()),b=[];for(let P=0;P<v.length;P++){const Ie=h[P];for(let Pe=0;Pe<Ie.length;Pe++)b.push(v[P])}return b},n.V=function(h){uc(this);let v=[];if("string"==typeof h)h6(this,h)&&(v=v.concat(this.g.get(kp(this,h))));else{h=Array.from(this.g.values());for(let b=0;b<h.length;b++)v=v.concat(h[b])}return v},n.set=function(h,v){return uc(this),this.i=null,h6(this,h=kp(this,h))&&(this.h-=this.g.get(h).length),this.g.set(h,[v]),this.h+=1,this},n.get=function(h,v){return h&&0<(h=this.V(h)).length?String(h[0]):v},n.toString=function(){if(this.i)return this.i;if(!this.g)return"";const h=[],v=Array.from(this.g.keys());for(var b=0;b<v.length;b++){var P=v[b];const Pe=encodeURIComponent(String(P)),ct=this.V(P);for(P=0;P<ct.length;P++){var Ie=Pe;""!==ct[P]&&(Ie+="="+encodeURIComponent(String(ct[P]))),h.push(Ie)}}return this.i=h.join("&")},D(ay,QS),ay.prototype.g=function(){return new YE(this.l,this.j)},ay.prototype.i=function(h){return function(){return h}}({}),D(YE,Yi),(n=YE.prototype).open=function(h,v){if(0!=this.readyState)throw this.abort(),Error("Error reopening a connection");this.B=h,this.A=v,this.readyState=1,uy(this)},n.send=function(h){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const v={headers:this.u,method:this.B,credentials:this.m,cache:void 0};h&&(v.body=h),(this.D||a).fetch(new Request(this.A,v)).then(this.Sa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,ly(this)),this.readyState=0},n.Sa=function(h){if(this.g&&(this.l=h,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=h.headers,this.readyState=2,uy(this)),this.g&&(this.readyState=3,uy(this),this.g)))if("arraybuffer"===this.responseType)h.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in h){if(this.j=h.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;p6(this)}else h.text().then(this.Ra.bind(this),this.ga.bind(this))},n.Pa=function(h){if(this.g){if(this.o&&h.value)this.response.push(h.value);else if(!this.o){var v=h.value?h.value:new Uint8Array(0);(v=this.v.decode(v,{stream:!h.done}))&&(this.response=this.responseText+=v)}h.done?ly(this):uy(this),3==this.readyState&&p6(this)}},n.Ra=function(h){this.g&&(this.response=this.responseText=h,ly(this))},n.Qa=function(h){this.g&&(this.response=h,ly(this))},n.ga=function(){this.g&&ly(this)},n.setRequestHeader=function(h,v){this.u.append(h,v)},n.getResponseHeader=function(h){return this.h&&this.h.get(h.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";const h=[],v=this.h.entries();for(var b=v.next();!b.done;)h.push((b=b.value)[0]+": "+b[1]),b=v.next();return h.join("\r\n")},Object.defineProperty(YE.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(h){this.m=h?"include":"same-origin"}}),D(Mr,Yi);var tle=/^https?$/i,nle=["POST","PUT"];function m6(h,v){h.h=!1,h.g&&(h.j=!0,h.g.abort(),h.j=!1),h.l=v,h.m=5,y6(h),XE(h)}function y6(h){h.A||(h.A=!0,gs(h,"complete"),gs(h,"error"))}function _6(h){if(h.h&&typeof o<"u"&&(!h.v[1]||4!=Bl(h)||2!=h.Z()))if(h.u&&4==Bl(h))U5(h.Ea,0,h);else if(gs(h,"readystatechange"),4==Bl(h)){h.h=!1;try{const ct=h.Z();e:switch(ct){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var v=!0;break e;default:v=!1}var b;if(!(b=v)){var P;if(P=0===ct){var Ie=String(h.D).match(l6)[1]||null;!Ie&&a.self&&a.self.location&&(Ie=a.self.location.protocol.slice(0,-1)),P=!tle.test(Ie?Ie.toLowerCase():"")}b=P}if(b)gs(h,"complete"),gs(h,"success");else{h.m=6;try{var Pe=2<Bl(h)?h.g.statusText:""}catch{Pe=""}h.l=Pe+" ["+h.Z()+"]",y6(h)}}finally{XE(h)}}}function XE(h,v){if(h.g){v6(h);const b=h.g,P=h.v[0]?()=>{}:null;h.g=null,h.v=null,v||gs(h,"ready");try{b.onreadystatechange=P}catch{}}}function v6(h){h.I&&(a.clearTimeout(h.I),h.I=null)}function Bl(h){return h.g?h.g.readyState:0}function w6(h){try{if(!h.g)return null;if("response"in h.g)return h.g.response;switch(h.H){case"":case"text":return h.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in h.g)return h.g.mozResponseArrayBuffer}return null}catch{return null}}function cy(h,v,b){return b&&b.internalChannelParams&&b.internalChannelParams[h]||v}function E6(h){this.Aa=0,this.i=[],this.j=new ny,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=cy("failFast",!1,h),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=cy("baseRetryDelayMs",5e3,h),this.cb=cy("retryDelaySeedMs",1e4,h),this.Wa=cy("forwardChannelMaxRetries",2,h),this.wa=cy("forwardChannelRequestTimeoutMs",2e4,h),this.pa=h&&h.xmlHttpFactory||void 0,this.Xa=h&&h.Tb||void 0,this.Ca=h&&h.useFetchStreams||!1,this.L=void 0,this.J=h&&h.supportsCrossDomainXhr||!1,this.K="",this.h=new n6(h&&h.concurrentRequestLimit),this.Da=new Jae,this.P=h&&h.fastHandshake||!1,this.O=h&&h.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=h&&h.Rb||!1,h&&h.xa&&this.j.xa(),h&&h.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&h&&h.detectBufferingProxy||!1,this.ja=void 0,h&&h.longPollingTimeout&&0<h.longPollingTimeout&&(this.ja=h.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}function o1(h){if(I6(h),3==h.G){var v=h.U++,b=Ll(h.I);if(gr(b,"SID",h.K),gr(b,"RID",v),gr(b,"TYPE","terminate"),dy(h,b),(v=new lc(h,h.j,v)).L=2,v.v=QE(Ll(b)),b=!1,a.navigator&&a.navigator.sendBeacon)try{b=a.navigator.sendBeacon(v.v.toString(),"")}catch{}!b&&a.Image&&((new Image).src=v.v,b=!0),b||(v.g=P6(v.j,null),v.g.ea(v.v)),v.F=Date.now(),GE(v)}S6(h)}function ZE(h){h.g&&(l1(h),h.g.cancel(),h.g=null)}function I6(h){ZE(h),h.u&&(a.clearTimeout(h.u),h.u=null),eI(h),h.h.cancel(),h.s&&("number"==typeof h.s&&a.clearTimeout(h.s),h.s=null)}function JE(h){if(!r6(h.h)&&!h.s){h.s=!0;var v=h.Ga;St||qr(),kt||(St(),kt=!0),cn.add(v,h),h.B=0}}function b6(h,v){var b;b=v?v.l:h.U++;const P=Ll(h.I);gr(P,"SID",h.K),gr(P,"RID",b),gr(P,"AID",h.T),dy(h,P),h.m&&h.o&&s1(P,h.m,h.o),b=new lc(h,h.j,b,h.B+1),null===h.m&&(b.H=h.o),v&&(h.i=v.D.concat(h.i)),v=A6(h,b,1e3),b.I=Math.round(.5*h.wa)+Math.round(.5*h.wa*Math.random()),i1(h.h,b),e1(b,P,v)}function dy(h,v){h.H&&ot(h.H,function(b,P){gr(v,P,b)}),h.l&&a6({},function(b,P){gr(v,P,b)})}function A6(h,v,b){b=Math.min(h.i.length,b);var P=h.l?w(h.l.Na,h.l,h):null;e:{var Ie=h.i;let Pe=-1;for(;;){const ct=["count="+b];-1==Pe?0<b?(Pe=Ie[0].g,ct.push("ofs="+Pe)):Pe=0:ct.push("ofs="+Pe);let er=!0;for(let Vi=0;Vi<b;Vi++){let Dn=Ie[Vi].g;const Xi=Ie[Vi].map;if(Dn-=Pe,0>Dn)Pe=Math.max(0,Ie[Vi].g-100),er=!1;else try{ele(Xi,ct,"req"+Dn+"_")}catch{P&&P(Xi)}}if(er){P=ct.join("&");break e}}}return h=h.i.splice(0,b),v.D=h,P}function C6(h){if(!h.g&&!h.u){h.Y=1;var v=h.Fa;St||qr(),kt||(St(),kt=!0),cn.add(v,h),h.v=0}}function a1(h){return!(h.g||h.u||3<=h.v||(h.Y++,h.u=ty(w(h.Fa,h),T6(h,h.v)),h.v++,0))}function l1(h){null!=h.A&&(a.clearTimeout(h.A),h.A=null)}function x6(h){h.g=new lc(h,h.j,"rpc",h.Y),null===h.m&&(h.g.H=h.o),h.g.O=0;var v=Ll(h.qa);gr(v,"RID","rpc"),gr(v,"SID",h.K),gr(v,"AID",h.T),gr(v,"CI",h.F?"0":"1"),!h.F&&h.ja&&gr(v,"TO",h.ja),gr(v,"TYPE","xmlhttp"),dy(h,v),h.m&&h.o&&s1(v,h.m,h.o),h.L&&(h.g.I=h.L);var b=h.g;h=h.ia,b.L=1,b.v=QE(Ll(v)),b.m=null,b.P=!0,J5(b,h)}function eI(h){null!=h.C&&(a.clearTimeout(h.C),h.C=null)}function D6(h,v){var b=null;if(h.g==v){eI(h),l1(h),h.g=null;var P=2}else{if(!r1(h.h,v))return;b=v.D,s6(h.h,v),P=1}if(0!=h.G)if(v.o)if(1==P){b=v.m?v.m.length:0,v=Date.now()-v.F;var Ie=h.B;gs(P=zE(),new Q5(P,b)),JE(h)}else C6(h);else if(3==(Ie=v.s)||0==Ie&&0<v.X||!(1==P&&function ile(h,v){return!(i6(h.h)>=h.h.j-(h.s?1:0)||(h.s?(h.i=v.D.concat(h.i),0):1==h.G||2==h.G||h.B>=(h.Va?0:h.Wa)||(h.s=ty(w(h.Ga,h,v),T6(h,h.B)),h.B++,0)))}(h,v)||2==P&&a1(h)))switch(b&&0<b.length&&(v=h.h,v.i=v.i.concat(b)),Ie){case 1:Gd(h,5);break;case 4:Gd(h,10);break;case 3:Gd(h,6);break;default:Gd(h,2)}}function T6(h,v){let b=h.Ta+Math.floor(Math.random()*h.cb);return h.isActive()||(b*=2),b*v}function Gd(h,v){if(h.j.info("Error code "+v),2==v){var b=w(h.fb,h),P=h.Xa;const Ie=!P;P=new qd(P||"//www.google.com/images/cleardot.gif"),a.location&&"http"==a.location.protocol||WE(P,"https"),QE(P),Ie?function Xae(h,v){const b=new ny;if(a.Image){const P=new Image;P.onload=A(cc,b,"TestLoadImage: loaded",!0,v,P),P.onerror=A(cc,b,"TestLoadImage: error",!1,v,P),P.onabort=A(cc,b,"TestLoadImage: abort",!1,v,P),P.ontimeout=A(cc,b,"TestLoadImage: timeout",!1,v,P),a.setTimeout(function(){P.ontimeout&&P.ontimeout()},1e4),P.src=h}else v(!1)}(P.toString(),b):function Zae(h,v){new ny;const P=new AbortController,Ie=setTimeout(()=>{P.abort(),cc(0,0,!1,v)},1e4);fetch(h,{signal:P.signal}).then(Pe=>{clearTimeout(Ie),cc(0,0,!!Pe.ok,v)}).catch(()=>{clearTimeout(Ie),cc(0,0,!1,v)})}(P.toString(),b)}else ms(2);h.G=0,h.l&&h.l.sa(v),S6(h),I6(h)}function S6(h){if(h.G=0,h.ka=[],h.l){const v=o6(h.h);(0!=v.length||0!=h.i.length)&&(N(h.ka,v),N(h.ka,h.i),h.h.i.length=0,R(h.i),h.i.length=0),h.l.ra()}}function R6(h,v,b){var P=b instanceof qd?Ll(b):new qd(b);if(""!=P.g)v&&(P.g=v+"."+P.g),KE(P,P.s);else{var Ie=a.location;P=Ie.protocol,v=v?v+"."+Ie.hostname:Ie.hostname,Ie=+Ie.port;var Pe=new qd(null);P&&WE(Pe,P),v&&(Pe.g=v),Ie&&KE(Pe,Ie),b&&(Pe.l=b),P=Pe}return v=h.ya,(b=h.D)&&v&&gr(P,b,v),gr(P,"VER",h.la),dy(h,P),P}function P6(h,v,b){if(v&&!h.J)throw Error("Can't create secondary domain capable XhrIo object.");return(v=new Mr(h.Ca&&!h.pa?new ay({eb:b}):h.pa)).Ha(h.J),v}function M6(){}function tI(){}function ro(h,v){Yi.call(this),this.g=new E6(v),this.l=h,this.h=v&&v.messageUrlParams||null,h=v&&v.messageHeaders||null,v&&v.clientProtocolHeaderRequired&&(h?h["X-Client-Protocol"]="webchannel":h={"X-Client-Protocol":"webchannel"}),this.g.o=h,h=v&&v.initMessageHeaders||null,v&&v.messageContentType&&(h?h["X-WebChannel-Content-Type"]=v.messageContentType:h={"X-WebChannel-Content-Type":v.messageContentType}),v&&v.va&&(h?h["X-WebChannel-Client-Profile"]=v.va:h={"X-WebChannel-Client-Profile":v.va}),this.g.S=h,(h=v&&v.Sb)&&!se(h)&&(this.g.m=h),this.v=v&&v.supportsCrossDomainXhr||!1,this.u=v&&v.sendRawJson||!1,(v=v&&v.httpSessionIdParam)&&!se(v)&&(this.g.D=v,null!==(h=this.h)&&v in h&&v in(h=this.h)&&delete h[v]),this.j=new Op(this)}function N6(h){YS.call(this),h.__headers__&&(this.headers=h.__headers__,this.statusCode=h.__status__,delete h.__headers__,delete h.__status__);var v=h.__sm__;if(v){e:{for(const b in v){h=b;break e}h=void 0}(this.i=h)&&(h=this.i,v=null!==v&&h in v?v[h]:void 0),this.data=v}else this.data=h}function k6(){XS.call(this),this.status=1}function Op(h){this.g=h}(n=Mr.prototype).Ha=function(h){this.J=h},n.ea=function(h,v,b,P){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+h);v=v?v.toUpperCase():"GET",this.D=h,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():ZS.g(),this.v=function H5(h){return h.h||(h.h=h.i())}(this.o?this.o:ZS),this.g.onreadystatechange=w(this.Ea,this);try{this.B=!0,this.g.open(v,String(h),!0),this.B=!1}catch(Pe){return void m6(this,Pe)}if(h=b||"",b=new Map(this.headers),P)if(Object.getPrototypeOf(P)===Object.prototype)for(var Ie in P)b.set(Ie,P[Ie]);else{if("function"!=typeof P.keys||"function"!=typeof P.get)throw Error("Unknown input type for opt_headers: "+String(P));for(const Pe of P.keys())b.set(Pe,P.get(Pe))}P=Array.from(b.keys()).find(Pe=>"content-type"==Pe.toLowerCase()),Ie=a.FormData&&h instanceof a.FormData,!(0<=Array.prototype.indexOf.call(nle,v,void 0))||P||Ie||b.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[Pe,ct]of b)this.g.setRequestHeader(Pe,ct);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{v6(this),this.u=!0,this.g.send(h),this.u=!1}catch(Pe){m6(this,Pe)}},n.abort=function(h){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=h||7,gs(this,"complete"),gs(this,"abort"),XE(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),XE(this,!0)),Mr.aa.N.call(this)},n.Ea=function(){this.s||(this.B||this.u||this.j?_6(this):this.bb())},n.bb=function(){_6(this)},n.isActive=function(){return!!this.g},n.Z=function(){try{return 2<Bl(this)?this.g.status:-1}catch{return-1}},n.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.Oa=function(h){if(this.g){var v=this.g.responseText;return h&&0==v.indexOf(h)&&(v=v.substring(h.length)),kae(v)}},n.Ba=function(){return this.m},n.Ka=function(){return"string"==typeof this.l?this.l:String(this.l)},(n=E6.prototype).la=8,n.G=1,n.connect=function(h,v,b,P){ms(0),this.W=h,this.H=v||{},b&&void 0!==P&&(this.H.OSID=b,this.H.OAID=P),this.F=this.X,this.I=R6(this,null,this.W),JE(this)},n.Ga=function(h){if(this.s)if(this.s=null,1==this.G){if(!h){this.U=Math.floor(1e5*Math.random()),h=this.U++;const Ie=new lc(this,this.j,h);let Pe=this.o;if(this.S&&(Pe?(Pe=j(Pe),ue(Pe,this.S)):Pe=this.S),null!==this.m||this.O||(Ie.H=Pe,Pe=null),this.P)e:{for(var v=0,b=0;b<this.i.length;b++){var P=this.i[b];if(void 0===(P="__data__"in P.map&&"string"==typeof(P=P.map.__data__)?P.length:void 0))break;if(4096<(v+=P)){v=b;break e}if(4096===v||b===this.i.length-1){v=b+1;break e}}v=1e3}else v=1e3;v=A6(this,Ie,v),gr(b=Ll(this.I),"RID",h),gr(b,"CVER",22),this.D&&gr(b,"X-HTTP-Session-Id",this.D),dy(this,b),Pe&&(this.O?v="headers="+encodeURIComponent(String(g6(Pe)))+"&"+v:this.m&&s1(b,this.m,Pe)),i1(this.h,Ie),this.Ua&&gr(b,"TYPE","init"),this.P?(gr(b,"$req",v),gr(b,"SID","null"),Ie.T=!0,e1(Ie,b,null)):e1(Ie,b,v),this.G=2}}else 3==this.G&&(h?b6(this,h):0==this.i.length||r6(this.h)||b6(this))},n.Fa=function(){if(this.u=null,x6(this),this.ba&&!(this.M||null==this.g||0>=this.R)){var h=2*this.R;this.j.info("BP detection timer enabled: "+h),this.A=ty(w(this.ab,this),h)}},n.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,ms(10),ZE(this),x6(this))},n.Za=function(){null!=this.C&&(this.C=null,ZE(this),a1(this),ms(19))},n.fb=function(h){h?(this.j.info("Successfully pinged google.com"),ms(2)):(this.j.info("Failed to ping google.com"),ms(1))},n.isActive=function(){return!!this.l&&this.l.isActive(this)},(n=M6.prototype).ua=function(){},n.ta=function(){},n.sa=function(){},n.ra=function(){},n.isActive=function(){return!0},n.Na=function(){},tI.prototype.g=function(h,v){return new ro(h,v)},D(ro,Yi),ro.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},ro.prototype.close=function(){o1(this.g)},ro.prototype.o=function(h){var v=this.g;if("string"==typeof h){var b={};b.__data__=h,h=b}else this.u&&((b={}).__data__=KS(h),h=b);v.i.push(new jae(v.Ya++,h)),3==v.G&&JE(v)},ro.prototype.N=function(){this.g.l=null,delete this.j,o1(this.g),delete this.g,ro.aa.N.call(this)},D(N6,YS),D(k6,XS),D(Op,M6),Op.prototype.ua=function(){gs(this.g,"a")},Op.prototype.ta=function(h){gs(this.g,new N6(h))},Op.prototype.sa=function(h){gs(this.g,new k6)},Op.prototype.ra=function(){gs(this.g,"b")},tI.prototype.createWebChannel=tI.prototype.g,ro.prototype.send=ro.prototype.o,ro.prototype.open=ro.prototype.m,ro.prototype.close=ro.prototype.close,pB=xl.createWebChannelTransport=function(){return new tI},fB=xl.getStatEventTarget=function(){return zE()},hB=xl.Event=zd,sD=xl.Stat={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},HE.NO_ERROR=0,HE.TIMEOUT=8,HE.HTTP_ERROR=6,kw=xl.ErrorCode=HE,Y5.COMPLETE="complete",dB=xl.EventType=Y5,q5.EventType=J0,J0.OPEN="a",J0.CLOSE="b",J0.ERROR="c",J0.MESSAGE="d",Yi.prototype.listen=Yi.prototype.K,a0=xl.WebChannel=q5,cB=xl.FetchXmlHttpFactory=ay,Mr.prototype.listenOnce=Mr.prototype.L,Mr.prototype.getLastError=Mr.prototype.Ka,Mr.prototype.getLastErrorCode=Mr.prototype.Ba,Mr.prototype.getStatus=Mr.prototype.Z,Mr.prototype.getResponseJson=Mr.prototype.Oa,Mr.prototype.getResponseText=Mr.prototype.oa,Mr.prototype.send=Mr.prototype.ea,Mr.prototype.setWithCredentials=Mr.prototype.Ha,uB=xl.XhrIo=Mr}).apply(typeof Nw<"u"?Nw:typeof self<"u"?self:typeof window<"u"?window:{});const gB="@firebase/firestore";class Ei{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Ei.UNAUTHENTICATED=new Ei(null),Ei.GOOGLE_CREDENTIALS=new Ei("google-credentials-uid"),Ei.FIRST_PARTY=new Ei("first-party-uid"),Ei.MOCK_USER=new Ei("mock-user");let Kf="10.13.2";const Vu=new Ra.Vy("@firebase/firestore");function Qf(){return Vu.logLevel}function Ke(n,...e){if(Vu.logLevel<=Ra.$b.DEBUG){const t=e.map(oD);Vu.debug(`Firestore (${Kf}): ${n}`,...t)}}function zr(n,...e){if(Vu.logLevel<=Ra.$b.ERROR){const t=e.map(oD);Vu.error(`Firestore (${Kf}): ${n}`,...t)}}function ks(n,...e){if(Vu.logLevel<=Ra.$b.WARN){const t=e.map(oD);Vu.warn(`Firestore (${Kf}): ${n}`,...t)}}function oD(n){if("string"==typeof n)return n;try{return JSON.stringify(n)}catch{return n}}function wt(n="Unexpected state"){const e=`FIRESTORE (${Kf}) INTERNAL ASSERTION FAILED: `+n;throw zr(e),new Error(e)}function At(n,e){n||wt()}function ut(n,e){return n}const Se={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class He extends xn.g{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class ci{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class mB{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class sne{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(Ei.UNAUTHENTICATED))}shutdown(){}}class one{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class ane{constructor(e){this.t=e,this.currentUser=Ei.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){var r=this;let i=this.i;const s=c=>this.i!==i?(i=this.i,t(c)):Promise.resolve();let o=new ci;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new ci,e.enqueueRetryable(()=>s(this.currentUser))};const a=()=>{const c=o;e.enqueueRetryable((0,E.A)(function*(){yield c.promise,yield s(r.currentUser)}))},l=c=>{Ke("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=c,this.auth.addAuthTokenListener(this.o),a()};this.t.onInit(c=>l(c)),setTimeout(()=>{if(!this.auth){const c=this.t.getImmediate({optional:!0});c?l(c):(Ke("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new ci)}},0),a()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(r=>this.i!==e?(Ke("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(At("string"==typeof r.accessToken),new mB(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return At(null===e||"string"==typeof e),new Ei(e)}}class lne{constructor(e,t,r){this.l=e,this.h=t,this.P=r,this.type="FirstParty",this.user=Ei.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class une{constructor(e,t,r){this.l=e,this.h=t,this.P=r}getToken(){return Promise.resolve(new lne(this.l,this.h,this.P))}start(e,t){e.enqueueRetryable(()=>t(Ei.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class yB{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class cne{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,t){const r=s=>{null!=s.error&&Ke("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const o=s.token!==this.R;return this.R=s.token,Ke("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?t(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};const i=s=>{Ke("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.appCheck.addTokenListener(this.o)};this.A.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.A.getImmediate({optional:!0});s?i(s):Ke("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(At("string"==typeof t.token),this.R=t.token,new yB(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function dne(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}class _B{static newId(){const t=62*Math.floor(256/62);let r="";for(;r.length<20;){const i=dne(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<t&&(r+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".charAt(i[s]%62))}return r}}function Kt(n,e){return n<e?-1:n>e?1:0}function Yf(n,e,t){return n.length===e.length&&n.every((r,i)=>t(r,e[i]))}function vB(n){return n+"\0"}class vr{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new He(Se.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new He(Se.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new He(Se.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new He(Se.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return vr.fromMillis(Date.now())}static fromDate(e){return vr.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*t));return new vr(t,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Kt(this.nanoseconds,e.nanoseconds):Kt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class Tt{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Tt(e)}static min(){return new Tt(new vr(0,0))}static max(){return new Tt(new vr(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class l0{constructor(e,t,r){void 0===t?t=0:t>e.length&&wt(),void 0===r?r=e.length-t:r>e.length-t&&wt(),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return 0===l0.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof l0?e.forEach(r=>{t.push(r)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const r=Math.min(e.length,t.length);for(let i=0;i<r;i++){const s=e.get(i),o=t.get(i);if(s<o)return-1;if(s>o)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class pn extends l0{construct(e,t,r){return new pn(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const r of e){if(r.indexOf("//")>=0)throw new He(Se.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter(i=>i.length>0))}return new pn(t)}static emptyPath(){return new pn([])}}const hne=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class cr extends l0{construct(e,t,r){return new cr(e,t,r)}static isValidIdentifier(e){return hne.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),cr.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new cr(["__name__"])}static fromServerFormat(e){const t=[];let r="",i=0;const s=()=>{if(0===r.length)throw new He(Se.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""};let o=!1;for(;i<e.length;){const a=e[i];if("\\"===a){if(i+1===e.length)throw new He(Se.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[i+1];if("\\"!==l&&"."!==l&&"`"!==l)throw new He(Se.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=l,i+=2}else"`"===a?(o=!o,i++):"."!==a||o?(r+=a,i++):(s(),i++)}if(s(),o)throw new He(Se.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new cr(t)}static emptyPath(){return new cr([])}}class dt{constructor(e){this.path=e}static fromPath(e){return new dt(pn.fromString(e))}static fromName(e){return new dt(pn.fromString(e).popFirst(5))}static empty(){return new dt(pn.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===pn.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return pn.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new dt(new pn(e.slice()))}}class Xf{constructor(e,t,r,i){this.indexId=e,this.collectionGroup=t,this.fields=r,this.indexState=i}}function aD(n){return n.fields.find(e=>2===e.kind)}function _d(n){return n.fields.filter(e=>2!==e.kind)}Xf.UNKNOWN_ID=-1;class vd{constructor(e,t){this.fieldPath=e,this.kind=t}}class Zf{constructor(e,t){this.sequenceNumber=e,this.offset=t}static empty(){return new Zf(0,to.min())}}function wB(n,e){const t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,i=Tt.fromTimestamp(1e9===r?new vr(t+1,0):new vr(t,r));return new to(i,dt.empty(),e)}function EB(n){return new to(n.readTime,n.key,-1)}class to{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new to(Tt.min(),dt.empty(),-1)}static max(){return new to(Tt.max(),dt.empty(),-1)}}function lD(n,e){let t=n.readTime.compareTo(e.readTime);return 0!==t?t:(t=dt.comparator(n.documentKey,e.documentKey),0!==t?t:Kt(n.largestBatchId,e.largestBatchId))}const IB="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class bB{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}function Lu(n){return uD.apply(this,arguments)}function uD(){return(uD=(0,E.A)(function*(n){if(n.code!==Se.FAILED_PRECONDITION||n.message!==IB)throw n;Ke("LocalStore","Unexpectedly lost primary lease")})).apply(this,arguments)}class be{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&wt(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new be((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(t,s).next(r,i)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof be?t:be.resolve(t)}catch(t){return be.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):be.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):be.reject(t)}static resolve(e){return new be((t,r)=>{t(e)})}static reject(e){return new be((t,r)=>{r(e)})}static waitFor(e){return new be((t,r)=>{let i=0,s=0,o=!1;e.forEach(a=>{++i,a.next(()=>{++s,o&&s===i&&t()},l=>r(l))}),o=!0,s===i&&t()})}static or(e){let t=be.resolve(!1);for(const r of e)t=t.next(i=>i?be.resolve(i):r());return t}static forEach(e,t){const r=[];return e.forEach((i,s)=>{r.push(t.call(this,i,s))}),this.waitFor(r)}static mapArray(e,t){return new be((r,i)=>{const s=e.length,o=new Array(s);let a=0;for(let l=0;l<s;l++){const c=l;t(e[c]).next(p=>{o[c]=p,++a,a===s&&r(o)},p=>i(p))}})}static doWhile(e,t){return new be((r,i)=>{const s=()=>{!0===e()?t().next(()=>{s()},i):r()};s()})}}class Ow{constructor(e,t){this.action=e,this.transaction=t,this.aborted=!1,this.V=new ci,this.transaction.oncomplete=()=>{this.V.resolve()},this.transaction.onabort=()=>{t.error?this.V.reject(new u0(e,t.error)):this.V.resolve()},this.transaction.onerror=r=>{const i=cD(r.target.error);this.V.reject(new u0(e,i))}}static open(e,t,r,i){try{return new Ow(t,e.transaction(i,r))}catch(s){throw new u0(t,s)}}get m(){return this.V.promise}abort(e){e&&this.V.reject(e),this.aborted||(Ke("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}g(){const e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}store(e){const t=this.transaction.objectStore(e);return new mne(t)}}class Pa{constructor(e,t,r){this.name=e,this.version=t,this.p=r,12.2===Pa.S((0,xn.ZQ)())&&zr("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return Ke("SimpleDb","Removing database:",e),wd(window.indexedDB.deleteDatabase(e)).toPromise()}static D(){if(!(0,xn.zW)())return!1;if(Pa.v())return!0;const e=(0,xn.ZQ)(),t=Pa.S(e),r=0<t&&t<10,i=AB(e),s=0<i&&i<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||s)}static v(){var e;return typeof process<"u"&&"YES"===(null===(e=process.__PRIVATE_env)||void 0===e?void 0:e.C)}static F(e,t){return e.store(t)}static S(e){const t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),r=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(r)}M(e){var t=this;return(0,E.A)(function*(){return t.db||(Ke("SimpleDb","Opening database:",t.name),t.db=yield new Promise((r,i)=>{const s=indexedDB.open(t.name,t.version);s.onsuccess=o=>{r(o.target.result)},s.onblocked=()=>{i(new u0(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},s.onerror=o=>{const a=o.target.error;i("VersionError"===a.name?new He(Se.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===a.name?new He(Se.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+a):new u0(e,a))},s.onupgradeneeded=o=>{Ke("SimpleDb",'Database "'+t.name+'" requires upgrade from version:',o.oldVersion),t.p.O(o.target.result,s.transaction,o.oldVersion,t.version).next(()=>{Ke("SimpleDb","Database upgrade to version "+t.version+" complete")})}})),t.N&&(t.db.onversionchange=r=>t.N(r)),t.db})()}L(e){this.N=e,this.db&&(this.db.onversionchange=t=>e(t))}runTransaction(e,t,r,i){var s=this;return(0,E.A)(function*(){const o="readonly"===t;let a=0;for(;;){++a;try{s.db=yield s.M(e);const l=Ow.open(s.db,e,o?"readonly":"readwrite",r),c=i(l).next(p=>(l.g(),p)).catch(p=>(l.abort(p),be.reject(p))).toPromise();return c.catch(()=>{}),yield l.m,c}catch(l){const c=l,p="FirebaseError"!==c.name&&a<3;if(Ke("SimpleDb","Transaction failed with error:",c.message,"Retrying:",p),s.close(),!p)return Promise.reject(c)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}function AB(n){const e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}class gne{constructor(e){this.B=e,this.k=!1,this.q=null}get isDone(){return this.k}get K(){return this.q}set cursor(e){this.B=e}done(){this.k=!0}$(e){this.q=e}delete(){return wd(this.B.delete())}}class u0 extends He{constructor(e,t){super(Se.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${t}`),this.name="IndexedDbTransactionError"}}function Bu(n){return"IndexedDbTransactionError"===n.name}class mne{constructor(e){this.store=e}put(e,t){let r;return void 0!==t?(Ke("SimpleDb","PUT",this.store.name,e,t),r=this.store.put(t,e)):(Ke("SimpleDb","PUT",this.store.name,"<auto-key>",e),r=this.store.put(e)),wd(r)}add(e){return Ke("SimpleDb","ADD",this.store.name,e,e),wd(this.store.add(e))}get(e){return wd(this.store.get(e)).next(t=>(void 0===t&&(t=null),Ke("SimpleDb","GET",this.store.name,e,t),t))}delete(e){return Ke("SimpleDb","DELETE",this.store.name,e),wd(this.store.delete(e))}count(){return Ke("SimpleDb","COUNT",this.store.name),wd(this.store.count())}U(e,t){const r=this.options(e,t),i=r.index?this.store.index(r.index):this.store;if("function"==typeof i.getAll){const s=i.getAll(r.range);return new be((o,a)=>{s.onerror=l=>{a(l.target.error)},s.onsuccess=l=>{o(l.target.result)}})}{const s=this.cursor(r),o=[];return this.W(s,(a,l)=>{o.push(l)}).next(()=>o)}}G(e,t){const r=this.store.getAll(e,null===t?void 0:t);return new be((i,s)=>{r.onerror=o=>{s(o.target.error)},r.onsuccess=o=>{i(o.target.result)}})}j(e,t){Ke("SimpleDb","DELETE ALL",this.store.name);const r=this.options(e,t);r.H=!1;const i=this.cursor(r);return this.W(i,(s,o,a)=>a.delete())}J(e,t){let r;t?r=e:(r={},t=e);const i=this.cursor(r);return this.W(i,t)}Y(e){const t=this.cursor({});return new be((r,i)=>{t.onerror=s=>{const o=cD(s.target.error);i(o)},t.onsuccess=s=>{const o=s.target.result;o?e(o.primaryKey,o.value).next(a=>{a?o.continue():r()}):r()}})}W(e,t){const r=[];return new be((i,s)=>{e.onerror=o=>{s(o.target.error)},e.onsuccess=o=>{const a=o.target.result;if(!a)return void i();const l=new gne(a),c=t(a.primaryKey,a.value,l);if(c instanceof be){const p=c.catch(m=>(l.done(),be.reject(m)));r.push(p)}l.isDone?i():null===l.K?a.continue():a.continue(l.K)}}).next(()=>be.waitFor(r))}options(e,t){let r;return void 0!==e&&("string"==typeof e?r=e:t=e),{index:r,range:t}}cursor(e){let t="next";if(e.reverse&&(t="prev"),e.index){const r=this.store.index(e.index);return e.H?r.openKeyCursor(e.range,t):r.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}function wd(n){return new be((e,t)=>{n.onsuccess=r=>{e(r.target.result)},n.onerror=r=>{const i=cD(r.target.error);t(i)}})}let CB=!1;function cD(n){const e=Pa.S((0,xn.ZQ)());if(e>=12.2&&e<13){const t="An internal error was encountered in the Indexed Database server";if(n.message.indexOf(t)>=0){const r=new He("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${t}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return CB||(CB=!0,setTimeout(()=>{throw r},0)),r}}return n}class yne{constructor(e,t){this.asyncQueue=e,this.Z=t,this.task=null}start(){this.X(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return null!==this.task}X(e){var t=this;Ke("IndexBackfiller",`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,(0,E.A)(function*(){t.task=null;try{Ke("IndexBackfiller",`Documents written: ${yield t.Z.ee()}`)}catch(r){Bu(r)?Ke("IndexBackfiller","Ignoring IndexedDB error during index backfill: ",r):yield Lu(r)}yield t.X(6e4)}))}}class _ne{constructor(e,t){this.localStore=e,this.persistence=t}ee(e=50){var t=this;return(0,E.A)(function*(){return t.persistence.runTransaction("Backfill Indexes","readwrite-primary",r=>t.te(r,e))})()}te(e,t){const r=new Set;let i=t,s=!0;return be.doWhile(()=>!0===s&&i>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next(o=>{if(null!==o&&!r.has(o))return Ke("IndexBackfiller",`Processing collection: ${o}`),this.ne(e,o,i).next(a=>{i-=a,r.add(o)});s=!1})).next(()=>t-i)}ne(e,t,r){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,t).next(i=>this.localStore.localDocuments.getNextDocuments(e,t,i,r).next(s=>{const o=s.changes;return this.localStore.indexManager.updateIndexEntries(e,o).next(()=>this.re(i,s)).next(a=>(Ke("IndexBackfiller",`Updating offset: ${a}`),this.localStore.indexManager.updateCollectionGroup(e,t,a))).next(()=>o.size)}))}re(e,t){let r=e;return t.changes.forEach((i,s)=>{const o=EB(s);lD(o,r)>0&&(r=o)}),new to(r.readTime,r.documentKey,Math.max(t.batchId,e.largestBatchId))}}let no=(()=>{class n{constructor(t,r){this.previousValue=t,r&&(r.sequenceNumberHandler=i=>this.ie(i),this.se=i=>r.writeSequenceNumber(i))}ie(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.se&&this.se(t),t}}return n.oe=-1,n})();function c0(n){return null==n}function d0(n){return 0===n&&1/n==-1/0}function xB(n){return"number"==typeof n&&Number.isInteger(n)&&!d0(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}function Gi(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=DB(e)),e=vne(n.get(t),e);return DB(e)}function vne(n,e){let t=e;const r=n.length;for(let i=0;i<r;i++){const s=n.charAt(i);switch(s){case"\0":t+="\x01\x10";break;case"\x01":t+="\x01\x11";break;default:t+=s}}return t}function DB(n){return n+"\x01\x01"}function Ma(n){const e=n.length;if(At(e>=2),2===e)return At("\x01"===n.charAt(0)&&"\x01"===n.charAt(1)),pn.emptyPath();const t=e-2,r=[];let i="";for(let s=0;s<e;){const o=n.indexOf("\x01",s);switch((o<0||o>t)&&wt(),n.charAt(o+1)){case"\x01":const a=n.substring(s,o);let l;0===i.length?l=a:(i+=a,l=i,i=""),r.push(l);break;case"\x10":i+=n.substring(s,o),i+="\0";break;case"\x11":i+=n.substring(s,o+1);break;default:wt()}s=o+2}return new pn(r)}const TB=["userId","batchId"];function Fw(n,e){return[n,Gi(e)]}function SB(n,e,t){return[n,Gi(e),t]}const wne={},Ene=["prefixPath","collectionGroup","readTime","documentId"],Ine=["prefixPath","collectionGroup","documentId"],bne=["collectionGroup","readTime","prefixPath","documentId"],Ane=["canonicalId","targetId"],Cne=["targetId","path"],xne=["path","targetId"],Dne=["collectionId","parent"],Tne=["indexId","uid"],Sne=["uid","sequenceNumber"],Rne=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],Pne=["indexId","uid","orderedDocumentKey"],Mne=["userId","collectionPath","documentId"],Nne=["userId","collectionPath","largestBatchId"],kne=["userId","collectionGroup","largestBatchId"],RB=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],One=[...RB,"documentOverlays"],PB=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],MB=PB,dD=[...MB,"indexConfiguration","indexState","indexEntries"],Fne=dD,Vne=[...dD,"globals"];class hD extends bB{constructor(e,t){super(),this._e=e,this.currentSequenceNumber=t}}function di(n,e){const t=ut(n);return Pa.F(t._e,e)}function NB(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function Uu(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function OB(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}class ar{constructor(e,t){this.comparator=e,this.root=t||ki.EMPTY}insert(e,t){return new ar(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,ki.BLACK,null,null))}remove(e){return new ar(this.comparator,this.root.remove(e,this.comparator).copy(null,null,ki.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const r=this.comparator(e,t.key);if(0===r)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(0===i)return t+r.left.size;i<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,r)=>(e(t,r),!1))}toString(){const e=[];return this.inorderTraversal((t,r)=>(e.push(`${t}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Vw(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Vw(this.root,e,this.comparator,!1)}getReverseIterator(){return new Vw(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Vw(this.root,e,this.comparator,!0)}}class Vw{constructor(e,t,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=t?r(e.key,t):1,t&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(0===s){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class ki{constructor(e,t,r,i,s){this.key=e,this.value=t,this.color=r??ki.RED,this.left=i??ki.EMPTY,this.right=s??ki.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,i,s){return new ki(e??this.key,t??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let i=this;const s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,t,r),null):0===s?i.copy(null,t,null,null,null):i.copy(null,null,null,null,i.right.insert(e,t,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return ki.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,i=this;if(t(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,t),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===t(e,i.key)){if(i.right.isEmpty())return ki.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,t))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,ki.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,ki.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw wt();const e=this.left.check();if(e!==this.right.check())throw wt();return e+(this.isRed()?0:1)}}ki.EMPTY=null,ki.RED=!0,ki.BLACK=!1,ki.EMPTY=new class{constructor(){this.size=0}get key(){throw wt()}get value(){throw wt()}get color(){throw wt()}get left(){throw wt()}get right(){throw wt()}copy(e,t,r,i,s){return this}insert(e,t,r){return new ki(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Wn{constructor(e){this.comparator=e,this.data=new ar(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,r)=>(e(t),!1))}forEachInRange(e,t){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;t(i.key)}}forEachWhile(e,t){let r;for(r=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new FB(this.data.getIterator())}getIteratorFrom(e){return new FB(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(r=>{t=t.add(r)}),t}isEqual(e){if(!(e instanceof Wn)||this.size!==e.size)return!1;const t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){const i=t.getNext().key,s=r.getNext().key;if(0!==this.comparator(i,s))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new Wn(this.comparator);return t.data=e,t}}class FB{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function Jf(n){return n.hasNext()?n.getNext():void 0}class Os{constructor(e){this.fields=e,e.sort(cr.comparator)}static empty(){return new Os([])}unionWith(e){let t=new Wn(cr.comparator);for(const r of this.fields)t=t.add(r);for(const r of e)t=t.add(r);return new Os(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Yf(this.fields,e.fields,(t,r)=>t.isEqual(r))}}class VB extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Sr{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new VB("Invalid base64 string: "+s):s}}(e);return new Sr(t)}static fromUint8Array(e){const t=function(i){let s="";for(let o=0;o<i.length;++o)s+=String.fromCharCode(i[o]);return s}(e);return new Sr(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(t){const r=new Uint8Array(t.length);for(let i=0;i<t.length;i++)r[i]=t.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Kt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Sr.EMPTY_BYTE_STRING=new Sr("");const Bne=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Dl(n){if(At(!!n),"string"==typeof n){let e=0;const t=Bne.exec(n);if(At(!!t),t[1]){let i=t[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:wr(n.seconds),nanos:wr(n.nanos)}}function wr(n){return"number"==typeof n?n:"string"==typeof n?Number(n):0}function Tl(n){return"string"==typeof n?Sr.fromBase64String(n):Sr.fromUint8Array(n)}function Lw(n){var e,t;return"server_timestamp"===(null===(t=((null===(e=n?.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===t?void 0:t.stringValue)}function Bw(n){const e=n.mapValue.fields.__previous_value__;return Lw(e)?Bw(e):e}function h0(n){const e=Dl(n.mapValue.fields.__local_write_time__.timestampValue);return new vr(e.seconds,e.nanos)}class Une{constructor(e,t,r,i,s,o,a,l,c){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=l,this.useFetchStreams=c}}class ju{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new ju("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof ju&&e.projectId===this.projectId&&e.database===this.database}}const $u={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},Uw={nullValue:"NULL_VALUE"};function zu(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?Lw(n)?4:$B(n)?9007199254740991:zw(n)?10:11:wt()}function Na(n,e){if(n===e)return!0;const t=zu(n);if(t!==zu(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return h0(n).isEqual(h0(e));case 3:return function(i,s){if("string"==typeof i.timestampValue&&"string"==typeof s.timestampValue&&i.timestampValue.length===s.timestampValue.length)return i.timestampValue===s.timestampValue;const o=Dl(i.timestampValue),a=Dl(s.timestampValue);return o.seconds===a.seconds&&o.nanos===a.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return s=e,Tl(n.bytesValue).isEqual(Tl(s.bytesValue));case 7:return n.referenceValue===e.referenceValue;case 8:return function(i,s){return wr(i.geoPointValue.latitude)===wr(s.geoPointValue.latitude)&&wr(i.geoPointValue.longitude)===wr(s.geoPointValue.longitude)}(n,e);case 2:return function(i,s){if("integerValue"in i&&"integerValue"in s)return wr(i.integerValue)===wr(s.integerValue);if("doubleValue"in i&&"doubleValue"in s){const o=wr(i.doubleValue),a=wr(s.doubleValue);return o===a?d0(o)===d0(a):isNaN(o)&&isNaN(a)}return!1}(n,e);case 9:return Yf(n.arrayValue.values||[],e.arrayValue.values||[],Na);case 10:case 11:return function(i,s){const o=i.mapValue.fields||{},a=s.mapValue.fields||{};if(NB(o)!==NB(a))return!1;for(const l in o)if(o.hasOwnProperty(l)&&(void 0===a[l]||!Na(o[l],a[l])))return!1;return!0}(n,e);default:return wt()}var s}function f0(n,e){return void 0!==(n.values||[]).find(t=>Na(t,e))}function Hu(n,e){if(n===e)return 0;const t=zu(n),r=zu(e);if(t!==r)return Kt(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return Kt(n.booleanValue,e.booleanValue);case 2:return function(s,o){const a=wr(s.integerValue||s.doubleValue),l=wr(o.integerValue||o.doubleValue);return a<l?-1:a>l?1:a===l?0:isNaN(a)?isNaN(l)?0:-1:1}(n,e);case 3:return LB(n.timestampValue,e.timestampValue);case 4:return LB(h0(n),h0(e));case 5:return Kt(n.stringValue,e.stringValue);case 6:return function(s,o){const a=Tl(s),l=Tl(o);return a.compareTo(l)}(n.bytesValue,e.bytesValue);case 7:return function(s,o){const a=s.split("/"),l=o.split("/");for(let c=0;c<a.length&&c<l.length;c++){const p=Kt(a[c],l[c]);if(0!==p)return p}return Kt(a.length,l.length)}(n.referenceValue,e.referenceValue);case 8:return function(s,o){const a=Kt(wr(s.latitude),wr(o.latitude));return 0!==a?a:Kt(wr(s.longitude),wr(o.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return BB(n.arrayValue,e.arrayValue);case 10:return function(s,o){var a,l,c,p;const A=null===(a=(s.fields||{}).value)||void 0===a?void 0:a.arrayValue,D=null===(l=(o.fields||{}).value)||void 0===l?void 0:l.arrayValue,R=Kt((null===(c=A?.values)||void 0===c?void 0:c.length)||0,(null===(p=D?.values)||void 0===p?void 0:p.length)||0);return 0!==R?R:BB(A,D)}(n.mapValue,e.mapValue);case 11:return function(s,o){if(s===$u.mapValue&&o===$u.mapValue)return 0;if(s===$u.mapValue)return 1;if(o===$u.mapValue)return-1;const a=s.fields||{},l=Object.keys(a),c=o.fields||{},p=Object.keys(c);l.sort(),p.sort();for(let m=0;m<l.length&&m<p.length;++m){const w=Kt(l[m],p[m]);if(0!==w)return w;const A=Hu(a[l[m]],c[p[m]]);if(0!==A)return A}return Kt(l.length,p.length)}(n.mapValue,e.mapValue);default:throw wt()}}function LB(n,e){if("string"==typeof n&&"string"==typeof e&&n.length===e.length)return Kt(n,e);const t=Dl(n),r=Dl(e),i=Kt(t.seconds,r.seconds);return 0!==i?i:Kt(t.nanos,r.nanos)}function BB(n,e){const t=n.values||[],r=e.values||[];for(let i=0;i<t.length&&i<r.length;++i){const s=Hu(t[i],r[i]);if(s)return s}return Kt(t.length,r.length)}function ep(n){return fD(n)}function fD(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(t){const r=Dl(t);return`time(${r.seconds},${r.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?Tl(n.bytesValue).toBase64():"referenceValue"in n?dt.fromName(n.referenceValue).toString():"geoPointValue"in n?function(t){return`geo(${t.latitude},${t.longitude})`}(n.geoPointValue):"arrayValue"in n?function(t){let r="[",i=!0;for(const s of t.values||[])i?i=!1:r+=",",r+=fD(s);return r+"]"}(n.arrayValue):"mapValue"in n?function(t){const r=Object.keys(t.fields||{}).sort();let i="{",s=!0;for(const o of r)s?s=!1:i+=",",i+=`${o}:${fD(t.fields[o])}`;return i+"}"}(n.mapValue):wt()}function Ed(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function pD(n){return!!n&&"integerValue"in n}function p0(n){return!!n&&"arrayValue"in n}function UB(n){return!!n&&"nullValue"in n}function jB(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function $w(n){return!!n&&"mapValue"in n}function zw(n){var e,t;return"__vector__"===(null===(t=((null===(e=n?.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===t?void 0:t.stringValue)}function g0(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&"object"==typeof n.timestampValue)return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return Uu(n.mapValue.fields,(t,r)=>e.mapValue.fields[t]=g0(r)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=g0(n.arrayValue.values[t]);return e}return Object.assign({},n)}function $B(n){return"__max__"===(((n.mapValue||{}).fields||{}).__type__||{}).stringValue}const zB={mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{}}}}};function jne(n){return"nullValue"in n?Uw:"booleanValue"in n?{booleanValue:!1}:"integerValue"in n||"doubleValue"in n?{doubleValue:NaN}:"timestampValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in n?{stringValue:""}:"bytesValue"in n?{bytesValue:""}:"referenceValue"in n?Ed(ju.empty(),dt.empty()):"geoPointValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in n?{arrayValue:{}}:"mapValue"in n?zw(n)?zB:{mapValue:{}}:wt()}function $ne(n){return"nullValue"in n?{booleanValue:!1}:"booleanValue"in n?{doubleValue:NaN}:"integerValue"in n||"doubleValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in n?{stringValue:""}:"stringValue"in n?{bytesValue:""}:"bytesValue"in n?Ed(ju.empty(),dt.empty()):"referenceValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in n?{arrayValue:{}}:"arrayValue"in n?zB:"mapValue"in n?zw(n)?{mapValue:{}}:$u:wt()}function HB(n,e){const t=Hu(n.value,e.value);return 0!==t?t:n.inclusive&&!e.inclusive?-1:!n.inclusive&&e.inclusive?1:0}function qB(n,e){const t=Hu(n.value,e.value);return 0!==t?t:n.inclusive&&!e.inclusive?1:!n.inclusive&&e.inclusive?-1:0}class Oi{constructor(e){this.value=e}static empty(){return new Oi({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!$w(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=g0(t)}setAll(e){let t=cr.emptyPath(),r={},i=[];e.forEach((o,a)=>{if(!t.isImmediateParentOf(a)){const l=this.getFieldsMap(t);this.applyChanges(l,r,i),r={},i=[],t=a.popLast()}o?r[a.lastSegment()]=g0(o):i.push(a.lastSegment())});const s=this.getFieldsMap(t);this.applyChanges(s,r,i)}delete(e){const t=this.field(e.popLast());$w(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Na(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=t.mapValue.fields[e.get(r)];$w(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=i),t=i}return t.mapValue.fields}applyChanges(e,t,r){Uu(t,(i,s)=>e[i]=s);for(const i of r)delete e[i]}clone(){return new Oi(g0(this.value))}}function GB(n){const e=[];return Uu(n.fields,(t,r)=>{const i=new cr([t]);if($w(r)){const s=GB(r.mapValue).fields;if(0===s.length)e.push(i);else for(const o of s)e.push(i.child(o))}else e.push(i)}),new Os(e)}class dr{constructor(e,t,r,i,s,o,a){this.key=e,this.documentType=t,this.version=r,this.readTime=i,this.createTime=s,this.data=o,this.documentState=a}static newInvalidDocument(e){return new dr(e,0,Tt.min(),Tt.min(),Tt.min(),Oi.empty(),0)}static newFoundDocument(e,t,r,i){return new dr(e,1,t,Tt.min(),r,i,0)}static newNoDocument(e,t){return new dr(e,2,t,Tt.min(),Tt.min(),Oi.empty(),0)}static newUnknownDocument(e,t){return new dr(e,3,t,Tt.min(),Tt.min(),Oi.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Tt.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Oi.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Oi.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Tt.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof dr&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new dr(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class qu{constructor(e,t){this.position=e,this.inclusive=t}}function WB(n,e,t){let r=0;for(let i=0;i<n.position.length;i++){const s=e[i],o=n.position[i];if(r=s.field.isKeyField()?dt.comparator(dt.fromName(o.referenceValue),t.key):Hu(o,t.data.field(s.field)),"desc"===s.dir&&(r*=-1),0!==r)break}return r}function KB(n,e){if(null===n)return null===e;if(null===e||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!Na(n.position[t],e.position[t]))return!1;return!0}class m0{constructor(e,t="asc"){this.field=e,this.dir=t}}function zne(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}class QB{}class gn extends QB{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,r):new Hne(e,t,r):"array-contains"===t?new Wne(e,r):"in"===t?new t4(e,r):"not-in"===t?new Kne(e,r):"array-contains-any"===t?new Qne(e,r):new gn(e,t,r)}static createKeyFieldInFilter(e,t,r){return"in"===t?new qne(e,r):new Gne(e,r)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.matchesComparison(Hu(t,this.value)):null!==t&&zu(this.value)===zu(t)&&this.matchesComparison(Hu(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return wt()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class jn extends QB{constructor(e,t){super(),this.filters=e,this.op=t,this.ae=null}static create(e,t){return new jn(e,t)}matches(e){return tp(this)?void 0===this.filters.find(t=>!t.matches(e)):void 0!==this.filters.find(t=>t.matches(e))}getFlattenedFilters(){return null!==this.ae||(this.ae=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function tp(n){return"and"===n.op}function gD(n){return"or"===n.op}function mD(n){return YB(n)&&tp(n)}function YB(n){for(const e of n.filters)if(e instanceof jn)return!1;return!0}function yD(n){if(n instanceof gn)return n.field.canonicalString()+n.op.toString()+ep(n.value);if(mD(n))return n.filters.map(e=>yD(e)).join(",");{const e=n.filters.map(t=>yD(t)).join(",");return`${n.op}(${e})`}}function XB(n,e){return n instanceof gn?(r=n,(i=e)instanceof gn&&r.op===i.op&&r.field.isEqual(i.field)&&Na(r.value,i.value)):n instanceof jn?function(r,i){return i instanceof jn&&r.op===i.op&&r.filters.length===i.filters.length&&r.filters.reduce((s,o,a)=>s&&XB(o,i.filters[a]),!0)}(n,e):void wt();var r,i}function ZB(n,e){const t=n.filters.concat(e);return jn.create(t,n.op)}function JB(n){return n instanceof gn?`${(t=n).field.canonicalString()} ${t.op} ${ep(t.value)}`:n instanceof jn?function(t){return t.op.toString()+" {"+t.getFilters().map(JB).join(" ,")+"}"}(n):"Filter";var t}class Hne extends gn{constructor(e,t,r){super(e,t,r),this.key=dt.fromName(r.referenceValue)}matches(e){const t=dt.comparator(e.key,this.key);return this.matchesComparison(t)}}class qne extends gn{constructor(e,t){super(e,"in",t),this.keys=e4(0,t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class Gne extends gn{constructor(e,t){super(e,"not-in",t),this.keys=e4(0,t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function e4(n,e){var t;return((null===(t=e.arrayValue)||void 0===t?void 0:t.values)||[]).map(r=>dt.fromName(r.referenceValue))}class Wne extends gn{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return p0(t)&&f0(t.arrayValue,this.value)}}class t4 extends gn{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&f0(this.value.arrayValue,t)}}class Kne extends gn{constructor(e,t){super(e,"not-in",t)}matches(e){if(f0(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!f0(this.value.arrayValue,t)}}class Qne extends gn{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!p0(t)||!t.arrayValue.values)&&t.arrayValue.values.some(r=>f0(this.value.arrayValue,r))}}class Yne{constructor(e,t=null,r=[],i=[],s=null,o=null,a=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=a,this.ue=null}}function _D(n,e=null,t=[],r=[],i=null,s=null,o=null){return new Yne(n,e,t,r,i,s,o)}function Id(n){const e=ut(n);if(null===e.ue){let t=e.path.canonicalString();null!==e.collectionGroup&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(r=>yD(r)).join(","),t+="|ob:",t+=e.orderBy.map(r=>{return(s=r).field.canonicalString()+s.dir;var s}).join(","),c0(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>ep(r)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>ep(r)).join(",")),e.ue=t}return e.ue}function y0(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!zne(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!XB(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!KB(n.startAt,e.startAt)&&KB(n.endAt,e.endAt)}function Hw(n){return dt.isDocumentKey(n.path)&&null===n.collectionGroup&&0===n.filters.length}function qw(n,e){return n.filters.filter(t=>t instanceof gn&&t.field.isEqual(e))}function n4(n,e,t){let r=Uw,i=!0;for(const s of qw(n,e)){let o=Uw,a=!0;switch(s.op){case"<":case"<=":o=jne(s.value);break;case"==":case"in":case">=":o=s.value;break;case">":o=s.value,a=!1;break;case"!=":case"not-in":o=Uw}HB({value:r,inclusive:i},{value:o,inclusive:a})<0&&(r=o,i=a)}if(null!==t)for(let s=0;s<n.orderBy.length;++s)if(n.orderBy[s].field.isEqual(e)){const o=t.position[s];HB({value:r,inclusive:i},{value:o,inclusive:t.inclusive})<0&&(r=o,i=t.inclusive);break}return{value:r,inclusive:i}}function r4(n,e,t){let r=$u,i=!0;for(const s of qw(n,e)){let o=$u,a=!0;switch(s.op){case">=":case">":o=$ne(s.value),a=!1;break;case"==":case"in":case"<=":o=s.value;break;case"<":o=s.value,a=!1;break;case"!=":case"not-in":o=$u}qB({value:r,inclusive:i},{value:o,inclusive:a})>0&&(r=o,i=a)}if(null!==t)for(let s=0;s<n.orderBy.length;++s)if(n.orderBy[s].field.isEqual(e)){const o=t.position[s];qB({value:r,inclusive:i},{value:o,inclusive:t.inclusive})>0&&(r=o,i=t.inclusive);break}return{value:r,inclusive:i}}class Sl{constructor(e,t=null,r=[],i=[],s=null,o="F",a=null,l=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=a,this.endAt=l,this.ce=null,this.le=null,this.he=null}}function i4(n,e,t,r,i,s,o,a){return new Sl(n,e,t,r,i,s,o,a)}function np(n){return new Sl(n)}function s4(n){return 0===n.filters.length&&null===n.limit&&null==n.startAt&&null==n.endAt&&(0===n.explicitOrderBy.length||1===n.explicitOrderBy.length&&n.explicitOrderBy[0].field.isKeyField())}function vD(n){return null!==n.collectionGroup}function rp(n){const e=ut(n);if(null===e.ce){e.ce=[];const t=new Set;for(const s of e.explicitOrderBy)e.ce.push(s),t.add(s.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let a=new Wn(cr.comparator);return o.filters.forEach(l=>{l.getFlattenedFilters().forEach(c=>{c.isInequality()&&(a=a.add(c.field))})}),a})(e).forEach(s=>{t.has(s.canonicalString())||s.isKeyField()||e.ce.push(new m0(s,r))}),t.has(cr.keyField().canonicalString())||e.ce.push(new m0(cr.keyField(),r))}return e.ce}function Wi(n){const e=ut(n);return e.le||(e.le=function a4(n,e){if("F"===n.limitType)return _D(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map(i=>new m0(i.field,"desc"===i.dir?"asc":"desc"));const t=n.endAt?new qu(n.endAt.position,n.endAt.inclusive):null,r=n.startAt?new qu(n.startAt.position,n.startAt.inclusive):null;return _D(n.path,n.collectionGroup,e,n.filters,n.limit,t,r)}}(e,rp(n))),e.le}function wD(n,e){const t=n.filters.concat([e]);return new Sl(n.path,n.collectionGroup,n.explicitOrderBy.slice(),t,n.limit,n.limitType,n.startAt,n.endAt)}function Gw(n,e,t){return new Sl(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function _0(n,e){return y0(Wi(n),Wi(e))&&n.limitType===e.limitType}function l4(n){return`${Id(Wi(n))}|lt:${n.limitType}`}function ip(n){return`Query(target=${function(t){let r=t.path.canonicalString();return null!==t.collectionGroup&&(r+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(r+=`, filters: [${t.filters.map(i=>JB(i)).join(", ")}]`),c0(t.limit)||(r+=", limit: "+t.limit),t.orderBy.length>0&&(r+=`, orderBy: [${t.orderBy.map(i=>{return`${(o=i).field.canonicalString()} (${o.dir})`;var o}).join(", ")}]`),t.startAt&&(r+=", startAt: ",r+=t.startAt.inclusive?"b:":"a:",r+=t.startAt.position.map(i=>ep(i)).join(",")),t.endAt&&(r+=", endAt: ",r+=t.endAt.inclusive?"a:":"b:",r+=t.endAt.position.map(i=>ep(i)).join(",")),`Target(${r})`}(Wi(n))}; limitType=${n.limitType})`}function v0(n,e){return e.isFoundDocument()&&function(r,i){const s=i.key.path;return null!==r.collectionGroup?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(s):dt.isDocumentKey(r.path)?r.path.isEqual(s):r.path.isImmediateParentOf(s)}(n,e)&&function(r,i){for(const s of rp(r))if(!s.field.isKeyField()&&null===i.data.field(s.field))return!1;return!0}(n,e)&&function(r,i){for(const s of r.filters)if(!s.matches(i))return!1;return!0}(n,e)&&(i=e,!((r=n).startAt&&!function(o,a,l){const c=WB(o,a,l);return o.inclusive?c<=0:c<0}(r.startAt,rp(r),i)||r.endAt&&!function(o,a,l){const c=WB(o,a,l);return o.inclusive?c>=0:c>0}(r.endAt,rp(r),i)));var r,i}function u4(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function c4(n){return(e,t)=>{let r=!1;for(const i of rp(n)){const s=Xne(i,e,t);if(0!==s)return s;r=r||i.field.isKeyField()}return 0}}function Xne(n,e,t){const r=n.field.isKeyField()?dt.comparator(e.key,t.key):function(s,o,a){const l=o.data.field(s),c=a.data.field(s);return null!==l&&null!==c?Hu(l,c):wt()}(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return wt()}}class Rl{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),r=this.inner[t];if(void 0!==r)for(const[i,s]of r)if(this.equalsFn(i,e))return s}has(e){return void 0!==this.get(e)}set(e,t){const r=this.mapKeyFn(e),i=this.inner[r];if(void 0===i)return this.inner[r]=[[e,t]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,t]);i.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),r=this.inner[t];if(void 0===r)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return 1===r.length?delete this.inner[t]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Uu(this.inner,(t,r)=>{for(const[i,s]of r)e(i,s)})}isEmpty(){return OB(this.inner)}size(){return this.innerSize}}const Zne=new ar(dt.comparator);function Fs(){return Zne}const d4=new ar(dt.comparator);function w0(...n){let e=d4;for(const t of n)e=e.insert(t.key,t);return e}function h4(n){let e=d4;return n.forEach((t,r)=>e=e.insert(t,r.overlayedDocument)),e}function ka(){return E0()}function f4(){return E0()}function E0(){return new Rl(n=>n.toString(),(n,e)=>n.isEqual(e))}const Jne=new ar(dt.comparator),ere=new Wn(dt.comparator);function tn(...n){let e=ere;for(const t of n)e=e.add(t);return e}const tre=new Wn(Kt);function ED(){return tre}function ID(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:d0(e)?"-0":e}}function p4(n){return{integerValue:""+n}}function g4(n,e){return xB(e)?p4(e):ID(n,e)}class Ww{constructor(){this._=void 0}}function nre(n,e,t){return n instanceof sp?function(i,s){const o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return s&&Lw(s)&&(s=Bw(s)),s&&(o.fields.__previous_value__=s),{mapValue:o}}(t,e):n instanceof bd?y4(n,e):n instanceof Ad?_4(n,e):function(i,s){const o=m4(i,s),a=v4(o)+v4(i.Pe);return pD(o)&&pD(i.Pe)?p4(a):ID(i.serializer,a)}(n,e)}function rre(n,e,t){return n instanceof bd?y4(n,e):n instanceof Ad?_4(n,e):t}function m4(n,e){return n instanceof op?pD(r=e)||(s=r)&&"doubleValue"in s?e:{integerValue:0}:null;var r,s}class sp extends Ww{}class bd extends Ww{constructor(e){super(),this.elements=e}}function y4(n,e){const t=w4(e);for(const r of n.elements)t.some(i=>Na(i,r))||t.push(r);return{arrayValue:{values:t}}}class Ad extends Ww{constructor(e){super(),this.elements=e}}function _4(n,e){let t=w4(e);for(const r of n.elements)t=t.filter(i=>!Na(i,r));return{arrayValue:{values:t}}}class op extends Ww{constructor(e,t){super(),this.serializer=e,this.Pe=t}}function v4(n){return wr(n.integerValue||n.doubleValue)}function w4(n){return p0(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}class I0{constructor(e,t){this.field=e,this.transform=t}}class sre{constructor(e,t){this.version=e,this.transformResults=t}}class Er{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Er}static exists(e){return new Er(void 0,e)}static updateTime(e){return new Er(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Kw(n,e){return void 0!==n.updateTime?e.isFoundDocument()&&e.version.isEqual(n.updateTime):void 0===n.exists||n.exists===e.isFoundDocument()}class Qw{}function E4(n,e){if(!n.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return n.isNoDocument()?new lp(n.key,Er.none()):new ap(n.key,n.data,Er.none());{const t=n.data,r=Oi.empty();let i=new Wn(cr.comparator);for(let s of e.fields)if(!i.has(s)){let o=t.field(s);null===o&&s.length>1&&(s=s.popLast(),o=t.field(s)),null===o?r.delete(s):r.set(s,o),i=i.add(s)}return new Pl(n.key,r,new Os(i.toArray()),Er.none())}}function ore(n,e,t){n instanceof ap?function(i,s,o){const a=i.value.clone(),l=A4(i.fieldTransforms,s,o.transformResults);a.setAll(l),s.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(n,e,t):n instanceof Pl?function(i,s,o){if(!Kw(i.precondition,s))return void s.convertToUnknownDocument(o.version);const a=A4(i.fieldTransforms,s,o.transformResults),l=s.data;l.setAll(b4(i)),l.setAll(a),s.convertToFoundDocument(o.version,l).setHasCommittedMutations()}(n,e,t):e.convertToNoDocument(t.version).setHasCommittedMutations()}function b0(n,e,t,r){return n instanceof ap?function(s,o,a,l){if(!Kw(s.precondition,o))return a;const c=s.value.clone(),p=C4(s.fieldTransforms,l,o);return c.setAll(p),o.convertToFoundDocument(o.version,c).setHasLocalMutations(),null}(n,e,t,r):n instanceof Pl?function(s,o,a,l){if(!Kw(s.precondition,o))return a;const c=C4(s.fieldTransforms,l,o),p=o.data;return p.setAll(b4(s)),p.setAll(c),o.convertToFoundDocument(o.version,p).setHasLocalMutations(),null===a?null:a.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(m=>m.field))}(n,e,t,r):(a=t,Kw(n.precondition,o=e)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):a);var o,a}function are(n,e){let t=null;for(const r of n.fieldTransforms){const i=e.data.field(r.field),s=m4(r.transform,i||null);null!=s&&(null===t&&(t=Oi.empty()),t.set(r.field,s))}return t||null}function I4(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&(i=e.fieldTransforms,!!(void 0===(r=n.fieldTransforms)&&void 0===i||r&&i&&Yf(r,i,(s,o)=>function ire(n,e){return n.field.isEqual(e.field)&&(i=e.transform,(r=n.transform)instanceof bd&&i instanceof bd||r instanceof Ad&&i instanceof Ad?Yf(r.elements,i.elements,Na):r instanceof op&&i instanceof op?Na(r.Pe,i.Pe):r instanceof sp&&i instanceof sp);var r,i}(s,o))))&&(0===n.type?n.value.isEqual(e.value):1!==n.type||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask));var r,i}class ap extends Qw{constructor(e,t,r,i=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class Pl extends Qw{constructor(e,t,r,i,s=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function b4(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const r=n.data.field(t);e.set(t,r)}}),e}function A4(n,e,t){const r=new Map;At(n.length===t.length);for(let i=0;i<t.length;i++){const s=n[i],o=s.transform,a=e.data.field(s.field);r.set(s.field,rre(o,a,t[i]))}return r}function C4(n,e,t){const r=new Map;for(const i of n){const s=i.transform,o=t.data.field(i.field);r.set(i.field,nre(s,o,e))}return r}class lp extends Qw{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class bD extends Qw{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class AD{constructor(e,t,r,i){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,t){const r=t.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&ore(s,e,r[i])}}applyToLocalView(e,t){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(t=b0(r,e,t,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(t=b0(r,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const r=f4();return this.mutations.forEach(i=>{const s=e.get(i.key),o=s.overlayedDocument;let a=this.applyToLocalView(o,s.mutatedFields);a=t.has(i.key)?null:a;const l=E4(o,a);null!==l&&r.set(i.key,l),o.isValidDocument()||o.convertToNoDocument(Tt.min())}),r}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),tn())}isEqual(e){return this.batchId===e.batchId&&Yf(this.mutations,e.mutations,(t,r)=>I4(t,r))&&Yf(this.baseMutations,e.baseMutations,(t,r)=>I4(t,r))}}class CD{constructor(e,t,r,i){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=i}static from(e,t,r){At(e.mutations.length===r.length);let i=function(){return Jne}();const s=e.mutations;for(let o=0;o<s.length;o++)i=i.insert(s[o].key,r[o].version);return new CD(e,t,r,i)}}class xD{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class lre{constructor(e,t){this.count=e,this.unchangedNames=t}}var ei,En;function D4(n){switch(n){default:return wt();case Se.CANCELLED:case Se.UNKNOWN:case Se.DEADLINE_EXCEEDED:case Se.RESOURCE_EXHAUSTED:case Se.INTERNAL:case Se.UNAVAILABLE:case Se.UNAUTHENTICATED:return!1;case Se.INVALID_ARGUMENT:case Se.NOT_FOUND:case Se.ALREADY_EXISTS:case Se.PERMISSION_DENIED:case Se.FAILED_PRECONDITION:case Se.ABORTED:case Se.OUT_OF_RANGE:case Se.UNIMPLEMENTED:case Se.DATA_LOSS:return!0}}function T4(n){if(void 0===n)return zr("GRPC error has no .code"),Se.UNKNOWN;switch(n){case ei.OK:return Se.OK;case ei.CANCELLED:return Se.CANCELLED;case ei.UNKNOWN:return Se.UNKNOWN;case ei.DEADLINE_EXCEEDED:return Se.DEADLINE_EXCEEDED;case ei.RESOURCE_EXHAUSTED:return Se.RESOURCE_EXHAUSTED;case ei.INTERNAL:return Se.INTERNAL;case ei.UNAVAILABLE:return Se.UNAVAILABLE;case ei.UNAUTHENTICATED:return Se.UNAUTHENTICATED;case ei.INVALID_ARGUMENT:return Se.INVALID_ARGUMENT;case ei.NOT_FOUND:return Se.NOT_FOUND;case ei.ALREADY_EXISTS:return Se.ALREADY_EXISTS;case ei.PERMISSION_DENIED:return Se.PERMISSION_DENIED;case ei.FAILED_PRECONDITION:return Se.FAILED_PRECONDITION;case ei.ABORTED:return Se.ABORTED;case ei.OUT_OF_RANGE:return Se.OUT_OF_RANGE;case ei.UNIMPLEMENTED:return Se.UNIMPLEMENTED;case ei.DATA_LOSS:return Se.DATA_LOSS;default:return wt()}}(En=ei||(ei={}))[En.OK=0]="OK",En[En.CANCELLED=1]="CANCELLED",En[En.UNKNOWN=2]="UNKNOWN",En[En.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",En[En.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",En[En.NOT_FOUND=5]="NOT_FOUND",En[En.ALREADY_EXISTS=6]="ALREADY_EXISTS",En[En.PERMISSION_DENIED=7]="PERMISSION_DENIED",En[En.UNAUTHENTICATED=16]="UNAUTHENTICATED",En[En.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",En[En.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",En[En.ABORTED=10]="ABORTED",En[En.OUT_OF_RANGE=11]="OUT_OF_RANGE",En[En.UNIMPLEMENTED=12]="UNIMPLEMENTED",En[En.INTERNAL=13]="INTERNAL",En[En.UNAVAILABLE=14]="UNAVAILABLE",En[En.DATA_LOSS=15]="DATA_LOSS";function S4(){return new TextEncoder}const ure=new yd([4294967295,4294967295],0);function R4(n){const e=S4().encode(n),t=new lB;return t.update(e),new Uint8Array(t.digest())}function P4(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new yd([t,r],0),new yd([i,s],0)]}class DD{constructor(e,t,r){if(this.bitmap=e,this.padding=t,this.hashCount=r,t<0||t>=8)throw new A0(`Invalid padding: ${t}`);if(r<0)throw new A0(`Invalid hash count: ${r}`);if(e.length>0&&0===this.hashCount)throw new A0(`Invalid hash count: ${r}`);if(0===e.length&&0!==t)throw new A0(`Invalid padding when bitmap length is 0: ${t}`);this.Ie=8*e.length-t,this.Te=yd.fromNumber(this.Ie)}Ee(e,t,r){let i=e.add(t.multiply(yd.fromNumber(r)));return 1===i.compare(ure)&&(i=new yd([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Te).toNumber()}de(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(0===this.Ie)return!1;const t=R4(e),[r,i]=P4(t);for(let s=0;s<this.hashCount;s++){const o=this.Ee(r,i,s);if(!this.de(o))return!1}return!0}static create(e,t,r){const i=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),o=new DD(s,i,t);return r.forEach(a=>o.insert(a)),o}insert(e){if(0===this.Ie)return;const t=R4(e),[r,i]=P4(t);for(let s=0;s<this.hashCount;s++){const o=this.Ee(r,i,s);this.Ae(o)}}Ae(e){const t=Math.floor(e/8);this.bitmap[t]|=1<<e%8}}class A0 extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class C0{constructor(e,t,r,i,s){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,t,r){const i=new Map;return i.set(e,x0.createSynthesizedTargetChangeForCurrentChange(e,t,r)),new C0(Tt.min(),i,new ar(Kt),Fs(),tn())}}class x0{constructor(e,t,r,i,s){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,t,r){return new x0(r,t,tn(),tn(),tn())}}class Xw{constructor(e,t,r,i){this.Re=e,this.removedTargetIds=t,this.key=r,this.Ve=i}}class M4{constructor(e,t){this.targetId=e,this.me=t}}class N4{constructor(e,t,r=Sr.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=i}}class k4{constructor(){this.fe=0,this.ge=F4(),this.pe=Sr.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return 0!==this.fe}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=tn(),t=tn(),r=tn();return this.ge.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:t=t.add(i);break;case 1:r=r.add(i);break;default:wt()}}),new x0(this.pe,this.ye,e,t,r)}Ce(){this.we=!1,this.ge=F4()}Fe(e,t){this.we=!0,this.ge=this.ge.insert(e,t)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,At(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class cre{constructor(e){this.Le=e,this.Be=new Map,this.ke=Fs(),this.qe=O4(),this.Qe=new ar(Kt)}Ke(e){for(const t of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(t,e.Ve):this.Ue(t,e.key,e.Ve);for(const t of e.removedTargetIds)this.Ue(t,e.key,e.Ve)}We(e){this.forEachTarget(e,t=>{const r=this.Ge(t);switch(e.state){case 0:this.ze(t)&&r.De(e.resumeToken);break;case 1:r.Oe(),r.Se||r.Ce(),r.De(e.resumeToken);break;case 2:r.Oe(),r.Se||this.removeTarget(t);break;case 3:this.ze(t)&&(r.Ne(),r.De(e.resumeToken));break;case 4:this.ze(t)&&(this.je(t),r.De(e.resumeToken));break;default:wt()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Be.forEach((r,i)=>{this.ze(i)&&t(i)})}He(e){const t=e.targetId,r=e.me.count,i=this.Je(t);if(i){const s=i.target;if(Hw(s))if(0===r){const o=new dt(s.path);this.Ue(t,o,dr.newNoDocument(o,Tt.min()))}else At(1===r);else{const o=this.Ye(t);if(o!==r){const a=this.Ze(e),l=a?this.Xe(a,e,o):1;0!==l&&(this.je(t),this.Qe=this.Qe.insert(t,2===l?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch"))}}}}Ze(e){const t=e.me.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:s=0}=t;let o,a;try{o=Tl(r).toUint8Array()}catch(l){if(l instanceof VB)return ks("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{a=new DD(o,i,s)}catch(l){return ks(l instanceof A0?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return 0===a.Ie?null:a}Xe(e,t,r){return t.me.count===r-this.nt(e,t.targetId)?0:2}nt(e,t){const r=this.Le.getRemoteKeysForTarget(t);let i=0;return r.forEach(s=>{const o=this.Le.tt(),a=`projects/${o.projectId}/databases/${o.database}/documents/${s.path.canonicalString()}`;e.mightContain(a)||(this.Ue(t,s,null),i++)}),i}rt(e){const t=new Map;this.Be.forEach((s,o)=>{const a=this.Je(o);if(a){if(s.current&&Hw(a.target)){const l=new dt(a.target.path);null!==this.ke.get(l)||this.it(o,l)||this.Ue(o,l,dr.newNoDocument(l,e))}s.be&&(t.set(o,s.ve()),s.Ce())}});let r=tn();this.qe.forEach((s,o)=>{let a=!0;o.forEachWhile(l=>{const c=this.Je(l);return!c||"TargetPurposeLimboResolution"===c.purpose||(a=!1,!1)}),a&&(r=r.add(s))}),this.ke.forEach((s,o)=>o.setReadTime(e));const i=new C0(e,t,this.Qe,this.ke,r);return this.ke=Fs(),this.qe=O4(),this.Qe=new ar(Kt),i}$e(e,t){if(!this.ze(e))return;const r=this.it(e,t.key)?2:0;this.Ge(e).Fe(t.key,r),this.ke=this.ke.insert(t.key,t),this.qe=this.qe.insert(t.key,this.st(t.key).add(e))}Ue(e,t,r){if(!this.ze(e))return;const i=this.Ge(e);this.it(e,t)?i.Fe(t,1):i.Me(t),this.qe=this.qe.insert(t,this.st(t).delete(e)),r&&(this.ke=this.ke.insert(t,r))}removeTarget(e){this.Be.delete(e)}Ye(e){const t=this.Ge(e).ve();return this.Le.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let t=this.Be.get(e);return t||(t=new k4,this.Be.set(e,t)),t}st(e){let t=this.qe.get(e);return t||(t=new Wn(Kt),this.qe=this.qe.insert(e,t)),t}ze(e){const t=null!==this.Je(e);return t||Ke("WatchChangeAggregator","Detected inactive target",e),t}Je(e){const t=this.Be.get(e);return t&&t.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new k4),this.Le.getRemoteKeysForTarget(e).forEach(t=>{this.Ue(e,t,null)})}it(e,t){return this.Le.getRemoteKeysForTarget(e).has(t)}}function O4(){return new ar(dt.comparator)}function F4(){return new ar(dt.comparator)}const dre={asc:"ASCENDING",desc:"DESCENDING"},hre={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},fre={and:"AND",or:"OR"};class pre{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function TD(n,e){return n.useProto3Json||c0(e)?e:{value:e}}function up(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function V4(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function gre(n,e){return up(n,e.toTimestamp())}function Hr(n){return At(!!n),Tt.fromTimestamp(function(t){const r=Dl(t);return new vr(r.seconds,r.nanos)}(n))}function SD(n,e){return RD(n,e).canonicalString()}function RD(n,e){const t=(i=n,new pn(["projects",i.projectId,"databases",i.database])).child("documents");var i;return void 0===e?t:t.child(e)}function L4(n){const e=pn.fromString(n);return At(Q4(e)),e}function D0(n,e){return SD(n.databaseId,e.path)}function Oa(n,e){const t=L4(e);if(t.get(1)!==n.databaseId.projectId)throw new He(Se.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new He(Se.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new dt(j4(t))}function B4(n,e){return SD(n.databaseId,e)}function U4(n){const e=L4(n);return 4===e.length?pn.emptyPath():j4(e)}function PD(n){return new pn(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function j4(n){return At(n.length>4&&"documents"===n.get(4)),n.popFirst(5)}function $4(n,e,t){return{name:D0(n,e),fields:t.value.mapValue.fields}}function z4(n,e,t){const r=Oa(n,e.name),i=Hr(e.updateTime),s=e.createTime?Hr(e.createTime):Tt.min(),o=new Oi({mapValue:{fields:e.fields}}),a=dr.newFoundDocument(r,i,s,o);return t&&a.setHasCommittedMutations(),t?a.setHasCommittedMutations():a}function T0(n,e){let t;if(e instanceof ap)t={update:$4(n,e.key,e.value)};else if(e instanceof lp)t={delete:D0(n,e.key)};else if(e instanceof Pl)t={update:$4(n,e.key,e.data),updateMask:bre(e.fieldMask)};else{if(!(e instanceof bD))return wt();t={verify:D0(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(r=>function(s,o){const a=o.transform;if(a instanceof sp)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof bd)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof Ad)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof op)return{fieldPath:o.field.canonicalString(),increment:a.Pe};throw wt()}(0,r))),e.precondition.isNone||(t.currentDocument=void 0!==(s=e.precondition).updateTime?{updateTime:gre(n,s.updateTime)}:void 0!==s.exists?{exists:s.exists}:wt()),t;var s}function MD(n,e){const t=e.currentDocument?void 0!==(s=e.currentDocument).updateTime?Er.updateTime(Hr(s.updateTime)):void 0!==s.exists?Er.exists(s.exists):Er.none():Er.none(),r=e.updateTransforms?e.updateTransforms.map(i=>function(o,a){let l=null;"setToServerValue"in a?(At("REQUEST_TIME"===a.setToServerValue),l=new sp):"appendMissingElements"in a?l=new bd(a.appendMissingElements.values||[]):"removeAllFromArray"in a?l=new Ad(a.removeAllFromArray.values||[]):"increment"in a?l=new op(o,a.increment):wt();const c=cr.fromServerFormat(a.fieldPath);return new I0(c,l)}(n,i)):[];var s;if(e.update){const i=Oa(n,e.update.name),s=new Oi({mapValue:{fields:e.update.fields}});if(e.updateMask){const o=new Os((e.updateMask.fieldPaths||[]).map(p=>cr.fromServerFormat(p)));return new Pl(i,s,o,t,r)}return new ap(i,s,t,r)}if(e.delete){const i=Oa(n,e.delete);return new lp(i,t)}if(e.verify){const i=Oa(n,e.verify);return new bD(i,t)}return wt()}function H4(n,e){return{documents:[B4(n,e.path)]}}function Zw(n,e){const t={structuredQuery:{}},r=e.path;let i;null!==e.collectionGroup?(i=r,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),t.structuredQuery.from=[{collectionId:r.lastSegment()}]),t.parent=B4(n,i);const s=function(c){if(0!==c.length)return K4(jn.create(c,"and"))}(e.filters);s&&(t.structuredQuery.where=s);const o=function(c){if(0!==c.length)return c.map(p=>{return{field:Gu((w=p).field),direction:wre(w.dir)};var w})}(e.orderBy);o&&(t.structuredQuery.orderBy=o);const a=TD(n,e.limit);return null!==a&&(t.structuredQuery.limit=a),e.startAt&&(t.structuredQuery.startAt={before:(c=e.startAt).inclusive,values:c.position}),e.endAt&&(t.structuredQuery.endAt=function(c){return{before:!c.inclusive,values:c.position}}(e.endAt)),{_t:t,parent:i};var c}function G4(n){let e=U4(n.parent);const t=n.structuredQuery,r=t.from?t.from.length:0;let i=null;if(r>0){At(1===r);const p=t.from[0];p.allDescendants?i=p.collectionId:e=e.child(p.collectionId)}let s=[];t.where&&(s=function(m){const w=W4(m);return w instanceof jn&&mD(w)?w.getFilters():[w]}(t.where));let o=[];t.orderBy&&(o=t.orderBy.map(w=>{return new m0(cp((D=w).field),function(N){switch(N){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(D.direction));var D}));let a=null;t.limit&&(a=function(m){let w;return w="object"==typeof m?m.value:m,c0(w)?null:w}(t.limit));let l=null;var m;t.startAt&&(l=new qu((m=t.startAt).values||[],!!m.before));let c=null;return t.endAt&&(c=function(m){return new qu(m.values||[],!m.before)}(t.endAt)),i4(e,i,o,s,a,"F",l,c)}function W4(n){return void 0!==n.unaryFilter?function(t){switch(t.unaryFilter.op){case"IS_NAN":const r=cp(t.unaryFilter.field);return gn.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=cp(t.unaryFilter.field);return gn.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=cp(t.unaryFilter.field);return gn.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=cp(t.unaryFilter.field);return gn.create(o,"!=",{nullValue:"NULL_VALUE"});default:return wt()}}(n):void 0!==n.fieldFilter?gn.create(cp((t=n).fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return wt()}}(t.fieldFilter.op),t.fieldFilter.value):void 0!==n.compositeFilter?function(t){return jn.create(t.compositeFilter.filters.map(r=>W4(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return wt()}}(t.compositeFilter.op))}(n):wt();var t}function wre(n){return dre[n]}function Ere(n){return hre[n]}function Ire(n){return fre[n]}function Gu(n){return{fieldPath:n.canonicalString()}}function cp(n){return cr.fromServerFormat(n.fieldPath)}function K4(n){return n instanceof gn?function(t){if("=="===t.op){if(jB(t.value))return{unaryFilter:{field:Gu(t.field),op:"IS_NAN"}};if(UB(t.value))return{unaryFilter:{field:Gu(t.field),op:"IS_NULL"}}}else if("!="===t.op){if(jB(t.value))return{unaryFilter:{field:Gu(t.field),op:"IS_NOT_NAN"}};if(UB(t.value))return{unaryFilter:{field:Gu(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Gu(t.field),op:Ere(t.op),value:t.value}}}(n):n instanceof jn?function(t){const r=t.getFilters().map(i=>K4(i));return 1===r.length?r[0]:{compositeFilter:{op:Ire(t.op),filters:r}}}(n):wt()}function bre(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function Q4(n){return n.length>=4&&"projects"===n.get(0)&&"databases"===n.get(2)}class Ml{constructor(e,t,r,i,s=Tt.min(),o=Tt.min(),a=Sr.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=l}withSequenceNumber(e){return new Ml(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new Ml(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Ml(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Ml(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class Y4{constructor(e){this.ct=e}}function X4(n,e){const t=e.key,r={prefixPath:t.getCollectionPath().popLast().toArray(),collectionGroup:t.collectionGroup,documentId:t.path.lastSegment(),readTime:Jw(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())r.document={name:D0(s=n.ct,(o=e).key),fields:o.data.value.mapValue.fields,updateTime:up(s,o.version.toTimestamp()),createTime:up(s,o.createTime.toTimestamp())};else if(e.isNoDocument())r.noDocument={path:t.path.toArray(),readTime:Cd(e.version)};else{if(!e.isUnknownDocument())return wt();r.unknownDocument={path:t.path.toArray(),version:Cd(e.version)}}var s,o;return r}function Jw(n){const e=n.toTimestamp();return[e.seconds,e.nanoseconds]}function Cd(n){const e=n.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function xd(n){const e=new vr(n.seconds,n.nanoseconds);return Tt.fromTimestamp(e)}function Dd(n,e){const t=(e.baseMutations||[]).map(s=>MD(n.ct,s));for(let s=0;s<e.mutations.length-1;++s)s+1<e.mutations.length&&void 0!==e.mutations[s+1].transform&&(e.mutations[s].updateTransforms=e.mutations[s+1].transform.fieldTransforms,e.mutations.splice(s+1,1),++s);const r=e.mutations.map(s=>MD(n.ct,s)),i=vr.fromMillis(e.localWriteTimeMs);return new AD(e.batchId,i,t,r)}function S0(n){const e=xd(n.readTime),t=void 0!==n.lastLimboFreeSnapshotVersion?xd(n.lastLimboFreeSnapshotVersion):Tt.min();let r;return r=void 0!==n.query.documents?(At(1===(s=n.query).documents.length),Wi(np(U4(s.documents[0])))):function(s){return Wi(G4(s))}(n.query),new Ml(r,n.targetId,"TargetPurposeListen",n.lastListenSequenceNumber,e,t,Sr.fromBase64String(n.resumeToken));var s}function Z4(n,e){const t=Cd(e.snapshotVersion),r=Cd(e.lastLimboFreeSnapshotVersion);let i;i=Hw(e.target)?H4(n.ct,e.target):Zw(n.ct,e.target)._t;const s=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:Id(e.target),readTime:t,resumeToken:s,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:r,query:i}}function ND(n){const e=G4({parent:n.parent,structuredQuery:n.structuredQuery});return"LAST"===n.limitType?Gw(e,e.limit,"L"):e}function kD(n,e){return new xD(e.largestBatchId,MD(n.ct,e.overlayMutation))}function J4(n,e){const t=e.path.lastSegment();return[n,Gi(e.path.popLast()),t]}function e8(n,e,t,r){return{indexId:n,uid:e,sequenceNumber:t,readTime:Cd(r.readTime),documentKey:Gi(r.documentKey.path),largestBatchId:r.largestBatchId}}class Cre{getBundleMetadata(e,t){return t8(e).get(t).next(r=>{if(r)return{id:(s=r).bundleId,createTime:xd(s.createTime),version:s.version};var s})}saveBundleMetadata(e,t){return t8(e).put({bundleId:(i=t).id,createTime:Cd(Hr(i.createTime)),version:i.version});var i}getNamedQuery(e,t){return n8(e).get(t).next(r=>{if(r)return{name:(s=r).name,query:ND(s.bundledQuery),readTime:xd(s.readTime)};var s})}saveNamedQuery(e,t){return n8(e).put({name:(i=t).name,readTime:Cd(Hr(i.readTime)),bundledQuery:i.bundledQuery});var i}}function t8(n){return di(n,"bundles")}function n8(n){return di(n,"namedQueries")}class eE{constructor(e,t){this.serializer=e,this.userId=t}static lt(e,t){return new eE(e,t.uid||"")}getOverlay(e,t){return R0(e).get(J4(this.userId,t)).next(r=>r?kD(this.serializer,r):null)}getOverlays(e,t){const r=ka();return be.forEach(t,i=>this.getOverlay(e,i).next(s=>{null!==s&&r.set(i,s)})).next(()=>r)}saveOverlays(e,t,r){const i=[];return r.forEach((s,o)=>{const a=new xD(t,o);i.push(this.ht(e,a))}),be.waitFor(i)}removeOverlaysForBatchId(e,t,r){const i=new Set;t.forEach(o=>i.add(Gi(o.getCollectionPath())));const s=[];return i.forEach(o=>{const a=IDBKeyRange.bound([this.userId,o,r],[this.userId,o,r+1],!1,!0);s.push(R0(e).j("collectionPathOverlayIndex",a))}),be.waitFor(s)}getOverlaysForCollection(e,t,r){const i=ka(),s=Gi(t),o=IDBKeyRange.bound([this.userId,s,r],[this.userId,s,Number.POSITIVE_INFINITY],!0);return R0(e).U("collectionPathOverlayIndex",o).next(a=>{for(const l of a){const c=kD(this.serializer,l);i.set(c.getKey(),c)}return i})}getOverlaysForCollectionGroup(e,t,r,i){const s=ka();let o;const a=IDBKeyRange.bound([this.userId,t,r],[this.userId,t,Number.POSITIVE_INFINITY],!0);return R0(e).J({index:"collectionGroupOverlayIndex",range:a},(l,c,p)=>{const m=kD(this.serializer,c);s.size()<i||m.largestBatchId===o?(s.set(m.getKey(),m),o=m.largestBatchId):p.done()}).next(()=>s)}ht(e,t){return R0(e).put(function(i,s,o){const[a,l,c]=J4(s,o.mutation.key);return{userId:s,collectionPath:l,documentId:c,collectionGroup:o.mutation.key.getCollectionGroup(),largestBatchId:o.largestBatchId,overlayMutation:T0(i.ct,o.mutation)}}(this.serializer,this.userId,t))}}function R0(n){return di(n,"documentOverlays")}class xre{Pt(e){return di(e,"globals")}getSessionToken(e){return this.Pt(e).get("sessionToken").next(t=>{const r=t?.value;return r?Sr.fromUint8Array(r):Sr.EMPTY_BYTE_STRING})}setSessionToken(e,t){return this.Pt(e).put({name:"sessionToken",value:t.toUint8Array()})}}class Td{constructor(){}It(e,t){this.Tt(e,t),t.Et()}Tt(e,t){if("nullValue"in e)this.dt(t,5);else if("booleanValue"in e)this.dt(t,10),t.At(e.booleanValue?1:0);else if("integerValue"in e)this.dt(t,15),t.At(wr(e.integerValue));else if("doubleValue"in e){const r=wr(e.doubleValue);isNaN(r)?this.dt(t,13):(this.dt(t,15),d0(r)?t.At(0):t.At(r))}else if("timestampValue"in e){let r=e.timestampValue;this.dt(t,20),"string"==typeof r&&(r=Dl(r)),t.Rt(`${r.seconds||""}`),t.At(r.nanos||0)}else if("stringValue"in e)this.Vt(e.stringValue,t),this.ft(t);else if("bytesValue"in e)this.dt(t,30),t.gt(Tl(e.bytesValue)),this.ft(t);else if("referenceValue"in e)this.yt(e.referenceValue,t);else if("geoPointValue"in e){const r=e.geoPointValue;this.dt(t,45),t.At(r.latitude||0),t.At(r.longitude||0)}else"mapValue"in e?$B(e)?this.dt(t,Number.MAX_SAFE_INTEGER):zw(e)?this.wt(e.mapValue,t):(this.St(e.mapValue,t),this.ft(t)):"arrayValue"in e?(this.bt(e.arrayValue,t),this.ft(t)):wt()}Vt(e,t){this.dt(t,25),this.Dt(e,t)}Dt(e,t){t.Rt(e)}St(e,t){const r=e.fields||{};this.dt(t,55);for(const i of Object.keys(r))this.Vt(i,t),this.Tt(r[i],t)}wt(e,t){var r,i;const s=e.fields||{};this.dt(t,53);const o="value",a=(null===(i=null===(r=s[o].arrayValue)||void 0===r?void 0:r.values)||void 0===i?void 0:i.length)||0;this.dt(t,15),t.At(wr(a)),this.Vt(o,t),this.Tt(s[o],t)}bt(e,t){const r=e.values||[];this.dt(t,50);for(const i of r)this.Tt(i,t)}yt(e,t){this.dt(t,37),dt.fromName(e).path.forEach(r=>{this.dt(t,60),this.Dt(r,t)})}dt(e,t){e.At(t)}ft(e){e.At(2)}}function Dre(n){if(0===n)return 8;let e=0;return!(n>>4)&&(e+=4,n<<=4),!(n>>6)&&(e+=2,n<<=2),!(n>>7)&&(e+=1),e}function r8(n){const e=64-function(r){let i=0;for(let s=0;s<8;++s){const o=Dre(255&r[s]);if(i+=o,8!==o)break}return i}(n);return Math.ceil(e/8)}Td.vt=new Td;class Tre{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Ct(e){const t=e[Symbol.iterator]();let r=t.next();for(;!r.done;)this.Ft(r.value),r=t.next();this.Mt()}xt(e){const t=e[Symbol.iterator]();let r=t.next();for(;!r.done;)this.Ot(r.value),r=t.next();this.Nt()}Lt(e){for(const t of e){const r=t.charCodeAt(0);if(r<128)this.Ft(r);else if(r<2048)this.Ft(960|r>>>6),this.Ft(128|63&r);else if(t<"\ud800"||"\udbff"<t)this.Ft(480|r>>>12),this.Ft(128|63&r>>>6),this.Ft(128|63&r);else{const i=t.codePointAt(0);this.Ft(240|i>>>18),this.Ft(128|63&i>>>12),this.Ft(128|63&i>>>6),this.Ft(128|63&i)}}this.Mt()}Bt(e){for(const t of e){const r=t.charCodeAt(0);if(r<128)this.Ot(r);else if(r<2048)this.Ot(960|r>>>6),this.Ot(128|63&r);else if(t<"\ud800"||"\udbff"<t)this.Ot(480|r>>>12),this.Ot(128|63&r>>>6),this.Ot(128|63&r);else{const i=t.codePointAt(0);this.Ot(240|i>>>18),this.Ot(128|63&i>>>12),this.Ot(128|63&i>>>6),this.Ot(128|63&i)}}this.Nt()}kt(e){const t=this.qt(e),r=r8(t);this.Qt(1+r),this.buffer[this.position++]=255&r;for(let i=t.length-r;i<t.length;++i)this.buffer[this.position++]=255&t[i]}Kt(e){const t=this.qt(e),r=r8(t);this.Qt(1+r),this.buffer[this.position++]=~(255&r);for(let i=t.length-r;i<t.length;++i)this.buffer[this.position++]=~(255&t[i])}$t(){this.Ut(255),this.Ut(255)}Wt(){this.Gt(255),this.Gt(255)}reset(){this.position=0}seed(e){this.Qt(e.length),this.buffer.set(e,this.position),this.position+=e.length}zt(){return this.buffer.slice(0,this.position)}qt(e){const t=function(s){const o=new DataView(new ArrayBuffer(8));return o.setFloat64(0,s,!1),new Uint8Array(o.buffer)}(e),r=!!(128&t[0]);t[0]^=r?255:128;for(let i=1;i<t.length;++i)t[i]^=r?255:0;return t}Ft(e){const t=255&e;0===t?(this.Ut(0),this.Ut(255)):255===t?(this.Ut(255),this.Ut(0)):this.Ut(t)}Ot(e){const t=255&e;0===t?(this.Gt(0),this.Gt(255)):255===t?(this.Gt(255),this.Gt(0)):this.Gt(e)}Mt(){this.Ut(0),this.Ut(1)}Nt(){this.Gt(0),this.Gt(1)}Ut(e){this.Qt(1),this.buffer[this.position++]=e}Gt(e){this.Qt(1),this.buffer[this.position++]=~e}Qt(e){const t=e+this.position;if(t<=this.buffer.length)return;let r=2*this.buffer.length;r<t&&(r=t);const i=new Uint8Array(r);i.set(this.buffer),this.buffer=i}}class Sre{constructor(e){this.jt=e}gt(e){this.jt.Ct(e)}Rt(e){this.jt.Lt(e)}At(e){this.jt.kt(e)}Et(){this.jt.$t()}}class Rre{constructor(e){this.jt=e}gt(e){this.jt.xt(e)}Rt(e){this.jt.Bt(e)}At(e){this.jt.Kt(e)}Et(){this.jt.Wt()}}class P0{constructor(){this.jt=new Tre,this.Ht=new Sre(this.jt),this.Jt=new Rre(this.jt)}seed(e){this.jt.seed(e)}Yt(e){return 0===e?this.Ht:this.Jt}zt(){return this.jt.zt()}reset(){this.jt.reset()}}class Sd{constructor(e,t,r,i){this.indexId=e,this.documentKey=t,this.arrayValue=r,this.directionalValue=i}Zt(){const e=this.directionalValue.length,t=0===e||255===this.directionalValue[e-1]?e+1:e,r=new Uint8Array(t);return r.set(this.directionalValue,0),t!==e?r.set([0],this.directionalValue.length):++r[r.length-1],new Sd(this.indexId,this.documentKey,this.arrayValue,r)}}function Wu(n,e){let t=n.indexId-e.indexId;return 0!==t?t:(t=i8(n.arrayValue,e.arrayValue),0!==t?t:(t=i8(n.directionalValue,e.directionalValue),0!==t?t:dt.comparator(n.documentKey,e.documentKey)))}function i8(n,e){for(let t=0;t<n.length&&t<e.length;++t){const r=n[t]-e[t];if(0!==r)return r}return n.length-e.length}class s8{constructor(e){this.Xt=new Wn((t,r)=>cr.comparator(t.field,r.field)),this.collectionId=null!=e.collectionGroup?e.collectionGroup:e.path.lastSegment(),this.en=e.orderBy,this.tn=[];for(const t of e.filters){const r=t;r.isInequality()?this.Xt=this.Xt.add(r):this.tn.push(r)}}get nn(){return this.Xt.size>1}rn(e){if(At(e.collectionGroup===this.collectionId),this.nn)return!1;const t=aD(e);if(void 0!==t&&!this.sn(t))return!1;const r=_d(e);let i=new Set,s=0,o=0;for(;s<r.length&&this.sn(r[s]);++s)i=i.add(r[s].fieldPath.canonicalString());if(s===r.length)return!0;if(this.Xt.size>0){const a=this.Xt.getIterator().getNext();if(!i.has(a.field.canonicalString())){const l=r[s];if(!this.on(a,l)||!this._n(this.en[o++],l))return!1}++s}for(;s<r.length;++s)if(o>=this.en.length||!this._n(this.en[o++],r[s]))return!1;return!0}an(){if(this.nn)return null;let e=new Wn(cr.comparator);const t=[];for(const r of this.tn)if(!r.field.isKeyField())if("array-contains"===r.op||"array-contains-any"===r.op)t.push(new vd(r.field,2));else{if(e.has(r.field))continue;e=e.add(r.field),t.push(new vd(r.field,0))}for(const r of this.en)r.field.isKeyField()||e.has(r.field)||(e=e.add(r.field),t.push(new vd(r.field,"asc"===r.dir?0:1)));return new Xf(Xf.UNKNOWN_ID,this.collectionId,t,Zf.empty())}sn(e){for(const t of this.tn)if(this.on(t,e))return!0;return!1}on(e,t){return!(void 0===e||!e.field.isEqual(t.fieldPath))&&2===t.kind==("array-contains"===e.op||"array-contains-any"===e.op)}_n(e,t){return!!e.field.isEqual(t.fieldPath)&&(0===t.kind&&"asc"===e.dir||1===t.kind&&"desc"===e.dir)}}function o8(n){var e,t;if(At(n instanceof gn||n instanceof jn),n instanceof gn){if(n instanceof t4){const i=(null===(t=null===(e=n.value.arrayValue)||void 0===e?void 0:e.values)||void 0===t?void 0:t.map(s=>gn.create(n.field,"==",s)))||[];return jn.create(i,"or")}return n}const r=n.filters.map(i=>o8(i));return jn.create(r,n.op)}function Pre(n){if(0===n.getFilters().length)return[];const e=VD(o8(n));return At(a8(e)),OD(e)||FD(e)?[e]:e.getFilters()}function OD(n){return n instanceof gn}function FD(n){return n instanceof jn&&mD(n)}function a8(n){return OD(n)||FD(n)||function(t){if(t instanceof jn&&gD(t)){for(const r of t.getFilters())if(!OD(r)&&!FD(r))return!1;return!0}return!1}(n)}function VD(n){if(At(n instanceof gn||n instanceof jn),n instanceof gn)return n;if(1===n.filters.length)return VD(n.filters[0]);const e=n.filters.map(r=>VD(r));let t=jn.create(e,n.op);return t=tE(t),a8(t)?t:(At(t instanceof jn),At(tp(t)),At(t.filters.length>1),t.filters.reduce((r,i)=>LD(r,i)))}function LD(n,e){let t;return At(n instanceof gn||n instanceof jn),At(e instanceof gn||e instanceof jn),t=n instanceof gn?e instanceof gn?jn.create([n,e],"and"):l8(n,e):e instanceof gn?l8(e,n):function(i,s){if(At(i.filters.length>0&&s.filters.length>0),tp(i)&&tp(s))return ZB(i,s.getFilters());const o=gD(i)?i:s,a=gD(i)?s:i,l=o.filters.map(c=>LD(c,a));return jn.create(l,"or")}(n,e),tE(t)}function l8(n,e){if(tp(e))return ZB(e,n.getFilters());{const t=e.filters.map(r=>LD(n,r));return jn.create(t,"or")}}function tE(n){if(At(n instanceof gn||n instanceof jn),n instanceof gn)return n;const e=n.getFilters();if(1===e.length)return tE(e[0]);if(YB(n))return n;const t=e.map(i=>tE(i)),r=[];return t.forEach(i=>{i instanceof gn?r.push(i):i instanceof jn&&(i.op===n.op?r.push(...i.filters):r.push(i))}),1===r.length?r[0]:jn.create(r,n.op)}class Mre{constructor(){this.un=new BD}addToCollectionParentIndex(e,t){return this.un.add(t),be.resolve()}getCollectionParents(e,t){return be.resolve(this.un.getEntries(t))}addFieldIndex(e,t){return be.resolve()}deleteFieldIndex(e,t){return be.resolve()}deleteAllFieldIndexes(e){return be.resolve()}createTargetIndexes(e,t){return be.resolve()}getDocumentsMatchingTarget(e,t){return be.resolve(null)}getIndexType(e,t){return be.resolve(0)}getFieldIndexes(e,t){return be.resolve([])}getNextCollectionGroupToUpdate(e){return be.resolve(null)}getMinOffset(e,t){return be.resolve(to.min())}getMinOffsetFromCollectionGroup(e,t){return be.resolve(to.min())}updateCollectionGroup(e,t,r){return be.resolve()}updateIndexEntries(e,t){return be.resolve()}}class BD{constructor(){this.index={}}add(e){const t=e.lastSegment(),r=e.popLast(),i=this.index[t]||new Wn(pn.comparator),s=!i.has(r);return this.index[t]=i.add(r),s}has(e){const t=e.lastSegment(),r=e.popLast(),i=this.index[t];return i&&i.has(r)}getEntries(e){return(this.index[e]||new Wn(pn.comparator)).toArray()}}const nE=new Uint8Array(0);class Nre{constructor(e,t){this.databaseId=t,this.cn=new BD,this.ln=new Rl(r=>Id(r),(r,i)=>y0(r,i)),this.uid=e.uid||""}addToCollectionParentIndex(e,t){if(!this.cn.has(t)){const r=t.lastSegment(),i=t.popLast();e.addOnCommittedListener(()=>{this.cn.add(t)});const s={collectionId:r,parent:Gi(i)};return u8(e).put(s)}return be.resolve()}getCollectionParents(e,t){const r=[],i=IDBKeyRange.bound([t,""],[vB(t),""],!1,!0);return u8(e).U(i).next(s=>{for(const o of s){if(o.collectionId!==t)break;r.push(Ma(o.parent))}return r})}addFieldIndex(e,t){const r=M0(e),i={indexId:(a=t).indexId,collectionGroup:a.collectionGroup,fields:a.fields.map(l=>[l.fieldPath.canonicalString(),l.kind])};var a;delete i.indexId;const s=r.add(i);if(t.indexState){const o=hp(e);return s.next(a=>{o.put(e8(a,this.uid,t.indexState.sequenceNumber,t.indexState.offset))})}return s.next()}deleteFieldIndex(e,t){const r=M0(e),i=hp(e),s=dp(e);return r.delete(t.indexId).next(()=>i.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))).next(()=>s.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0)))}deleteAllFieldIndexes(e){const t=M0(e),r=dp(e),i=hp(e);return t.j().next(()=>r.j()).next(()=>i.j())}createTargetIndexes(e,t){return be.forEach(this.hn(t),r=>this.getIndexType(e,r).next(i=>{if(0===i||1===i){const s=new s8(r).an();if(null!=s)return this.addFieldIndex(e,s)}}))}getDocumentsMatchingTarget(e,t){const r=dp(e);let i=!0;const s=new Map;return be.forEach(this.hn(t),o=>this.Pn(e,o).next(a=>{i&&(i=!!a),s.set(o,a)})).next(()=>{if(i){let o=tn();const a=[];return be.forEach(s,(l,c)=>{var ge;Ke("IndexedDbIndexManager",`Using index ${ge=l,`id=${ge.indexId}|cg=${ge.collectionGroup}|f=${ge.fields.map(Oe=>`${Oe.fieldPath}:${Oe.kind}`).join(",")}`} to execute ${Id(t)}`);const p=function(ge,Oe){const et=aD(Oe);if(void 0===et)return null;for(const ot of qw(ge,et.fieldPath))switch(ot.op){case"array-contains-any":return ot.value.arrayValue.values||[];case"array-contains":return[ot.value]}return null}(c,l),m=function(ge,Oe){const et=new Map;for(const ot of _d(Oe))for(const J of qw(ge,ot.fieldPath))switch(J.op){case"==":case"in":et.set(ot.fieldPath.canonicalString(),J.value);break;case"not-in":case"!=":return et.set(ot.fieldPath.canonicalString(),J.value),Array.from(et.values())}return null}(c,l),w=function(ge,Oe){const et=[];let ot=!0;for(const J of _d(Oe)){const j=0===J.kind?n4(ge,J.fieldPath,ge.startAt):r4(ge,J.fieldPath,ge.startAt);et.push(j.value),ot&&(ot=j.inclusive)}return new qu(et,ot)}(c,l),A=function(ge,Oe){const et=[];let ot=!0;for(const J of _d(Oe)){const j=0===J.kind?r4(ge,J.fieldPath,ge.endAt):n4(ge,J.fieldPath,ge.endAt);et.push(j.value),ot&&(ot=j.inclusive)}return new qu(et,ot)}(c,l),D=this.In(l,c,w),R=this.In(l,c,A),N=this.Tn(l,c,m),ee=this.En(l.indexId,p,D,w.inclusive,R,A.inclusive,N);return be.forEach(ee,se=>r.G(se,t.limit).next(ge=>{ge.forEach(Oe=>{const et=dt.fromSegments(Oe.documentKey);o.has(et)||(o=o.add(et),a.push(et))})}))}).next(()=>a)}return be.resolve(null)})}hn(e){let t=this.ln.get(e);return t||(t=0===e.filters.length?[e]:Pre(jn.create(e.filters,"and")).map(r=>_D(e.path,e.collectionGroup,e.orderBy,r.getFilters(),e.limit,e.startAt,e.endAt)),this.ln.set(e,t),t)}En(e,t,r,i,s,o,a){const l=(null!=t?t.length:1)*Math.max(r.length,s.length),c=l/(null!=t?t.length:1),p=[];for(let m=0;m<l;++m){const w=t?this.dn(t[m/c]):nE,A=this.An(e,w,r[m%c],i),D=this.Rn(e,w,s[m%c],o),R=a.map(N=>this.An(e,w,N,!0));p.push(...this.createRange(A,D,R))}return p}An(e,t,r,i){const s=new Sd(e,dt.empty(),t,r);return i?s:s.Zt()}Rn(e,t,r,i){const s=new Sd(e,dt.empty(),t,r);return i?s.Zt():s}Pn(e,t){const r=new s8(t),i=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,i).next(s=>{let o=null;for(const a of s)r.rn(a)&&(!o||a.fields.length>o.fields.length)&&(o=a);return o})}getIndexType(e,t){let r=2;const i=this.hn(t);return be.forEach(i,s=>this.Pn(e,s).next(o=>{o?0!==r&&o.fields.length<function(l){let c=new Wn(cr.comparator),p=!1;for(const m of l.filters)for(const w of m.getFlattenedFilters())w.field.isKeyField()||("array-contains"===w.op||"array-contains-any"===w.op?p=!0:c=c.add(w.field));for(const m of l.orderBy)m.field.isKeyField()||(c=c.add(m.field));return c.size+(p?1:0)}(s)&&(r=1):r=0})).next(()=>null!==t.limit&&i.length>1&&2===r?1:r)}Vn(e,t){const r=new P0;for(const i of _d(e)){const s=t.data.field(i.fieldPath);if(null==s)return null;const o=r.Yt(i.kind);Td.vt.It(s,o)}return r.zt()}dn(e){const t=new P0;return Td.vt.It(e,t.Yt(0)),t.zt()}mn(e,t){const r=new P0;return Td.vt.It(Ed(this.databaseId,t),r.Yt(function(s){const o=_d(s);return 0===o.length?0:o[o.length-1].kind}(e))),r.zt()}Tn(e,t,r){if(null===r)return[];let i=[];i.push(new P0);let s=0;for(const o of _d(e)){const a=r[s++];for(const l of i)if(this.fn(t,o.fieldPath)&&p0(a))i=this.gn(i,o,a);else{const c=l.Yt(o.kind);Td.vt.It(a,c)}}return this.pn(i)}In(e,t,r){return this.Tn(e,t,r.position)}pn(e){const t=[];for(let r=0;r<e.length;++r)t[r]=e[r].zt();return t}gn(e,t,r){const i=[...e],s=[];for(const o of r.arrayValue.values||[])for(const a of i){const l=new P0;l.seed(a.zt()),Td.vt.It(o,l.Yt(t.kind)),s.push(l)}return s}fn(e,t){return!!e.filters.find(r=>r instanceof gn&&r.field.isEqual(t)&&("in"===r.op||"not-in"===r.op))}getFieldIndexes(e,t){const r=M0(e),i=hp(e);return(t?r.U("collectionGroupIndex",IDBKeyRange.bound(t,t)):r.U()).next(s=>{const o=[];return be.forEach(s,a=>i.get([a.indexId,this.uid]).next(l=>{o.push(function(p,m){const w=m?new Zf(m.sequenceNumber,new to(xd(m.readTime),new dt(Ma(m.documentKey)),m.largestBatchId)):Zf.empty(),A=p.fields.map(([D,R])=>new vd(cr.fromServerFormat(D),R));return new Xf(p.indexId,p.collectionGroup,A,w)}(a,l))})).next(()=>o)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(t=>0===t.length?null:(t.sort((r,i)=>{const s=r.indexState.sequenceNumber-i.indexState.sequenceNumber;return 0!==s?s:Kt(r.collectionGroup,i.collectionGroup)}),t[0].collectionGroup))}updateCollectionGroup(e,t,r){const i=M0(e),s=hp(e);return this.yn(e).next(o=>i.U("collectionGroupIndex",IDBKeyRange.bound(t,t)).next(a=>be.forEach(a,l=>s.put(e8(l.indexId,this.uid,o,r)))))}updateIndexEntries(e,t){const r=new Map;return be.forEach(t,(i,s)=>{const o=r.get(i.collectionGroup);return(o?be.resolve(o):this.getFieldIndexes(e,i.collectionGroup)).next(a=>(r.set(i.collectionGroup,a),be.forEach(a,l=>this.wn(e,i,l).next(c=>{const p=this.Sn(s,l);return c.isEqual(p)?be.resolve():this.bn(e,s,l,c,p)}))))})}Dn(e,t,r,i){return dp(e).put({indexId:i.indexId,uid:this.uid,arrayValue:i.arrayValue,directionalValue:i.directionalValue,orderedDocumentKey:this.mn(r,t.key),documentKey:t.key.path.toArray()})}vn(e,t,r,i){return dp(e).delete([i.indexId,this.uid,i.arrayValue,i.directionalValue,this.mn(r,t.key),t.key.path.toArray()])}wn(e,t,r){const i=dp(e);let s=new Wn(Wu);return i.J({index:"documentKeyIndex",range:IDBKeyRange.only([r.indexId,this.uid,this.mn(r,t)])},(o,a)=>{s=s.add(new Sd(r.indexId,t,a.arrayValue,a.directionalValue))}).next(()=>s)}Sn(e,t){let r=new Wn(Wu);const i=this.Vn(t,e);if(null==i)return r;const s=aD(t);if(null!=s){const o=e.data.field(s.fieldPath);if(p0(o))for(const a of o.arrayValue.values||[])r=r.add(new Sd(t.indexId,e.key,this.dn(a),i))}else r=r.add(new Sd(t.indexId,e.key,nE,i));return r}bn(e,t,r,i,s){Ke("IndexedDbIndexManager","Updating index entries for document '%s'",t.key);const o=[];return function(l,c,p,m,w){const A=l.getIterator(),D=c.getIterator();let R=Jf(A),N=Jf(D);for(;R||N;){let ee=!1,se=!1;if(R&&N){const ge=p(R,N);ge<0?se=!0:ge>0&&(ee=!0)}else null!=R?se=!0:ee=!0;ee?(m(N),N=Jf(D)):se?(w(R),R=Jf(A)):(R=Jf(A),N=Jf(D))}}(i,s,Wu,a=>{o.push(this.Dn(e,t,r,a))},a=>{o.push(this.vn(e,t,r,a))}),be.waitFor(o)}yn(e){let t=1;return hp(e).J({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(r,i,s)=>{s.done(),t=i.sequenceNumber+1}).next(()=>t)}createRange(e,t,r){r=r.sort((o,a)=>Wu(o,a)).filter((o,a,l)=>!a||0!==Wu(o,l[a-1]));const i=[];i.push(e);for(const o of r){const a=Wu(o,e),l=Wu(o,t);if(0===a)i[0]=e.Zt();else if(a>0&&l<0)i.push(o),i.push(o.Zt());else if(l>0)break}i.push(t);const s=[];for(let o=0;o<i.length;o+=2){if(this.Cn(i[o],i[o+1]))return[];s.push(IDBKeyRange.bound([i[o].indexId,this.uid,i[o].arrayValue,i[o].directionalValue,nE,[]],[i[o+1].indexId,this.uid,i[o+1].arrayValue,i[o+1].directionalValue,nE,[]]))}return s}Cn(e,t){return Wu(e,t)>0}getMinOffsetFromCollectionGroup(e,t){return this.getFieldIndexes(e,t).next(c8)}getMinOffset(e,t){return be.mapArray(this.hn(t),r=>this.Pn(e,r).next(i=>i||wt())).next(c8)}}function u8(n){return di(n,"collectionParents")}function dp(n){return di(n,"indexEntries")}function M0(n){return di(n,"indexConfiguration")}function hp(n){return di(n,"indexState")}function c8(n){At(0!==n.length);let e=n[0].indexState.offset,t=e.largestBatchId;for(let r=1;r<n.length;r++){const i=n[r].indexState.offset;lD(i,e)<0&&(e=i),t<i.largestBatchId&&(t=i.largestBatchId)}return new to(e.readTime,e.documentKey,t)}const d8={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class Ki{constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new Ki(e,Ki.DEFAULT_COLLECTION_PERCENTILE,Ki.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function h8(n,e,t){const r=n.store("mutations"),i=n.store("documentMutations"),s=[],o=IDBKeyRange.only(t.batchId);let a=0;const l=r.J({range:o},(p,m,w)=>(a++,w.delete()));s.push(l.next(()=>{At(1===a)}));const c=[];for(const p of t.mutations){const m=SB(e,p.key.path,t.batchId);s.push(i.delete(m)),c.push(p.key)}return be.waitFor(s).next(()=>c)}function rE(n){if(!n)return 0;let e;if(n.document)e=n.document;else if(n.unknownDocument)e=n.unknownDocument;else{if(!n.noDocument)throw wt();e=n.noDocument}return JSON.stringify(e).length}Ki.DEFAULT_COLLECTION_PERCENTILE=10,Ki.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Ki.DEFAULT=new Ki(41943040,Ki.DEFAULT_COLLECTION_PERCENTILE,Ki.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Ki.DISABLED=new Ki(-1,0,0);class iE{constructor(e,t,r,i){this.userId=e,this.serializer=t,this.indexManager=r,this.referenceDelegate=i,this.Fn={}}static lt(e,t,r,i){At(""!==e.uid);const s=e.isAuthenticated()?e.uid:"";return new iE(s,t,r,i)}checkEmpty(e){let t=!0;const r=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Ku(e).J({index:"userMutationsIndex",range:r},(i,s,o)=>{t=!1,o.done()}).next(()=>t)}addMutationBatch(e,t,r,i){const s=fp(e),o=Ku(e);return o.add({}).next(a=>{At("number"==typeof a);const l=new AD(a,t,r,i),c=function(A,D,R){const N=R.baseMutations.map(se=>T0(A.ct,se)),ee=R.mutations.map(se=>T0(A.ct,se));return{userId:D,batchId:R.batchId,localWriteTimeMs:R.localWriteTime.toMillis(),baseMutations:N,mutations:ee}}(this.serializer,this.userId,l),p=[];let m=new Wn((w,A)=>Kt(w.canonicalString(),A.canonicalString()));for(const w of i){const A=SB(this.userId,w.key.path,a);m=m.add(w.key.path.popLast()),p.push(o.put(c)),p.push(s.put(A,wne))}return m.forEach(w=>{p.push(this.indexManager.addToCollectionParentIndex(e,w))}),e.addOnCommittedListener(()=>{this.Fn[a]=l.keys()}),be.waitFor(p).next(()=>l)})}lookupMutationBatch(e,t){return Ku(e).get(t).next(r=>r?(At(r.userId===this.userId),Dd(this.serializer,r)):null)}Mn(e,t){return this.Fn[t]?be.resolve(this.Fn[t]):this.lookupMutationBatch(e,t).next(r=>{if(r){const i=r.keys();return this.Fn[t]=i,i}return null})}getNextMutationBatchAfterBatchId(e,t){const r=t+1,i=IDBKeyRange.lowerBound([this.userId,r]);let s=null;return Ku(e).J({index:"userMutationsIndex",range:i},(o,a,l)=>{a.userId===this.userId&&(At(a.batchId>=r),s=Dd(this.serializer,a)),l.done()}).next(()=>s)}getHighestUnacknowledgedBatchId(e){const t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let r=-1;return Ku(e).J({index:"userMutationsIndex",range:t,reverse:!0},(i,s,o)=>{r=s.batchId,o.done()}).next(()=>r)}getAllMutationBatches(e){const t=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Ku(e).U("userMutationsIndex",t).next(r=>r.map(i=>Dd(this.serializer,i)))}getAllMutationBatchesAffectingDocumentKey(e,t){const r=Fw(this.userId,t.path),i=IDBKeyRange.lowerBound(r),s=[];return fp(e).J({range:i},(o,a,l)=>{const[c,p,m]=o,w=Ma(p);if(c===this.userId&&t.path.isEqual(w))return Ku(e).get(m).next(A=>{if(!A)throw wt();At(A.userId===this.userId),s.push(Dd(this.serializer,A))});l.done()}).next(()=>s)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new Wn(Kt);const i=[];return t.forEach(s=>{const o=Fw(this.userId,s.path),a=IDBKeyRange.lowerBound(o),l=fp(e).J({range:a},(c,p,m)=>{const[w,A,D]=c,R=Ma(A);w===this.userId&&s.path.isEqual(R)?r=r.add(D):m.done()});i.push(l)}),be.waitFor(i).next(()=>this.xn(e,r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,i=r.length+1,s=Fw(this.userId,r),o=IDBKeyRange.lowerBound(s);let a=new Wn(Kt);return fp(e).J({range:o},(l,c,p)=>{const[m,w,A]=l,D=Ma(w);m===this.userId&&r.isPrefixOf(D)?D.length===i&&(a=a.add(A)):p.done()}).next(()=>this.xn(e,a))}xn(e,t){const r=[],i=[];return t.forEach(s=>{i.push(Ku(e).get(s).next(o=>{if(null===o)throw wt();At(o.userId===this.userId),r.push(Dd(this.serializer,o))}))}),be.waitFor(i).next(()=>r)}removeMutationBatch(e,t){return h8(e._e,this.userId,t).next(r=>(e.addOnCommittedListener(()=>{this.On(t.batchId)}),be.forEach(r,i=>this.referenceDelegate.markPotentiallyOrphaned(e,i))))}On(e){delete this.Fn[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(t=>{if(!t)return be.resolve();const r=IDBKeyRange.lowerBound(function(o){return[o]}(this.userId)),i=[];return fp(e).J({range:r},(s,o,a)=>{if(s[0]===this.userId){const l=Ma(s[1]);i.push(l)}else a.done()}).next(()=>{At(0===i.length)})})}containsKey(e,t){return f8(e,this.userId,t)}Nn(e){return p8(e).get(this.userId).next(t=>t||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function f8(n,e,t){const r=Fw(e,t.path),i=r[1],s=IDBKeyRange.lowerBound(r);let o=!1;return fp(n).J({range:s,H:!0},(a,l,c)=>{const[p,m,w]=a;p===e&&m===i&&(o=!0),c.done()}).next(()=>o)}function Ku(n){return di(n,"mutations")}function fp(n){return di(n,"documentMutations")}function p8(n){return di(n,"mutationQueues")}class Rd{constructor(e){this.Ln=e}next(){return this.Ln+=2,this.Ln}static Bn(){return new Rd(0)}static kn(){return new Rd(-1)}}class kre{constructor(e,t){this.referenceDelegate=e,this.serializer=t}allocateTargetId(e){return this.qn(e).next(t=>{const r=new Rd(t.highestTargetId);return t.highestTargetId=r.next(),this.Qn(e,t).next(()=>t.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.qn(e).next(t=>Tt.fromTimestamp(new vr(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.qn(e).next(t=>t.highestListenSequenceNumber)}setTargetsMetadata(e,t,r){return this.qn(e).next(i=>(i.highestListenSequenceNumber=t,r&&(i.lastRemoteSnapshotVersion=r.toTimestamp()),t>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=t),this.Qn(e,i)))}addTargetData(e,t){return this.Kn(e,t).next(()=>this.qn(e).next(r=>(r.targetCount+=1,this.$n(t,r),this.Qn(e,r))))}updateTargetData(e,t){return this.Kn(e,t)}removeTargetData(e,t){return this.removeMatchingKeysForTargetId(e,t.targetId).next(()=>pp(e).delete(t.targetId)).next(()=>this.qn(e)).next(r=>(At(r.targetCount>0),r.targetCount-=1,this.Qn(e,r)))}removeTargets(e,t,r){let i=0;const s=[];return pp(e).J((o,a)=>{const l=S0(a);l.sequenceNumber<=t&&null===r.get(l.targetId)&&(i++,s.push(this.removeTargetData(e,l)))}).next(()=>be.waitFor(s)).next(()=>i)}forEachTarget(e,t){return pp(e).J((r,i)=>{const s=S0(i);t(s)})}qn(e){return g8(e).get("targetGlobalKey").next(t=>(At(null!==t),t))}Qn(e,t){return g8(e).put("targetGlobalKey",t)}Kn(e,t){return pp(e).put(Z4(this.serializer,t))}$n(e,t){let r=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,r=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,r=!0),r}getTargetCount(e){return this.qn(e).next(t=>t.targetCount)}getTargetData(e,t){const r=Id(t),i=IDBKeyRange.bound([r,Number.NEGATIVE_INFINITY],[r,Number.POSITIVE_INFINITY]);let s=null;return pp(e).J({range:i,index:"queryTargetsIndex"},(o,a,l)=>{const c=S0(a);y0(t,c.target)&&(s=c,l.done())}).next(()=>s)}addMatchingKeys(e,t,r){const i=[],s=Qu(e);return t.forEach(o=>{const a=Gi(o.path);i.push(s.put({targetId:r,path:a})),i.push(this.referenceDelegate.addReference(e,r,o))}),be.waitFor(i)}removeMatchingKeys(e,t,r){const i=Qu(e);return be.forEach(t,s=>{const o=Gi(s.path);return be.waitFor([i.delete([r,o]),this.referenceDelegate.removeReference(e,r,s)])})}removeMatchingKeysForTargetId(e,t){const r=Qu(e),i=IDBKeyRange.bound([t],[t+1],!1,!0);return r.delete(i)}getMatchingKeysForTargetId(e,t){const r=IDBKeyRange.bound([t],[t+1],!1,!0),i=Qu(e);let s=tn();return i.J({range:r,H:!0},(o,a,l)=>{const c=Ma(o[1]),p=new dt(c);s=s.add(p)}).next(()=>s)}containsKey(e,t){const r=Gi(t.path),i=IDBKeyRange.bound([r],[vB(r)],!1,!0);let s=0;return Qu(e).J({index:"documentTargetsIndex",H:!0,range:i},([o,a],l,c)=>{0!==o&&(s++,c.done())}).next(()=>s>0)}ot(e,t){return pp(e).get(t).next(r=>r?S0(r):null)}}function pp(n){return di(n,"targets")}function g8(n){return di(n,"targetGlobal")}function Qu(n){return di(n,"targetDocuments")}function m8([n,e],[t,r]){const i=Kt(n,t);return 0===i?Kt(e,r):i}class Ore{constructor(e){this.Un=e,this.buffer=new Wn(m8),this.Wn=0}Gn(){return++this.Wn}zn(e){const t=[e,this.Gn()];if(this.buffer.size<this.Un)this.buffer=this.buffer.add(t);else{const r=this.buffer.last();m8(t,r)<0&&(this.buffer=this.buffer.delete(r).add(t))}}get maxValue(){return this.buffer.last()[0]}}class y8{constructor(e,t,r){this.garbageCollector=e,this.asyncQueue=t,this.localStore=r,this.jn=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Hn(6e4)}stop(){this.jn&&(this.jn.cancel(),this.jn=null)}get started(){return null!==this.jn}Hn(e){var t=this;Ke("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.jn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(0,E.A)(function*(){t.jn=null;try{yield t.localStore.collectGarbage(t.garbageCollector)}catch(r){Bu(r)?Ke("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",r):yield Lu(r)}yield t.Hn(3e5)}))}}class Fre{constructor(e,t){this.Jn=e,this.params=t}calculateTargetCount(e,t){return this.Jn.Yn(e).next(r=>Math.floor(t/100*r))}nthSequenceNumber(e,t){if(0===t)return be.resolve(no.oe);const r=new Ore(t);return this.Jn.forEachTarget(e,i=>r.zn(i.sequenceNumber)).next(()=>this.Jn.Zn(e,i=>r.zn(i))).next(()=>r.maxValue)}removeTargets(e,t,r){return this.Jn.removeTargets(e,t,r)}removeOrphanedDocuments(e,t){return this.Jn.removeOrphanedDocuments(e,t)}collect(e,t){return-1===this.params.cacheSizeCollectionThreshold?(Ke("LruGarbageCollector","Garbage collection skipped; disabled"),be.resolve(d8)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(Ke("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),d8):this.Xn(e,t))}getCacheSize(e){return this.Jn.getCacheSize(e)}Xn(e,t){let r,i,s,o,a,l,c;const p=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(m=>(m>this.params.maximumSequenceNumbersToCollect?(Ke("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${m}`),i=this.params.maximumSequenceNumbersToCollect):i=m,o=Date.now(),this.nthSequenceNumber(e,i))).next(m=>(r=m,a=Date.now(),this.removeTargets(e,r,t))).next(m=>(s=m,l=Date.now(),this.removeOrphanedDocuments(e,r))).next(m=>(c=Date.now(),Qf()<=Ra.$b.DEBUG&&Ke("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${o-p}ms\n\tDetermined least recently used ${i} in `+(a-o)+`ms\n\tRemoved ${s} targets in `+(l-a)+`ms\n\tRemoved ${m} documents in `+(c-l)+`ms\nTotal Duration: ${c-p}ms`),be.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:s,documentsRemoved:m})))}}class Vre{constructor(e,t){this.db=e,this.garbageCollector=function _8(n,e){return new Fre(n,e)}(this,t)}Yn(e){const t=this.er(e);return this.db.getTargetCache().getTargetCount(e).next(r=>t.next(i=>r+i))}er(e){let t=0;return this.Zn(e,r=>{t++}).next(()=>t)}forEachTarget(e,t){return this.db.getTargetCache().forEachTarget(e,t)}Zn(e,t){return this.tr(e,(r,i)=>t(i))}addReference(e,t,r){return sE(e,r)}removeReference(e,t,r){return sE(e,r)}removeTargets(e,t,r){return this.db.getTargetCache().removeTargets(e,t,r)}markPotentiallyOrphaned(e,t){return sE(e,t)}nr(e,t){return function(i,s){let o=!1;return p8(i).Y(a=>f8(i,a,s).next(l=>(l&&(o=!0),be.resolve(!l)))).next(()=>o)}(e,t)}removeOrphanedDocuments(e,t){const r=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[];let s=0;return this.tr(e,(o,a)=>{if(a<=t){const l=this.nr(e,o).next(c=>{if(!c)return s++,r.getEntry(e,o).next(()=>(r.removeEntry(o,Tt.min()),Qu(e).delete([0,Gi(o.path)])))});i.push(l)}}).next(()=>be.waitFor(i)).next(()=>r.apply(e)).next(()=>s)}removeTarget(e,t){const r=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,r)}updateLimboDocument(e,t){return sE(e,t)}tr(e,t){const r=Qu(e);let i,s=no.oe;return r.J({index:"documentTargetsIndex"},([o,a],{path:l,sequenceNumber:c})=>{0===o?(s!==no.oe&&t(new dt(Ma(i)),s),s=c,i=l):s=no.oe}).next(()=>{s!==no.oe&&t(new dt(Ma(i)),s)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function sE(n,e){return Qu(n).put((i=n.currentSequenceNumber,{targetId:0,path:Gi(e.path),sequenceNumber:i}));var i}class v8{constructor(){this.changes=new Rl(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,dr.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const r=this.changes.get(t);return void 0!==r?be.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class Lre{constructor(e){this.serializer=e}setIndexManager(e){this.indexManager=e}addEntry(e,t,r){return Pd(e).put(r)}removeEntry(e,t,r){return Pd(e).delete(function(s,o){const a=s.path.toArray();return[a.slice(0,a.length-2),a[a.length-2],Jw(o),a[a.length-1]]}(t,r))}updateMetadata(e,t){return this.getMetadata(e).next(r=>(r.byteSize+=t,this.rr(e,r)))}getEntry(e,t){let r=dr.newInvalidDocument(t);return Pd(e).J({index:"documentKeyIndex",range:IDBKeyRange.only(N0(t))},(i,s)=>{r=this.ir(t,s)}).next(()=>r)}sr(e,t){let r={size:0,document:dr.newInvalidDocument(t)};return Pd(e).J({index:"documentKeyIndex",range:IDBKeyRange.only(N0(t))},(i,s)=>{r={document:this.ir(t,s),size:rE(s)}}).next(()=>r)}getEntries(e,t){let r=Fs();return this._r(e,t,(i,s)=>{const o=this.ir(i,s);r=r.insert(i,o)}).next(()=>r)}ar(e,t){let r=Fs(),i=new ar(dt.comparator);return this._r(e,t,(s,o)=>{const a=this.ir(s,o);r=r.insert(s,a),i=i.insert(s,rE(o))}).next(()=>({documents:r,ur:i}))}_r(e,t,r){if(t.isEmpty())return be.resolve();let i=new Wn(b8);t.forEach(l=>i=i.add(l));const s=IDBKeyRange.bound(N0(i.first()),N0(i.last())),o=i.getIterator();let a=o.getNext();return Pd(e).J({index:"documentKeyIndex",range:s},(l,c,p)=>{const m=dt.fromSegments([...c.prefixPath,c.collectionGroup,c.documentId]);for(;a&&b8(a,m)<0;)r(a,null),a=o.getNext();a&&a.isEqual(m)&&(r(a,c),a=o.hasNext()?o.getNext():null),a?p.$(N0(a)):p.done()}).next(()=>{for(;a;)r(a,null),a=o.hasNext()?o.getNext():null})}getDocumentsMatchingQuery(e,t,r,i,s){const o=t.path,a=[o.popLast().toArray(),o.lastSegment(),Jw(r.readTime),r.documentKey.path.isEmpty()?"":r.documentKey.path.lastSegment()],l=[o.popLast().toArray(),o.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return Pd(e).U(IDBKeyRange.bound(a,l,!0)).next(c=>{s?.incrementDocumentReadCount(c.length);let p=Fs();for(const m of c){const w=this.ir(dt.fromSegments(m.prefixPath.concat(m.collectionGroup,m.documentId)),m);w.isFoundDocument()&&(v0(t,w)||i.has(w.key))&&(p=p.insert(w.key,w))}return p})}getAllFromCollectionGroup(e,t,r,i){let s=Fs();const o=I8(t,r),a=I8(t,to.max());return Pd(e).J({index:"collectionGroupIndex",range:IDBKeyRange.bound(o,a,!0)},(l,c,p)=>{const m=this.ir(dt.fromSegments(c.prefixPath.concat(c.collectionGroup,c.documentId)),c);s=s.insert(m.key,m),s.size===i&&p.done()}).next(()=>s)}newChangeBuffer(e){return new Bre(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(t=>t.byteSize)}getMetadata(e){return E8(e).get("remoteDocumentGlobalKey").next(t=>(At(!!t),t))}rr(e,t){return E8(e).put("remoteDocumentGlobalKey",t)}ir(e,t){if(t){const r=function Are(n,e){let t;if(e.document)t=z4(n.ct,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const r=dt.fromSegments(e.noDocument.path),i=xd(e.noDocument.readTime);t=dr.newNoDocument(r,i),e.hasCommittedMutations&&t.setHasCommittedMutations()}else{if(!e.unknownDocument)return wt();{const r=dt.fromSegments(e.unknownDocument.path),i=xd(e.unknownDocument.version);t=dr.newUnknownDocument(r,i)}}return e.readTime&&t.setReadTime(function(i){const s=new vr(i[0],i[1]);return Tt.fromTimestamp(s)}(e.readTime)),t}(this.serializer,t);if(!r.isNoDocument()||!r.version.isEqual(Tt.min()))return r}return dr.newInvalidDocument(e)}}function w8(n){return new Lre(n)}class Bre extends v8{constructor(e,t){super(),this.cr=e,this.trackRemovals=t,this.lr=new Rl(r=>r.toString(),(r,i)=>r.isEqual(i))}applyChanges(e){const t=[];let r=0,i=new Wn((s,o)=>Kt(s.canonicalString(),o.canonicalString()));return this.changes.forEach((s,o)=>{const a=this.lr.get(s);if(t.push(this.cr.removeEntry(e,s,a.readTime)),o.isValidDocument()){const l=X4(this.cr.serializer,o);i=i.add(s.path.popLast());const c=rE(l);r+=c-a.size,t.push(this.cr.addEntry(e,s,l))}else if(r-=a.size,this.trackRemovals){const l=X4(this.cr.serializer,o.convertToNoDocument(Tt.min()));t.push(this.cr.addEntry(e,s,l))}}),i.forEach(s=>{t.push(this.cr.indexManager.addToCollectionParentIndex(e,s))}),t.push(this.cr.updateMetadata(e,r)),be.waitFor(t)}getFromCache(e,t){return this.cr.sr(e,t).next(r=>(this.lr.set(t,{size:r.size,readTime:r.document.readTime}),r.document))}getAllFromCache(e,t){return this.cr.ar(e,t).next(({documents:r,ur:i})=>(i.forEach((s,o)=>{this.lr.set(s,{size:o,readTime:r.get(s).readTime})}),r))}}function E8(n){return di(n,"remoteDocumentGlobal")}function Pd(n){return di(n,"remoteDocumentsV14")}function N0(n){const e=n.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function I8(n,e){const t=e.documentKey.path.toArray();return[n,Jw(e.readTime),t.slice(0,t.length-2),t.length>0?t[t.length-1]:""]}function b8(n,e){const t=n.path.toArray(),r=e.path.toArray();let i=0;for(let s=0;s<t.length-2&&s<r.length-2;++s)if(i=Kt(t[s],r[s]),i)return i;return i=Kt(t.length,r.length),i||(i=Kt(t[t.length-2],r[r.length-2]),i||Kt(t[t.length-1],r[r.length-1]))}class Ure{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class A8{constructor(e,t,r,i){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,t){let r=null;return this.documentOverlayCache.getOverlay(e,t).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,t))).next(i=>(null!==r&&b0(r.mutation,i,Os.empty(),vr.now()),i))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.getLocalViewOfDocuments(e,r,tn()).next(()=>r))}getLocalViewOfDocuments(e,t,r=tn()){const i=ka();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,r).next(s=>{let o=w0();return s.forEach((a,l)=>{o=o.insert(a,l.overlayedDocument)}),o}))}getOverlayedDocuments(e,t){const r=ka();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,tn()))}populateOverlays(e,t,r){const i=[];return r.forEach(s=>{t.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((o,a)=>{t.set(o,a)})})}computeViews(e,t,r,i){let s=Fs();const o=E0(),a=E0();return t.forEach((l,c)=>{const p=r.get(c.key);i.has(c.key)&&(void 0===p||p.mutation instanceof Pl)?s=s.insert(c.key,c):void 0!==p?(o.set(c.key,p.mutation.getFieldMask()),b0(p.mutation,c,p.mutation.getFieldMask(),vr.now())):o.set(c.key,Os.empty())}),this.recalculateAndSaveOverlays(e,s).next(l=>(l.forEach((c,p)=>o.set(c,p)),t.forEach((c,p)=>{var m;return a.set(c,new Ure(p,null!==(m=o.get(c))&&void 0!==m?m:null))}),a))}recalculateAndSaveOverlays(e,t){const r=E0();let i=new ar((o,a)=>o-a),s=tn();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(o=>{for(const a of o)a.keys().forEach(l=>{const c=t.get(l);if(null===c)return;let p=r.get(l)||Os.empty();p=a.applyToLocalView(c,p),r.set(l,p);const m=(i.get(a.batchId)||tn()).add(l);i=i.insert(a.batchId,m)})}).next(()=>{const o=[],a=i.getReverseIterator();for(;a.hasNext();){const l=a.getNext(),c=l.key,p=l.value,m=f4();p.forEach(w=>{if(!s.has(w)){const A=E4(t.get(w),r.get(w));null!==A&&m.set(w,A),s=s.add(w)}}),o.push(this.documentOverlayCache.saveOverlays(e,c,m))}return be.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,t,r,i){return dt.isDocumentKey((o=t).path)&&null===o.collectionGroup&&0===o.filters.length?this.getDocumentsMatchingDocumentQuery(e,t.path):vD(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,r,i):this.getDocumentsMatchingCollectionQuery(e,t,r,i);var o}getNextDocuments(e,t,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,r,i).next(s=>{const o=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,r.largestBatchId,i-s.size):be.resolve(ka());let a=-1,l=s;return o.next(c=>be.forEach(c,(p,m)=>(a<m.largestBatchId&&(a=m.largestBatchId),s.get(p)?be.resolve():this.remoteDocumentCache.getEntry(e,p).next(w=>{l=l.insert(p,w)}))).next(()=>this.populateOverlays(e,c,s)).next(()=>this.computeViews(e,l,c,tn())).next(p=>({batchId:a,changes:h4(p)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new dt(t)).next(r=>{let i=w0();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,t,r,i){const s=t.collectionGroup;let o=w0();return this.indexManager.getCollectionParents(e,s).next(a=>be.forEach(a,l=>{const c=(m=t,w=l.child(s),new Sl(w,null,m.explicitOrderBy.slice(),m.filters.slice(),m.limit,m.limitType,m.startAt,m.endAt));var m,w;return this.getDocumentsMatchingCollectionQuery(e,c,r,i).next(p=>{p.forEach((m,w)=>{o=o.insert(m,w)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,t,r,i){let s;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,r.largestBatchId).next(o=>(s=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,r,s,i))).next(o=>{s.forEach((l,c)=>{const p=c.getKey();null===o.get(p)&&(o=o.insert(p,dr.newInvalidDocument(p)))});let a=w0();return o.forEach((l,c)=>{const p=s.get(l);void 0!==p&&b0(p.mutation,c,Os.empty(),vr.now()),v0(t,c)&&(a=a.insert(l,c))}),a})}}class jre{constructor(e){this.serializer=e,this.hr=new Map,this.Pr=new Map}getBundleMetadata(e,t){return be.resolve(this.hr.get(t))}saveBundleMetadata(e,t){return this.hr.set(t.id,{id:(i=t).id,version:i.version,createTime:Hr(i.createTime)}),be.resolve();var i}getNamedQuery(e,t){return be.resolve(this.Pr.get(t))}saveNamedQuery(e,t){return this.Pr.set(t.name,{name:(i=t).name,query:ND(i.bundledQuery),readTime:Hr(i.readTime)}),be.resolve();var i}}class $re{constructor(){this.overlays=new ar(dt.comparator),this.Ir=new Map}getOverlay(e,t){return be.resolve(this.overlays.get(t))}getOverlays(e,t){const r=ka();return be.forEach(t,i=>this.getOverlay(e,i).next(s=>{null!==s&&r.set(i,s)})).next(()=>r)}saveOverlays(e,t,r){return r.forEach((i,s)=>{this.ht(e,t,s)}),be.resolve()}removeOverlaysForBatchId(e,t,r){const i=this.Ir.get(r);return void 0!==i&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.Ir.delete(r)),be.resolve()}getOverlaysForCollection(e,t,r){const i=ka(),s=t.length+1,o=new dt(t.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const l=a.getNext().value,c=l.getKey();if(!t.isPrefixOf(c.path))break;c.path.length===s&&l.largestBatchId>r&&i.set(l.getKey(),l)}return be.resolve(i)}getOverlaysForCollectionGroup(e,t,r,i){let s=new ar((c,p)=>c-p);const o=this.overlays.getIterator();for(;o.hasNext();){const c=o.getNext().value;if(c.getKey().getCollectionGroup()===t&&c.largestBatchId>r){let p=s.get(c.largestBatchId);null===p&&(p=ka(),s=s.insert(c.largestBatchId,p)),p.set(c.getKey(),c)}}const a=ka(),l=s.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((c,p)=>a.set(c,p)),!(a.size()>=i)););return be.resolve(a)}ht(e,t,r){const i=this.overlays.get(r.key);if(null!==i){const o=this.Ir.get(i.largestBatchId).delete(r.key);this.Ir.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new xD(t,r));let s=this.Ir.get(t);void 0===s&&(s=tn(),this.Ir.set(t,s)),this.Ir.set(t,s.add(r.key))}}class zre{constructor(){this.sessionToken=Sr.EMPTY_BYTE_STRING}getSessionToken(e){return be.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,be.resolve()}}class UD{constructor(){this.Tr=new Wn(Ii.Er),this.dr=new Wn(Ii.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(e,t){const r=new Ii(e,t);this.Tr=this.Tr.add(r),this.dr=this.dr.add(r)}Rr(e,t){e.forEach(r=>this.addReference(r,t))}removeReference(e,t){this.Vr(new Ii(e,t))}mr(e,t){e.forEach(r=>this.removeReference(r,t))}gr(e){const t=new dt(new pn([])),r=new Ii(t,e),i=new Ii(t,e+1),s=[];return this.dr.forEachInRange([r,i],o=>{this.Vr(o),s.push(o.key)}),s}pr(){this.Tr.forEach(e=>this.Vr(e))}Vr(e){this.Tr=this.Tr.delete(e),this.dr=this.dr.delete(e)}yr(e){const t=new dt(new pn([])),r=new Ii(t,e),i=new Ii(t,e+1);let s=tn();return this.dr.forEachInRange([r,i],o=>{s=s.add(o.key)}),s}containsKey(e){const t=new Ii(e,0),r=this.Tr.firstAfterOrEqual(t);return null!==r&&e.isEqual(r.key)}}class Ii{constructor(e,t){this.key=e,this.wr=t}static Er(e,t){return dt.comparator(e.key,t.key)||Kt(e.wr,t.wr)}static Ar(e,t){return Kt(e.wr,t.wr)||dt.comparator(e.key,t.key)}}class Hre{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.Sr=1,this.br=new Wn(Ii.Er)}checkEmpty(e){return be.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,r,i){const s=this.Sr;this.Sr++;const o=new AD(s,t,r,i);this.mutationQueue.push(o);for(const a of i)this.br=this.br.add(new Ii(a.key,s)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return be.resolve(o)}lookupMutationBatch(e,t){return be.resolve(this.Dr(t))}getNextMutationBatchAfterBatchId(e,t){const i=this.vr(t+1),s=i<0?0:i;return be.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return be.resolve(0===this.mutationQueue.length?-1:this.Sr-1)}getAllMutationBatches(e){return be.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const r=new Ii(t,0),i=new Ii(t,Number.POSITIVE_INFINITY),s=[];return this.br.forEachInRange([r,i],o=>{const a=this.Dr(o.wr);s.push(a)}),be.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new Wn(Kt);return t.forEach(i=>{const s=new Ii(i,0),o=new Ii(i,Number.POSITIVE_INFINITY);this.br.forEachInRange([s,o],a=>{r=r.add(a.wr)})}),be.resolve(this.Cr(r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,i=r.length+1;let s=r;dt.isDocumentKey(s)||(s=s.child(""));const o=new Ii(new dt(s),0);let a=new Wn(Kt);return this.br.forEachWhile(l=>{const c=l.key.path;return!!r.isPrefixOf(c)&&(c.length===i&&(a=a.add(l.wr)),!0)},o),be.resolve(this.Cr(a))}Cr(e){const t=[];return e.forEach(r=>{const i=this.Dr(r);null!==i&&t.push(i)}),t}removeMutationBatch(e,t){At(0===this.Fr(t.batchId,"removed")),this.mutationQueue.shift();let r=this.br;return be.forEach(t.mutations,i=>{const s=new Ii(i.key,t.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.br=r})}On(e){}containsKey(e,t){const r=new Ii(t,0),i=this.br.firstAfterOrEqual(r);return be.resolve(t.isEqual(i&&i.key))}performConsistencyCheck(e){return be.resolve()}Fr(e,t){return this.vr(e)}vr(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}Dr(e){const t=this.vr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class qre{constructor(e){this.Mr=e,this.docs=new ar(dt.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const r=t.key,i=this.docs.get(r),s=i?i.size:0,o=this.Mr(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const r=this.docs.get(t);return be.resolve(r?r.document.mutableCopy():dr.newInvalidDocument(t))}getEntries(e,t){let r=Fs();return t.forEach(i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():dr.newInvalidDocument(i))}),be.resolve(r)}getDocumentsMatchingQuery(e,t,r,i){let s=Fs();const o=t.path,a=new dt(o.child("")),l=this.docs.getIteratorFrom(a);for(;l.hasNext();){const{key:c,value:{document:p}}=l.getNext();if(!o.isPrefixOf(c.path))break;c.path.length>o.length+1||lD(EB(p),r)<=0||(i.has(p.key)||v0(t,p))&&(s=s.insert(p.key,p.mutableCopy()))}return be.resolve(s)}getAllFromCollectionGroup(e,t,r,i){wt()}Or(e,t){return be.forEach(this.docs,r=>t(r))}newChangeBuffer(e){return new Gre(this)}getSize(e){return be.resolve(this.size)}}class Gre extends v8{constructor(e){super(),this.cr=e}applyChanges(e){const t=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?t.push(this.cr.addEntry(e,i)):this.cr.removeEntry(r)}),be.waitFor(t)}getFromCache(e,t){return this.cr.getEntry(e,t)}getAllFromCache(e,t){return this.cr.getEntries(e,t)}}class Wre{constructor(e){this.persistence=e,this.Nr=new Rl(t=>Id(t),y0),this.lastRemoteSnapshotVersion=Tt.min(),this.highestTargetId=0,this.Lr=0,this.Br=new UD,this.targetCount=0,this.kr=Rd.Bn()}forEachTarget(e,t){return this.Nr.forEach((r,i)=>t(i)),be.resolve()}getLastRemoteSnapshotVersion(e){return be.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return be.resolve(this.Lr)}allocateTargetId(e){return this.highestTargetId=this.kr.next(),be.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.Lr&&(this.Lr=t),be.resolve()}Kn(e){this.Nr.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.kr=new Rd(t),this.highestTargetId=t),e.sequenceNumber>this.Lr&&(this.Lr=e.sequenceNumber)}addTargetData(e,t){return this.Kn(t),this.targetCount+=1,be.resolve()}updateTargetData(e,t){return this.Kn(t),be.resolve()}removeTargetData(e,t){return this.Nr.delete(t.target),this.Br.gr(t.targetId),this.targetCount-=1,be.resolve()}removeTargets(e,t,r){let i=0;const s=[];return this.Nr.forEach((o,a)=>{a.sequenceNumber<=t&&null===r.get(a.targetId)&&(this.Nr.delete(o),s.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),be.waitFor(s).next(()=>i)}getTargetCount(e){return be.resolve(this.targetCount)}getTargetData(e,t){const r=this.Nr.get(t)||null;return be.resolve(r)}addMatchingKeys(e,t,r){return this.Br.Rr(t,r),be.resolve()}removeMatchingKeys(e,t,r){this.Br.mr(t,r);const i=this.persistence.referenceDelegate,s=[];return i&&t.forEach(o=>{s.push(i.markPotentiallyOrphaned(e,o))}),be.waitFor(s)}removeMatchingKeysForTargetId(e,t){return this.Br.gr(t),be.resolve()}getMatchingKeysForTargetId(e,t){const r=this.Br.yr(t);return be.resolve(r)}containsKey(e,t){return be.resolve(this.Br.containsKey(t))}}class jD{constructor(e,t){this.qr={},this.overlays={},this.Qr=new no(0),this.Kr=!1,this.Kr=!0,this.$r=new zre,this.referenceDelegate=e(this),this.Ur=new Wre(this),this.indexManager=new Mre,this.remoteDocumentCache=new qre(r=>this.referenceDelegate.Wr(r)),this.serializer=new Y4(t),this.Gr=new jre(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new $re,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.qr[e.toKey()];return r||(r=new Hre(t,this.referenceDelegate),this.qr[e.toKey()]=r),r}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(e,t,r){Ke("MemoryPersistence","Starting transaction:",e);const i=new Kre(this.Qr.next());return this.referenceDelegate.zr(),r(i).next(s=>this.referenceDelegate.jr(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Hr(e,t){return be.or(Object.values(this.qr).map(r=>()=>r.containsKey(e,t)))}}class Kre extends bB{constructor(e){super(),this.currentSequenceNumber=e}}class oE{constructor(e){this.persistence=e,this.Jr=new UD,this.Yr=null}static Zr(e){return new oE(e)}get Xr(){if(this.Yr)return this.Yr;throw wt()}addReference(e,t,r){return this.Jr.addReference(r,t),this.Xr.delete(r.toString()),be.resolve()}removeReference(e,t,r){return this.Jr.removeReference(r,t),this.Xr.add(r.toString()),be.resolve()}markPotentiallyOrphaned(e,t){return this.Xr.add(t.toString()),be.resolve()}removeTarget(e,t){this.Jr.gr(t.targetId).forEach(i=>this.Xr.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next(i=>{i.forEach(s=>this.Xr.add(s.toString()))}).next(()=>r.removeTargetData(e,t))}zr(){this.Yr=new Set}jr(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return be.forEach(this.Xr,r=>{const i=dt.fromPath(r);return this.ei(e,i).next(s=>{s||t.removeEntry(i,Tt.min())})}).next(()=>(this.Yr=null,t.apply(e)))}updateLimboDocument(e,t){return this.ei(e,t).next(r=>{r?this.Xr.delete(t.toString()):this.Xr.add(t.toString())})}Wr(e){return 0}ei(e,t){return be.or([()=>be.resolve(this.Jr.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Hr(e,t)])}}class Qre{constructor(e){this.serializer=e}O(e,t,r,i){const s=new Ow("createOrUpgrade",t);var l;r<1&&i>=1&&(e.createObjectStore("owner"),(l=e).createObjectStore("mutationQueues",{keyPath:"userId"}),l.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",TB,{unique:!0}),l.createObjectStore("documentMutations"),C8(e),function(l){l.createObjectStore("remoteDocuments")}(e));let o=be.resolve();return r<3&&i>=3&&(0!==r&&(function(l){l.deleteObjectStore("targetDocuments"),l.deleteObjectStore("targets"),l.deleteObjectStore("targetGlobal")}(e),C8(e)),o=o.next(()=>function(l){const c=l.store("targetGlobal"),p={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:Tt.min().toTimestamp(),targetCount:0};return c.put("targetGlobalKey",p)}(s))),r<4&&i>=4&&(0!==r&&(o=o.next(()=>function(l,c){return c.store("mutations").U().next(p=>{l.deleteObjectStore("mutations"),l.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",TB,{unique:!0});const m=c.store("mutations"),w=p.map(A=>m.put(A));return be.waitFor(w)})}(e,s))),o=o.next(()=>{!function(l){l.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)})),r<5&&i>=5&&(o=o.next(()=>this.ni(s))),r<6&&i>=6&&(o=o.next(()=>(function(l){l.createObjectStore("remoteDocumentGlobal")}(e),this.ri(s)))),r<7&&i>=7&&(o=o.next(()=>this.ii(s))),r<8&&i>=8&&(o=o.next(()=>this.si(e,s))),r<9&&i>=9&&(o=o.next(()=>{!function(l){l.objectStoreNames.contains("remoteDocumentChanges")&&l.deleteObjectStore("remoteDocumentChanges")}(e)})),r<10&&i>=10&&(o=o.next(()=>this.oi(s))),r<11&&i>=11&&(o=o.next(()=>{(function(l){l.createObjectStore("bundles",{keyPath:"bundleId"})})(e),function(l){l.createObjectStore("namedQueries",{keyPath:"name"})}(e)})),r<12&&i>=12&&(o=o.next(()=>{!function(l){const c=l.createObjectStore("documentOverlays",{keyPath:Mne});c.createIndex("collectionPathOverlayIndex",Nne,{unique:!1}),c.createIndex("collectionGroupOverlayIndex",kne,{unique:!1})}(e)})),r<13&&i>=13&&(o=o.next(()=>function(l){const c=l.createObjectStore("remoteDocumentsV14",{keyPath:Ene});c.createIndex("documentKeyIndex",Ine),c.createIndex("collectionGroupIndex",bne)}(e)).next(()=>this._i(e,s)).next(()=>e.deleteObjectStore("remoteDocuments"))),r<14&&i>=14&&(o=o.next(()=>this.ai(e,s))),r<15&&i>=15&&(o=o.next(()=>function(l){l.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),l.createObjectStore("indexState",{keyPath:Tne}).createIndex("sequenceNumberIndex",Sne,{unique:!1}),l.createObjectStore("indexEntries",{keyPath:Rne}).createIndex("documentKeyIndex",Pne,{unique:!1})}(e))),r<16&&i>=16&&(o=o.next(()=>{t.objectStore("indexState").clear()}).next(()=>{t.objectStore("indexEntries").clear()})),r<17&&i>=17&&(o=o.next(()=>{!function(l){l.createObjectStore("globals",{keyPath:"name"})}(e)})),o}ri(e){let t=0;return e.store("remoteDocuments").J((r,i)=>{t+=rE(i)}).next(()=>{const r={byteSize:t};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",r)})}ni(e){const t=e.store("mutationQueues"),r=e.store("mutations");return t.U().next(i=>be.forEach(i,s=>{const o=IDBKeyRange.bound([s.userId,-1],[s.userId,s.lastAcknowledgedBatchId]);return r.U("userMutationsIndex",o).next(a=>be.forEach(a,l=>{At(l.userId===s.userId);const c=Dd(this.serializer,l);return h8(e,s.userId,c).next(()=>{})}))}))}ii(e){const t=e.store("targetDocuments"),r=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next(i=>{const s=[];return r.J((o,a)=>{const l=new pn(o),c=[0,Gi(l)];s.push(t.get(c).next(p=>p?be.resolve():t.put({targetId:0,path:Gi(l),sequenceNumber:i.highestListenSequenceNumber})))}).next(()=>be.waitFor(s))})}si(e,t){e.createObjectStore("collectionParents",{keyPath:Dne});const r=t.store("collectionParents"),i=new BD,s=o=>{if(i.add(o)){const a=o.lastSegment(),l=o.popLast();return r.put({collectionId:a,parent:Gi(l)})}};return t.store("remoteDocuments").J({H:!0},(o,a)=>{const l=new pn(o);return s(l.popLast())}).next(()=>t.store("documentMutations").J({H:!0},([o,a,l],c)=>{const p=Ma(a);return s(p.popLast())}))}oi(e){const t=e.store("targets");return t.J((r,i)=>{const s=S0(i),o=Z4(this.serializer,s);return t.put(o)})}_i(e,t){const r=t.store("remoteDocuments"),i=[];return r.J((s,o)=>{const a=t.store("remoteDocumentsV14"),l=(m=o,m.document?new dt(pn.fromString(m.document.name).popFirst(5)):m.noDocument?dt.fromSegments(m.noDocument.path):m.unknownDocument?dt.fromSegments(m.unknownDocument.path):wt()).path.toArray(),c={prefixPath:l.slice(0,l.length-2),collectionGroup:l[l.length-2],documentId:l[l.length-1],readTime:o.readTime||[0,0],unknownDocument:o.unknownDocument,noDocument:o.noDocument,document:o.document,hasCommittedMutations:!!o.hasCommittedMutations};var m;i.push(a.put(c))}).next(()=>be.waitFor(i))}ai(e,t){const r=t.store("mutations"),i=w8(this.serializer),s=new jD(oE.Zr,this.serializer.ct);return r.U().next(o=>{const a=new Map;return o.forEach(l=>{var c;let p=null!==(c=a.get(l.userId))&&void 0!==c?c:tn();Dd(this.serializer,l).keys().forEach(m=>p=p.add(m)),a.set(l.userId,p)}),be.forEach(a,(l,c)=>{const p=new Ei(c),m=eE.lt(this.serializer,p),w=s.getIndexManager(p),A=iE.lt(p,this.serializer,w,s.referenceDelegate);return new A8(i,A,m,w).recalculateAndSaveOverlaysForDocumentKeys(new hD(t,no.oe),l).next()})})}}function C8(n){n.createObjectStore("targetDocuments",{keyPath:Cne}).createIndex("documentTargetsIndex",xne,{unique:!0}),n.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",Ane,{unique:!0}),n.createObjectStore("targetGlobal")}const $D="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class zD{constructor(e,t,r,i,s,o,a,l,c,p,m=17){if(this.allowTabSynchronization=e,this.persistenceKey=t,this.clientId=r,this.ui=s,this.window=o,this.document=a,this.ci=c,this.li=p,this.hi=m,this.Qr=null,this.Kr=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Pi=null,this.inForeground=!1,this.Ii=null,this.Ti=null,this.Ei=Number.NEGATIVE_INFINITY,this.di=w=>Promise.resolve(),!zD.D())throw new He(Se.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new Vre(this,i),this.Ai=t+"main",this.serializer=new Y4(l),this.Ri=new Pa(this.Ai,this.hi,new Qre(this.serializer)),this.$r=new xre,this.Ur=new kre(this.referenceDelegate,this.serializer),this.remoteDocumentCache=w8(this.serializer),this.Gr=new Cre,this.window&&this.window.localStorage?this.Vi=this.window.localStorage:(this.Vi=null,!1===p&&zr("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.mi().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new He(Se.FAILED_PRECONDITION,$D);return this.fi(),this.gi(),this.pi(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.Ur.getHighestSequenceNumber(e))}).then(e=>{this.Qr=new no(e,this.ci)}).then(()=>{this.Kr=!0}).catch(e=>(this.Ri&&this.Ri.close(),Promise.reject(e)))}yi(e){var t=this;return this.di=function(){var r=(0,E.A)(function*(i){if(t.started)return e(i)});return function(i){return r.apply(this,arguments)}}(),e(this.isPrimary)}setDatabaseDeletedListener(e){this.Ri.L(function(){var t=(0,E.A)(function*(r){null===r.newVersion&&(yield e())});return function(r){return t.apply(this,arguments)}}())}setNetworkEnabled(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.ui.enqueueAndForget((0,E.A)(function*(){t.started&&(yield t.mi())})))}mi(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>lE(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.wi(e).next(t=>{t||(this.isPrimary=!1,this.ui.enqueueRetryable(()=>this.di(!1)))})}).next(()=>this.Si(e)).next(t=>this.isPrimary&&!t?this.bi(e).next(()=>!1):!!t&&this.Di(e).next(()=>!0))).catch(e=>{if(Bu(e))return Ke("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return Ke("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.ui.enqueueRetryable(()=>this.di(e)),this.isPrimary=e})}wi(e){return k0(e).get("owner").next(t=>be.resolve(this.vi(t)))}Ci(e){return lE(e).delete(this.clientId)}Fi(){var e=this;return(0,E.A)(function*(){if(e.isPrimary&&!e.Mi(e.Ei,18e5)){e.Ei=Date.now();const t=yield e.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",r=>{const i=di(r,"clientMetadata");return i.U().next(s=>{const o=e.xi(s,18e5),a=s.filter(l=>-1===o.indexOf(l));return be.forEach(a,l=>i.delete(l.clientId)).next(()=>a)})}).catch(()=>[]);if(e.Vi)for(const r of t)e.Vi.removeItem(e.Oi(r.clientId))}})()}pi(){this.Ti=this.ui.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.mi().then(()=>this.Fi()).then(()=>this.pi()))}vi(e){return!!e&&e.ownerId===this.clientId}Si(e){return this.li?be.resolve(!0):k0(e).get("owner").next(t=>{if(null!==t&&this.Mi(t.leaseTimestampMs,5e3)&&!this.Ni(t.ownerId)){if(this.vi(t)&&this.networkEnabled)return!0;if(!this.vi(t)){if(!t.allowTabSynchronization)throw new He(Se.FAILED_PRECONDITION,$D);return!1}}return!(!this.networkEnabled||!this.inForeground)||lE(e).U().next(r=>void 0===this.xi(r,5e3).find(i=>!(this.clientId===i.clientId||!(!this.networkEnabled&&i.networkEnabled||!this.inForeground&&i.inForeground&&this.networkEnabled===i.networkEnabled))))}).next(t=>(this.isPrimary!==t&&Ke("IndexedDbPersistence",`Client ${t?"is":"is not"} eligible for a primary lease.`),t))}shutdown(){var e=this;return(0,E.A)(function*(){e.Kr=!1,e.Li(),e.Ti&&(e.Ti.cancel(),e.Ti=null),e.Bi(),e.ki(),yield e.Ri.runTransaction("shutdown","readwrite",["owner","clientMetadata"],t=>{const r=new hD(t,no.oe);return e.bi(r).next(()=>e.Ci(r))}),e.Ri.close(),e.qi()})()}xi(e,t){return e.filter(r=>this.Mi(r.updateTimeMs,t)&&!this.Ni(r.clientId))}Qi(){return this.runTransaction("getActiveClients","readonly",e=>lE(e).U().next(t=>this.xi(t,18e5).map(r=>r.clientId)))}get started(){return this.Kr}getGlobalsCache(){return this.$r}getMutationQueue(e,t){return iE.lt(e,this.serializer,t,this.referenceDelegate)}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new Nre(e,this.serializer.ct.databaseId)}getDocumentOverlayCache(e){return eE.lt(this.serializer,e)}getBundleCache(){return this.Gr}runTransaction(e,t,r){Ke("IndexedDbPersistence","Starting transaction:",e);const i="readonly"===t?"readonly":"readwrite",s=17===(l=this.hi)?Vne:16===l?Fne:15===l?dD:14===l?MB:13===l?PB:12===l?One:11===l?RB:void wt();var l;let o;return this.Ri.runTransaction(e,i,s,a=>(o=new hD(a,this.Qr?this.Qr.next():no.oe),"readwrite-primary"===t?this.wi(o).next(l=>!!l||this.Si(o)).next(l=>{if(!l)throw zr(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.ui.enqueueRetryable(()=>this.di(!1)),new He(Se.FAILED_PRECONDITION,IB);return r(o)}).next(l=>this.Di(o).next(()=>l)):this.Ki(o).next(()=>r(o)))).then(a=>(o.raiseOnCommittedEvent(),a))}Ki(e){return k0(e).get("owner").next(t=>{if(null!==t&&this.Mi(t.leaseTimestampMs,5e3)&&!this.Ni(t.ownerId)&&!this.vi(t)&&!(this.li||this.allowTabSynchronization&&t.allowTabSynchronization))throw new He(Se.FAILED_PRECONDITION,$D)})}Di(e){const t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return k0(e).put("owner",t)}static D(){return Pa.D()}bi(e){const t=k0(e);return t.get("owner").next(r=>this.vi(r)?(Ke("IndexedDbPersistence","Releasing primary lease."),t.delete("owner")):be.resolve())}Mi(e,t){const r=Date.now();return!(e<r-t||e>r&&(zr(`Detected an update time that is in the future: ${e} > ${r}`),1))}fi(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.Ii=()=>{this.ui.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.mi()))},this.document.addEventListener("visibilitychange",this.Ii),this.inForeground="visible"===this.document.visibilityState)}Bi(){this.Ii&&(this.document.removeEventListener("visibilitychange",this.Ii),this.Ii=null)}gi(){var e;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.Pi=()=>{this.Li();const t=/(?:Version|Mobile)\/1[456]/;(0,xn.nr)()&&(navigator.appVersion.match(t)||navigator.userAgent.match(t))&&this.ui.enterRestrictedMode(!0),this.ui.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.Pi))}ki(){this.Pi&&(this.window.removeEventListener("pagehide",this.Pi),this.Pi=null)}Ni(e){var t;try{const r=null!==(null===(t=this.Vi)||void 0===t?void 0:t.getItem(this.Oi(e)));return Ke("IndexedDbPersistence",`Client '${e}' ${r?"is":"is not"} zombied in LocalStorage`),r}catch(r){return zr("IndexedDbPersistence","Failed to get zombied client id.",r),!1}}Li(){if(this.Vi)try{this.Vi.setItem(this.Oi(this.clientId),String(Date.now()))}catch(e){zr("Failed to set zombie client id.",e)}}qi(){if(this.Vi)try{this.Vi.removeItem(this.Oi(this.clientId))}catch{}}Oi(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function k0(n){return di(n,"owner")}function lE(n){return di(n,"clientMetadata")}function HD(n,e){let t=n.projectId;return n.isDefaultDatabase||(t+="."+n.database),"firestore/"+e+"/"+t+"/"}class qD{constructor(e,t,r,i){this.targetId=e,this.fromCache=t,this.$i=r,this.Ui=i}static Wi(e,t){let r=tn(),i=tn();for(const s of t.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new qD(e,t.fromCache,r,i)}}class Yre{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class x8{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=(0,xn.nr)()?8:AB((0,xn.ZQ)())>0?6:4}initialize(e,t){this.Ji=e,this.indexManager=t,this.Gi=!0}getDocumentsMatchingQuery(e,t,r,i){const s={result:null};return this.Yi(e,t).next(o=>{s.result=o}).next(()=>{if(!s.result)return this.Zi(e,t,i,r).next(o=>{s.result=o})}).next(()=>{if(s.result)return;const o=new Yre;return this.Xi(e,t,o).next(a=>{if(s.result=a,this.zi)return this.es(e,t,o,a.size)})}).next(()=>s.result)}es(e,t,r,i){return r.documentReadCount<this.ji?(Qf()<=Ra.$b.DEBUG&&Ke("QueryEngine","SDK will not create cache indexes for query:",ip(t),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),be.resolve()):(Qf()<=Ra.$b.DEBUG&&Ke("QueryEngine","Query:",ip(t),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.Hi*i?(Qf()<=Ra.$b.DEBUG&&Ke("QueryEngine","The SDK decides to create cache indexes for query:",ip(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Wi(t))):be.resolve())}Yi(e,t){if(s4(t))return be.resolve(null);let r=Wi(t);return this.indexManager.getIndexType(e,r).next(i=>0===i?null:(null!==t.limit&&1===i&&(t=Gw(t,null,"F"),r=Wi(t)),this.indexManager.getDocumentsMatchingTarget(e,r).next(s=>{const o=tn(...s);return this.Ji.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,r).next(l=>{const c=this.ts(t,a);return this.ns(t,c,o,l.readTime)?this.Yi(e,Gw(t,null,"F")):this.rs(e,c,t,l)}))})))}Zi(e,t,r,i){return s4(t)||i.isEqual(Tt.min())?be.resolve(null):this.Ji.getDocuments(e,r).next(s=>{const o=this.ts(t,s);return this.ns(t,o,r,i)?be.resolve(null):(Qf()<=Ra.$b.DEBUG&&Ke("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),ip(t)),this.rs(e,o,t,wB(i,-1)).next(a=>a))})}ts(e,t){let r=new Wn(c4(e));return t.forEach((i,s)=>{v0(e,s)&&(r=r.add(s))}),r}ns(e,t,r,i){if(null===e.limit)return!1;if(r.size!==t.size)return!0;const s="F"===e.limitType?t.last():t.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Xi(e,t,r){return Qf()<=Ra.$b.DEBUG&&Ke("QueryEngine","Using full collection scan to execute query:",ip(t)),this.Ji.getDocumentsMatchingQuery(e,t,to.min(),r)}rs(e,t,r,i){return this.Ji.getDocumentsMatchingQuery(e,r,i).next(s=>(t.forEach(o=>{s=s.insert(o.key,o)}),s))}}class Xre{constructor(e,t,r,i){this.persistence=e,this.ss=t,this.serializer=i,this.os=new ar(Kt),this._s=new Rl(s=>Id(s),y0),this.us=new Map,this.cs=e.getRemoteDocumentCache(),this.Ur=e.getTargetCache(),this.Gr=e.getBundleCache(),this.ls(r)}ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new A8(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.os))}}function D8(n,e,t,r){return new Xre(n,e,t,r)}function T8(n,e){return GD.apply(this,arguments)}function GD(){return(GD=(0,E.A)(function*(n,e){const t=ut(n);return yield t.persistence.runTransaction("Handle user change","readonly",r=>{let i;return t.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,t.ls(e),t.mutationQueue.getAllMutationBatches(r))).next(s=>{const o=[],a=[];let l=tn();for(const c of i){o.push(c.batchId);for(const p of c.mutations)l=l.add(p.key)}for(const c of s){a.push(c.batchId);for(const p of c.mutations)l=l.add(p.key)}return t.localDocuments.getDocuments(r,l).next(c=>({hs:c,removedBatchIds:o,addedBatchIds:a}))})})})).apply(this,arguments)}function S8(n){const e=ut(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Ur.getLastRemoteSnapshotVersion(t))}function R8(n,e,t){let r=tn(),i=tn();return t.forEach(s=>r=r.add(s)),e.getEntries(n,r).next(s=>{let o=Fs();return t.forEach((a,l)=>{const c=s.get(a);l.isFoundDocument()!==c.isFoundDocument()&&(i=i.add(a)),l.isNoDocument()&&l.version.isEqual(Tt.min())?(e.removeEntry(a,l.readTime),o=o.insert(a,l)):!c.isValidDocument()||l.version.compareTo(c.version)>0||0===l.version.compareTo(c.version)&&c.hasPendingWrites?(e.addEntry(l),o=o.insert(a,l)):Ke("LocalStore","Ignoring outdated watch update for ",a,". Current version:",c.version," Watch version:",l.version)}),{Ps:o,Is:i}})}function eie(n,e){const t=ut(n);return t.persistence.runTransaction("Get next mutation batch","readonly",r=>(void 0===e&&(e=-1),t.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function gp(n,e){const t=ut(n);return t.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return t.Ur.getTargetData(r,e).next(s=>s?(i=s,be.resolve(i)):t.Ur.allocateTargetId(r).next(o=>(i=new Ml(e,o,"TargetPurposeListen",r.currentSequenceNumber),t.Ur.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=t.os.get(r.targetId);return(null===i||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(t.os=t.os.insert(r.targetId,r),t._s.set(e,r.targetId)),r})}function mp(n,e,t){return WD.apply(this,arguments)}function WD(){return(WD=(0,E.A)(function*(n,e,t){const r=ut(n),i=r.os.get(e),s=t?"readwrite":"readwrite-primary";try{t||(yield r.persistence.runTransaction("Release target",s,o=>r.persistence.referenceDelegate.removeTarget(o,i)))}catch(o){if(!Bu(o))throw o;Ke("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}r.os=r.os.remove(e),r._s.delete(i.target)})).apply(this,arguments)}function uE(n,e,t){const r=ut(n);let i=Tt.min(),s=tn();return r.persistence.runTransaction("Execute query","readwrite",o=>function(l,c,p){const m=ut(l),w=m._s.get(p);return void 0!==w?be.resolve(m.os.get(w)):m.Ur.getTargetData(c,p)}(r,o,Wi(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.Ur.getMatchingKeysForTargetId(o,a.targetId).next(l=>{s=l})}).next(()=>r.ss.getDocumentsMatchingQuery(o,e,t?i:Tt.min(),t?s:tn())).next(a=>(N8(r,u4(e),a),{documents:a,Ts:s})))}function P8(n,e){const t=ut(n),r=ut(t.Ur),i=t.os.get(e);return i?Promise.resolve(i.target):t.persistence.runTransaction("Get target data","readonly",s=>r.ot(s,e).next(o=>o?o.target:null))}function M8(n,e){const t=ut(n),r=t.us.get(e)||Tt.min();return t.persistence.runTransaction("Get new document changes","readonly",i=>t.cs.getAllFromCollectionGroup(i,e,wB(r,-1),Number.MAX_SAFE_INTEGER)).then(i=>(N8(t,e,i),i))}function N8(n,e,t){let r=n.us.get(e)||Tt.min();t.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),n.us.set(e,r)}function KD(){return(KD=(0,E.A)(function*(n,e,t,r){const i=ut(n);let s=tn(),o=Fs();for(const c of t){const p=e.Es(c.metadata.name);c.document&&(s=s.add(p));const m=e.ds(c);m.setReadTime(e.As(c.metadata.readTime)),o=o.insert(p,m)}const a=i.cs.newChangeBuffer({trackRemovals:!0}),l=yield gp(i,(p=r,Wi(np(pn.fromString(`__bundle__/docs/${p}`)))));var p;return i.persistence.runTransaction("Apply bundle documents","readwrite",c=>R8(c,a,o).next(p=>(a.apply(c),p)).next(p=>i.Ur.removeMatchingKeysForTargetId(c,l.targetId).next(()=>i.Ur.addMatchingKeys(c,s,l.targetId)).next(()=>i.localDocuments.getLocalViewOfDocuments(c,p.Ps,p.Is)).next(()=>p.Ps)))})).apply(this,arguments)}function nie(n,e){return QD.apply(this,arguments)}function QD(){return(QD=(0,E.A)(function*(n,e,t=tn()){const r=yield gp(n,Wi(ND(e.bundledQuery))),i=ut(n);return i.persistence.runTransaction("Save named query","readwrite",s=>{const o=Hr(e.readTime);if(r.snapshotVersion.compareTo(o)>=0)return i.Gr.saveNamedQuery(s,e);const a=r.withResumeToken(Sr.EMPTY_BYTE_STRING,o);return i.os=i.os.insert(a.targetId,a),i.Ur.updateTargetData(s,a).next(()=>i.Ur.removeMatchingKeysForTargetId(s,r.targetId)).next(()=>i.Ur.addMatchingKeys(s,t,r.targetId)).next(()=>i.Gr.saveNamedQuery(s,e))})})).apply(this,arguments)}function k8(n,e){return`firestore_clients_${n}_${e}`}function O8(n,e,t){let r=`firestore_mutations_${n}_${t}`;return e.isAuthenticated()&&(r+=`_${e.uid}`),r}function YD(n,e){return`firestore_targets_${n}_${e}`}class cE{constructor(e,t,r,i){this.user=e,this.batchId=t,this.state=r,this.error=i}static Rs(e,t,r){const i=JSON.parse(r);let s,o="object"==typeof i&&-1!==["pending","acknowledged","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return o&&i.error&&(o="string"==typeof i.error.message&&"string"==typeof i.error.code,o&&(s=new He(i.error.code,i.error.message))),o?new cE(e,t,i.state,s):(zr("SharedClientState",`Failed to parse mutation state for ID '${t}': ${r}`),null)}Vs(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class O0{constructor(e,t,r){this.targetId=e,this.state=t,this.error=r}static Rs(e,t){const r=JSON.parse(t);let i,s="object"==typeof r&&-1!==["not-current","current","rejected"].indexOf(r.state)&&(void 0===r.error||"object"==typeof r.error);return s&&r.error&&(s="string"==typeof r.error.message&&"string"==typeof r.error.code,s&&(i=new He(r.error.code,r.error.message))),s?new O0(e,r.state,i):(zr("SharedClientState",`Failed to parse target state for ID '${e}': ${t}`),null)}Vs(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class dE{constructor(e,t){this.clientId=e,this.activeTargetIds=t}static Rs(e,t){const r=JSON.parse(t);let i="object"==typeof r&&r.activeTargetIds instanceof Array,s=ED();for(let o=0;i&&o<r.activeTargetIds.length;++o)i=xB(r.activeTargetIds[o]),s=s.add(r.activeTargetIds[o]);return i?new dE(e,s):(zr("SharedClientState",`Failed to parse client data for instance '${e}': ${t}`),null)}}class XD{constructor(e,t){this.clientId=e,this.onlineState=t}static Rs(e){const t=JSON.parse(e);return"object"==typeof t&&-1!==["Unknown","Online","Offline"].indexOf(t.onlineState)&&"string"==typeof t.clientId?new XD(t.clientId,t.onlineState):(zr("SharedClientState",`Failed to parse online state: ${e}`),null)}}class ZD{constructor(){this.activeTargetIds=ED()}fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Vs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class JD{constructor(e,t,r,i,s){this.window=e,this.ui=t,this.persistenceKey=r,this.ps=i,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.ys=this.ws.bind(this),this.Ss=new ar(Kt),this.started=!1,this.bs=[];const o=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=s,this.Ds=k8(this.persistenceKey,this.ps),this.vs=`firestore_sequence_number_${this.persistenceKey}`,this.Ss=this.Ss.insert(this.ps,new ZD),this.Cs=new RegExp(`^firestore_clients_${o}_([^_]*)$`),this.Fs=new RegExp(`^firestore_mutations_${o}_(\\d+)(?:_(.*))?$`),this.Ms=new RegExp(`^firestore_targets_${o}_(\\d+)$`),this.xs=`firestore_online_state_${this.persistenceKey}`,this.Os=function(l){return`firestore_bundle_loaded_v2_${l}`}(this.persistenceKey),this.window.addEventListener("storage",this.ys)}static D(e){return!(!e||!e.localStorage)}start(){var e=this;return(0,E.A)(function*(){const t=yield e.syncEngine.Qi();for(const i of t){if(i===e.ps)continue;const s=e.getItem(k8(e.persistenceKey,i));if(s){const o=dE.Rs(i,s);o&&(e.Ss=e.Ss.insert(o.clientId,o))}}e.Ns();const r=e.storage.getItem(e.xs);if(r){const i=e.Ls(r);i&&e.Bs(i)}for(const i of e.bs)e.ws(i);e.bs=[],e.window.addEventListener("pagehide",()=>e.shutdown()),e.started=!0})()}writeSequenceNumber(e){this.setItem(this.vs,JSON.stringify(e))}getAllActiveQueryTargets(){return this.ks(this.Ss)}isActiveQueryTarget(e){let t=!1;return this.Ss.forEach((r,i)=>{i.activeTargetIds.has(e)&&(t=!0)}),t}addPendingMutation(e){this.qs(e,"pending")}updateMutationState(e,t,r){this.qs(e,t,r),this.Qs(e)}addLocalQueryTarget(e,t=!0){let r="not-current";if(this.isActiveQueryTarget(e)){const i=this.storage.getItem(YD(this.persistenceKey,e));if(i){const s=O0.Rs(e,i);s&&(r=s.state)}}return t&&this.Ks.fs(e),this.Ns(),r}removeLocalQueryTarget(e){this.Ks.gs(e),this.Ns()}isLocalQueryTarget(e){return this.Ks.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(YD(this.persistenceKey,e))}updateQueryState(e,t,r){this.$s(e,t,r)}handleUserChange(e,t,r){t.forEach(i=>{this.Qs(i)}),this.currentUser=e,r.forEach(i=>{this.addPendingMutation(i)})}setOnlineState(e){this.Us(e)}notifyBundleLoaded(e){this.Ws(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.ys),this.removeItem(this.Ds),this.started=!1)}getItem(e){const t=this.storage.getItem(e);return Ke("SharedClientState","READ",e,t),t}setItem(e,t){Ke("SharedClientState","SET",e,t),this.storage.setItem(e,t)}removeItem(e){Ke("SharedClientState","REMOVE",e),this.storage.removeItem(e)}ws(e){var t=this;const r=e;if(r.storageArea===this.storage){if(Ke("SharedClientState","EVENT",r.key,r.newValue),r.key===this.Ds)return void zr("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.ui.enqueueRetryable((0,E.A)(function*(){if(t.started){if(null!==r.key)if(t.Cs.test(r.key)){if(null==r.newValue){const i=t.Gs(r.key);return t.zs(i,null)}{const i=t.js(r.key,r.newValue);if(i)return t.zs(i.clientId,i)}}else if(t.Fs.test(r.key)){if(null!==r.newValue){const i=t.Hs(r.key,r.newValue);if(i)return t.Js(i)}}else if(t.Ms.test(r.key)){if(null!==r.newValue){const i=t.Ys(r.key,r.newValue);if(i)return t.Zs(i)}}else if(r.key===t.xs){if(null!==r.newValue){const i=t.Ls(r.newValue);if(i)return t.Bs(i)}}else if(r.key===t.vs){const i=function(o){let a=no.oe;if(null!=o)try{const l=JSON.parse(o);At("number"==typeof l),a=l}catch(l){zr("SharedClientState","Failed to read sequence number from WebStorage",l)}return a}(r.newValue);i!==no.oe&&t.sequenceNumberHandler(i)}else if(r.key===t.Os){const i=t.Xs(r.newValue);yield Promise.all(i.map(s=>t.syncEngine.eo(s)))}}else t.bs.push(r)}))}}get Ks(){return this.Ss.get(this.ps)}Ns(){this.setItem(this.Ds,this.Ks.Vs())}qs(e,t,r){const i=new cE(this.currentUser,e,t,r),s=O8(this.persistenceKey,this.currentUser,e);this.setItem(s,i.Vs())}Qs(e){const t=O8(this.persistenceKey,this.currentUser,e);this.removeItem(t)}Us(e){this.storage.setItem(this.xs,JSON.stringify({clientId:this.ps,onlineState:e}))}$s(e,t,r){const i=YD(this.persistenceKey,e),s=new O0(e,t,r);this.setItem(i,s.Vs())}Ws(e){const t=JSON.stringify(Array.from(e));this.setItem(this.Os,t)}Gs(e){const t=this.Cs.exec(e);return t?t[1]:null}js(e,t){const r=this.Gs(e);return dE.Rs(r,t)}Hs(e,t){const r=this.Fs.exec(e),i=Number(r[1]);return cE.Rs(new Ei(void 0!==r[2]?r[2]:null),i,t)}Ys(e,t){const r=this.Ms.exec(e),i=Number(r[1]);return O0.Rs(i,t)}Ls(e){return XD.Rs(e)}Xs(e){return JSON.parse(e)}Js(e){var t=this;return(0,E.A)(function*(){if(e.user.uid===t.currentUser.uid)return t.syncEngine.no(e.batchId,e.state,e.error);Ke("SharedClientState",`Ignoring mutation for non-active user ${e.user.uid}`)})()}Zs(e){return this.syncEngine.ro(e.targetId,e.state,e.error)}zs(e,t){const r=t?this.Ss.insert(e,t):this.Ss.remove(e),i=this.ks(this.Ss),s=this.ks(r),o=[],a=[];return s.forEach(l=>{i.has(l)||o.push(l)}),i.forEach(l=>{s.has(l)||a.push(l)}),this.syncEngine.io(o,a).then(()=>{this.Ss=r})}Bs(e){this.Ss.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}ks(e){let t=ED();return e.forEach((r,i)=>{t=t.unionWith(i.activeTargetIds)}),t}}class F8{constructor(){this.so=new ZD,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e,t=!0){return t&&this.so.fs(e),this.oo[e]||"not-current"}updateQueryState(e,t,r){this.oo[e]=t}removeLocalQueryTarget(e){this.so.gs(e)}isLocalQueryTarget(e){return this.so.activeTargetIds.has(e)}clearQueryState(e){delete this.oo[e]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(e){return this.so.activeTargetIds.has(e)}start(){return this.so=new ZD,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class rie{_o(e){}shutdown(){}}class V8{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(e){this.ho.push(e)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){Ke("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.ho)e(0)}lo(){Ke("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.ho)e(1)}static D(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let hE=null;function eT(){return null===hE?hE=268435456+Math.round(2147483648*Math.random()):hE++,"0x"+hE.toString(16)}const iie={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class sie{constructor(e){this.Io=e.Io,this.To=e.To}Eo(e){this.Ao=e}Ro(e){this.Vo=e}mo(e){this.fo=e}onMessage(e){this.po=e}close(){this.To()}send(e){this.Io(e)}yo(){this.Ao()}wo(){this.Vo()}So(e){this.fo(e)}bo(e){this.po(e)}}const Qi="WebChannelConnection";class oie extends class{constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const r=t.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.Do=r+"://"+t.host,this.vo=`projects/${i}/databases/${s}`,this.Co="(default)"===this.databaseId.database?`project_id=${i}`:`project_id=${i}&database_id=${s}`}get Fo(){return!1}Mo(t,r,i,s,o){const a=eT(),l=this.xo(t,r.toUriEncodedString());Ke("RestConnection",`Sending RPC '${t}' ${a}:`,l,i);const c={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(c,s,o),this.No(t,l,c,i).then(p=>(Ke("RestConnection",`Received RPC '${t}' ${a}: `,p),p),p=>{throw ks("RestConnection",`RPC '${t}' ${a} failed with error: `,p,"url: ",l,"request:",i),p})}Lo(t,r,i,s,o,a){return this.Mo(t,r,i,s,o)}Oo(t,r,i){t["X-Goog-Api-Client"]="gl-js/ fire/"+Kf,t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((s,o)=>t[o]=s),i&&i.headers.forEach((s,o)=>t[o]=s)}xo(t,r){return`${this.Do}/v1/${r}:${iie[t]}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}No(e,t,r,i){const s=eT();return new Promise((o,a)=>{const l=new uB;l.setWithCredentials(!0),l.listenOnce(dB.COMPLETE,()=>{try{switch(l.getLastErrorCode()){case kw.NO_ERROR:const p=l.getResponseJson();Ke(Qi,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(p)),o(p);break;case kw.TIMEOUT:Ke(Qi,`RPC '${e}' ${s} timed out`),a(new He(Se.DEADLINE_EXCEEDED,"Request time out"));break;case kw.HTTP_ERROR:const m=l.getStatus();if(Ke(Qi,`RPC '${e}' ${s} failed with status:`,m,"response text:",l.getResponseText()),m>0){let w=l.getResponseJson();Array.isArray(w)&&(w=w[0]);const A=w?.error;if(A&&A.status&&A.message){const D=function(N){const ee=N.toLowerCase().replace(/_/g,"-");return Object.values(Se).indexOf(ee)>=0?ee:Se.UNKNOWN}(A.status);a(new He(D,A.message))}else a(new He(Se.UNKNOWN,"Server responded with status "+l.getStatus()))}else a(new He(Se.UNAVAILABLE,"Connection failed."));break;default:wt()}}finally{Ke(Qi,`RPC '${e}' ${s} completed.`)}});const c=JSON.stringify(i);Ke(Qi,`RPC '${e}' ${s} sending request:`,i),l.send(t,"POST",c,r,15)})}Bo(e,t,r){const i=eT(),s=[this.Do,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=pB(),a=fB(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},c=this.longPollingOptions.timeoutSeconds;void 0!==c&&(l.longPollingTimeout=Math.round(1e3*c)),this.useFetchStreams&&(l.xmlHttpFactory=new cB({})),this.Oo(l.initMessageHeaders,t,r),l.encodeInitMessageHeaders=!0;const p=s.join("");Ke(Qi,`Creating RPC '${e}' stream ${i}: ${p}`,l);const m=o.createWebChannel(p,l);let w=!1,A=!1;const D=new sie({Io:N=>{A?Ke(Qi,`Not sending because RPC '${e}' stream ${i} is closed:`,N):(w||(Ke(Qi,`Opening RPC '${e}' stream ${i} transport.`),m.open(),w=!0),Ke(Qi,`RPC '${e}' stream ${i} sending:`,N),m.send(N))},To:()=>m.close()}),R=(N,ee,se)=>{N.listen(ee,ge=>{try{se(ge)}catch(Oe){setTimeout(()=>{throw Oe},0)}})};return R(m,a0.EventType.OPEN,()=>{A||(Ke(Qi,`RPC '${e}' stream ${i} transport opened.`),D.yo())}),R(m,a0.EventType.CLOSE,()=>{A||(A=!0,Ke(Qi,`RPC '${e}' stream ${i} transport closed`),D.So())}),R(m,a0.EventType.ERROR,N=>{A||(A=!0,ks(Qi,`RPC '${e}' stream ${i} transport errored:`,N),D.So(new He(Se.UNAVAILABLE,"The operation could not be completed")))}),R(m,a0.EventType.MESSAGE,N=>{var ee;if(!A){const se=N.data[0];At(!!se);const Oe=se.error||(null===(ee=se[0])||void 0===ee?void 0:ee.error);if(Oe){Ke(Qi,`RPC '${e}' stream ${i} received error:`,Oe);const et=Oe.status;let ot=function(te){const ue=ei[te];if(void 0!==ue)return T4(ue)}(et),J=Oe.message;void 0===ot&&(ot=Se.INTERNAL,J="Unknown error status: "+et+" with message "+Oe.message),A=!0,D.So(new He(ot,J)),m.close()}else Ke(Qi,`RPC '${e}' stream ${i} received:`,se),D.bo(se)}}),R(a,hB.STAT_EVENT,N=>{N.stat===sD.PROXY?Ke(Qi,`RPC '${e}' stream ${i} detected buffering proxy`):N.stat===sD.NOPROXY&&Ke(Qi,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{D.wo()},0),D}}function L8(){return typeof window<"u"?window:null}function fE(){return typeof document<"u"?document:null}function F0(n){return new pre(n,!0)}class tT{constructor(e,t,r=1e3,i=1.5,s=6e4){this.ui=e,this.timerId=t,this.ko=r,this.qo=i,this.Qo=s,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(e){this.cancel();const t=Math.floor(this.Ko+this.zo()),r=Math.max(0,Date.now()-this.Uo),i=Math.max(0,t-r);i>0&&Ke("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Ko} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,i,()=>(this.Uo=Date.now(),e())),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){null!==this.$o&&(this.$o.skipDelay(),this.$o=null)}cancel(){null!==this.$o&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}}class B8{constructor(e,t,r,i,s,o,a,l){this.ui=e,this.Ho=r,this.Jo=i,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new tT(e,t)}n_(){return 1===this.state||5===this.state||this.r_()}r_(){return 2===this.state||3===this.state}start(){this.e_=0,4!==this.state?this.auth():this.i_()}stop(){var e=this;return(0,E.A)(function*(){e.n_()&&(yield e.close(0))})()}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&null===this.Zo&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,()=>this.__()))}a_(e){this.u_(),this.stream.send(e)}__(){var e=this;return(0,E.A)(function*(){if(e.r_())return e.close(0)})()}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}close(e,t){var r=this;return(0,E.A)(function*(){r.u_(),r.c_(),r.t_.cancel(),r.Yo++,4!==e?r.t_.reset():t&&t.code===Se.RESOURCE_EXHAUSTED?(zr(t.toString()),zr("Using maximum backoff delay to prevent overloading the backend."),r.t_.Wo()):t&&t.code===Se.UNAUTHENTICATED&&3!==r.state&&(r.authCredentialsProvider.invalidateToken(),r.appCheckCredentialsProvider.invalidateToken()),null!==r.stream&&(r.l_(),r.stream.close(),r.stream=null),r.state=e,yield r.listener.mo(t)})()}l_(){}auth(){this.state=1;const e=this.h_(this.Yo),t=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Yo===t&&this.P_(r,i)},r=>{e(()=>{const i=new He(Se.UNKNOWN,"Fetching auth token failed: "+r.message);return this.I_(i)})})}P_(e,t){const r=this.h_(this.Yo);this.stream=this.T_(e,t),this.stream.Eo(()=>{r(()=>this.listener.Eo())}),this.stream.Ro(()=>{r(()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,()=>(this.r_()&&(this.state=3),Promise.resolve())),this.listener.Ro()))}),this.stream.mo(i=>{r(()=>this.I_(i))}),this.stream.onMessage(i=>{r(()=>1==++this.e_?this.E_(i):this.onNext(i))})}i_(){var e=this;this.state=5,this.t_.Go((0,E.A)(function*(){e.state=0,e.start()}))}I_(e){return Ke("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}h_(e){return t=>{this.ui.enqueueAndForget(()=>this.Yo===e?t():(Ke("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class aie extends B8{constructor(e,t,r,i,s,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,i,o),this.serializer=s}T_(e,t){return this.connection.Bo("Listen",e,t)}E_(e){return this.onNext(e)}onNext(e){this.t_.reset();const t=function yre(n,e){let t;if("targetChange"in e){const r="NO_CHANGE"===(c=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===c?1:"REMOVE"===c?2:"CURRENT"===c?3:"RESET"===c?4:wt(),i=e.targetChange.targetIds||[],s=function(c,p){return c.useProto3Json?(At(void 0===p||"string"==typeof p),Sr.fromBase64String(p||"")):(At(void 0===p||p instanceof Buffer||p instanceof Uint8Array),Sr.fromUint8Array(p||new Uint8Array))}(n,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(c){const p=void 0===c.code?Se.UNKNOWN:T4(c.code);return new He(p,c.message||"")}(o);t=new N4(r,i,s,a||null)}else if("documentChange"in e){const r=e.documentChange,i=Oa(n,r.document.name),s=Hr(r.document.updateTime),o=r.document.createTime?Hr(r.document.createTime):Tt.min(),a=new Oi({mapValue:{fields:r.document.fields}}),l=dr.newFoundDocument(i,s,o,a);t=new Xw(r.targetIds||[],r.removedTargetIds||[],l.key,l)}else if("documentDelete"in e){const r=e.documentDelete,i=Oa(n,r.document),s=r.readTime?Hr(r.readTime):Tt.min(),o=dr.newNoDocument(i,s);t=new Xw([],r.removedTargetIds||[],o.key,o)}else if("documentRemove"in e){const r=e.documentRemove,i=Oa(n,r.document);t=new Xw([],r.removedTargetIds||[],i,null)}else{if(!("filter"in e))return wt();{const r=e.filter,{count:i=0,unchangedNames:s}=r,o=new lre(i,s);t=new M4(r.targetId,o)}}var c;return t}(this.serializer,e),r=function(s){if(!("targetChange"in s))return Tt.min();const o=s.targetChange;return o.targetIds&&o.targetIds.length?Tt.min():o.readTime?Hr(o.readTime):Tt.min()}(e);return this.listener.d_(t,r)}A_(e){const t={};t.database=PD(this.serializer),t.addTarget=function(s,o){let a;const l=o.target;if(a=Hw(l)?{documents:H4(s,l)}:{query:Zw(s,l)._t},a.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){a.resumeToken=V4(s,o.resumeToken);const c=TD(s,o.expectedCount);null!==c&&(a.expectedCount=c)}else if(o.snapshotVersion.compareTo(Tt.min())>0){a.readTime=up(s,o.snapshotVersion.toTimestamp());const c=TD(s,o.expectedCount);null!==c&&(a.expectedCount=c)}return a}(this.serializer,e);const r=function vre(n,e){const t=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return wt()}}(e.purpose);return null==t?null:{"goog-listen-tags":t}}(0,e);r&&(t.labels=r),this.a_(t)}R_(e){const t={};t.database=PD(this.serializer),t.removeTarget=e,this.a_(t)}}class lie extends B8{constructor(e,t,r,i,s,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,i,o),this.serializer=s}get V_(){return this.e_>0}start(){this.lastStreamToken=void 0,super.start()}l_(){this.V_&&this.m_([])}T_(e,t){return this.connection.Bo("Write",e,t)}E_(e){return At(!!e.streamToken),this.lastStreamToken=e.streamToken,At(!e.writeResults||0===e.writeResults.length),this.listener.f_()}onNext(e){At(!!e.streamToken),this.lastStreamToken=e.streamToken,this.t_.reset();const t=function _re(n,e){return n&&n.length>0?(At(void 0!==e),n.map(t=>function(i,s){let o=Hr(i.updateTime?i.updateTime:s);return o.isEqual(Tt.min())&&(o=Hr(s)),new sre(o,i.transformResults||[])}(t,e))):[]}(e.writeResults,e.commitTime),r=Hr(e.commitTime);return this.listener.g_(r,t)}p_(){const e={};e.database=PD(this.serializer),this.a_(e)}m_(e){const t={streamToken:this.lastStreamToken,writes:e.map(r=>T0(this.serializer,r))};this.a_(t)}}class uie extends class{}{constructor(e,t,r,i){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=r,this.serializer=i,this.y_=!1}w_(){if(this.y_)throw new He(Se.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(e,t,r,i){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.Mo(e,RD(t,r),i,s,o)).catch(s=>{throw"FirebaseError"===s.name?(s.code===Se.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new He(Se.UNKNOWN,s.toString())})}Lo(e,t,r,i,s){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,a])=>this.connection.Lo(e,RD(t,r),i,o,a,s)).catch(o=>{throw"FirebaseError"===o.name?(o.code===Se.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new He(Se.UNKNOWN,o.toString())})}terminate(){this.y_=!0,this.connection.terminate()}}class cie{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){0===this.S_&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve())))}M_(e){"Online"===this.state?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.C_("Offline")))}set(e){this.x_(),this.S_=0,"Online"===e&&(this.D_=!1),this.C_(e)}C_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}F_(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?(zr(t),this.D_=!1):Ke("OnlineStateTracker",t)}x_(){null!==this.b_&&(this.b_.cancel(),this.b_=null)}}class die{constructor(e,t,r,i,s){var o=this;this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=s,this.k_._o(a=>{r.enqueueAndForget((0,E.A)(function*(){var l;Yu(o)&&(Ke("RemoteStore","Restarting streams for network reachability change."),yield(l=(0,E.A)(function*(p){const m=ut(p);m.L_.add(4),yield yp(m),m.q_.set("Unknown"),m.L_.delete(4),yield V0(m)}),function c(p){return l.apply(this,arguments)})(o))}))}),this.q_=new cie(r,i)}}function V0(n){return nT.apply(this,arguments)}function nT(){return(nT=(0,E.A)(function*(n){if(Yu(n))for(const e of n.B_)yield e(!0)})).apply(this,arguments)}function yp(n){return rT.apply(this,arguments)}function rT(){return(rT=(0,E.A)(function*(n){for(const e of n.B_)yield e(!1)})).apply(this,arguments)}function pE(n,e){const t=ut(n);t.N_.has(e.targetId)||(t.N_.set(e.targetId,e),oT(t)?sT(t):wp(t).r_()&&iT(t,e))}function _p(n,e){const t=ut(n),r=wp(t);t.N_.delete(e),r.r_()&&U8(t,e),0===t.N_.size&&(r.r_()?r.o_():Yu(t)&&t.q_.set("Unknown"))}function iT(n,e){if(n.Q_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Tt.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}wp(n).A_(e)}function U8(n,e){n.Q_.xe(e),wp(n).R_(e)}function sT(n){n.Q_=new cre({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>n.N_.get(e)||null,tt:()=>n.datastore.serializer.databaseId}),wp(n).start(),n.q_.v_()}function oT(n){return Yu(n)&&!wp(n).n_()&&n.N_.size>0}function Yu(n){return 0===ut(n).L_.size}function j8(n){n.Q_=void 0}function hie(n){return aT.apply(this,arguments)}function aT(){return(aT=(0,E.A)(function*(n){n.q_.set("Online")})).apply(this,arguments)}function fie(n){return lT.apply(this,arguments)}function lT(){return(lT=(0,E.A)(function*(n){n.N_.forEach((e,t)=>{iT(n,e)})})).apply(this,arguments)}function pie(n,e){return uT.apply(this,arguments)}function uT(){return(uT=(0,E.A)(function*(n,e){j8(n),oT(n)?(n.q_.M_(e),sT(n)):n.q_.set("Unknown")})).apply(this,arguments)}function gie(n,e,t){return cT.apply(this,arguments)}function cT(){return cT=(0,E.A)(function*(n,e,t){if(n.q_.set("Online"),e instanceof N4&&2===e.state&&e.cause)try{yield(r=(0,E.A)(function*(s,o){const a=o.cause;for(const l of o.targetIds)s.N_.has(l)&&(yield s.remoteSyncer.rejectListen(l,a),s.N_.delete(l),s.Q_.removeTarget(l))}),function i(s,o){return r.apply(this,arguments)})(n,e)}catch(r){Ke("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield gE(n,r)}else if(e instanceof Xw?n.Q_.Ke(e):e instanceof M4?n.Q_.He(e):n.Q_.We(e),!t.isEqual(Tt.min()))try{const r=yield S8(n.localStore);t.compareTo(r)>=0&&(yield function(s,o){const a=s.Q_.rt(o);return a.targetChanges.forEach((l,c)=>{if(l.resumeToken.approximateByteSize()>0){const p=s.N_.get(c);p&&s.N_.set(c,p.withResumeToken(l.resumeToken,o))}}),a.targetMismatches.forEach((l,c)=>{const p=s.N_.get(l);if(!p)return;s.N_.set(l,p.withResumeToken(Sr.EMPTY_BYTE_STRING,p.snapshotVersion)),U8(s,l);const m=new Ml(p.target,l,c,p.sequenceNumber);iT(s,m)}),s.remoteSyncer.applyRemoteEvent(a)}(n,t))}catch(r){Ke("RemoteStore","Failed to raise snapshot:",r),yield gE(n,r)}var r}),cT.apply(this,arguments)}function gE(n,e,t){return dT.apply(this,arguments)}function dT(){return(dT=(0,E.A)(function*(n,e,t){if(!Bu(e))throw e;n.L_.add(1),yield yp(n),n.q_.set("Offline"),t||(t=()=>S8(n.localStore)),n.asyncQueue.enqueueRetryable((0,E.A)(function*(){Ke("RemoteStore","Retrying IndexedDB access"),yield t(),n.L_.delete(1),yield V0(n)}))})).apply(this,arguments)}function $8(n,e){return e().catch(t=>gE(n,t,e))}function vp(n){return hT.apply(this,arguments)}function hT(){return(hT=(0,E.A)(function*(n){const e=ut(n),t=Xu(e);let r=e.O_.length>0?e.O_[e.O_.length-1].batchId:-1;for(;mie(e);)try{const i=yield eie(e.localStore,r);if(null===i){0===e.O_.length&&t.o_();break}r=i.batchId,yie(e,i)}catch(i){yield gE(e,i)}z8(e)&&H8(e)})).apply(this,arguments)}function mie(n){return Yu(n)&&n.O_.length<10}function yie(n,e){n.O_.push(e);const t=Xu(n);t.r_()&&t.V_&&t.m_(e.mutations)}function z8(n){return Yu(n)&&!Xu(n).n_()&&n.O_.length>0}function H8(n){Xu(n).start()}function _ie(n){return fT.apply(this,arguments)}function fT(){return(fT=(0,E.A)(function*(n){Xu(n).p_()})).apply(this,arguments)}function vie(n){return pT.apply(this,arguments)}function pT(){return(pT=(0,E.A)(function*(n){const e=Xu(n);for(const t of n.O_)e.m_(t.mutations)})).apply(this,arguments)}function wie(n,e,t){return gT.apply(this,arguments)}function gT(){return(gT=(0,E.A)(function*(n,e,t){const r=n.O_.shift(),i=CD.from(r,e,t);yield $8(n,()=>n.remoteSyncer.applySuccessfulWrite(i)),yield vp(n)})).apply(this,arguments)}function Eie(n,e){return mT.apply(this,arguments)}function mT(){return mT=(0,E.A)(function*(n,e){var t;e&&Xu(n).V_&&(yield(t=(0,E.A)(function*(i,s){if(D4(a=s.code)&&a!==Se.ABORTED){const o=i.O_.shift();Xu(i).s_(),yield $8(i,()=>i.remoteSyncer.rejectFailedWrite(o.batchId,s)),yield vp(i)}var a}),function r(i,s){return t.apply(this,arguments)})(n,e)),z8(n)&&H8(n)}),mT.apply(this,arguments)}function q8(n,e){return yT.apply(this,arguments)}function yT(){return(yT=(0,E.A)(function*(n,e){const t=ut(n);t.asyncQueue.verifyOperationInProgress(),Ke("RemoteStore","RemoteStore received new credentials");const r=Yu(t);t.L_.add(3),yield yp(t),r&&t.q_.set("Unknown"),yield t.remoteSyncer.handleCredentialChange(e),t.L_.delete(3),yield V0(t)})).apply(this,arguments)}function _T(n,e){return vT.apply(this,arguments)}function vT(){return(vT=(0,E.A)(function*(n,e){const t=ut(n);e?(t.L_.delete(2),yield V0(t)):e||(t.L_.add(2),yield yp(t),t.q_.set("Unknown"))})).apply(this,arguments)}function wp(n){return n.K_||(n.K_=function(t,r,i){const s=ut(t);return s.w_(),new aie(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(n.datastore,n.asyncQueue,{Eo:hie.bind(null,n),Ro:fie.bind(null,n),mo:pie.bind(null,n),d_:gie.bind(null,n)}),n.B_.push(function(){var e=(0,E.A)(function*(t){t?(n.K_.s_(),oT(n)?sT(n):n.q_.set("Unknown")):(yield n.K_.stop(),j8(n))});return function(t){return e.apply(this,arguments)}}())),n.K_}function Xu(n){return n.U_||(n.U_=function(t,r,i){const s=ut(t);return s.w_(),new lie(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(n.datastore,n.asyncQueue,{Eo:()=>Promise.resolve(),Ro:_ie.bind(null,n),mo:Eie.bind(null,n),f_:vie.bind(null,n),g_:wie.bind(null,n)}),n.B_.push(function(){var e=(0,E.A)(function*(t){t?(n.U_.s_(),yield vp(n)):(yield n.U_.stop(),n.O_.length>0&&(Ke("RemoteStore",`Stopping write stream with ${n.O_.length} pending writes`),n.O_=[]))});return function(t){return e.apply(this,arguments)}}())),n.U_}class wT{constructor(e,t,r,i,s){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new ci,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,r,i,s){const o=Date.now()+r,a=new wT(e,t,o,i,s);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new He(Se.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Ep(n,e){if(zr("AsyncQueue",`${e}: ${n}`),Bu(n))return new He(Se.UNAVAILABLE,`${e}: ${n}`);throw n}class Ip{constructor(e){this.comparator=e?(t,r)=>e(t,r)||dt.comparator(t.key,r.key):(t,r)=>dt.comparator(t.key,r.key),this.keyedMap=w0(),this.sortedSet=new ar(this.comparator)}static emptySet(e){return new Ip(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,r)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Ip)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){const i=t.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const r=new Ip;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}}class G8{constructor(){this.W_=new ar(dt.comparator)}track(e){const t=e.doc.key,r=this.W_.get(t);r?0!==e.type&&3===r.type?this.W_=this.W_.insert(t,e):3===e.type&&1!==r.type?this.W_=this.W_.insert(t,{type:r.type,doc:e.doc}):2===e.type&&2===r.type?this.W_=this.W_.insert(t,{type:2,doc:e.doc}):2===e.type&&0===r.type?this.W_=this.W_.insert(t,{type:0,doc:e.doc}):1===e.type&&0===r.type?this.W_=this.W_.remove(t):1===e.type&&2===r.type?this.W_=this.W_.insert(t,{type:1,doc:r.doc}):0===e.type&&1===r.type?this.W_=this.W_.insert(t,{type:2,doc:e.doc}):wt():this.W_=this.W_.insert(t,e)}G_(){const e=[];return this.W_.inorderTraversal((t,r)=>{e.push(r)}),e}}class bp{constructor(e,t,r,i,s,o,a,l,c){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=l,this.hasCachedResults=c}static fromInitialDocuments(e,t,r,i,s){const o=[];return t.forEach(a=>{o.push({type:0,doc:a})}),new bp(e,t,Ip.emptySet(t),o,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&_0(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let i=0;i<t.length;i++)if(t[i].type!==r[i].type||!t[i].doc.isEqual(r[i].doc))return!1;return!0}}class Iie{constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some(e=>e.J_())}}class bie{constructor(){this.queries=W8(),this.onlineState="Unknown",this.Y_=new Set}terminate(){!function(t,r){const i=ut(t),s=i.queries;i.queries=W8(),s.forEach((o,a)=>{for(const l of a.j_)l.onError(r)})}(this,new He(Se.ABORTED,"Firestore shutting down"))}}function W8(){return new Rl(n=>l4(n),_0)}function ET(n,e){return IT.apply(this,arguments)}function IT(){return(IT=(0,E.A)(function*(n,e){const t=ut(n);let r=3;const i=e.query;let s=t.queries.get(i);s?!s.H_()&&e.J_()&&(r=2):(s=new Iie,r=e.J_()?0:1);try{switch(r){case 0:s.z_=yield t.onListen(i,!0);break;case 1:s.z_=yield t.onListen(i,!1);break;case 2:yield t.onFirstRemoteStoreListen(i)}}catch(o){const a=Ep(o,`Initialization of query '${ip(e.query)}' failed`);return void e.onError(a)}t.queries.set(i,s),s.j_.push(e),e.Z_(t.onlineState),s.z_&&e.X_(s.z_)&&CT(t)})).apply(this,arguments)}function bT(n,e){return AT.apply(this,arguments)}function AT(){return(AT=(0,E.A)(function*(n,e){const t=ut(n),r=e.query;let i=3;const s=t.queries.get(r);if(s){const o=s.j_.indexOf(e);o>=0&&(s.j_.splice(o,1),0===s.j_.length?i=e.J_()?0:1:!s.H_()&&e.J_()&&(i=2))}switch(i){case 0:return t.queries.delete(r),t.onUnlisten(r,!0);case 1:return t.queries.delete(r),t.onUnlisten(r,!1);case 2:return t.onLastRemoteStoreUnlisten(r);default:return}})).apply(this,arguments)}function Aie(n,e){const t=ut(n);let r=!1;for(const i of e){const o=t.queries.get(i.query);if(o){for(const a of o.j_)a.X_(i)&&(r=!0);o.z_=i}}r&&CT(t)}function Cie(n,e,t){const r=ut(n),i=r.queries.get(e);if(i)for(const s of i.j_)s.onError(t);r.queries.delete(e)}function CT(n){n.Y_.forEach(e=>{e.next()})}var xT,K8;(K8=xT||(xT={})).ea="default",K8.Cache="cache";class DT{constructor(e,t,r){this.query=e,this.ta=t,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=r||{}}X_(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)3!==i.type&&r.push(i);e=new bp(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.na?this.ia(e)&&(this.ta.next(e),t=!0):this.sa(e,this.onlineState)&&(this.oa(e),t=!0),this.ra=e,t}onError(e){this.ta.error(e)}Z_(e){this.onlineState=e;let t=!1;return this.ra&&!this.na&&this.sa(this.ra,e)&&(this.oa(this.ra),t=!0),t}sa(e,t){return!e.fromCache||!this.J_()||(!this.options._a||!("Offline"!==t))&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}ia(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.ra&&this.ra.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}oa(e){e=bp.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.na=!0,this.ta.next(e)}J_(){return this.options.source!==xT.Cache}}class xie{constructor(e,t){this.aa=e,this.byteLength=t}ua(){return"metadata"in this.aa}}class Q8{constructor(e){this.serializer=e}Es(e){return Oa(this.serializer,e)}ds(e){return e.metadata.exists?z4(this.serializer,e.document,!1):dr.newNoDocument(this.Es(e.metadata.name),this.As(e.metadata.readTime))}As(e){return Hr(e)}}class Die{constructor(e,t,r){this.ca=e,this.localStore=t,this.serializer=r,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=Y8(e)}la(e){this.progress.bytesLoaded+=e.byteLength;let t=this.progress.documentsLoaded;if(e.aa.namedQuery)this.queries.push(e.aa.namedQuery);else if(e.aa.documentMetadata){this.documents.push({metadata:e.aa.documentMetadata}),e.aa.documentMetadata.exists||++t;const r=pn.fromString(e.aa.documentMetadata.name);this.collectionGroups.add(r.get(r.length-2))}else e.aa.document&&(this.documents[this.documents.length-1].document=e.aa.document,++t);return t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}ha(e){const t=new Map,r=new Q8(this.serializer);for(const i of e)if(i.metadata.queries){const s=r.Es(i.metadata.name);for(const o of i.metadata.queries){const a=(t.get(o)||tn()).add(s);t.set(o,a)}}return t}complete(){var e=this;return(0,E.A)(function*(){const t=yield function tie(n,e,t,r){return KD.apply(this,arguments)}(e.localStore,new Q8(e.serializer),e.documents,e.ca.id),r=e.ha(e.documents);for(const i of e.queries)yield nie(e.localStore,i,r.get(i.name));return e.progress.taskState="Success",{progress:e.progress,Pa:e.collectionGroups,Ia:t}})()}}function Y8(n){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:n.totalDocuments,totalBytes:n.totalBytes}}class X8{constructor(e){this.key=e}}class Z8{constructor(e){this.key=e}}class J8{constructor(e,t){this.query=e,this.Ta=t,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=tn(),this.mutatedKeys=tn(),this.Aa=c4(e),this.Ra=new Ip(this.Aa)}get Va(){return this.Ta}ma(e,t){const r=t?t.fa:new G8,i=t?t.Ra:this.Ra;let s=t?t.mutatedKeys:this.mutatedKeys,o=i,a=!1;const l="F"===this.query.limitType&&i.size===this.query.limit?i.last():null,c="L"===this.query.limitType&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((p,m)=>{const w=i.get(p),A=v0(this.query,m)?m:null,D=!!w&&this.mutatedKeys.has(w.key),R=!!A&&(A.hasLocalMutations||this.mutatedKeys.has(A.key)&&A.hasCommittedMutations);let N=!1;w&&A?w.data.isEqual(A.data)?D!==R&&(r.track({type:3,doc:A}),N=!0):this.ga(w,A)||(r.track({type:2,doc:A}),N=!0,(l&&this.Aa(A,l)>0||c&&this.Aa(A,c)<0)&&(a=!0)):!w&&A?(r.track({type:0,doc:A}),N=!0):w&&!A&&(r.track({type:1,doc:w}),N=!0,(l||c)&&(a=!0)),N&&(A?(o=o.add(A),s=R?s.add(p):s.delete(p)):(o=o.delete(p),s=s.delete(p)))}),null!==this.query.limit)for(;o.size>this.query.limit;){const p="F"===this.query.limitType?o.last():o.first();o=o.delete(p.key),s=s.delete(p.key),r.track({type:1,doc:p})}return{Ra:o,fa:r,ns:a,mutatedKeys:s}}ga(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r,i){const s=this.Ra;this.Ra=e.Ra,this.mutatedKeys=e.mutatedKeys;const o=e.fa.G_();o.sort((p,m)=>function(A,D){const R=N=>{switch(N){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return wt()}};return R(A)-R(D)}(p.type,m.type)||this.Aa(p.doc,m.doc)),this.pa(r),i=null!=i&&i;const a=t&&!i?this.ya():[],l=0===this.da.size&&this.current&&!i?1:0,c=l!==this.Ea;return this.Ea=l,0!==o.length||c?{snapshot:new bp(this.query,e.Ra,s,o,e.mutatedKeys,0===l,c,!1,!!r&&r.resumeToken.approximateByteSize()>0),wa:a}:{wa:a}}Z_(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new G8,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(e){return!this.Ta.has(e)&&!!this.Ra.has(e)&&!this.Ra.get(e).hasLocalMutations}pa(e){e&&(e.addedDocuments.forEach(t=>this.Ta=this.Ta.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Ta=this.Ta.delete(t)),this.current=e.current)}ya(){if(!this.current)return[];const e=this.da;this.da=tn(),this.Ra.forEach(r=>{this.Sa(r.key)&&(this.da=this.da.add(r.key))});const t=[];return e.forEach(r=>{this.da.has(r)||t.push(new Z8(r))}),this.da.forEach(r=>{e.has(r)||t.push(new X8(r))}),t}ba(e){this.Ta=e.Ts,this.da=tn();const t=this.ma(e.documents);return this.applyChanges(t,!0)}Da(){return bp.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,0===this.Ea,this.hasCachedResults)}}class Tie{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}}class Sie{constructor(e){this.key=e,this.va=!1}}class Rie{constructor(e,t,r,i,s,o){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.Ca={},this.Fa=new Rl(a=>l4(a),_0),this.Ma=new Map,this.xa=new Set,this.Oa=new ar(dt.comparator),this.Na=new Map,this.La=new UD,this.Ba={},this.ka=new Map,this.qa=Rd.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return!0===this.Qa}}function Pie(n,e){return TT.apply(this,arguments)}function TT(){return(TT=(0,E.A)(function*(n,e,t=!0){const r=mE(n);let i;const s=r.Fa.get(e);return s?(r.sharedClientState.addLocalQueryTarget(s.targetId),i=s.view.Da()):i=yield e3(r,e,t,!0),i})).apply(this,arguments)}function Mie(n,e){return ST.apply(this,arguments)}function ST(){return(ST=(0,E.A)(function*(n,e){const t=mE(n);yield e3(t,e,!0,!1)})).apply(this,arguments)}function e3(n,e,t,r){return RT.apply(this,arguments)}function RT(){return(RT=(0,E.A)(function*(n,e,t,r){const i=yield gp(n.localStore,Wi(e)),s=i.targetId,o=n.sharedClientState.addLocalQueryTarget(s,t);let a;return r&&(a=yield PT(n,e,s,"current"===o,i.resumeToken)),n.isPrimaryClient&&t&&pE(n.remoteStore,i),a})).apply(this,arguments)}function PT(n,e,t,r,i){return MT.apply(this,arguments)}function MT(){return MT=(0,E.A)(function*(n,e,t,r,i){n.Ka=(m,w,A)=>{return(D=(0,E.A)(function*(N,ee,se,ge){let Oe=ee.view.ma(se);Oe.ns&&(Oe=yield uE(N.localStore,ee.query,!1).then(({documents:j})=>ee.view.ma(j,Oe)));const et=ge&&ge.targetChanges.get(ee.targetId),ot=ge&&null!=ge.targetMismatches.get(ee.targetId),J=ee.view.applyChanges(Oe,N.isPrimaryClient,et,ot);return zT(N,ee.targetId,J.wa),J.snapshot}),function R(N,ee,se,ge){return D.apply(this,arguments)})(n,m,w,A);var D};const s=yield uE(n.localStore,e,!0),o=new J8(e,s.Ts),a=o.ma(s.documents),l=x0.createSynthesizedTargetChangeForCurrentChange(t,r&&"Offline"!==n.onlineState,i),c=o.applyChanges(a,n.isPrimaryClient,l);zT(n,t,c.wa);const p=new Tie(e,t,o);return n.Fa.set(e,p),n.Ma.has(t)?n.Ma.get(t).push(e):n.Ma.set(t,[e]),c.snapshot}),MT.apply(this,arguments)}function Nie(n,e,t){return NT.apply(this,arguments)}function NT(){return(NT=(0,E.A)(function*(n,e,t){const r=ut(n),i=r.Fa.get(e),s=r.Ma.get(i.targetId);if(s.length>1)return r.Ma.set(i.targetId,s.filter(o=>!_0(o,e))),void r.Fa.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||(yield mp(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),t&&_p(r.remoteStore,i.targetId),Ap(r,i.targetId)}).catch(Lu))):(Ap(r,i.targetId),yield mp(r.localStore,i.targetId,!0))})).apply(this,arguments)}function kie(n,e){return kT.apply(this,arguments)}function kT(){return(kT=(0,E.A)(function*(n,e){const t=ut(n),r=t.Fa.get(e),i=t.Ma.get(r.targetId);t.isPrimaryClient&&1===i.length&&(t.sharedClientState.removeLocalQueryTarget(r.targetId),_p(t.remoteStore,r.targetId))})).apply(this,arguments)}function OT(){return(OT=(0,E.A)(function*(n,e,t){const r=eS(n);try{const i=yield function(o,a){const l=ut(o),c=vr.now(),p=a.reduce((A,D)=>A.add(D.key),tn());let m,w;return l.persistence.runTransaction("Locally write mutations","readwrite",A=>{let D=Fs(),R=tn();return l.cs.getEntries(A,p).next(N=>{D=N,D.forEach((ee,se)=>{se.isValidDocument()||(R=R.add(ee))})}).next(()=>l.localDocuments.getOverlayedDocuments(A,D)).next(N=>{m=N;const ee=[];for(const se of a){const ge=are(se,m.get(se.key).overlayedDocument);null!=ge&&ee.push(new Pl(se.key,ge,GB(ge.value.mapValue),Er.exists(!0)))}return l.mutationQueue.addMutationBatch(A,c,ee,a)}).next(N=>{w=N;const ee=N.applyToLocalDocumentSet(m,R);return l.documentOverlayCache.saveOverlays(A,N.batchId,ee)})}).then(()=>({batchId:w.batchId,changes:h4(m)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(o,a,l){let c=o.Ba[o.currentUser.toKey()];c||(c=new ar(Kt)),c=c.insert(a,l),o.Ba[o.currentUser.toKey()]=c}(r,i.batchId,t),yield Nl(r,i.changes),yield vp(r.remoteStore)}catch(i){const s=Ep(i,"Failed to persist write");t.reject(s)}})).apply(this,arguments)}function t3(n,e){return FT.apply(this,arguments)}function FT(){return(FT=(0,E.A)(function*(n,e){const t=ut(n);try{const r=yield function Jre(n,e){const t=ut(n),r=e.snapshotVersion;let i=t.os;return t.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const o=t.cs.newChangeBuffer({trackRemovals:!0});i=t.os;const a=[];e.targetChanges.forEach((p,m)=>{const w=i.get(m);if(!w)return;a.push(t.Ur.removeMatchingKeys(s,p.removedDocuments,m).next(()=>t.Ur.addMatchingKeys(s,p.addedDocuments,m)));let A=w.withSequenceNumber(s.currentSequenceNumber);var R,N,ee;null!==e.targetMismatches.get(m)?A=A.withResumeToken(Sr.EMPTY_BYTE_STRING,Tt.min()).withLastLimboFreeSnapshotVersion(Tt.min()):p.resumeToken.approximateByteSize()>0&&(A=A.withResumeToken(p.resumeToken,r)),i=i.insert(m,A),N=A,ee=p,(0===(R=w).resumeToken.approximateByteSize()||N.snapshotVersion.toMicroseconds()-R.snapshotVersion.toMicroseconds()>=3e8||ee.addedDocuments.size+ee.modifiedDocuments.size+ee.removedDocuments.size>0)&&a.push(t.Ur.updateTargetData(s,A))});let l=Fs(),c=tn();if(e.documentUpdates.forEach(p=>{e.resolvedLimboDocuments.has(p)&&a.push(t.persistence.referenceDelegate.updateLimboDocument(s,p))}),a.push(R8(s,o,e.documentUpdates).next(p=>{l=p.Ps,c=p.Is})),!r.isEqual(Tt.min())){const p=t.Ur.getLastRemoteSnapshotVersion(s).next(m=>t.Ur.setTargetsMetadata(s,s.currentSequenceNumber,r));a.push(p)}return be.waitFor(a).next(()=>o.apply(s)).next(()=>t.localDocuments.getLocalViewOfDocuments(s,l,c)).next(()=>l)}).then(s=>(t.os=i,s))}(t.localStore,e);e.targetChanges.forEach((i,s)=>{const o=t.Na.get(s);o&&(At(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?o.va=!0:i.modifiedDocuments.size>0?At(o.va):i.removedDocuments.size>0&&(At(o.va),o.va=!1))}),yield Nl(t,r,e)}catch(r){yield Lu(r)}})).apply(this,arguments)}function n3(n,e,t){const r=ut(n);if(r.isPrimaryClient&&0===t||!r.isPrimaryClient&&1===t){const i=[];r.Fa.forEach((s,o)=>{const a=o.view.Z_(e);a.snapshot&&i.push(a.snapshot)}),function(o,a){const l=ut(o);l.onlineState=a;let c=!1;l.queries.forEach((p,m)=>{for(const w of m.j_)w.Z_(a)&&(c=!0)}),c&&CT(l)}(r.eventManager,e),i.length&&r.Ca.d_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function Fie(n,e,t){return VT.apply(this,arguments)}function VT(){return(VT=(0,E.A)(function*(n,e,t){const r=ut(n);r.sharedClientState.updateQueryState(e,"rejected",t);const i=r.Na.get(e),s=i&&i.key;if(s){let o=new ar(dt.comparator);o=o.insert(s,dr.newNoDocument(s,Tt.min()));const a=tn().add(s),l=new C0(Tt.min(),new Map,new ar(Kt),o,a);yield t3(r,l),r.Oa=r.Oa.remove(s),r.Na.delete(e),HT(r)}else yield mp(r.localStore,e,!1).then(()=>Ap(r,e,t)).catch(Lu)})).apply(this,arguments)}function Vie(n,e){return LT.apply(this,arguments)}function LT(){return(LT=(0,E.A)(function*(n,e){const t=ut(n),r=e.batch.batchId;try{const i=yield function Zre(n,e){const t=ut(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),s=t.cs.newChangeBuffer({trackRemovals:!0});return function(a,l,c,p){const m=c.batch,w=m.keys();let A=be.resolve();return w.forEach(D=>{A=A.next(()=>p.getEntry(l,D)).next(R=>{const N=c.docVersions.get(D);At(null!==N),R.version.compareTo(N)<0&&(m.applyToRemoteDocument(R,c),R.isValidDocument()&&(R.setReadTime(c.commitVersion),p.addEntry(R)))})}),A.next(()=>a.mutationQueue.removeMutationBatch(l,m))}(t,r,e,s).next(()=>s.apply(r)).next(()=>t.mutationQueue.performConsistencyCheck(r)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let l=tn();for(let c=0;c<a.mutationResults.length;++c)a.mutationResults[c].transformResults.length>0&&(l=l.add(a.batch.mutations[c].key));return l}(e))).next(()=>t.localDocuments.getDocuments(r,i))})}(t.localStore,e);$T(t,r,null),jT(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),yield Nl(t,i)}catch(i){yield Lu(i)}})).apply(this,arguments)}function Lie(n,e,t){return BT.apply(this,arguments)}function BT(){return(BT=(0,E.A)(function*(n,e,t){const r=ut(n);try{const i=yield function(o,a){const l=ut(o);return l.persistence.runTransaction("Reject batch","readwrite-primary",c=>{let p;return l.mutationQueue.lookupMutationBatch(c,a).next(m=>(At(null!==m),p=m.keys(),l.mutationQueue.removeMutationBatch(c,m))).next(()=>l.mutationQueue.performConsistencyCheck(c)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(c,p,a)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(c,p)).next(()=>l.localDocuments.getDocuments(c,p))})}(r.localStore,e);$T(r,e,t),jT(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),yield Nl(r,i)}catch(i){yield Lu(i)}})).apply(this,arguments)}function UT(){return(UT=(0,E.A)(function*(n,e){const t=ut(n);Yu(t.remoteStore)||Ke("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const r=yield function(o){const a=ut(o);return a.persistence.runTransaction("Get highest unacknowledged batch id","readonly",l=>a.mutationQueue.getHighestUnacknowledgedBatchId(l))}(t.localStore);if(-1===r)return void e.resolve();const i=t.ka.get(r)||[];i.push(e),t.ka.set(r,i)}catch(r){const i=Ep(r,"Initialization of waitForPendingWrites() operation failed");e.reject(i)}})).apply(this,arguments)}function jT(n,e){(n.ka.get(e)||[]).forEach(t=>{t.resolve()}),n.ka.delete(e)}function $T(n,e,t){const r=ut(n);let i=r.Ba[r.currentUser.toKey()];if(i){const s=i.get(e);s&&(t?s.reject(t):s.resolve(),i=i.remove(e)),r.Ba[r.currentUser.toKey()]=i}}function Ap(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const r of n.Ma.get(e))n.Fa.delete(r),t&&n.Ca.$a(r,t);n.Ma.delete(e),n.isPrimaryClient&&n.La.gr(e).forEach(r=>{n.La.containsKey(r)||r3(n,r)})}function r3(n,e){n.xa.delete(e.path.canonicalString());const t=n.Oa.get(e);null!==t&&(_p(n.remoteStore,t),n.Oa=n.Oa.remove(e),n.Na.delete(t),HT(n))}function zT(n,e,t){for(const r of t)r instanceof X8?(n.La.addReference(r.key,e),Uie(n,r)):r instanceof Z8?(Ke("SyncEngine","Document no longer in limbo: "+r.key),n.La.removeReference(r.key,e),n.La.containsKey(r.key)||r3(n,r.key)):wt()}function Uie(n,e){const t=e.key,r=t.path.canonicalString();n.Oa.get(t)||n.xa.has(r)||(Ke("SyncEngine","New document in limbo: "+t),n.xa.add(r),HT(n))}function HT(n){for(;n.xa.size>0&&n.Oa.size<n.maxConcurrentLimboResolutions;){const e=n.xa.values().next().value;n.xa.delete(e);const t=new dt(pn.fromString(e)),r=n.qa.next();n.Na.set(r,new Sie(t)),n.Oa=n.Oa.insert(t,r),pE(n.remoteStore,new Ml(Wi(np(t.path)),r,"TargetPurposeLimboResolution",no.oe))}}function Nl(n,e,t){return qT.apply(this,arguments)}function qT(){return qT=(0,E.A)(function*(n,e,t){const r=ut(n),i=[],s=[],o=[];var a;r.Fa.isEmpty()||(r.Fa.forEach((a,l)=>{o.push(r.Ka(l,e,t).then(c=>{var p;if((c||t)&&r.isPrimaryClient){const m=c?!c.fromCache:null===(p=t?.targetChanges.get(l.targetId))||void 0===p?void 0:p.current;r.sharedClientState.updateQueryState(l.targetId,m?"current":"not-current")}if(c){i.push(c);const m=qD.Wi(l.targetId,c);s.push(m)}}))}),yield Promise.all(o),r.Ca.d_(i),yield(a=(0,E.A)(function*(c,p){const m=ut(c);try{yield m.persistence.runTransaction("notifyLocalViewChanges","readwrite",w=>be.forEach(p,A=>be.forEach(A.$i,D=>m.persistence.referenceDelegate.addReference(w,A.targetId,D)).next(()=>be.forEach(A.Ui,D=>m.persistence.referenceDelegate.removeReference(w,A.targetId,D)))))}catch(w){if(!Bu(w))throw w;Ke("LocalStore","Failed to update sequence numbers: "+w)}for(const w of p){const A=w.targetId;if(!w.fromCache){const D=m.os.get(A),N=D.withLastLimboFreeSnapshotVersion(D.snapshotVersion);m.os=m.os.insert(A,N)}}}),function l(c,p){return a.apply(this,arguments)})(r.localStore,s))}),qT.apply(this,arguments)}function jie(n,e){return GT.apply(this,arguments)}function GT(){return(GT=(0,E.A)(function*(n,e){const t=ut(n);if(!t.currentUser.isEqual(e)){Ke("SyncEngine","User change. New user:",e.toKey());const r=yield T8(t.localStore,e);t.currentUser=e,(s=t).ka.forEach(a=>{a.forEach(l=>{l.reject(new He(Se.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),s.ka.clear(),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield Nl(t,r.hs)}var s})).apply(this,arguments)}function $ie(n,e){const t=ut(n),r=t.Na.get(e);if(r&&r.va)return tn().add(r.key);{let i=tn();const s=t.Ma.get(e);if(!s)return i;for(const o of s){const a=t.Fa.get(o);i=i.unionWith(a.view.Va)}return i}}function zie(n,e){return WT.apply(this,arguments)}function WT(){return(WT=(0,E.A)(function*(n,e){const t=ut(n),r=yield uE(t.localStore,e.query,!0),i=e.view.ba(r);return t.isPrimaryClient&&zT(t,e.targetId,i.wa),i})).apply(this,arguments)}function Hie(n,e){return KT.apply(this,arguments)}function KT(){return(KT=(0,E.A)(function*(n,e){const t=ut(n);return M8(t.localStore,e).then(r=>Nl(t,r))})).apply(this,arguments)}function qie(n,e,t,r){return QT.apply(this,arguments)}function QT(){return(QT=(0,E.A)(function*(n,e,t,r){const i=ut(n),s=yield function(a,l){const c=ut(a),p=ut(c.mutationQueue);return c.persistence.runTransaction("Lookup mutation documents","readonly",m=>p.Mn(m,l).next(w=>w?c.localDocuments.getDocuments(m,w):be.resolve(null)))}(i.localStore,e);var l;null!==s?("pending"===t?yield vp(i.remoteStore):"acknowledged"===t||"rejected"===t?($T(i,e,r||null),jT(i,e),l=e,ut(ut(i.localStore).mutationQueue).On(l)):wt(),yield Nl(i,s)):Ke("SyncEngine","Cannot apply mutation batch with id: "+e)})).apply(this,arguments)}function YT(){return(YT=(0,E.A)(function*(n,e){const t=ut(n);if(mE(t),eS(t),!0===e&&!0!==t.Qa){const r=t.sharedClientState.getAllActiveQueryTargets(),i=yield i3(t,r.toArray());t.Qa=!0,yield _T(t.remoteStore,!0);for(const s of i)pE(t.remoteStore,s)}else if(!1===e&&!1!==t.Qa){const r=[];let i=Promise.resolve();t.Ma.forEach((s,o)=>{t.sharedClientState.isLocalQueryTarget(o)?r.push(o):i=i.then(()=>(Ap(t,o),mp(t.localStore,o,!0))),_p(t.remoteStore,o)}),yield i,yield i3(t,r),function(o){const a=ut(o);a.Na.forEach((l,c)=>{_p(a.remoteStore,c)}),a.La.pr(),a.Na=new Map,a.Oa=new ar(dt.comparator)}(t),t.Qa=!1,yield _T(t.remoteStore,!1)}})).apply(this,arguments)}function i3(n,e,t){return XT.apply(this,arguments)}function XT(){return(XT=(0,E.A)(function*(n,e,t){const r=ut(n),i=[],s=[];for(const o of e){let a;const l=r.Ma.get(o);if(l&&0!==l.length){a=yield gp(r.localStore,Wi(l[0]));for(const c of l){const p=r.Fa.get(c),m=yield zie(r,p);m.snapshot&&s.push(m.snapshot)}}else{const c=yield P8(r.localStore,o);a=yield gp(r.localStore,c),yield PT(r,s3(c),o,!1,a.resumeToken)}i.push(a)}return r.Ca.d_(s),i})).apply(this,arguments)}function s3(n){return i4(n.path,n.collectionGroup,n.orderBy,n.filters,n.limit,"F",n.startAt,n.endAt)}function Wie(n){return t=ut(n).localStore,ut(ut(t).persistence).Qi();var t}function Kie(n,e,t,r){return ZT.apply(this,arguments)}function ZT(){return(ZT=(0,E.A)(function*(n,e,t,r){const i=ut(n);if(i.Qa)return void Ke("SyncEngine","Ignoring unexpected query state notification.");const s=i.Ma.get(e);if(s&&s.length>0)switch(t){case"current":case"not-current":{const o=yield M8(i.localStore,u4(s[0])),a=C0.createSynthesizedRemoteEventForCurrentChange(e,"current"===t,Sr.EMPTY_BYTE_STRING);yield Nl(i,o,a);break}case"rejected":yield mp(i.localStore,e,!0),Ap(i,e,r);break;default:wt()}})).apply(this,arguments)}function Qie(n,e,t){return JT.apply(this,arguments)}function JT(){return(JT=(0,E.A)(function*(n,e,t){const r=mE(n);if(r.Qa){for(const i of e){if(r.Ma.has(i)&&r.sharedClientState.isActiveQueryTarget(i)){Ke("SyncEngine","Adding an already active target "+i);continue}const s=yield P8(r.localStore,i),o=yield gp(r.localStore,s);yield PT(r,s3(s),o.targetId,!1,o.resumeToken),pE(r.remoteStore,o)}for(const i of t)r.Ma.has(i)&&(yield mp(r.localStore,i,!1).then(()=>{_p(r.remoteStore,i),Ap(r,i)}).catch(Lu))}})).apply(this,arguments)}function mE(n){const e=ut(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=t3.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=$ie.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=Fie.bind(null,e),e.Ca.d_=Aie.bind(null,e.eventManager),e.Ca.$a=Cie.bind(null,e.eventManager),e}function eS(n){const e=ut(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=Vie.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=Lie.bind(null,e),e}class Cp{constructor(){this.synchronizeTabs=!1}initialize(e){var t=this;return(0,E.A)(function*(){t.serializer=F0(e.databaseInfo.databaseId),t.sharedClientState=t.createSharedClientState(e),t.persistence=t.createPersistence(e),yield t.persistence.start(),t.localStore=t.createLocalStore(e),t.gcScheduler=t.createGarbageCollectionScheduler(e,t.localStore),t.indexBackfillerScheduler=t.createIndexBackfillerScheduler(e,t.localStore)})()}createGarbageCollectionScheduler(e,t){return null}createIndexBackfillerScheduler(e,t){return null}createLocalStore(e){return D8(this.persistence,new x8,e.initialUser,this.serializer)}createPersistence(e){return new jD(oE.Zr,this.serializer)}createSharedClientState(e){return new F8}terminate(){var e=this;return(0,E.A)(function*(){var t,r;null===(t=e.gcScheduler)||void 0===t||t.stop(),null===(r=e.indexBackfillerScheduler)||void 0===r||r.stop(),e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class tS extends Cp{constructor(e,t,r){super(),this.Wa=e,this.cacheSizeBytes=t,this.forceOwnership=r,this.synchronizeTabs=!1}initialize(e){var t=()=>super.initialize,r=this;return(0,E.A)(function*(){yield t().call(r,e),yield r.Wa.initialize(r,e),yield eS(r.Wa.syncEngine),yield vp(r.Wa.remoteStore),yield r.persistence.yi(()=>(r.gcScheduler&&!r.gcScheduler.started&&r.gcScheduler.start(),r.indexBackfillerScheduler&&!r.indexBackfillerScheduler.started&&r.indexBackfillerScheduler.start(),Promise.resolve()))})()}createLocalStore(e){return D8(this.persistence,new x8,e.initialUser,this.serializer)}createGarbageCollectionScheduler(e,t){return new y8(this.persistence.referenceDelegate.garbageCollector,e.asyncQueue,t)}createIndexBackfillerScheduler(e,t){const r=new _ne(t,this.persistence);return new yne(e.asyncQueue,r)}createPersistence(e){const t=HD(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),r=void 0!==this.cacheSizeBytes?Ki.withCacheSize(this.cacheSizeBytes):Ki.DEFAULT;return new zD(this.synchronizeTabs,t,e.clientId,r,e.asyncQueue,L8(),fE(),this.serializer,this.sharedClientState,!!this.forceOwnership)}createSharedClientState(e){return new F8}}class o3 extends tS{constructor(e,t){super(e,t,!1),this.Wa=e,this.cacheSizeBytes=t,this.synchronizeTabs=!0}initialize(e){var t=()=>super.initialize,r=this;return(0,E.A)(function*(){yield t().call(r,e);const i=r.Wa.syncEngine;r.sharedClientState instanceof JD&&(r.sharedClientState.syncEngine={no:qie.bind(null,i),ro:Kie.bind(null,i),io:Qie.bind(null,i),Qi:Wie.bind(null,i),eo:Hie.bind(null,i)},yield r.sharedClientState.start()),yield r.persistence.yi(function(){var s=(0,E.A)(function*(o){yield function Gie(n,e){return YT.apply(this,arguments)}(r.Wa.syncEngine,o),r.gcScheduler&&(o&&!r.gcScheduler.started?r.gcScheduler.start():o||r.gcScheduler.stop()),r.indexBackfillerScheduler&&(o&&!r.indexBackfillerScheduler.started?r.indexBackfillerScheduler.start():o||r.indexBackfillerScheduler.stop())});return function(o){return s.apply(this,arguments)}}())})()}createSharedClientState(e){const t=L8();if(!JD.D(t))throw new He(Se.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const r=HD(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new JD(t,e.asyncQueue,r,e.clientId,e.initialUser)}}class xp{initialize(e,t){var r=this;return(0,E.A)(function*(){r.localStore||(r.localStore=e.localStore,r.sharedClientState=e.sharedClientState,r.datastore=r.createDatastore(t),r.remoteStore=r.createRemoteStore(t),r.eventManager=r.createEventManager(t),r.syncEngine=r.createSyncEngine(t,!e.synchronizeTabs),r.sharedClientState.onlineStateHandler=i=>n3(r.syncEngine,i,1),r.remoteStore.remoteSyncer.handleCredentialChange=jie.bind(null,r.syncEngine),yield _T(r.remoteStore,r.syncEngine.isPrimaryClient))})()}createEventManager(e){return new bie}createDatastore(e){const t=F0(e.databaseInfo.databaseId),r=new oie(e.databaseInfo);return new uie(e.authCredentials,e.appCheckCredentials,r,t)}createRemoteStore(e){return r=this.localStore,i=this.datastore,s=e.asyncQueue,o=t=>n3(this.syncEngine,t,0),a=V8.D()?new V8:new rie,new die(r,i,s,o,a);var r,i,s,o,a}createSyncEngine(e,t){return function(i,s,o,a,l,c,p){const m=new Rie(i,s,o,a,l,c);return p&&(m.Qa=!0),m}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){var e=this;return(0,E.A)(function*(){var t,r,i;yield(i=(0,E.A)(function*(o){const a=ut(o);Ke("RemoteStore","RemoteStore shutting down."),a.L_.add(5),yield yp(a),a.k_.shutdown(),a.q_.set("Unknown")}),function s(o){return i.apply(this,arguments)})(e.remoteStore),null===(t=e.datastore)||void 0===t||t.terminate(),null===(r=e.eventManager)||void 0===r||r.terminate()})()}}function a3(n,e=10240){let t=0;return{read:()=>(0,E.A)(function*(){if(t<n.byteLength){const r={value:n.slice(t,t+e),done:!1};return t+=e,r}return{done:!0}})(),cancel:()=>(0,E.A)(function*(){})(),releaseLock(){},closed:Promise.resolve()}}class yE{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Ga(this.observer.next,e)}error(e){this.observer.error?this.Ga(this.observer.error,e):zr("Uncaught Error in snapshot listener:",e.toString())}za(){this.muted=!0}Ga(e,t){this.muted||setTimeout(()=>{this.muted||e(t)},0)}}class Zie{constructor(e,t){this.ja=e,this.serializer=t,this.metadata=new ci,this.buffer=new Uint8Array,this.Ha=new TextDecoder("utf-8"),this.Ja().then(r=>{r&&r.ua()?this.metadata.resolve(r.aa.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(r?.aa)}`))},r=>this.metadata.reject(r))}close(){return this.ja.cancel()}getMetadata(){var e=this;return(0,E.A)(function*(){return e.metadata.promise})()}Ua(){var e=this;return(0,E.A)(function*(){return yield e.getMetadata(),e.Ja()})()}Ja(){var e=this;return(0,E.A)(function*(){const t=yield e.Ya();if(null===t)return null;const r=e.Ha.decode(t),i=Number(r);isNaN(i)&&e.Za(`length string (${r}) is not valid number`);const s=yield e.Xa(i);return new xie(JSON.parse(s),t.length+i)})()}eu(){return this.buffer.findIndex(e=>123===e)}Ya(){var e=this;return(0,E.A)(function*(){for(;e.eu()<0&&!(yield e.tu()););if(0===e.buffer.length)return null;const t=e.eu();t<0&&e.Za("Reached the end of bundle when a length string is expected.");const r=e.buffer.slice(0,t);return e.buffer=e.buffer.slice(t),r})()}Xa(e){var t=this;return(0,E.A)(function*(){for(;t.buffer.length<e;)(yield t.tu())&&t.Za("Reached the end of bundle when more is expected.");const r=t.Ha.decode(t.buffer.slice(0,e));return t.buffer=t.buffer.slice(e),r})()}Za(e){throw this.ja.cancel(),new Error(`Invalid bundle format: ${e}`)}tu(){var e=this;return(0,E.A)(function*(){const t=yield e.ja.read();if(!t.done){const r=new Uint8Array(e.buffer.length+t.value.length);r.set(e.buffer),r.set(t.value,e.buffer.length),e.buffer=r}return t.done})()}}class Jie{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastTransactionError=null,this.writtenDocs=new Set}lookup(e){var t=this;return(0,E.A)(function*(){if(t.ensureCommitNotCalled(),t.mutations.length>0)throw t.lastTransactionError=new He(Se.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes."),t.lastTransactionError;const r=yield(i=(0,E.A)(function*(o,a){const l=ut(o),c={documents:a.map(A=>D0(l.serializer,A))},p=yield l.Lo("BatchGetDocuments",l.serializer.databaseId,pn.emptyPath(),c,a.length),m=new Map;p.forEach(A=>{const D=function mre(n,e){return"found"in e?function(r,i){At(!!i.found);const s=Oa(r,i.found.name),o=Hr(i.found.updateTime),a=i.found.createTime?Hr(i.found.createTime):Tt.min(),l=new Oi({mapValue:{fields:i.found.fields}});return dr.newFoundDocument(s,o,a,l)}(n,e):"missing"in e?function(r,i){At(!!i.missing),At(!!i.readTime);const s=Oa(r,i.missing),o=Hr(i.readTime);return dr.newNoDocument(s,o)}(n,e):wt()}(l.serializer,A);m.set(D.key.toString(),D)});const w=[];return a.forEach(A=>{const D=m.get(A.toString());At(!!D),w.push(D)}),w}),function s(o,a){return i.apply(this,arguments)})(t.datastore,e);var i;return r.forEach(i=>t.recordVersion(i)),r})()}set(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(r){this.lastTransactionError=r}this.writtenDocs.add(e.toString())}delete(e){this.write(new lp(e,this.precondition(e))),this.writtenDocs.add(e.toString())}commit(){var e=this;return(0,E.A)(function*(){if(e.ensureCommitNotCalled(),e.lastTransactionError)throw e.lastTransactionError;const t=e.readVersions;var r;e.mutations.forEach(r=>{t.delete(r.key.toString())}),t.forEach((r,i)=>{const s=dt.fromPath(i);e.mutations.push(new bD(s,e.precondition(s)))}),yield(r=(0,E.A)(function*(s,o){const a=ut(s),l={writes:o.map(c=>T0(a.serializer,c))};yield a.Mo("Commit",a.serializer.databaseId,pn.emptyPath(),l)}),function i(s,o){return r.apply(this,arguments)})(e.datastore,e.mutations),e.committed=!0})()}recordVersion(e){let t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw wt();t=Tt.min()}const r=this.readVersions.get(e.key.toString());if(r){if(!t.isEqual(r))throw new He(Se.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}precondition(e){const t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?t.isEqual(Tt.min())?Er.exists(!1):Er.updateTime(t):Er.none()}preconditionForUpdate(e){const t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(Tt.min()))throw new He(Se.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Er.updateTime(t)}return Er.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}class ese{constructor(e,t,r,i,s){this.asyncQueue=e,this.datastore=t,this.options=r,this.updateFunction=i,this.deferred=s,this.nu=r.maxAttempts,this.t_=new tT(this.asyncQueue,"transaction_retry")}ru(){this.nu-=1,this.iu()}iu(){var e=this;this.t_.Go((0,E.A)(function*(){const t=new Jie(e.datastore),r=e.su(t);r&&r.then(i=>{e.asyncQueue.enqueueAndForget(()=>t.commit().then(()=>{e.deferred.resolve(i)}).catch(s=>{e.ou(s)}))}).catch(i=>{e.ou(i)})}))}su(e){try{const t=this.updateFunction(e);return!c0(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.deferred.reject(t),null}}ou(e){this.nu>0&&this._u(e)?(this.nu-=1,this.asyncQueue.enqueueAndForget(()=>(this.iu(),Promise.resolve()))):this.deferred.reject(e)}_u(e){if("FirebaseError"===e.name){const t=e.code;return"aborted"===t||"failed-precondition"===t||"already-exists"===t||!D4(t)}return!1}}class tse{constructor(e,t,r,i){var s=this;this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=i,this.user=Ei.UNAUTHENTICATED,this.clientId=_B.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,function(){var o=(0,E.A)(function*(a){Ke("FirestoreClient","Received user=",a.uid),yield s.authCredentialListener(a),s.user=a});return function(a){return o.apply(this,arguments)}}()),this.appCheckCredentials.start(r,o=>(Ke("FirestoreClient","Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new He(Se.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const t=new ci;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,E.A)(function*(){try{e._onlineComponents&&(yield e._onlineComponents.terminate()),e._offlineComponents&&(yield e._offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve()}catch(r){const i=Ep(r,"Failed to shutdown persistence");t.reject(i)}})),t.promise}}function _E(n,e){return nS.apply(this,arguments)}function nS(){return nS=(0,E.A)(function*(n,e){n.asyncQueue.verifyOperationInProgress(),Ke("FirestoreClient","Initializing OfflineComponentProvider");const t=n.configuration;yield e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener(function(){var i=(0,E.A)(function*(s){r.isEqual(s)||(yield T8(e.localStore,s),r=s)});return function(s){return i.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=e}),nS.apply(this,arguments)}function rS(n,e){return iS.apply(this,arguments)}function iS(){return(iS=(0,E.A)(function*(n,e){n.asyncQueue.verifyOperationInProgress();const t=yield sS(n);Ke("FirestoreClient","Initializing OnlineComponentProvider"),yield e.initialize(t,n.configuration),n.setCredentialChangeListener(r=>q8(e.remoteStore,r)),n.setAppCheckTokenChangeListener((r,i)=>q8(e.remoteStore,i)),n._onlineComponents=e})).apply(this,arguments)}function l3(n){return"FirebaseError"===n.name?n.code===Se.FAILED_PRECONDITION||n.code===Se.UNIMPLEMENTED:!(typeof DOMException<"u"&&n instanceof DOMException)||22===n.code||20===n.code||11===n.code}function sS(n){return oS.apply(this,arguments)}function oS(){return(oS=(0,E.A)(function*(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){Ke("FirestoreClient","Using user provided OfflineComponentProvider");try{yield _E(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!l3(t))throw t;ks("Error using user provided cache. Falling back to memory cache: "+t),yield _E(n,new Cp)}}else Ke("FirestoreClient","Using default OfflineComponentProvider"),yield _E(n,new Cp);return n._offlineComponents})).apply(this,arguments)}function vE(n){return aS.apply(this,arguments)}function aS(){return(aS=(0,E.A)(function*(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(Ke("FirestoreClient","Using user provided OnlineComponentProvider"),yield rS(n,n._uninitializedComponentsProvider._online)):(Ke("FirestoreClient","Using default OnlineComponentProvider"),yield rS(n,new xp))),n._onlineComponents})).apply(this,arguments)}function u3(n){return sS(n).then(e=>e.persistence)}function Dp(n){return sS(n).then(e=>e.localStore)}function c3(n){return vE(n).then(e=>e.remoteStore)}function lS(n){return vE(n).then(e=>e.syncEngine)}function Tp(n){return uS.apply(this,arguments)}function uS(){return(uS=(0,E.A)(function*(n){const e=yield vE(n),t=e.eventManager;return t.onListen=Pie.bind(null,e.syncEngine),t.onUnlisten=Nie.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=Mie.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=kie.bind(null,e.syncEngine),t})).apply(this,arguments)}function h3(n,e,t={}){const r=new ci;return n.asyncQueue.enqueueAndForget((0,E.A)(function*(){return function(s,o,a,l,c){const p=new yE({next:w=>{o.enqueueAndForget(()=>bT(s,m));const A=w.docs.has(a);!A&&w.fromCache?c.reject(new He(Se.UNAVAILABLE,"Failed to get document because the client is offline.")):A&&w.fromCache&&l&&"server"===l.source?c.reject(new He(Se.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):c.resolve(w)},error:w=>c.reject(w)}),m=new DT(np(a.path),p,{includeMetadataChanges:!0,_a:!0});return ET(s,m)}(yield Tp(n),n.asyncQueue,e,t,r)})),r.promise}function f3(n,e,t={}){const r=new ci;return n.asyncQueue.enqueueAndForget((0,E.A)(function*(){return function(s,o,a,l,c){const p=new yE({next:w=>{o.enqueueAndForget(()=>bT(s,m)),w.fromCache&&"server"===l.source?c.reject(new He(Se.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):c.resolve(w)},error:w=>c.reject(w)}),m=new DT(a,p,{includeMetadataChanges:!0,_a:!0});return ET(s,m)}(yield Tp(n),n.asyncQueue,e,t,r)})),r.promise}function p3(n){const e={};return void 0!==n.timeoutSeconds&&(e.timeoutSeconds=n.timeoutSeconds),e}const g3=new Map;function cS(n,e,t){if(!t)throw new He(Se.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function m3(n,e,t,r){if(!0===e&&!0===r)throw new He(Se.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function y3(n){if(!dt.isDocumentKey(n))throw new He(Se.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function _3(n){if(dt.isDocumentKey(n))throw new He(Se.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function wE(n){if(void 0===n)return"undefined";if(null===n)return"null";if("string"==typeof n)return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if("number"==typeof n||"boolean"==typeof n)return""+n;if("object"==typeof n){if(n instanceof Array)return"an array";{const e=(r=n).constructor?r.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var r;return"function"==typeof n?"a function":wt()}function ln(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new He(Se.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=wE(n);throw new He(Se.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}function v3(n,e){if(e<=0)throw new He(Se.INVALID_ARGUMENT,`Function ${n}() requires a positive number, but it was: ${e}.`)}class w3{constructor(e){var t,r;if(void 0===e.host){if(void 0!==e.ssl)throw new He(Se.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new He(Se.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}m3("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!(this.experimentalForceLongPolling||void 0!==e.experimentalAutoDetectLongPolling&&!e.experimentalAutoDetectLongPolling),this.experimentalLongPollingOptions=p3(null!==(r=e.experimentalLongPollingOptions)&&void 0!==r?r:{}),function(s){if(void 0!==s.timeoutSeconds){if(isNaN(s.timeoutSeconds))throw new He(Se.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new He(Se.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new He(Se.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.experimentalLongPollingOptions.timeoutSeconds===e.experimentalLongPollingOptions.timeoutSeconds&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class L0{constructor(e,t,r,i){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new w3({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new He(Se.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new He(Se.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new w3(e),void 0!==e.credentials&&(this._authCredentials=function(r){if(!r)return new sne;switch(r.type){case"firstParty":return new une(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new He(Se.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const r=g3.get(t);r&&(Ke("ComponentProvider","Removing Datastore"),g3.delete(t),r.terminate())}(this),Promise.resolve()}}function E3(n,e,t,r={}){var i;const s=(n=ln(n,L0))._getSettings(),o=`${e}:${t}`;if("firestore.googleapis.com"!==s.host&&s.host!==o&&ks("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),n._setSettings(Object.assign(Object.assign({},s),{host:o,ssl:!1})),r.mockUserToken){let a,l;if("string"==typeof r.mockUserToken)a=r.mockUserToken,l=Ei.MOCK_USER;else{a=(0,xn.Fy)(r.mockUserToken,null===(i=n._app)||void 0===i?void 0:i.options.projectId);const c=r.mockUserToken.sub||r.mockUserToken.user_id;if(!c)throw new He(Se.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");l=new Ei(c)}n._authCredentials=new one(new mB(a,l))}}class Fi{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Fi(this.firestore,e,this._query)}}class hr{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Fa(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new hr(this.firestore,e,this._key)}}class Fa extends Fi{constructor(e,t,r){super(e,t,np(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new hr(this.firestore,null,new dt(e))}withConverter(e){return new Fa(this.firestore,e,this._path)}}function I3(n,e,...t){if(n=(0,xn.Ku)(n),cS("collection","path",e),n instanceof L0){const r=pn.fromString(e,...t);return _3(r),new Fa(n,null,r)}{if(!(n instanceof hr||n instanceof Fa))throw new He(Se.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(pn.fromString(e,...t));return _3(r),new Fa(n.firestore,null,r)}}function EE(n,e,...t){if(n=(0,xn.Ku)(n),1===arguments.length&&(e=_B.newId()),cS("doc","path",e),n instanceof L0){const r=pn.fromString(e,...t);return y3(r),new hr(n,null,new dt(r))}{if(!(n instanceof hr||n instanceof Fa))throw new He(Se.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(pn.fromString(e,...t));return y3(r),new hr(n.firestore,n instanceof Fa?n.converter:null,new dt(r))}}function b3(n,e){return n=(0,xn.Ku)(n),e=(0,xn.Ku)(e),(n instanceof hr||n instanceof Fa)&&(e instanceof hr||e instanceof Fa)&&n.firestore===e.firestore&&n.path===e.path&&n.converter===e.converter}function dS(n,e){return n=(0,xn.Ku)(n),e=(0,xn.Ku)(e),n instanceof Fi&&e instanceof Fi&&n.firestore===e.firestore&&_0(n._query,e._query)&&n.converter===e.converter}class pse{constructor(){this.au=Promise.resolve(),this.uu=[],this.cu=!1,this.lu=[],this.hu=null,this.Pu=!1,this.Iu=!1,this.Tu=[],this.t_=new tT(this,"async_queue_retry"),this.Eu=()=>{const t=fE();t&&Ke("AsyncQueue","Visibility state changed to "+t.visibilityState),this.t_.jo()};const e=fE();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Eu)}get isShuttingDown(){return this.cu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.du(),this.Au(e)}enterRestrictedMode(e){if(!this.cu){this.cu=!0,this.Iu=e||!1;const t=fE();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Eu)}}enqueue(e){if(this.du(),this.cu)return new Promise(()=>{});const t=new ci;return this.Au(()=>this.cu&&this.Iu?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.uu.push(e),this.Ru()))}Ru(){var e=this;return(0,E.A)(function*(){if(0!==e.uu.length){try{yield e.uu[0](),e.uu.shift(),e.t_.reset()}catch(t){if(!Bu(t))throw t;Ke("AsyncQueue","Operation failed with retryable error: "+t)}e.uu.length>0&&e.t_.Go(()=>e.Ru())}})()}Au(e){const t=this.au.then(()=>(this.Pu=!0,e().catch(r=>{throw this.hu=r,this.Pu=!1,zr("INTERNAL UNHANDLED ERROR: ",function(o){let a=o.message||"";return o.stack&&(a=o.stack.includes(o.message)?o.stack:o.message+"\n"+o.stack),a}(r)),r}).then(r=>(this.Pu=!1,r))));return this.au=t,t}enqueueAfterDelay(e,t,r){this.du(),this.Tu.indexOf(e)>-1&&(t=0);const i=wT.createAndSchedule(this,e,t,r,s=>this.Vu(s));return this.lu.push(i),i}du(){this.hu&&wt()}verifyOperationInProgress(){}mu(){var e=this;return(0,E.A)(function*(){let t;do{t=e.au,yield t}while(t!==e.au)})()}fu(e){for(const t of this.lu)if(t.timerId===e)return!0;return!1}gu(e){return this.mu().then(()=>{this.lu.sort((t,r)=>t.targetTimeMs-r.targetTimeMs);for(const t of this.lu)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.mu()})}pu(e){this.Tu.push(e)}Vu(e){const t=this.lu.indexOf(e);this.lu.splice(t,1)}}function hS(n){return function(t,r){if("object"!=typeof t||null===t)return!1;const i=t;for(const s of["next","error","complete"])if(s in i&&"function"==typeof i[s])return!0;return!1}(n)}class gse{constructor(){this._progressObserver={},this._taskCompletionResolver=new ci,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,t,r){this._progressObserver={next:e,error:t,complete:r}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,t){return this._taskCompletionResolver.promise.then(e,t)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}class Kn extends L0{constructor(e,t,r,i){super(e,t,r,i),this.type="firestore",this._queue=new pse,this._persistenceKey=i?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||A3(this),this._firestoreClient.terminate()}}function yse(n,e){const t="object"==typeof n?n:(0,Ko.getApp)(),r="string"==typeof n?n:e||"(default)",i=(0,Ko._getProvider)(t,"firestore").getImmediate({identifier:r});if(!i._initialized){const s=(0,xn.yU)("firestore");s&&E3(i,...s)}return i}function Ir(n){return n._firestoreClient||A3(n),n._firestoreClient.verifyNotTerminated(),n._firestoreClient}function A3(n){var e,t,r;const i=n._freezeSettings(),s=(l=(null===(e=n._app)||void 0===e?void 0:e.options.appId)||"",new Une(n._databaseId,l,n._persistenceKey,(p=i).host,p.ssl,p.experimentalForceLongPolling,p.experimentalAutoDetectLongPolling,p3(p.experimentalLongPollingOptions),p.useFetchStreams));var l,p;n._firestoreClient=new tse(n._authCredentials,n._appCheckCredentials,n._queue,s),null!==(t=i.localCache)&&void 0!==t&&t._offlineComponentProvider&&null!==(r=i.localCache)&&void 0!==r&&r._onlineComponentProvider&&(n._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.localCache.kind,_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider})}function C3(n,e,t){const r=new ci;return n.asyncQueue.enqueue((0,E.A)(function*(){try{yield _E(n,t),yield rS(n,e),r.resolve()}catch(i){const s=i;if(!l3(s))throw s;ks("Error enabling indexeddb cache. Falling back to memory cache: "+s),r.reject(s)}})).then(()=>r.promise)}function x3(n){if(n._initialized||n._terminated)throw new He(Se.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class Va{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Va(Sr.fromBase64String(e))}catch(t){throw new He(Se.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new Va(Sr.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class kl{constructor(...e){for(let t=0;t<e.length;++t)if(0===e[t].length)throw new He(Se.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new cr(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Md{constructor(e){this._methodName=e}}class IE{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new He(Se.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new He(Se.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Kt(this._lat,e._lat)||Kt(this._long,e._long)}}class bE{constructor(e){this._values=(e||[]).map(t=>t)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let s=0;s<r.length;++s)if(r[s]!==i[s])return!1;return!0}(this._values,e._values)}}const Dse=/^__.*__$/;class Tse{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return null!==this.fieldMask?new Pl(e,this.data,this.fieldMask,t,this.fieldTransforms):new ap(e,this.data,t,this.fieldTransforms)}}class D3{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return new Pl(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function T3(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw wt()}}class AE{constructor(e,t,r,i,s,o){this.settings=e,this.databaseId=t,this.serializer=r,this.ignoreUndefinedProperties=i,void 0===s&&this.yu(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get wu(){return this.settings.wu}Su(e){return new AE(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}bu(e){var t;const r=null===(t=this.path)||void 0===t?void 0:t.child(e),i=this.Su({path:r,Du:!1});return i.vu(e),i}Cu(e){var t;const r=null===(t=this.path)||void 0===t?void 0:t.child(e),i=this.Su({path:r,Du:!1});return i.yu(),i}Fu(e){return this.Su({path:void 0,Du:!0})}Mu(e){return DE(e,this.settings.methodName,this.settings.xu||!1,this.path,this.settings.Ou)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}yu(){if(this.path)for(let e=0;e<this.path.length;e++)this.vu(this.path.get(e))}vu(e){if(0===e.length)throw this.Mu("Document fields must not be empty");if(T3(this.wu)&&Dse.test(e))throw this.Mu('Document fields cannot begin and end with "__"')}}class Sse{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=r||F0(e)}Nu(e,t,r,i=!1){return new AE({wu:e,methodName:t,Ou:r,path:cr.emptyPath(),Du:!1,xu:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Nd(n){const e=n._freezeSettings(),t=F0(n._databaseId);return new Sse(n._databaseId,!!e.ignoreUndefinedProperties,t)}function CE(n,e,t,r,i,s={}){const o=n.Nu(s.merge||s.mergeFields?2:0,e,t,i);vS("Data must be an object, but it was:",o,r);const a=P3(r,o);let l,c;if(s.merge)l=new Os(o.fieldMask),c=o.fieldTransforms;else if(s.mergeFields){const p=[];for(const m of s.mergeFields){const w=j0(e,m,t);if(!o.contains(w))throw new He(Se.INVALID_ARGUMENT,`Field '${w}' is specified in your field mask but missing from your input data.`);N3(p,w)||p.push(w)}l=new Os(p),c=o.fieldTransforms.filter(m=>l.covers(m.field))}else l=null,c=o.fieldTransforms;return new Tse(new Oi(a),l,c)}class U0 extends Md{_toFieldTransform(e){if(2!==e.wu)throw e.Mu(1===e.wu?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof U0}}function S3(n,e,t){return new AE({wu:3,Ou:e.settings.Ou,methodName:n._methodName,Du:t},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class fS extends Md{_toFieldTransform(e){return new I0(e.path,new sp)}isEqual(e){return e instanceof fS}}class pS extends Md{constructor(e,t){super(e),this.Lu=t}_toFieldTransform(e){const t=S3(this,e,!0),r=this.Lu.map(s=>kd(s,t)),i=new bd(r);return new I0(e.path,i)}isEqual(e){return e instanceof pS&&(0,xn.bD)(this.Lu,e.Lu)}}class gS extends Md{constructor(e,t){super(e),this.Lu=t}_toFieldTransform(e){const t=S3(this,e,!0),r=this.Lu.map(s=>kd(s,t)),i=new Ad(r);return new I0(e.path,i)}isEqual(e){return e instanceof gS&&(0,xn.bD)(this.Lu,e.Lu)}}class mS extends Md{constructor(e,t){super(e),this.Bu=t}_toFieldTransform(e){const t=new op(e.serializer,g4(e.serializer,this.Bu));return new I0(e.path,t)}isEqual(e){return e instanceof mS&&this.Bu===e.Bu}}function yS(n,e,t,r){const i=n.Nu(1,e,t);vS("Data must be an object, but it was:",i,r);const s=[],o=Oi.empty();Uu(r,(l,c)=>{const p=xE(e,l,t);c=(0,xn.Ku)(c);const m=i.Cu(p);if(c instanceof U0)s.push(p);else{const w=kd(c,m);null!=w&&(s.push(p),o.set(p,w))}});const a=new Os(s);return new D3(o,a,i.fieldTransforms)}function _S(n,e,t,r,i,s){const o=n.Nu(1,e,t),a=[j0(e,r,t)],l=[i];if(s.length%2!=0)throw new He(Se.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let w=0;w<s.length;w+=2)a.push(j0(e,s[w])),l.push(s[w+1]);const c=[],p=Oi.empty();for(let w=a.length-1;w>=0;--w)if(!N3(c,a[w])){const A=a[w];let D=l[w];D=(0,xn.Ku)(D);const R=o.Cu(A);if(D instanceof U0)c.push(A);else{const N=kd(D,R);null!=N&&(c.push(A),p.set(A,N))}}const m=new Os(c);return new D3(p,m,o.fieldTransforms)}function R3(n,e,t,r=!1){return kd(t,n.Nu(r?4:3,e))}function kd(n,e){if(M3(n=(0,xn.Ku)(n)))return vS("Unsupported field value:",e,n),P3(n,e);if(n instanceof Md)return function(r,i){if(!T3(i.wu))throw i.Mu(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Mu(`${r._methodName}() is not currently supported inside arrays`);const s=r._toFieldTransform(i);s&&i.fieldTransforms.push(s)}(n,e),null;if(void 0===n&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.Du&&4!==e.wu)throw e.Mu("Nested arrays are not supported");return function(r,i){const s=[];let o=0;for(const a of r){let l=kd(a,i.Fu(o));null==l&&(l={nullValue:"NULL_VALUE"}),s.push(l),o++}return{arrayValue:{values:s}}}(n,e)}return function(r,i){if(null===(r=(0,xn.Ku)(r)))return{nullValue:"NULL_VALUE"};if("number"==typeof r)return g4(i.serializer,r);if("boolean"==typeof r)return{booleanValue:r};if("string"==typeof r)return{stringValue:r};if(r instanceof Date){const s=vr.fromDate(r);return{timestampValue:up(i.serializer,s)}}if(r instanceof vr){const s=new vr(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:up(i.serializer,s)}}if(r instanceof IE)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Va)return{bytesValue:V4(i.serializer,r._byteString)};if(r instanceof hr){const s=i.databaseId,o=r.firestore._databaseId;if(!o.isEqual(s))throw i.Mu(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:SD(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof bE)return a=i,{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:r.toArray().map(l=>{if("number"!=typeof l)throw a.Mu("VectorValues must only contain numeric values.");return ID(a.serializer,l)})}}}}};var a;throw i.Mu(`Unsupported field value: ${wE(r)}`)}(n,e)}function P3(n,e){const t={};return OB(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Uu(n,(r,i)=>{const s=kd(i,e.bu(r));null!=s&&(t[r]=s)}),{mapValue:{fields:t}}}function M3(n){return!("object"!=typeof n||null===n||n instanceof Array||n instanceof Date||n instanceof vr||n instanceof IE||n instanceof Va||n instanceof hr||n instanceof Md||n instanceof bE)}function vS(n,e,t){if(!M3(t)||"object"!=typeof(i=t)||null===i||Object.getPrototypeOf(i)!==Object.prototype&&null!==Object.getPrototypeOf(i)){const r=wE(t);throw e.Mu("an object"===r?n+" a custom object":n+" "+r)}var i}function j0(n,e,t){if((e=(0,xn.Ku)(e))instanceof kl)return e._internalPath;if("string"==typeof e)return xE(n,e);throw DE("Field path arguments must be of type string or ",n,!1,void 0,t)}const Rse=new RegExp("[~\\*/\\[\\]]");function xE(n,e,t){if(e.search(Rse)>=0)throw DE(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new kl(...e.split("."))._internalPath}catch{throw DE(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function DE(n,e,t,r,i){const s=r&&!r.isEmpty(),o=void 0!==i;let a=`Function ${e}() called with invalid data`;t&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(s||o)&&(l+=" (found",s&&(l+=` in field ${r}`),o&&(l+=` in document ${i}`),l+=")"),new He(Se.INVALID_ARGUMENT,a+n+l)}function N3(n,e){return n.some(t=>t.isEqual(e))}class $0{constructor(e,t,r,i,s){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new hr(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new Pse(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(TE("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class Pse extends $0{data(){return super.data()}}function TE(n,e){return"string"==typeof e?xE(n,e):e instanceof kl?e._internalPath:e._delegate._internalPath}function k3(n){if("L"===n.limitType&&0===n.explicitOrderBy.length)throw new He(Se.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class wS{}class z0 extends wS{}function Zu(n,e,...t){let r=[];e instanceof wS&&r.push(e),r=r.concat(t),function(s){const o=s.filter(l=>l instanceof Sp).length,a=s.filter(l=>l instanceof H0).length;if(o>1||o>0&&a>0)throw new He(Se.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)n=i._apply(n);return n}class H0 extends z0{constructor(e,t,r){super(),this._field=e,this._op=t,this._value=r,this.type="where"}static _create(e,t,r){return new H0(e,t,r)}_apply(e){const t=this._parse(e);return L3(e._query,t),new Fi(e.firestore,e.converter,wD(e._query,t))}_parse(e){const t=Nd(e.firestore);return function(s,o,a,l,c,p,m){let w;if(c.isKeyField()){if("array-contains"===p||"array-contains-any"===p)throw new He(Se.INVALID_ARGUMENT,`Invalid Query. You can't perform '${p}' queries on documentId().`);if("in"===p||"not-in"===p){V3(m,p);const A=[];for(const D of m)A.push(F3(l,s,D));w={arrayValue:{values:A}}}else w=F3(l,s,m)}else"in"!==p&&"not-in"!==p&&"array-contains-any"!==p||V3(m,p),w=R3(a,"where",m,"in"===p||"not-in"===p);return gn.create(c,p,w)}(e._query,0,t,e.firestore._databaseId,this._field,this._op,this._value)}}class Sp extends wS{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new Sp(e,t)}_parse(e){const t=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return 1===t.length?t[0]:jn.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return 0===t.getFilters().length?e:(function(i,s){let o=i;const a=s.getFlattenedFilters();for(const l of a)L3(o,l),o=wD(o,l)}(e._query,t),new Fi(e.firestore,e.converter,wD(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}class ES extends z0{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new ES(e,t)}_apply(e){const t=function(i,s,o){if(null!==i.startAt)throw new He(Se.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==i.endAt)throw new He(Se.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new m0(s,o)}(e._query,this._field,this._direction);return new Fi(e.firestore,e.converter,function(i,s){const o=i.explicitOrderBy.concat([s]);return new Sl(i.path,i.collectionGroup,o,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(e._query,t))}}class SE extends z0{constructor(e,t,r){super(),this.type=e,this._limit=t,this._limitType=r}static _create(e,t,r){return new SE(e,t,r)}_apply(e){return new Fi(e.firestore,e.converter,Gw(e._query,this._limit,this._limitType))}}class RE extends z0{constructor(e,t,r){super(),this.type=e,this._docOrFields=t,this._inclusive=r}static _create(e,t,r){return new RE(e,t,r)}_apply(e){const t=O3(e,this.type,this._docOrFields,this._inclusive);return new Fi(e.firestore,e.converter,(s=t,new Sl((i=e._query).path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,s,i.endAt)));var i,s}}class PE extends z0{constructor(e,t,r){super(),this.type=e,this._docOrFields=t,this._inclusive=r}static _create(e,t,r){return new PE(e,t,r)}_apply(e){const t=O3(e,this.type,this._docOrFields,this._inclusive);return new Fi(e.firestore,e.converter,(s=t,new Sl((i=e._query).path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,i.startAt,s)));var i,s}}function O3(n,e,t,r){if(t[0]=(0,xn.Ku)(t[0]),t[0]instanceof $0)return function(s,o,a,l,c){if(!l)throw new He(Se.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${a}().`);const p=[];for(const m of rp(s))if(m.field.isKeyField())p.push(Ed(o,l.key));else{const w=l.data.field(m.field);if(Lw(w))throw new He(Se.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+m.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===w){const A=m.field.canonicalString();throw new He(Se.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${A}' (used as the orderBy) does not exist.`)}p.push(w)}return new qu(p,c)}(n._query,n.firestore._databaseId,e,t[0]._document,r);{const i=Nd(n.firestore);return function(o,a,l,c,p,m){const w=o.explicitOrderBy;if(p.length>w.length)throw new He(Se.INVALID_ARGUMENT,`Too many arguments provided to ${c}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const A=[];for(let D=0;D<p.length;D++){const R=p[D];if(w[D].field.isKeyField()){if("string"!=typeof R)throw new He(Se.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${c}(), but got a ${typeof R}`);if(!vD(o)&&-1!==R.indexOf("/"))throw new He(Se.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${c}() must be a plain document ID, but '${R}' contains a slash.`);const N=o.path.child(pn.fromString(R));if(!dt.isDocumentKey(N))throw new He(Se.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${c}() must result in a valid document path, but '${N}' is not because it contains an odd number of segments.`);const ee=new dt(N);A.push(Ed(a,ee))}else{const N=R3(l,c,R);A.push(N)}}return new qu(A,m)}(n._query,n.firestore._databaseId,i,e,t,r)}}function F3(n,e,t){if("string"==typeof(t=(0,xn.Ku)(t))){if(""===t)throw new He(Se.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!vD(e)&&-1!==t.indexOf("/"))throw new He(Se.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const r=e.path.child(pn.fromString(t));if(!dt.isDocumentKey(r))throw new He(Se.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return Ed(n,new dt(r))}if(t instanceof hr)return Ed(n,t._key);throw new He(Se.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${wE(t)}.`)}function V3(n,e){if(!Array.isArray(n)||0===n.length)throw new He(Se.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function L3(n,e){const t=function(i,s){for(const o of i)for(const a of o.getFlattenedFilters())if(s.indexOf(a.op)>=0)return a.op;return null}(n.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(null!==t)throw new He(Se.INVALID_ARGUMENT,t===e.op?`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`:`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}class IS{convertValue(e,t="none"){switch(zu(e)){case 0:return null;case 1:return e.booleanValue;case 2:return wr(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Tl(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw wt()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const r={};return Uu(e,(i,s)=>{r[i]=this.convertValue(s,t)}),r}convertVectorValue(e){var t,r,i;const s=null===(i=null===(r=null===(t=e.fields)||void 0===t?void 0:t.value.arrayValue)||void 0===r?void 0:r.values)||void 0===i?void 0:i.map(o=>wr(o.doubleValue));return new bE(s)}convertGeoPoint(e){return new IE(wr(e.latitude),wr(e.longitude))}convertArray(e,t){return(e.values||[]).map(r=>this.convertValue(r,t))}convertServerTimestamp(e,t){switch(t){case"previous":const r=Bw(e);return null==r?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(h0(e));default:return null}}convertTimestamp(e){const t=Dl(e);return new vr(t.seconds,t.nanos)}convertDocumentKey(e,t){const r=pn.fromString(e);At(Q4(r));const i=new ju(r.get(1),r.get(3)),s=new dt(r.popFirst(5));return i.isEqual(t)||zr(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),s}}function ME(n,e,t){let r;return r=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,r}class Use extends IS{constructor(e){super(),this.firestore=e}convertBytes(e){return new Va(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new hr(this.firestore,null,t)}}class Od{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Ol extends $0{constructor(e,t,r,i,s,o){super(e,t,r,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new q0(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const r=this._document.data.field(TE("DocumentSnapshot.get",e));if(null!==r)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}}class q0 extends Ol{data(e={}){return super.data(e)}}class Ju{constructor(e,t,r,i){this._firestore=e,this._userDataWriter=t,this._snapshot=i,this.metadata=new Od(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(r=>{e.call(t,new q0(this._firestore,this._userDataWriter,r.key,r,new Od(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new He(Se.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(i,s){if(i._snapshot.oldDocs.isEmpty()){let o=0;return i._snapshot.docChanges.map(a=>({type:"added",doc:new q0(i._firestore,i._userDataWriter,a.doc.key,a.doc,new Od(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter),oldIndex:-1,newIndex:o++}))}{let o=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(a=>s||3!==a.type).map(a=>{const l=new q0(i._firestore,i._userDataWriter,a.doc.key,a.doc,new Od(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);let c=-1,p=-1;return 0!==a.type&&(c=o.indexOf(a.doc.key),o=o.delete(a.doc.key)),1!==a.type&&(o=o.add(a.doc),p=o.indexOf(a.doc.key)),{type:$se(a.type),doc:l,oldIndex:c,newIndex:p}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function $se(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return wt()}}function U3(n,e){return n instanceof Ol&&e instanceof Ol?n._firestore===e._firestore&&n._key.isEqual(e._key)&&(null===n._document?null===e._document:n._document.isEqual(e._document))&&n._converter===e._converter:n instanceof Ju&&e instanceof Ju&&n._firestore===e._firestore&&dS(n.query,e.query)&&n.metadata.isEqual(e.metadata)&&n._snapshot.isEqual(e._snapshot)}class ec extends IS{constructor(e){super(),this.firestore=e}convertBytes(e){return new Va(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new hr(this.firestore,null,t)}}function j3(n,e,t){n=ln(n,hr);const r=ln(n.firestore,Kn),i=ME(n.converter,e,t);return Rp(r,[CE(Nd(r),"setDoc",n._key,i,null!==n.converter,t).toMutation(n._key,Er.none())])}function $3(n,e,t,...r){n=ln(n,hr);const i=ln(n.firestore,Kn),s=Nd(i);let o;return o="string"==typeof(e=(0,xn.Ku)(e))||e instanceof kl?_S(s,"updateDoc",n._key,e,t,r):yS(s,"updateDoc",n._key,e),Rp(i,[o.toMutation(n._key,Er.exists(!0))])}function z3(n,...e){var t,r,i;n=(0,xn.Ku)(n);let s={includeMetadataChanges:!1,source:"default"},o=0;"object"!=typeof e[o]||hS(e[o])||(s=e[o],o++);const a={includeMetadataChanges:s.includeMetadataChanges,source:s.source};if(hS(e[o])){const m=e[o];e[o]=null===(t=m.next)||void 0===t?void 0:t.bind(m),e[o+1]=null===(r=m.error)||void 0===r?void 0:r.bind(m),e[o+2]=null===(i=m.complete)||void 0===i?void 0:i.bind(m)}let l,c,p;if(n instanceof hr)c=ln(n.firestore,Kn),p=np(n._key.path),l={next:m=>{e[o]&&e[o](bS(c,n,m))},error:e[o+1],complete:e[o+2]};else{const m=ln(n,Fi);c=ln(m.firestore,Kn),p=m._query;const w=new ec(c);l={next:A=>{e[o]&&e[o](new Ju(c,w,m,A))},error:e[o+1],complete:e[o+2]},k3(n._query)}return function(w,A,D,R){const N=new yE(R),ee=new DT(A,N,D);return w.asyncQueue.enqueueAndForget((0,E.A)(function*(){return ET(yield Tp(w),ee)})),()=>{N.za(),w.asyncQueue.enqueueAndForget((0,E.A)(function*(){return bT(yield Tp(w),ee)}))}}(Ir(c),p,a,l)}function Rp(n,e){return function(r,i){const s=new ci;return r.asyncQueue.enqueueAndForget((0,E.A)(function*(){return function Oie(n,e,t){return OT.apply(this,arguments)}(yield lS(r),i,s)})),s.promise}(Ir(n),e)}function bS(n,e,t){const r=t.docs.get(e._key),i=new ec(n);return new Ol(n,i,e._key,r,new Od(t.hasPendingWrites,t.fromCache),e.converter)}const ooe={maxAttempts:5};class H3{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=Nd(e)}set(e,t,r){this._verifyNotCommitted();const i=tc(e,this._firestore),s=ME(i.converter,t,r),o=CE(this._dataReader,"WriteBatch.set",i._key,s,null!==i.converter,r);return this._mutations.push(o.toMutation(i._key,Er.none())),this}update(e,t,r,...i){this._verifyNotCommitted();const s=tc(e,this._firestore);let o;return o="string"==typeof(t=(0,xn.Ku)(t))||t instanceof kl?_S(this._dataReader,"WriteBatch.update",s._key,t,r,i):yS(this._dataReader,"WriteBatch.update",s._key,t),this._mutations.push(o.toMutation(s._key,Er.exists(!0))),this}delete(e){this._verifyNotCommitted();const t=tc(e,this._firestore);return this._mutations=this._mutations.concat(new lp(t._key,Er.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new He(Se.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function tc(n,e){if((n=(0,xn.Ku)(n)).firestore!==e)throw new He(Se.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return n}class aoe extends class{constructor(t,r){this._firestore=t,this._transaction=r,this._dataReader=Nd(t)}get(t){const r=tc(t,this._firestore),i=new Use(this._firestore);return this._transaction.lookup([r._key]).then(s=>{if(!s||1!==s.length)return wt();const o=s[0];if(o.isFoundDocument())return new $0(this._firestore,i,o.key,o,r.converter);if(o.isNoDocument())return new $0(this._firestore,i,r._key,null,r.converter);throw wt()})}set(t,r,i){const s=tc(t,this._firestore),o=ME(s.converter,r,i),a=CE(this._dataReader,"Transaction.set",s._key,o,null!==s.converter,i);return this._transaction.set(s._key,a),this}update(t,r,i,...s){const o=tc(t,this._firestore);let a;return a="string"==typeof(r=(0,xn.Ku)(r))||r instanceof kl?_S(this._dataReader,"Transaction.update",o._key,r,i,s):yS(this._dataReader,"Transaction.update",o._key,r),this._transaction.update(o._key,a),this}delete(t){const r=tc(t,this._firestore);return this._transaction.delete(r._key),this}}{constructor(e,t){super(e,t),this._firestore=e}get(e){const t=tc(e,this._firestore),r=new ec(this._firestore);return super.get(e).then(i=>new Ol(this._firestore,r,t._key,i._document,new Od(!1,!1),t.converter))}}function CS(n,e){if(void 0===e)return{merge:!1};if(void 0!==e.mergeFields&&void 0!==e.merge)throw new He("invalid-argument",`Invalid options passed to function ${n}(): You cannot specify both "merge" and "mergeFields".`);return e}function K3(){if(typeof Uint8Array>"u")throw new He("unimplemented","Uint8Arrays are not available in this environment.")}function Q3(){if(!function Lne(){return typeof atob<"u"}())throw new He("unimplemented","Blobs are unavailable in Firestore in this environment.")}!function(e,t=!0){Kf=Ko.SDK_VERSION,(0,Ko._registerComponent)(new sB.uA("firestore",(r,{instanceIdentifier:i,options:s})=>{const o=r.getProvider("app").getImmediate(),a=new Kn(new ane(r.getProvider("auth-internal")),new cne(r.getProvider("app-check-internal")),function(c,p){if(!Object.prototype.hasOwnProperty.apply(c.options,["projectId"]))throw new He(Se.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new ju(c.options.projectId,p)}(o,i),o);return s=Object.assign({useFetchStreams:t},s),a._setSettings(s),a},"PUBLIC").setMultipleInstances(!0)),(0,Ko.registerVersion)(gB,"4.7.2",e),(0,Ko.registerVersion)(gB,"4.7.2","esm2017")}();class G0{constructor(e){this._delegate=e}static fromBase64String(e){return Q3(),new G0(Va.fromBase64String(e))}static fromUint8Array(e){return K3(),new G0(Va.fromUint8Array(e))}toBase64(){return Q3(),this._delegate.toBase64()}toUint8Array(){return K3(),this._delegate.toUint8Array()}isEqual(e){return this._delegate.isEqual(e._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function xS(n){return function yoe(n,e){if("object"!=typeof n||null===n)return!1;const t=n;for(const r of e)if(r in t&&"function"==typeof t[r])return!0;return!1}(n,["next","error","complete"])}class _oe{enableIndexedDbPersistence(e,t){return function _se(n,e){x3(n=ln(n,Kn));const t=Ir(n);if(t._uninitializedComponentsProvider)throw new He(Se.FAILED_PRECONDITION,"SDK cache is already specified.");ks("enableIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const r=n._freezeSettings(),i=new xp;return C3(t,i,new tS(i,r.cacheSizeBytes,e?.forceOwnership))}(e._delegate,{forceOwnership:t})}enableMultiTabIndexedDbPersistence(e){return function vse(n){x3(n=ln(n,Kn));const e=Ir(n);if(e._uninitializedComponentsProvider)throw new He(Se.FAILED_PRECONDITION,"SDK cache is already specified.");ks("enableMultiTabIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const t=n._freezeSettings(),r=new xp;return C3(e,r,new o3(r,t.cacheSizeBytes))}(e._delegate)}clearIndexedDbPersistence(e){return function wse(n){if(n._initialized&&!n._terminated)throw new He(Se.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const e=new ci;return n._queue.enqueueAndForgetEvenWhileRestricted((0,E.A)(function*(){try{yield(t=(0,E.A)(function*(i){if(!Pa.D())return Promise.resolve();const s=i+"main";yield Pa.delete(s)}),function r(i){return t.apply(this,arguments)})(HD(n._databaseId,n._persistenceKey)),e.resolve()}catch(t){e.reject(t)}var t})),e.promise}(e._delegate)}}class Y3{constructor(e,t,r){this._delegate=t,this._persistenceProvider=r,this.INTERNAL={delete:()=>this.terminate()},e instanceof ju||(this._appCompat=e)}get _databaseId(){return this._delegate._databaseId}settings(e){const t=this._delegate._getSettings();!e.merge&&t.host!==e.host&&ks("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)}useEmulator(e,t,r={}){E3(this._delegate,e,t,r)}enableNetwork(){return function Ise(n){return function nse(n){return n.asyncQueue.enqueue((0,E.A)(function*(){const e=yield u3(n),t=yield c3(n);return e.setNetworkEnabled(!0),function(i){const s=ut(i);return s.L_.delete(0),V0(s)}(t)}))}(Ir(n=ln(n,Kn)))}(this._delegate)}disableNetwork(){return function bse(n){return function rse(n){return n.asyncQueue.enqueue((0,E.A)(function*(){const e=yield u3(n),t=yield c3(n);return e.setNetworkEnabled(!1),(r=(0,E.A)(function*(s){const o=ut(s);o.L_.add(0),yield yp(o),o.q_.set("Offline")}),function i(s){return r.apply(this,arguments)})(t);var r}))}(Ir(n=ln(n,Kn)))}(this._delegate)}enablePersistence(e){let t=!1,r=!1;return e&&(t=!!e.synchronizeTabs,r=!!e.experimentalForceOwningTab,m3("synchronizeTabs",t,"experimentalForceOwningTab",r)),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,r)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return function Ese(n){return function(t){const r=new ci;return t.asyncQueue.enqueueAndForget((0,E.A)(function*(){return function Bie(n,e){return UT.apply(this,arguments)}(yield lS(t),r)})),r.promise}(Ir(n=ln(n,Kn)))}(this._delegate)}onSnapshotsInSync(e){return function Xse(n,e){return function ase(n,e){const t=new yE(e);return n.asyncQueue.enqueueAndForget((0,E.A)(function*(){return i=yield Tp(n),s=t,ut(i).Y_.add(s),void s.next();var i,s})),()=>{t.za(),n.asyncQueue.enqueueAndForget((0,E.A)(function*(){return i=yield Tp(n),s=t,void ut(i).Y_.delete(s);var i,s}))}}(Ir(n=ln(n,Kn)),hS(e)?e:{next:e})}(this._delegate,e)}get app(){if(!this._appCompat)throw new He("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(e){try{return new Pp(this,I3(this._delegate,e))}catch(t){throw fs(t,"collection()","Firestore.collection()")}}doc(e){try{return new To(this,EE(this._delegate,e))}catch(t){throw fs(t,"doc()","Firestore.doc()")}}collectionGroup(e){try{return new ps(this,function fse(n,e){if(n=ln(n,L0),cS("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new He(Se.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new Fi(n,null,(r=e,new Sl(pn.emptyPath(),r)));var r}(this._delegate,e))}catch(t){throw fs(t,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(e){return function loe(n,e,t){n=ln(n,Kn);const r=Object.assign(Object.assign({},ooe),t);return function(s){if(s.maxAttempts<1)throw new He(Se.INVALID_ARGUMENT,"Max attempts must be at least 1")}(r),function(s,o,a){const l=new ci;return s.asyncQueue.enqueueAndForget((0,E.A)(function*(){const c=yield function d3(n){return vE(n).then(e=>e.datastore)}(s);new ese(s.asyncQueue,c,a,o,l).ru()})),l.promise}(Ir(n),i=>e(new aoe(n,i)),r)}(this._delegate,t=>e(new X3(this,t)))}batch(){return Ir(this._delegate),new Z3(new H3(this._delegate,e=>Rp(this._delegate,e)))}loadBundle(e){return function Ase(n,e){const t=Ir(n=ln(n,Kn)),r=new gse;return function lse(n,e,t,r){const i=function(o,a){let l;return l="string"==typeof o?S4().encode(o):o,p=function(p,m){if(p instanceof Uint8Array)return a3(p,m);if(p instanceof ArrayBuffer)return a3(new Uint8Array(p),m);if(p instanceof ReadableStream)return p.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(l),new Zie(p,a);var p}(t,F0(e));n.asyncQueue.enqueueAndForget((0,E.A)(function*(){!function Yie(n,e,t){const r=ut(n);var i;(i=(0,E.A)(function*(o,a,l){try{const c=yield a.getMetadata();if(yield function(D,R){const N=ut(D),ee=Hr(R.createTime);return N.persistence.runTransaction("hasNewerBundle","readonly",se=>N.Gr.getBundleMetadata(se,R.id)).then(se=>!!se&&se.createTime.compareTo(ee)>=0)}(o.localStore,c))return yield a.close(),l._completeWith({taskState:"Success",documentsLoaded:(D=c).totalDocuments,bytesLoaded:D.totalBytes,totalDocuments:D.totalDocuments,totalBytes:D.totalBytes}),Promise.resolve(new Set);l._updateProgress(Y8(c));const p=new Die(c,o.localStore,a.serializer);let m=yield a.Ua();for(;m;){const A=yield p.la(m);A&&l._updateProgress(A),m=yield a.Ua()}const w=yield p.complete();return yield Nl(o,w.Ia,void 0),yield function(D,R){const N=ut(D);return N.persistence.runTransaction("Save bundle","readwrite",ee=>N.Gr.saveBundleMetadata(ee,R))}(o.localStore,c),l._completeWith(w.progress),Promise.resolve(w.Pa)}catch(c){return ks("SyncEngine",`Loading bundle failed with ${c}`),l._failWith(c),Promise.resolve(new Set)}var D}),function s(o,a,l){return i.apply(this,arguments)})(r,e,t).then(i=>{r.sharedClientState.notifyBundleLoaded(i)})}(yield lS(n),i,r)}))}(t,n._databaseId,e,r),r}(this._delegate,e)}namedQuery(e){return function Cse(n,e){return function use(n,e){return n.asyncQueue.enqueue((0,E.A)(function*(){return function(r,i){const s=ut(r);return s.persistence.runTransaction("Get named query","readonly",o=>s.Gr.getNamedQuery(o,i))}(yield Dp(n),e)}))}(Ir(n=ln(n,Kn)),e).then(t=>t?new Fi(n,null,t.query):null)}(this._delegate,e).then(t=>t?new ps(this,t):null)}}class kE extends IS{constructor(e){super(),this.firestore=e}convertBytes(e){return new G0(new Va(e))}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return To.forKey(t,this.firestore,null)}}class X3{constructor(e,t){this._firestore=e,this._delegate=t,this._userDataWriter=new kE(e)}get(e){const t=Vd(e);return this._delegate.get(t).then(r=>new W0(this._firestore,new Ol(this._firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,t.converter)))}set(e,t,r){const i=Vd(e);return r?(CS("Transaction.set",r),this._delegate.set(i,t,r)):this._delegate.set(i,t),this}update(e,t,r,...i){const s=Vd(e);return 2===arguments.length?this._delegate.update(s,t):this._delegate.update(s,t,r,...i),this}delete(e){const t=Vd(e);return this._delegate.delete(t),this}}class Z3{constructor(e){this._delegate=e}set(e,t,r){const i=Vd(e);return r?(CS("WriteBatch.set",r),this._delegate.set(i,t,r)):this._delegate.set(i,t),this}update(e,t,r,...i){const s=Vd(e);return 2===arguments.length?this._delegate.update(s,t):this._delegate.update(s,t,r,...i),this}delete(e){const t=Vd(e);return this._delegate.delete(t),this}commit(){return this._delegate.commit()}}class Fd{constructor(e,t,r){this._firestore=e,this._userDataWriter=t,this._delegate=r}fromFirestore(e,t){const r=new q0(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new K0(this._firestore,r),t??{})}toFirestore(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}static getInstance(e,t){const r=Fd.INSTANCES;let i=r.get(e);i||(i=new WeakMap,r.set(e,i));let s=i.get(t);return s||(s=new Fd(e,new kE(e),t),i.set(t,s)),s}}Fd.INSTANCES=new WeakMap;class To{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new kE(e)}static forPath(e,t,r){if(e.length%2!=0)throw new He("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${e.canonicalString()} has ${e.length}`);return new To(t,new hr(t._delegate,r,new dt(e)))}static forKey(e,t,r){return new To(t,new hr(t._delegate,r,e))}get id(){return this._delegate.id}get parent(){return new Pp(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(e){try{return new Pp(this.firestore,I3(this._delegate,e))}catch(t){throw fs(t,"collection()","DocumentReference.collection()")}}isEqual(e){return(e=(0,xn.Ku)(e))instanceof hr&&b3(this._delegate,e)}set(e,t){t=CS("DocumentReference.set",t);try{return t?j3(this._delegate,e,t):j3(this._delegate,e)}catch(r){throw fs(r,"setDoc()","DocumentReference.set()")}}update(e,t,...r){try{return 1===arguments.length?$3(this._delegate,e):$3(this._delegate,e,t,...r)}catch(i){throw fs(i,"updateDoc()","DocumentReference.update()")}}delete(){return function Qse(n){return Rp(ln(n.firestore,Kn),[new lp(n._key,Er.none())])}(this._delegate)}onSnapshot(...e){const t=J3(e),r=e5(e,i=>new W0(this.firestore,new Ol(this.firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,this._delegate.converter)));return z3(this._delegate,t,r)}get(e){let t;return t="cache"===e?.source?function Hse(n){n=ln(n,hr);const e=ln(n.firestore,Kn),t=Ir(e),r=new ec(e);return function ise(n,e){const t=new ci;return n.asyncQueue.enqueueAndForget((0,E.A)(function*(){return(r=(0,E.A)(function*(s,o,a){try{const l=yield function(p,m){const w=ut(p);return w.persistence.runTransaction("read document","readonly",A=>w.localDocuments.getDocument(A,m))}(s,o);l.isFoundDocument()?a.resolve(l):l.isNoDocument()?a.resolve(null):a.reject(new He(Se.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(l){const c=Ep(l,`Failed to get document '${o} from cache`);a.reject(c)}}),function i(s,o,a){return r.apply(this,arguments)})(yield Dp(n),e,t);var r})),t.promise}(t,n._key).then(i=>new Ol(e,r,n._key,i,new Od(null!==i&&i.hasLocalMutations,!0),n.converter))}(this._delegate):"server"===e?.source?function qse(n){n=ln(n,hr);const e=ln(n.firestore,Kn);return h3(Ir(e),n._key,{source:"server"}).then(t=>bS(e,n,t))}(this._delegate):function zse(n){n=ln(n,hr);const e=ln(n.firestore,Kn);return h3(Ir(e),n._key).then(t=>bS(e,n,t))}(this._delegate),t.then(r=>new W0(this.firestore,new Ol(this.firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,this._delegate.converter)))}withConverter(e){return new To(this.firestore,this._delegate.withConverter(e?Fd.getInstance(this.firestore,e):null))}}function fs(n,e,t){return n.message=n.message.replace(e,t),n}function J3(n){for(const e of n)if("object"==typeof e&&!xS(e))return e;return{}}function e5(n,e){var t,r;let i;return i=xS(n[0])?n[0]:xS(n[1])?n[1]:"function"==typeof n[0]?{next:n[0],error:n[1],complete:n[2]}:{next:n[1],error:n[2],complete:n[3]},{next:s=>{i.next&&i.next(e(s))},error:null===(t=i.error)||void 0===t?void 0:t.bind(i),complete:null===(r=i.complete)||void 0===r?void 0:r.bind(i)}}class W0{constructor(e,t){this._firestore=e,this._delegate=t}get ref(){return new To(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(e){return this._delegate.data(e)}get(e,t){return this._delegate.get(e,t)}isEqual(e){return U3(this._delegate,e._delegate)}}class K0 extends W0{data(e){const t=this._delegate.data(e);return this._delegate._converter||function ine(n,e){n||wt()}(void 0!==t),t}}class ps{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new kE(e)}where(e,t,r){try{return new ps(this.firestore,Zu(this._delegate,function Mse(n,e,t){const r=e,i=TE("where",n);return H0._create(i,r,t)}(e,t,r)))}catch(i){throw fs(i,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(e,t){try{return new ps(this.firestore,Zu(this._delegate,function Nse(n,e="asc"){const t=e,r=TE("orderBy",n);return ES._create(r,t)}(e,t)))}catch(r){throw fs(r,/(orderBy|where)\(\)/,"Query.$1()")}}limit(e){try{return new ps(this.firestore,Zu(this._delegate,function kse(n){return v3("limit",n),SE._create("limit",n,"F")}(e)))}catch(t){throw fs(t,"limit()","Query.limit()")}}limitToLast(e){try{return new ps(this.firestore,Zu(this._delegate,function Ose(n){return v3("limitToLast",n),SE._create("limitToLast",n,"L")}(e)))}catch(t){throw fs(t,"limitToLast()","Query.limitToLast()")}}startAt(...e){try{return new ps(this.firestore,Zu(this._delegate,function Fse(...n){return RE._create("startAt",n,!0)}(...e)))}catch(t){throw fs(t,"startAt()","Query.startAt()")}}startAfter(...e){try{return new ps(this.firestore,Zu(this._delegate,function Vse(...n){return RE._create("startAfter",n,!1)}(...e)))}catch(t){throw fs(t,"startAfter()","Query.startAfter()")}}endBefore(...e){try{return new ps(this.firestore,Zu(this._delegate,function Lse(...n){return PE._create("endBefore",n,!1)}(...e)))}catch(t){throw fs(t,"endBefore()","Query.endBefore()")}}endAt(...e){try{return new ps(this.firestore,Zu(this._delegate,function Bse(...n){return PE._create("endAt",n,!0)}(...e)))}catch(t){throw fs(t,"endAt()","Query.endAt()")}}isEqual(e){return dS(this._delegate,e._delegate)}get(e){let t;return t="cache"===e?.source?function Wse(n){n=ln(n,Fi);const e=ln(n.firestore,Kn),t=Ir(e),r=new ec(e);return function sse(n,e){const t=new ci;return n.asyncQueue.enqueueAndForget((0,E.A)(function*(){return(r=(0,E.A)(function*(s,o,a){try{const l=yield uE(s,o,!0),c=new J8(o,l.Ts),p=c.ma(l.documents),m=c.applyChanges(p,!1);a.resolve(m.snapshot)}catch(l){const c=Ep(l,`Failed to execute query '${o} against cache`);a.reject(c)}}),function i(s,o,a){return r.apply(this,arguments)})(yield Dp(n),e,t);var r})),t.promise}(t,n._query).then(i=>new Ju(e,r,n,i))}(this._delegate):"server"===e?.source?function Kse(n){n=ln(n,Fi);const e=ln(n.firestore,Kn),t=Ir(e),r=new ec(e);return f3(t,n._query,{source:"server"}).then(i=>new Ju(e,r,n,i))}(this._delegate):function Gse(n){n=ln(n,Fi);const e=ln(n.firestore,Kn),t=Ir(e),r=new ec(e);return k3(n._query),f3(t,n._query).then(i=>new Ju(e,r,n,i))}(this._delegate),t.then(r=>new DS(this.firestore,new Ju(this.firestore._delegate,this._userDataWriter,this._delegate,r._snapshot)))}onSnapshot(...e){const t=J3(e),r=e5(e,i=>new DS(this.firestore,new Ju(this.firestore._delegate,this._userDataWriter,this._delegate,i._snapshot)));return z3(this._delegate,t,r)}withConverter(e){return new ps(this.firestore,this._delegate.withConverter(e?Fd.getInstance(this.firestore,e):null))}}class woe{constructor(e,t){this._firestore=e,this._delegate=t}get type(){return this._delegate.type}get doc(){return new K0(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class DS{constructor(e,t){this._firestore=e,this._delegate=t}get query(){return new ps(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(e=>new K0(this._firestore,e))}docChanges(e){return this._delegate.docChanges(e).map(t=>new woe(this._firestore,t))}forEach(e,t){this._delegate.forEach(r=>{e.call(t,new K0(this._firestore,r))})}isEqual(e){return U3(this._delegate,e._delegate)}}class Pp extends ps{constructor(e,t){super(e,t),this.firestore=e,this._delegate=t}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const e=this._delegate.parent;return e?new To(this.firestore,e):null}doc(e){try{return new To(this.firestore,void 0===e?EE(this._delegate):EE(this._delegate,e))}catch(t){throw fs(t,"doc()","CollectionReference.doc()")}}add(e){return function Yse(n,e){const t=ln(n.firestore,Kn),r=EE(n),i=ME(n.converter,e);return Rp(t,[CE(Nd(n.firestore),"addDoc",r._key,i,null!==n.converter,{}).toMutation(r._key,Er.exists(!1))]).then(()=>r)}(this._delegate,e).then(t=>new To(this.firestore,t))}isEqual(e){return b3(this._delegate,e._delegate)}withConverter(e){return new Pp(this.firestore,this._delegate.withConverter(e?Fd.getInstance(this.firestore,e):null))}}function Vd(n){return ln(n,hr)}class TS{constructor(...e){this._delegate=new kl(...e)}static documentId(){return new TS(cr.keyField().canonicalString())}isEqual(e){return(e=(0,xn.Ku)(e))instanceof kl&&this._delegate._internalPath.isEqual(e._internalPath)}}class Ld{constructor(e){this._delegate=e}static serverTimestamp(){const e=function coe(){return new fS("serverTimestamp")}();return e._methodName="FieldValue.serverTimestamp",new Ld(e)}static delete(){const e=function uoe(){return new U0("deleteField")}();return e._methodName="FieldValue.delete",new Ld(e)}static arrayUnion(...e){const t=function doe(...n){return new pS("arrayUnion",n)}(...e);return t._methodName="FieldValue.arrayUnion",new Ld(t)}static arrayRemove(...e){const t=function hoe(...n){return new gS("arrayRemove",n)}(...e);return t._methodName="FieldValue.arrayRemove",new Ld(t)}static increment(e){const t=function foe(n){return new mS("increment",n)}(e);return t._methodName="FieldValue.increment",new Ld(t)}isEqual(e){return this._delegate.isEqual(e._delegate)}}const Eoe={Firestore:Y3,GeoPoint:IE,Timestamp:vr,Blob:G0,Transaction:X3,WriteBatch:Z3,DocumentReference:To,DocumentSnapshot:W0,Query:ps,QueryDocumentSnapshot:K0,QuerySnapshot:DS,CollectionReference:Pp,FieldPath:TS,FieldValue:Ld,setLogLevel:function voe(n){!function rne(n){Vu.setLogLevel(n)}(n)},CACHE_SIZE_UNLIMITED:-1};function t5(n,e){return function Aoe(n,e=UL){return new rn(t=>{let r;return null!=e?e.schedule(()=>{r=n.onSnapshot({includeMetadataChanges:!0},t)}):r=n.onSnapshot({includeMetadataChanges:!0},t),()=>{r?.()}})}(n,e)}function SS(n,e){return t5(n,e).pipe(mt(t=>({payload:t,type:"query"})))}!function boe(n){(function Ioe(n,e){n.INTERNAL.registerComponent(new sB.uA("firestore-compat",t=>{const r=t.getProvider("app-compat").getImmediate(),i=t.getProvider("firestore").getImmediate();return e(r,i)},"PUBLIC").setServiceProps(Object.assign({},Eoe)))})(n,(e,t)=>new Y3(e,t,new _oe)),n.registerVersion("@firebase/firestore-compat","0.3.37")}(Fu.A);class n5{ref;afs;constructor(e,t){this.ref=e,this.afs=t}set(e,t){return this.ref.set(e,t)}update(e){return this.ref.update(e)}delete(){return this.ref.delete()}collection(e,t){const r=this.ref.collection(e),{ref:i,query:s}=l5(r,t);return new s5(i,s,this.afs)}snapshotChanges(){return function Coe(n,e){return t5(n,e).pipe(ew(void 0),iD(),mt(t=>{const[r,i]=t;return i.exists?r?.exists?{payload:i,type:"modified"}:{payload:i,type:"added"}:{payload:i,type:"removed"}}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(eo)}valueChanges(e={}){return this.snapshotChanges().pipe(mt(({payload:t})=>e.idField?{...t.data(),[e.idField]:t.id}:t.data()))}get(e){return or(this.ref.get(e)).pipe(eo)}}function OE(n,e){return SS(n,e).pipe(ew(void 0),iD(),mt(t=>{const[r,i]=t,s=i.payload.docChanges(),o=s.map(a=>({type:a.type,payload:a}));return r&&JSON.stringify(r.payload.metadata)!==JSON.stringify(i.payload.metadata)&&i.payload.docs.forEach((a,l)=>{const c=s.find(m=>m.doc.ref.isEqual(a.ref)),p=r?.payload.docs.find(m=>m.ref.isEqual(a.ref));c&&JSON.stringify(c.doc.metadata)===JSON.stringify(a.metadata)||!c&&p&&JSON.stringify(p.metadata)===JSON.stringify(a.metadata)||o.push({type:"modified",payload:{oldIndex:l,newIndex:l,type:"modified",doc:a}})}),o}))}function r5(n,e,t){return OE(n,t).pipe(nw((r,i)=>function xoe(n,e,t){return e.forEach(r=>{t.indexOf(r.type)>-1&&(n=function Doe(n,e){switch(e.type){case"added":if(!n[e.newIndex]||!n[e.newIndex].doc.ref.isEqual(e.doc.ref))return RS(n,e.newIndex,0,e);break;case"modified":if(null==n[e.oldIndex]||n[e.oldIndex].doc.ref.isEqual(e.doc.ref)){if(e.oldIndex!==e.newIndex){const t=n.slice();return t.splice(e.oldIndex,1),t.splice(e.newIndex,0,e),t}return RS(n,e.newIndex,1,e)}break;case"removed":if(n[e.oldIndex]&&n[e.oldIndex].doc.ref.isEqual(e.doc.ref))return RS(n,e.oldIndex,1)}return n}(n,r))}),n}(r,i.map(s=>s.payload),e),[]),function tne(n,e=br){return n=n??nne,fe((t,r)=>{let i,s=!0;t.subscribe(rt(r,o=>{const a=e(o);(s||!n(i,a))&&(s=!1,i=a,r.next(o))}))})}(),mt(r=>r.map(i=>({type:i.type,payload:i}))))}function RS(n,e,t,...r){const i=n.slice();return i.splice(e,t,...r),i}function i5(n){return(!n||0===n.length)&&(n=["added","removed","modified"]),n}class s5{ref;query;afs;constructor(e,t,r){this.ref=e,this.query=t,this.afs=r}stateChanges(e){let t=OE(this.query,this.afs.schedulers.outsideAngular);return e&&e.length>0&&(t=t.pipe(mt(r=>r.filter(i=>e.indexOf(i.type)>-1)))),t.pipe(ew(void 0),iD(),xo(([r,i])=>i.length>0||!r),mt(([,r])=>r),eo)}auditTrail(e){return this.stateChanges(e).pipe(nw((t,r)=>[...t,...r],[]))}snapshotChanges(e){const t=i5(e);return r5(this.query,t,this.afs.schedulers.outsideAngular).pipe(eo)}valueChanges(e={}){return SS(this.query,this.afs.schedulers.outsideAngular).pipe(mt(t=>t.payload.docs.map(r=>e.idField?{...r.data(),[e.idField]:r.id}:r.data())),eo)}get(e){return or(this.query.get(e)).pipe(eo)}add(e){return this.ref.add(e)}doc(e){return new n5(this.ref.doc(e),this.afs)}}class Toe{query;afs;constructor(e,t){this.query=e,this.afs=t}stateChanges(e){return e&&0!==e.length?OE(this.query,this.afs.schedulers.outsideAngular).pipe(mt(t=>t.filter(r=>e.indexOf(r.type)>-1)),xo(t=>t.length>0),eo):OE(this.query,this.afs.schedulers.outsideAngular).pipe(eo)}auditTrail(e){return this.stateChanges(e).pipe(nw((t,r)=>[...t,...r],[]))}snapshotChanges(e){const t=i5(e);return r5(this.query,t,this.afs.schedulers.outsideAngular).pipe(eo)}valueChanges(e={}){return SS(this.query,this.afs.schedulers.outsideAngular).pipe(mt(r=>r.payload.docs.map(i=>e.idField?{[e.idField]:i.id,...i.data()}:i.data())),eo)}get(e){return or(this.query.get(e)).pipe(eo)}}const o5=new Qe("angularfire2.enableFirestorePersistence"),a5=new Qe("angularfire2.firestore.persistenceSettings"),Soe=new Qe("angularfire2.firestore.settings"),Roe=new Qe("angularfire2.firestore.use-emulator");function l5(n,e=(t=>t)){return{query:e(n),ref:n}}let u5=(()=>{class n{schedulers;firestore;persistenceEnabled$;constructor(t,r,i,s,o,a,l,c,p,m,w,A,D,R,N,ee,se){this.schedulers=l;const ge=nD(t,a,r),Oe=p;m&&rB(ge,a,w,D,R,N,A,ee),[this.firestore,this.persistenceEnabled$]=WL(`${ge.name}.firestore`,"AngularFirestore",ge.name,()=>{const et=a.runOutsideAngular(()=>ge.firestore());if(s&&et.settings(s),Oe&&et.useEmulator(...Oe),i&&!Ov(o)){const ot=()=>{try{return or(et.enablePersistence(c||void 0).then(()=>!0,()=>!1))}catch(J){return typeof console<"u"&&console.warn(J),Ft(!1)}};return[et,a.runOutsideAngular(ot)]}return[et,Ft(!1)]},[s,Oe,i])}collection(t,r){let i;i="string"==typeof t?this.firestore.collection(t):t;const{ref:s,query:o}=l5(i,r),a=this.schedulers.ngZone.run(()=>s);return new s5(a,o,this)}collectionGroup(t,r){const i=r||(o=>o),s=this.firestore.collectionGroup(t);return new Toe(i(s),this)}doc(t){let r;r="string"==typeof t?this.firestore.doc(t):t;const i=this.schedulers.ngZone.run(()=>r);return new n5(i,this)}createId(){return this.firestore.collection("_").doc().id}static \u0275fac=function(r){return new(r||n)(We(Pw),We(Mw,8),We(o5,8),We(Soe,8),We(Lo),We(_n),We(HL),We(a5,8),We(Roe,8),We(iB,8),We(XL,8),We(ZL,8),We(JL,8),We(eB,8),We(tB,8),We(nB,8),We($L,8))};static \u0275prov=pt({token:n,factory:n.\u0275fac,providedIn:"any"})}return n})(),Poe=(()=>{class n{constructor(){Fu.A.registerVersion("angularfire",tD.full,"fst-compat")}static enablePersistence(t){return{ngModule:n,providers:[{provide:o5,useValue:!0},{provide:a5,useValue:t}]}}static \u0275fac=function(r){return new(r||n)};static \u0275mod=Vr({type:n});static \u0275inj=ri({providers:[u5]})}return n})(),Moe=(()=>{class n{constructor(t,r){this.formBuilder=t,this.firestore=r,this.contactForm=this.formBuilder.group({name:["",Hf.required],subject:["",Hf.required],email:["",[Hf.required,Hf.email]],phone:["",[Hf.pattern(/^\+?\d*$/)]],description:["",Hf.required]})}submitForm(){if(this.contactForm.valid){const t=this.contactForm.value,r=new Date,c=`${String(r.getDate()).padStart(2,"0")}-${String(r.getMonth()+1).padStart(2,"0")}-${r.getFullYear()} ${String(r.getHours()).padStart(2,"0")}:${String(r.getMinutes()).padStart(2,"0")}`,p={name:t.name,subject:t.subject,email:t.email,phone:Number(t.phone),description:t.description,dateTime:c};this.firestore.collection("contacts").add(p).then(()=>{console.log("Data saved successfully!"),VL().fire({position:"center",icon:"success",title:"Hi "+t.name+" Your work has been saved",showConfirmButton:!1,timer:1500}),this.contactForm.reset()}).catch(m=>{console.error("Error saving data: ",m)})}else VL().fire({position:"center",icon:"error",title:"Invalid form",showConfirmButton:!0}),console.log("Invalid form")}static#e=this.\u0275fac=function(r){return new(r||n)(Ze(Cte),Ze(u5))};static#t=this.\u0275cmp=ji({type:n,selectors:[["app-contact"]],decls:44,vars:1,consts:[[1,"title"],["id","contact",1,"contact-me"],[1,"form-container"],[3,"formGroup"],[1,"form-group"],["for","name"],["type","text","formControlName","name","name","name","required",""],["for","subject"],["type","text","formControlName","subject","name","subject","required",""],["for","email"],["type","email","formControlName","email","name","email","required",""],["for","phone"],["type","phone","formControlName","phone","name","phone","required",""],["for","message"],["formControlName","description","name","description","required",""],["type","submit",3,"click"],[1,"details-container"],[1,"contact-info"],[1,"contact-item"],["href","tel:+919092850954",1,"contact-link"],[1,"fas","fa-phone","white-icon"],["href","mailto:kavinkumar025@gmail.com",1,"contact-link"],[1,"fas","fa-envelope","white-icon"]],template:function(r,i){1&r&&(Zn(0,"br"),Ge(1,"h2",0),Ye(2,"Contact Me"),ze(),Ge(3,"section",1)(4,"div",2)(5,"p"),Ye(6,"Feel free to reach out to me anytime you have a query or require support."),ze(),Ge(7,"form",3)(8,"div",4)(9,"label",5),Ye(10,"Name"),ze(),Zn(11,"input",6),ze(),Ge(12,"div",4)(13,"label",7),Ye(14,"Subject"),ze(),Zn(15,"input",8),ze(),Ge(16,"div",4)(17,"label",9),Ye(18,"E-mail"),ze(),Zn(19,"input",10),ze(),Ge(20,"div",4)(21,"label",11),Ye(22,"phone"),ze(),Zn(23,"input",12),ze(),Ge(24,"div",4)(25,"label",13),Ye(26,"Your Message"),ze(),Zn(27,"textarea",14),ze(),Ge(28,"button",15),Xr("click",function(){return i.submitForm()}),Ye(29,"Submit"),ze()()(),Ge(30,"div",16)(31,"div",17)(32,"div",18)(33,"a",19),Zn(34,"i",20),ze(),Ge(35,"p"),Ye(36,"+91 9092850954"),ze()(),Ge(37,"div",18)(38,"a",21),Zn(39,"i",22),ze(),Ge(40,"p"),Ye(41,"kavinkumar025@gmail.com"),ze()()()(),Zn(42,"br"),ze(),Zn(43,"br")),2&r&&(ya(7),id("formGroup",i.contactForm))},dependencies:[yL,yw,nL,rL,Sw,Tw,Xx],styles:[".contact-me[_ngcontent-%COMP%]{display:flex;max-width:1000px;margin:0 auto}.form-container[_ngcontent-%COMP%]{flex:1;padding:40px;background-color:#f9f9f9;border-radius:10px 0 0 10px;box-shadow:0 2px 4px #0000001a}.form-container[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:28px;color:#007bff;margin-bottom:10px}.form-container[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:16px;color:#555;margin-bottom:30px}form[_ngcontent-%COMP%]{display:flex;flex-direction:column}.form-group[_ngcontent-%COMP%]{margin-bottom:20px}label[_ngcontent-%COMP%]{font-weight:700;font-size:16px;margin-bottom:5px;color:#333}input[_ngcontent-%COMP%], textarea[_ngcontent-%COMP%]{width:100%;padding:12px;border:2px solid #ddd;border-radius:6px;font-size:16px;background-color:#f9f9f9;transition:border-color .2s ease-in-out}input[_ngcontent-%COMP%]:focus, textarea[_ngcontent-%COMP%]:focus{outline:none;border-color:#007bff}button[_ngcontent-%COMP%]{background-color:#007bff;color:#fff;border:none;padding:12px 24px;border-radius:6px;cursor:pointer;font-size:18px;font-weight:700;transition:background-color .2s ease-in-out}button[_ngcontent-%COMP%]:hover{background-color:#0056b3}.details-container[_ngcontent-%COMP%]{flex:1;padding:40px;background-color:#007bff;color:#fff;border-radius:0 10px 10px 0;box-shadow:0 2px 4px #0000001a;display:flex;justify-content:space-between;align-items:center;position:relative}.contact-info[_ngcontent-%COMP%]{display:flex;flex-direction:column}.contact-item[_ngcontent-%COMP%]{display:flex;align-items:center;margin-bottom:15px}.contact-item[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:24px;margin-right:10px}.contact-item[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:18px}.contact-item[_ngcontent-%COMP%]:hover{opacity:.8;transform:scale(1.1)}.contact-image[_ngcontent-%COMP%]{position:absolute;right:40px;bottom:40px;opacity:0;transform:translateY(20px);transition:opacity .2s ease-in-out,transform .2s ease-in-out}.contact-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:200px;height:auto;border-radius:50%;box-shadow:0 2px 4px #0003}.details-container[_ngcontent-%COMP%]:hover   .contact-image[_ngcontent-%COMP%]{opacity:1;transform:translateY(0)}.form-container[_ngcontent-%COMP%]{animation:fadeInDown 1s}button[type=submit][_ngcontent-%COMP%]{transition:background-color .3s ease}button[type=submit][_ngcontent-%COMP%]:hover{background-color:#ff5722}h2[_ngcontent-%COMP%]{text-align:center}.title[_ngcontent-%COMP%]{text-align:center;margin-bottom:30px;font-size:36px;color:#333;text-transform:uppercase}@media (max-width: 767px){.contact-me[_ngcontent-%COMP%]{flex-direction:column}.form-container[_ngcontent-%COMP%], .details-container[_ngcontent-%COMP%]{border-radius:10px}.details-container[_ngcontent-%COMP%], .contact-info[_ngcontent-%COMP%]{margin-top:20px}.contact-image[_ngcontent-%COMP%]{position:static;margin-top:20px}}attractive-phone[_ngcontent-%COMP%]{font-size:36px;color:#007bff;background-color:#f2f2f2;border-radius:50%;padding:10px;box-shadow:0 0 10px #0003;transition:transform .2s ease-in-out}attractive-phone[_ngcontent-%COMP%]:hover{transform:scale(1.1)}.white-icon[_ngcontent-%COMP%]{color:#fff}"]})}return n})();function Noe(n,e){if(1&n){const t=function nN(){return Ne()}();Ge(0,"button",1),Xr("click",function(){return function Wy(n){return $t.lFrame.contextLView=n,n[Yn]}(t),function Ch(n){return $t.lFrame.contextLView=null,n}(FN().scrollToTop())}),Zn(1,"i",2),ze()}}let koe=(()=>{class n{constructor(){this.showScrollButton=!0}onWindowScroll(){this.showScrollButton=window.scrollY>20}scrollToTop(){window.scrollTo({top:0,behavior:"smooth"})}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275cmp=ji({type:n,selectors:[["app-scroll"]],hostBindings:function(r,i){1&r&&Xr("scroll",function(){return i.onWindowScroll()},0,D_)},decls:1,vars:1,consts:[["class","scroll-to-top-btn",3,"click",4,"ngIf"],[1,"scroll-to-top-btn",3,"click"],[1,"arrow-up"]],template:function(r,i){1&r&&Xh(0,Noe,2,0,"button",0),2&r&&id("ngIf",i.showScrollButton)},dependencies:[Jk],styles:[".scroll-to-top-btn[_ngcontent-%COMP%]{position:fixed;bottom:20px;right:30px;width:40px;height:40px;background-color:#007bff;color:#fff;border:none;border-radius:50%;cursor:pointer}.scroll-to-top-btn[_ngcontent-%COMP%]:hover{background-color:#0056b3}.scroll-to-top-btn[_ngcontent-%COMP%]   i.arrow-up[_ngcontent-%COMP%]{font-size:18px;position:absolute;inset:40% 50% 50% 35%;transform:translate(-60%,-60%);border:solid #fff;border-width:0 2px 2px 0;padding:5px;transform:rotate(-135deg)}"]})}return n})();const Ooe=[{path:"",component:(()=>{class n{constructor(t,r){this.router=t,this.titleService=r,this.sections=[{id:"introduction",title:"Introduction"},{id:"about",title:"About Me"},{id:"experience",title:"Experience"},{id:"skill",title:"Skills"},{id:"education",title:"Education"},{id:"contact",title:"Contact"}]}onWindowScroll(){let t="";for(let r of this.sections){const i=document.getElementById(r.id);if(i){const s=i.getBoundingClientRect();if(s.top>=0&&s.top<=window.innerHeight/2){t=r.id,this.titleService.setTitle(r.title),this.router.navigate([],{fragment:t});break}}}}onRightClick(t){t.preventDefault(),console.log("Right-click is Disabled !")}static#e=this.\u0275fac=function(r){return new(r||n)(Ze(Do),Ze(xO))};static#t=this.\u0275cmp=ji({type:n,selectors:[["app-profile"]],hostBindings:function(r,i){1&r&&Xr("scroll",function(o){return i.onWindowScroll(o)},0,D_)},decls:9,vars:0,consts:[[1,"page-content",3,"contextmenu"],["id","introduction"],["id","about"],["id","experience"],["id","skill"],["id","education"],["id","contact"],["id","scroll"]],template:function(r,i){1&r&&(Zn(0,"app-header"),Ge(1,"div",0),Xr("contextmenu",function(o){return i.onRightClick(o)}),Zn(2,"app-introduction",1)(3,"app-about",2)(4,"app-experience",3)(5,"app-skill",4)(6,"app-education",5)(7,"app-contact",6)(8,"app-scroll",7),ze())},dependencies:[Cee,xee,Tee,See,Ree,Pee,Moe,koe],styles:[".row[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-weight:700px;color:#000}.card-body[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{padding-left:20px}li[_ngcontent-%COMP%]{padding-top:5px}"]})}return n})()}];let Foe=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275mod=Vr({type:n});static#n=this.\u0275inj=ri({imports:[SV.forRoot(Ooe),SV]})}return n})(),Voe=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275cmp=ji({type:n,selectors:[["app-root"]],decls:1,vars:0,template:function(r,i){1&r&&Zn(0,"router-outlet")},dependencies:[bx],encapsulation:2})}return n})();class FE{}class VE{}class So{constructor(e){this.normalizedNames=new Map,this.lazyUpdate=null,e?"string"==typeof e?this.lazyInit=()=>{this.headers=new Map,e.split("\n").forEach(t=>{const r=t.indexOf(":");if(r>0){const i=t.slice(0,r),s=i.toLowerCase(),o=t.slice(r+1).trim();this.maybeSetNormalizedName(i,s),this.headers.has(s)?this.headers.get(s).push(o):this.headers.set(s,[o])}})}:typeof Headers<"u"&&e instanceof Headers?(this.headers=new Map,e.forEach((t,r)=>{this.setHeaderEntries(r,t)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(e).forEach(([t,r])=>{this.setHeaderEntries(t,r)})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();const t=this.headers.get(e.toLowerCase());return t&&t.length>0?t[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,t){return this.clone({name:e,value:t,op:"a"})}set(e,t){return this.clone({name:e,value:t,op:"s"})}delete(e,t){return this.clone({name:e,value:t,op:"d"})}maybeSetNormalizedName(e,t){this.normalizedNames.has(t)||this.normalizedNames.set(t,e)}init(){this.lazyInit&&(this.lazyInit instanceof So?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(t=>{this.headers.set(t,e.headers.get(t)),this.normalizedNames.set(t,e.normalizedNames.get(t))})}clone(e){const t=new So;return t.lazyInit=this.lazyInit&&this.lazyInit instanceof So?this.lazyInit:this,t.lazyUpdate=(this.lazyUpdate||[]).concat([e]),t}applyUpdate(e){const t=e.name.toLowerCase();switch(e.op){case"a":case"s":let r=e.value;if("string"==typeof r&&(r=[r]),0===r.length)return;this.maybeSetNormalizedName(e.name,t);const i=("a"===e.op?this.headers.get(t):void 0)||[];i.push(...r),this.headers.set(t,i);break;case"d":const s=e.value;if(s){let o=this.headers.get(t);if(!o)return;o=o.filter(a=>-1===s.indexOf(a)),0===o.length?(this.headers.delete(t),this.normalizedNames.delete(t)):this.headers.set(t,o)}else this.headers.delete(t),this.normalizedNames.delete(t)}}setHeaderEntries(e,t){const r=(Array.isArray(t)?t:[t]).map(s=>s.toString()),i=e.toLowerCase();this.headers.set(i,r),this.maybeSetNormalizedName(e,i)}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(t=>e(this.normalizedNames.get(t),this.headers.get(t)))}}class Loe{encodeKey(e){return c5(e)}encodeValue(e){return c5(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}}const Uoe=/%(\d[a-f0-9])/gi,joe={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function c5(n){return encodeURIComponent(n).replace(Uoe,(e,t)=>joe[t]??e)}function LE(n){return`${n}`}class nc{constructor(e={}){if(this.updates=null,this.cloneFrom=null,this.encoder=e.encoder||new Loe,e.fromString){if(e.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function Boe(n,e){const t=new Map;return n.length>0&&n.replace(/^\?/,"").split("&").forEach(i=>{const s=i.indexOf("="),[o,a]=-1==s?[e.decodeKey(i),""]:[e.decodeKey(i.slice(0,s)),e.decodeValue(i.slice(s+1))],l=t.get(o)||[];l.push(a),t.set(o,l)}),t}(e.fromString,this.encoder)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach(t=>{const r=e.fromObject[t],i=Array.isArray(r)?r.map(LE):[LE(r)];this.map.set(t,i)})):this.map=null}has(e){return this.init(),this.map.has(e)}get(e){this.init();const t=this.map.get(e);return t?t[0]:null}getAll(e){return this.init(),this.map.get(e)||null}keys(){return this.init(),Array.from(this.map.keys())}append(e,t){return this.clone({param:e,value:t,op:"a"})}appendAll(e){const t=[];return Object.keys(e).forEach(r=>{const i=e[r];Array.isArray(i)?i.forEach(s=>{t.push({param:r,value:s,op:"a"})}):t.push({param:r,value:i,op:"a"})}),this.clone(t)}set(e,t){return this.clone({param:e,value:t,op:"s"})}delete(e,t){return this.clone({param:e,value:t,op:"d"})}toString(){return this.init(),this.keys().map(e=>{const t=this.encoder.encodeKey(e);return this.map.get(e).map(r=>t+"="+this.encoder.encodeValue(r)).join("&")}).filter(e=>""!==e).join("&")}clone(e){const t=new nc({encoder:this.encoder});return t.cloneFrom=this.cloneFrom||this,t.updates=(this.updates||[]).concat(e),t}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(e=>this.map.set(e,this.cloneFrom.map.get(e))),this.updates.forEach(e=>{switch(e.op){case"a":case"s":const t=("a"===e.op?this.map.get(e.param):void 0)||[];t.push(LE(e.value)),this.map.set(e.param,t);break;case"d":if(void 0===e.value){this.map.delete(e.param);break}{let r=this.map.get(e.param)||[];const i=r.indexOf(LE(e.value));-1!==i&&r.splice(i,1),r.length>0?this.map.set(e.param,r):this.map.delete(e.param)}}}),this.cloneFrom=this.updates=null)}}class $oe{constructor(){this.map=new Map}set(e,t){return this.map.set(e,t),this}get(e){return this.map.has(e)||this.map.set(e,e.defaultValue()),this.map.get(e)}delete(e){return this.map.delete(e),this}has(e){return this.map.has(e)}keys(){return this.map.keys()}}function d5(n){return typeof ArrayBuffer<"u"&&n instanceof ArrayBuffer}function h5(n){return typeof Blob<"u"&&n instanceof Blob}function f5(n){return typeof FormData<"u"&&n instanceof FormData}class Q0{constructor(e,t,r,i){let s;if(this.url=t,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=e.toUpperCase(),function zoe(n){switch(n){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||i?(this.body=void 0!==r?r:null,s=i):s=r,s&&(this.reportProgress=!!s.reportProgress,this.withCredentials=!!s.withCredentials,s.responseType&&(this.responseType=s.responseType),s.headers&&(this.headers=s.headers),s.context&&(this.context=s.context),s.params&&(this.params=s.params),this.transferCache=s.transferCache),this.headers??=new So,this.context??=new $oe,this.params){const o=this.params.toString();if(0===o.length)this.urlWithParams=t;else{const a=t.indexOf("?");this.urlWithParams=t+(-1===a?"?":a<t.length-1?"&":"")+o}}else this.params=new nc,this.urlWithParams=t}serializeBody(){return null===this.body?null:"string"==typeof this.body||d5(this.body)||h5(this.body)||f5(this.body)||function Hoe(n){return typeof URLSearchParams<"u"&&n instanceof URLSearchParams}(this.body)?this.body:this.body instanceof nc?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||f5(this.body)?null:h5(this.body)?this.body.type||null:d5(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof nc?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(e={}){const t=e.method||this.method,r=e.url||this.url,i=e.responseType||this.responseType,s=e.transferCache??this.transferCache,o=void 0!==e.body?e.body:this.body,a=e.withCredentials??this.withCredentials,l=e.reportProgress??this.reportProgress;let c=e.headers||this.headers,p=e.params||this.params;const m=e.context??this.context;return void 0!==e.setHeaders&&(c=Object.keys(e.setHeaders).reduce((w,A)=>w.set(A,e.setHeaders[A]),c)),e.setParams&&(p=Object.keys(e.setParams).reduce((w,A)=>w.set(A,e.setParams[A]),p)),new Q0(t,r,o,{params:p,headers:c,context:m,reportProgress:l,responseType:i,withCredentials:a,transferCache:s})}}var rc=function(n){return n[n.Sent=0]="Sent",n[n.UploadProgress=1]="UploadProgress",n[n.ResponseHeader=2]="ResponseHeader",n[n.DownloadProgress=3]="DownloadProgress",n[n.Response=4]="Response",n[n.User=5]="User",n}(rc||{});class PS{constructor(e,t=Y0.Ok,r="OK"){this.headers=e.headers||new So,this.status=void 0!==e.status?e.status:t,this.statusText=e.statusText||r,this.url=e.url||null,this.ok=this.status>=200&&this.status<300}}class BE extends PS{constructor(e={}){super(e),this.type=rc.ResponseHeader}clone(e={}){return new BE({headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}class Bd extends PS{constructor(e={}){super(e),this.type=rc.Response,this.body=void 0!==e.body?e.body:null}clone(e={}){return new Bd({body:void 0!==e.body?e.body:this.body,headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}class Mp extends PS{constructor(e){super(e,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${e.url||"(unknown url)"}`:`Http failure response for ${e.url||"(unknown url)"}: ${e.status} ${e.statusText}`,this.error=e.error||null}}var Y0=function(n){return n[n.Continue=100]="Continue",n[n.SwitchingProtocols=101]="SwitchingProtocols",n[n.Processing=102]="Processing",n[n.EarlyHints=103]="EarlyHints",n[n.Ok=200]="Ok",n[n.Created=201]="Created",n[n.Accepted=202]="Accepted",n[n.NonAuthoritativeInformation=203]="NonAuthoritativeInformation",n[n.NoContent=204]="NoContent",n[n.ResetContent=205]="ResetContent",n[n.PartialContent=206]="PartialContent",n[n.MultiStatus=207]="MultiStatus",n[n.AlreadyReported=208]="AlreadyReported",n[n.ImUsed=226]="ImUsed",n[n.MultipleChoices=300]="MultipleChoices",n[n.MovedPermanently=301]="MovedPermanently",n[n.Found=302]="Found",n[n.SeeOther=303]="SeeOther",n[n.NotModified=304]="NotModified",n[n.UseProxy=305]="UseProxy",n[n.Unused=306]="Unused",n[n.TemporaryRedirect=307]="TemporaryRedirect",n[n.PermanentRedirect=308]="PermanentRedirect",n[n.BadRequest=400]="BadRequest",n[n.Unauthorized=401]="Unauthorized",n[n.PaymentRequired=402]="PaymentRequired",n[n.Forbidden=403]="Forbidden",n[n.NotFound=404]="NotFound",n[n.MethodNotAllowed=405]="MethodNotAllowed",n[n.NotAcceptable=406]="NotAcceptable",n[n.ProxyAuthenticationRequired=407]="ProxyAuthenticationRequired",n[n.RequestTimeout=408]="RequestTimeout",n[n.Conflict=409]="Conflict",n[n.Gone=410]="Gone",n[n.LengthRequired=411]="LengthRequired",n[n.PreconditionFailed=412]="PreconditionFailed",n[n.PayloadTooLarge=413]="PayloadTooLarge",n[n.UriTooLong=414]="UriTooLong",n[n.UnsupportedMediaType=415]="UnsupportedMediaType",n[n.RangeNotSatisfiable=416]="RangeNotSatisfiable",n[n.ExpectationFailed=417]="ExpectationFailed",n[n.ImATeapot=418]="ImATeapot",n[n.MisdirectedRequest=421]="MisdirectedRequest",n[n.UnprocessableEntity=422]="UnprocessableEntity",n[n.Locked=423]="Locked",n[n.FailedDependency=424]="FailedDependency",n[n.TooEarly=425]="TooEarly",n[n.UpgradeRequired=426]="UpgradeRequired",n[n.PreconditionRequired=428]="PreconditionRequired",n[n.TooManyRequests=429]="TooManyRequests",n[n.RequestHeaderFieldsTooLarge=431]="RequestHeaderFieldsTooLarge",n[n.UnavailableForLegalReasons=451]="UnavailableForLegalReasons",n[n.InternalServerError=500]="InternalServerError",n[n.NotImplemented=501]="NotImplemented",n[n.BadGateway=502]="BadGateway",n[n.ServiceUnavailable=503]="ServiceUnavailable",n[n.GatewayTimeout=504]="GatewayTimeout",n[n.HttpVersionNotSupported=505]="HttpVersionNotSupported",n[n.VariantAlsoNegotiates=506]="VariantAlsoNegotiates",n[n.InsufficientStorage=507]="InsufficientStorage",n[n.LoopDetected=508]="LoopDetected",n[n.NotExtended=510]="NotExtended",n[n.NetworkAuthenticationRequired=511]="NetworkAuthenticationRequired",n}(Y0||{});function MS(n,e){return{body:e,headers:n.headers,context:n.context,observe:n.observe,params:n.params,reportProgress:n.reportProgress,responseType:n.responseType,withCredentials:n.withCredentials,transferCache:n.transferCache}}let qoe=(()=>{class n{constructor(t){this.handler=t}request(t,r,i={}){let s;if(t instanceof Q0)s=t;else{let l,c;l=i.headers instanceof So?i.headers:new So(i.headers),i.params&&(c=i.params instanceof nc?i.params:new nc({fromObject:i.params})),s=new Q0(t,r,void 0!==i.body?i.body:null,{headers:l,context:i.context,params:c,reportProgress:i.reportProgress,responseType:i.responseType||"json",withCredentials:i.withCredentials,transferCache:i.transferCache})}const o=Ft(s).pipe(Sf(l=>this.handler.handle(l)));if(t instanceof Q0||"events"===i.observe)return o;const a=o.pipe(xo(l=>l instanceof Bd));switch(i.observe||"body"){case"body":switch(s.responseType){case"arraybuffer":return a.pipe(mt(l=>{if(null!==l.body&&!(l.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return l.body}));case"blob":return a.pipe(mt(l=>{if(null!==l.body&&!(l.body instanceof Blob))throw new Error("Response is not a Blob.");return l.body}));case"text":return a.pipe(mt(l=>{if(null!==l.body&&"string"!=typeof l.body)throw new Error("Response is not a string.");return l.body}));default:return a.pipe(mt(l=>l.body))}case"response":return a;default:throw new Error(`Unreachable: unhandled observe type ${i.observe}}`)}}delete(t,r={}){return this.request("DELETE",t,r)}get(t,r={}){return this.request("GET",t,r)}head(t,r={}){return this.request("HEAD",t,r)}jsonp(t,r){return this.request("JSONP",t,{params:(new nc).append(r,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(t,r={}){return this.request("OPTIONS",t,r)}patch(t,r,i={}){return this.request("PATCH",t,MS(i,r))}post(t,r,i={}){return this.request("POST",t,MS(i,r))}put(t,r,i={}){return this.request("PUT",t,MS(i,r))}static#e=this.\u0275fac=function(r){return new(r||n)(We(FE))};static#t=this.\u0275prov=pt({token:n,factory:n.\u0275fac})}return n})();function g5(n,e){return e(n)}function Yoe(n,e){return(t,r)=>e.intercept(t,{handle:i=>n(i,r)})}const Zoe=new Qe(""),X0=new Qe(""),m5=new Qe(""),y5=new Qe("");function Joe(){let n=null;return(e,t)=>{null===n&&(n=(qe(Zoe,{optional:!0})??[]).reduceRight(Yoe,g5));const r=qe(bu),i=r.add();return n(e,t).pipe(Lm(()=>r.remove(i)))}}let _5=(()=>{class n extends FE{constructor(t,r){super(),this.backend=t,this.injector=r,this.chain=null,this.pendingTasks=qe(bu);const i=qe(y5,{optional:!0});this.backend=i??t}handle(t){if(null===this.chain){const i=Array.from(new Set([...this.injector.get(X0),...this.injector.get(m5,[])]));this.chain=i.reduceRight((s,o)=>function Xoe(n,e,t){return(r,i)=>go(t,()=>e(r,s=>n(s,i)))}(s,o,this.injector),g5)}const r=this.pendingTasks.add();return this.chain(t,i=>this.backend.handle(i)).pipe(Lm(()=>this.pendingTasks.remove(r)))}static#e=this.\u0275fac=function(r){return new(r||n)(We(VE),We(ii))};static#t=this.\u0275prov=pt({token:n,factory:n.\u0275fac})}return n})();const iae=/^\)\]\}',?\n/;let w5=(()=>{class n{constructor(t){this.xhrFactory=t}handle(t){if("JSONP"===t.method)throw new Ae(-2800,!1);const r=this.xhrFactory;return(r.\u0275loadImpl?or(r.\u0275loadImpl()):Ft(null)).pipe(ui(()=>new rn(s=>{const o=r.build();if(o.open(t.method,t.urlWithParams),t.withCredentials&&(o.withCredentials=!0),t.headers.forEach((R,N)=>o.setRequestHeader(R,N.join(","))),t.headers.has("Accept")||o.setRequestHeader("Accept","application/json, text/plain, */*"),!t.headers.has("Content-Type")){const R=t.detectContentTypeHeader();null!==R&&o.setRequestHeader("Content-Type",R)}if(t.responseType){const R=t.responseType.toLowerCase();o.responseType="json"!==R?R:"text"}const a=t.serializeBody();let l=null;const c=()=>{if(null!==l)return l;const R=o.statusText||"OK",N=new So(o.getAllResponseHeaders()),ee=function sae(n){return"responseURL"in n&&n.responseURL?n.responseURL:/^X-Request-URL:/m.test(n.getAllResponseHeaders())?n.getResponseHeader("X-Request-URL"):null}(o)||t.url;return l=new BE({headers:N,status:o.status,statusText:R,url:ee}),l},p=()=>{let{headers:R,status:N,statusText:ee,url:se}=c(),ge=null;N!==Y0.NoContent&&(ge=typeof o.response>"u"?o.responseText:o.response),0===N&&(N=ge?Y0.Ok:0);let Oe=N>=200&&N<300;if("json"===t.responseType&&"string"==typeof ge){const et=ge;ge=ge.replace(iae,"");try{ge=""!==ge?JSON.parse(ge):null}catch(ot){ge=et,Oe&&(Oe=!1,ge={error:ot,text:ge})}}Oe?(s.next(new Bd({body:ge,headers:R,status:N,statusText:ee,url:se||void 0})),s.complete()):s.error(new Mp({error:ge,headers:R,status:N,statusText:ee,url:se||void 0}))},m=R=>{const{url:N}=c(),ee=new Mp({error:R,status:o.status||0,statusText:o.statusText||"Unknown Error",url:N||void 0});s.error(ee)};let w=!1;const A=R=>{w||(s.next(c()),w=!0);let N={type:rc.DownloadProgress,loaded:R.loaded};R.lengthComputable&&(N.total=R.total),"text"===t.responseType&&o.responseText&&(N.partialText=o.responseText),s.next(N)},D=R=>{let N={type:rc.UploadProgress,loaded:R.loaded};R.lengthComputable&&(N.total=R.total),s.next(N)};return o.addEventListener("load",p),o.addEventListener("error",m),o.addEventListener("timeout",m),o.addEventListener("abort",m),t.reportProgress&&(o.addEventListener("progress",A),null!==a&&o.upload&&o.upload.addEventListener("progress",D)),o.send(a),s.next({type:rc.Sent}),()=>{o.removeEventListener("error",m),o.removeEventListener("abort",m),o.removeEventListener("load",p),o.removeEventListener("timeout",m),t.reportProgress&&(o.removeEventListener("progress",A),null!==a&&o.upload&&o.upload.removeEventListener("progress",D)),o.readyState!==o.DONE&&o.abort()}})))}static#e=this.\u0275fac=function(r){return new(r||n)(We(iO))};static#t=this.\u0275prov=pt({token:n,factory:n.\u0275fac})}return n})();const OS=new Qe(""),E5=new Qe("",{providedIn:"root",factory:()=>"XSRF-TOKEN"}),I5=new Qe("",{providedIn:"root",factory:()=>"X-XSRF-TOKEN"});class b5{}let lae=(()=>{class n{constructor(t,r,i){this.doc=t,this.platform=r,this.cookieName=i,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const t=this.doc.cookie||"";return t!==this.lastCookieString&&(this.parseCount++,this.lastToken=Qk(t,this.cookieName),this.lastCookieString=t),this.lastToken}static#e=this.\u0275fac=function(r){return new(r||n)(We(Ns),We(Lo),We(E5))};static#t=this.\u0275prov=pt({token:n,factory:n.\u0275fac})}return n})();function uae(n,e){const t=n.url.toLowerCase();if(!qe(OS)||"GET"===n.method||"HEAD"===n.method||t.startsWith("http://")||t.startsWith("https://"))return e(n);const r=qe(b5).getToken(),i=qe(I5);return null!=r&&!n.headers.has(i)&&(n=n.clone({headers:n.headers.set(i,r)})),e(n)}var ic=function(n){return n[n.Interceptors=0]="Interceptors",n[n.LegacyInterceptors=1]="LegacyInterceptors",n[n.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",n[n.NoXsrfProtection=3]="NoXsrfProtection",n[n.JsonpSupport=4]="JsonpSupport",n[n.RequestsMadeViaParent=5]="RequestsMadeViaParent",n[n.Fetch=6]="Fetch",n}(ic||{});function cae(...n){const e=[qoe,w5,_5,{provide:FE,useExisting:_5},{provide:VE,useExisting:w5},{provide:X0,useValue:uae,multi:!0},{provide:OS,useValue:!0},{provide:b5,useClass:lae}];for(const t of n)e.push(...t.\u0275providers);return function O(n){return{\u0275providers:n}}(e)}const A5=new Qe("");function dae(){return function Ud(n,e){return{\u0275kind:n,\u0275providers:e}}(ic.LegacyInterceptors,[{provide:A5,useFactory:Joe},{provide:X0,useExisting:A5,multi:!0}])}let hae=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275mod=Vr({type:n});static#n=this.\u0275inj=ri({providers:[cae(dae())]})}return n})();const bae=qL(Ko.initializeApp,!0),Sae=qL(yse,!0);var N5=oe(471);function $d(n){return N5.AES.decrypt(n,"KavinKumar").toString(N5.enc.Utf8)}const k5={apiKey:$d("U2FsdGVkX19sZDlwVg+VxbD5ubgGxmlYdBQnA701qtsmWJ9XRHYJeVGAE8z4QW+ghdl0jP3hkvTMnQbzyJvfmQ=="),authDomain:$d("U2FsdGVkX1+SIiR+OjbZO9zyq/+m/IOAAmHvNG6NN0mvF14CTJzlLxwB51kjYFVFk0w0Zhlv/feeRIEVeHFFGQ=="),projectId:$d("U2FsdGVkX1/Ds+KVsIX57AItE2aon9GVavct3WgUfkyHQeAnj3ujT7PaifctOHpM"),storageBucket:$d("U2FsdGVkX19EDCVfkzMZjCQr0MTGGf0ky8LTBVy1zEmx7DbtG7yGETpW5R/b1MSE"),messagingSenderId:$d("U2FsdGVkX1+fUQXwsX8IQf8y4/sHOGEnUauLX1o/VqE="),appId:$d("U2FsdGVkX1+ZErWwT2V5R/TEceHlCx9p91/kuBkaKZg2JcwTipdFToP9B9z8NJw9uIVN92he1yUSjNXpiWNbPA=="),measurementId:$d("U2FsdGVkX1+T447NcH/CNYYbM41gbNdyfq6h/mgrYr8=")};let Rae=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275mod=Vr({type:n,bootstrap:[Voe]});static#n=this.\u0275inj=ri({providers:[{provide:"firebaseApp",useFactory:()=>bae(k5)},{provide:"firestore",useFactory:()=>Sae()}],imports:[CO,DX,Foe,xte,Dte,hae,Kte.initializeApp(k5),Poe]})}return n})();SQ().bootstrapModule(Rae).catch(n=>console.error(n))},188:function(st,Je,oe){var E;st.exports=(E=oe(656),oe(891),oe(855),oe(147),oe(414),function(){var V=E,F=V.lib.BlockCipher,ve=V.algo,de=[],ce=[],L=[],z=[],x=[],S=[],B=[],k=[],W=[],H=[];!function(){for(var M=[],$=0;$<256;$++)M[$]=$<128?$<<1:$<<1^283;var we=0,he=0;for($=0;$<256;$++){var me=he^he<<1^he<<2^he<<3^he<<4;de[we]=me=me>>>8^255&me^99,ce[me]=we;var Le,Ee=M[we],Be=M[Ee],xe=M[Be];L[we]=(Le=257*M[me]^16843008*me)<<24|Le>>>8,z[we]=Le<<16|Le>>>16,x[we]=Le<<8|Le>>>24,S[we]=Le,B[me]=(Le=16843009*xe^65537*Be^257*Ee^16843008*we)<<24|Le>>>8,k[me]=Le<<16|Le>>>16,W[me]=Le<<8|Le>>>24,H[me]=Le,we?(we=Ee^M[M[M[xe^Ee]]],he^=M[M[he]]):we=he=1}}();var le=[0,1,2,4,8,16,32,64,128,27,54],ae=ve.AES=F.extend({_doReset:function(){if(!this._nRounds||this._keyPriorReset!==this._key){for(var $=this._keyPriorReset=this._key,we=$.words,he=$.sigBytes/4,Ee=4*((this._nRounds=he+6)+1),Be=this._keySchedule=[],xe=0;xe<Ee;xe++)xe<he?Be[xe]=we[xe]:(M=Be[xe-1],xe%he?he>6&&xe%he==4&&(M=de[M>>>24]<<24|de[M>>>16&255]<<16|de[M>>>8&255]<<8|de[255&M]):(M=de[(M=M<<8|M>>>24)>>>24]<<24|de[M>>>16&255]<<16|de[M>>>8&255]<<8|de[255&M],M^=le[xe/he|0]<<24),Be[xe]=Be[xe-he]^M);for(var Le=this._invKeySchedule=[],Ve=0;Ve<Ee;Ve++){if(xe=Ee-Ve,Ve%4)var M=Be[xe];else M=Be[xe-4];Le[Ve]=Ve<4||xe<=4?M:B[de[M>>>24]]^k[de[M>>>16&255]]^W[de[M>>>8&255]]^H[de[255&M]]}}},encryptBlock:function(M,$){this._doCryptBlock(M,$,this._keySchedule,L,z,x,S,de)},decryptBlock:function(M,$){var we=M[$+1];M[$+1]=M[$+3],M[$+3]=we,this._doCryptBlock(M,$,this._invKeySchedule,B,k,W,H,ce),we=M[$+1],M[$+1]=M[$+3],M[$+3]=we},_doCryptBlock:function(M,$,we,he,me,Ee,Be,xe){for(var Le=this._nRounds,Ve=M[$]^we[0],Y=M[$+1]^we[1],$e=M[$+2]^we[2],tt=M[$+3]^we[3],Ue=4,bt=1;bt<Le;bt++){var ht=he[Ve>>>24]^me[Y>>>16&255]^Ee[$e>>>8&255]^Be[255&tt]^we[Ue++],Rt=he[Y>>>24]^me[$e>>>16&255]^Ee[tt>>>8&255]^Be[255&Ve]^we[Ue++],Ot=he[$e>>>24]^me[tt>>>16&255]^Ee[Ve>>>8&255]^Be[255&Y]^we[Ue++],U=he[tt>>>24]^me[Ve>>>16&255]^Ee[Y>>>8&255]^Be[255&$e]^we[Ue++];Ve=ht,Y=Rt,$e=Ot,tt=U}ht=(xe[Ve>>>24]<<24|xe[Y>>>16&255]<<16|xe[$e>>>8&255]<<8|xe[255&tt])^we[Ue++],Rt=(xe[Y>>>24]<<24|xe[$e>>>16&255]<<16|xe[tt>>>8&255]<<8|xe[255&Ve])^we[Ue++],Ot=(xe[$e>>>24]<<24|xe[tt>>>16&255]<<16|xe[Ve>>>8&255]<<8|xe[255&Y])^we[Ue++],U=(xe[tt>>>24]<<24|xe[Ve>>>16&255]<<16|xe[Y>>>8&255]<<8|xe[255&$e])^we[Ue++],M[$]=ht,M[$+1]=Rt,M[$+2]=Ot,M[$+3]=U},keySize:8});V.AES=F._createHelper(ae)}(),E.AES)},269:function(st,Je,oe){var E;st.exports=(E=oe(656),oe(891),oe(855),oe(147),oe(414),function(){var V=E,F=V.lib.BlockCipher;const de=16,ce=[608135816,2242054355,320440878,57701188,2752067618,698298832,137296536,3964562569,1160258022,953160567,3193202383,887688300,3232508343,3380367581,1065670069,3041331479,2450970073,2306472731],L=[[3509652390,2564797868,805139163,3491422135,3101798381,1780907670,3128725573,4046225305,614570311,3012652279,134345442,2240740374,1667834072,1901547113,2757295779,4103290238,227898511,1921955416,1904987480,2182433518,2069144605,3260701109,2620446009,720527379,3318853667,677414384,3393288472,3101374703,2390351024,1614419982,1822297739,2954791486,3608508353,3174124327,2024746970,1432378464,3864339955,2857741204,1464375394,1676153920,1439316330,715854006,3033291828,289532110,2706671279,2087905683,3018724369,1668267050,732546397,1947742710,3462151702,2609353502,2950085171,1814351708,2050118529,680887927,999245976,1800124847,3300911131,1713906067,1641548236,4213287313,1216130144,1575780402,4018429277,3917837745,3693486850,3949271944,596196993,3549867205,258830323,2213823033,772490370,2760122372,1774776394,2652871518,566650946,4142492826,1728879713,2882767088,1783734482,3629395816,2517608232,2874225571,1861159788,326777828,3124490320,2130389656,2716951837,967770486,1724537150,2185432712,2364442137,1164943284,2105845187,998989502,3765401048,2244026483,1075463327,1455516326,1322494562,910128902,469688178,1117454909,936433444,3490320968,3675253459,1240580251,122909385,2157517691,634681816,4142456567,3825094682,3061402683,2540495037,79693498,3249098678,1084186820,1583128258,426386531,1761308591,1047286709,322548459,995290223,1845252383,2603652396,3431023940,2942221577,3202600964,3727903485,1712269319,422464435,3234572375,1170764815,3523960633,3117677531,1434042557,442511882,3600875718,1076654713,1738483198,4213154764,2393238008,3677496056,1014306527,4251020053,793779912,2902807211,842905082,4246964064,1395751752,1040244610,2656851899,3396308128,445077038,3742853595,3577915638,679411651,2892444358,2354009459,1767581616,3150600392,3791627101,3102740896,284835224,4246832056,1258075500,768725851,2589189241,3069724005,3532540348,1274779536,3789419226,2764799539,1660621633,3471099624,4011903706,913787905,3497959166,737222580,2514213453,2928710040,3937242737,1804850592,3499020752,2949064160,2386320175,2390070455,2415321851,4061277028,2290661394,2416832540,1336762016,1754252060,3520065937,3014181293,791618072,3188594551,3933548030,2332172193,3852520463,3043980520,413987798,3465142937,3030929376,4245938359,2093235073,3534596313,375366246,2157278981,2479649556,555357303,3870105701,2008414854,3344188149,4221384143,3956125452,2067696032,3594591187,2921233993,2428461,544322398,577241275,1471733935,610547355,4027169054,1432588573,1507829418,2025931657,3646575487,545086370,48609733,2200306550,1653985193,298326376,1316178497,3007786442,2064951626,458293330,2589141269,3591329599,3164325604,727753846,2179363840,146436021,1461446943,4069977195,705550613,3059967265,3887724982,4281599278,3313849956,1404054877,2845806497,146425753,1854211946],[1266315497,3048417604,3681880366,3289982499,290971e4,1235738493,2632868024,2414719590,3970600049,1771706367,1449415276,3266420449,422970021,1963543593,2690192192,3826793022,1062508698,1531092325,1804592342,2583117782,2714934279,4024971509,1294809318,4028980673,1289560198,2221992742,1669523910,35572830,157838143,1052438473,1016535060,1802137761,1753167236,1386275462,3080475397,2857371447,1040679964,2145300060,2390574316,1461121720,2956646967,4031777805,4028374788,33600511,2920084762,1018524850,629373528,3691585981,3515945977,2091462646,2486323059,586499841,988145025,935516892,3367335476,2599673255,2839830854,265290510,3972581182,2759138881,3795373465,1005194799,847297441,406762289,1314163512,1332590856,1866599683,4127851711,750260880,613907577,1450815602,3165620655,3734664991,3650291728,3012275730,3704569646,1427272223,778793252,1343938022,2676280711,2052605720,1946737175,3164576444,3914038668,3967478842,3682934266,1661551462,3294938066,4011595847,840292616,3712170807,616741398,312560963,711312465,1351876610,322626781,1910503582,271666773,2175563734,1594956187,70604529,3617834859,1007753275,1495573769,4069517037,2549218298,2663038764,504708206,2263041392,3941167025,2249088522,1514023603,1998579484,1312622330,694541497,2582060303,2151582166,1382467621,776784248,2618340202,3323268794,2497899128,2784771155,503983604,4076293799,907881277,423175695,432175456,1378068232,4145222326,3954048622,3938656102,3820766613,2793130115,2977904593,26017576,3274890735,3194772133,1700274565,1756076034,4006520079,3677328699,720338349,1533947780,354530856,688349552,3973924725,1637815568,332179504,3949051286,53804574,2852348879,3044236432,1282449977,3583942155,3416972820,4006381244,1617046695,2628476075,3002303598,1686838959,431878346,2686675385,1700445008,1080580658,1009431731,832498133,3223435511,2605976345,2271191193,2516031870,1648197032,4164389018,2548247927,300782431,375919233,238389289,3353747414,2531188641,2019080857,1475708069,455242339,2609103871,448939670,3451063019,1395535956,2413381860,1841049896,1491858159,885456874,4264095073,4001119347,1565136089,3898914787,1108368660,540939232,1173283510,2745871338,3681308437,4207628240,3343053890,4016749493,1699691293,1103962373,3625875870,2256883143,3830138730,1031889488,3479347698,1535977030,4236805024,3251091107,2132092099,1774941330,1199868427,1452454533,157007616,2904115357,342012276,595725824,1480756522,206960106,497939518,591360097,863170706,2375253569,3596610801,1814182875,2094937945,3421402208,1082520231,3463918190,2785509508,435703966,3908032597,1641649973,2842273706,3305899714,1510255612,2148256476,2655287854,3276092548,4258621189,236887753,3681803219,274041037,1734335097,3815195456,3317970021,1899903192,1026095262,4050517792,356393447,2410691914,3873677099,3682840055],[3913112168,2491498743,4132185628,2489919796,1091903735,1979897079,3170134830,3567386728,3557303409,857797738,1136121015,1342202287,507115054,2535736646,337727348,3213592640,1301675037,2528481711,1895095763,1721773893,3216771564,62756741,2142006736,835421444,2531993523,1442658625,3659876326,2882144922,676362277,1392781812,170690266,3921047035,1759253602,3611846912,1745797284,664899054,1329594018,3901205900,3045908486,2062866102,2865634940,3543621612,3464012697,1080764994,553557557,3656615353,3996768171,991055499,499776247,1265440854,648242737,3940784050,980351604,3713745714,1749149687,3396870395,4211799374,3640570775,1161844396,3125318951,1431517754,545492359,4268468663,3499529547,1437099964,2702547544,3433638243,2581715763,2787789398,1060185593,1593081372,2418618748,4260947970,69676912,2159744348,86519011,2512459080,3838209314,1220612927,3339683548,133810670,1090789135,1078426020,1569222167,845107691,3583754449,4072456591,1091646820,628848692,1613405280,3757631651,526609435,236106946,48312990,2942717905,3402727701,1797494240,859738849,992217954,4005476642,2243076622,3870952857,3732016268,765654824,3490871365,2511836413,1685915746,3888969200,1414112111,2273134842,3281911079,4080962846,172450625,2569994100,980381355,4109958455,2819808352,2716589560,2568741196,3681446669,3329971472,1835478071,660984891,3704678404,4045999559,3422617507,3040415634,1762651403,1719377915,3470491036,2693910283,3642056355,3138596744,1364962596,2073328063,1983633131,926494387,3423689081,2150032023,4096667949,1749200295,3328846651,309677260,2016342300,1779581495,3079819751,111262694,1274766160,443224088,298511866,1025883608,3806446537,1145181785,168956806,3641502830,3584813610,1689216846,3666258015,3200248200,1692713982,2646376535,4042768518,1618508792,1610833997,3523052358,4130873264,2001055236,3610705100,2202168115,4028541809,2961195399,1006657119,2006996926,3186142756,1430667929,3210227297,1314452623,4074634658,4101304120,2273951170,1399257539,3367210612,3027628629,1190975929,2062231137,2333990788,2221543033,2438960610,1181637006,548689776,2362791313,3372408396,3104550113,3145860560,296247880,1970579870,3078560182,3769228297,1714227617,3291629107,3898220290,166772364,1251581989,493813264,448347421,195405023,2709975567,677966185,3703036547,1463355134,2715995803,1338867538,1343315457,2802222074,2684532164,233230375,2599980071,2000651841,3277868038,1638401717,4028070440,3237316320,6314154,819756386,300326615,590932579,1405279636,3267499572,3150704214,2428286686,3959192993,3461946742,1862657033,1266418056,963775037,2089974820,2263052895,1917689273,448879540,3550394620,3981727096,150775221,3627908307,1303187396,508620638,2975983352,2726630617,1817252668,1876281319,1457606340,908771278,3720792119,3617206836,2455994898,1729034894,1080033504],[976866871,3556439503,2881648439,1522871579,1555064734,1336096578,3548522304,2579274686,3574697629,3205460757,3593280638,3338716283,3079412587,564236357,2993598910,1781952180,1464380207,3163844217,3332601554,1699332808,1393555694,1183702653,3581086237,1288719814,691649499,2847557200,2895455976,3193889540,2717570544,1781354906,1676643554,2592534050,3230253752,1126444790,2770207658,2633158820,2210423226,2615765581,2414155088,3127139286,673620729,2805611233,1269405062,4015350505,3341807571,4149409754,1057255273,2012875353,2162469141,2276492801,2601117357,993977747,3918593370,2654263191,753973209,36408145,2530585658,25011837,3520020182,2088578344,530523599,2918365339,1524020338,1518925132,3760827505,3759777254,1202760957,3985898139,3906192525,674977740,4174734889,2031300136,2019492241,3983892565,4153806404,3822280332,352677332,2297720250,60907813,90501309,3286998549,1016092578,2535922412,2839152426,457141659,509813237,4120667899,652014361,1966332200,2975202805,55981186,2327461051,676427537,3255491064,2882294119,3433927263,1307055953,942726286,933058658,2468411793,3933900994,4215176142,1361170020,2001714738,2830558078,3274259782,1222529897,1679025792,2729314320,3714953764,1770335741,151462246,3013232138,1682292957,1483529935,471910574,1539241949,458788160,3436315007,1807016891,3718408830,978976581,1043663428,3165965781,1927990952,4200891579,2372276910,3208408903,3533431907,1412390302,2931980059,4132332400,1947078029,3881505623,4168226417,2941484381,1077988104,1320477388,886195818,18198404,3786409e3,2509781533,112762804,3463356488,1866414978,891333506,18488651,661792760,1628790961,3885187036,3141171499,876946877,2693282273,1372485963,791857591,2686433993,3759982718,3167212022,3472953795,2716379847,445679433,3561995674,3504004811,3574258232,54117162,3331405415,2381918588,3769707343,4154350007,1140177722,4074052095,668550556,3214352940,367459370,261225585,2610173221,4209349473,3468074219,3265815641,314222801,3066103646,3808782860,282218597,3406013506,3773591054,379116347,1285071038,846784868,2669647154,3771962079,3550491691,2305946142,453669953,1268987020,3317592352,3279303384,3744833421,2610507566,3859509063,266596637,3847019092,517658769,3462560207,3443424879,370717030,4247526661,2224018117,4143653529,4112773975,2788324899,2477274417,1456262402,2901442914,1517677493,1846949527,2295493580,3734397586,2176403920,1280348187,1908823572,3871786941,846861322,1172426758,3287448474,3383383037,1655181056,3139813346,901632758,1897031941,2986607138,3066810236,3447102507,1393639104,373351379,950779232,625454576,3124240540,4148612726,2007998917,544563296,2244738638,2330496472,2058025392,1291430526,424198748,50039436,29584100,3605783033,2429876329,2791104160,1057563949,3255363231,3075367218,3463963227,1469046755,985887462]];var z={pbox:[],sbox:[]};function x(H,le){let he=H.sbox[0][le>>24&255]+H.sbox[1][le>>16&255];return he^=H.sbox[2][le>>8&255],he+=H.sbox[3][255&le],he}function S(H,le,ae){let we,M=le,$=ae;for(let he=0;he<de;++he)M^=H.pbox[he],$=x(H,M)^$,we=M,M=$,$=we;return we=M,M=$,$=we,$^=H.pbox[de],M^=H.pbox[de+1],{left:M,right:$}}var W=V.algo.Blowfish=F.extend({_doReset:function(){if(this._keyPriorReset!==this._key){var H=this._keyPriorReset=this._key;!function k(H,le,ae){for(let me=0;me<4;me++){H.sbox[me]=[];for(let Ee=0;Ee<256;Ee++)H.sbox[me][Ee]=L[me][Ee]}let M=0;for(let me=0;me<de+2;me++)H.pbox[me]=ce[me]^le[M],M++,M>=ae&&(M=0);let $=0,we=0,he=0;for(let me=0;me<de+2;me+=2)he=S(H,$,we),$=he.left,we=he.right,H.pbox[me]=$,H.pbox[me+1]=we;for(let me=0;me<4;me++)for(let Ee=0;Ee<256;Ee+=2)he=S(H,$,we),$=he.left,we=he.right,H.sbox[me][Ee]=$,H.sbox[me][Ee+1]=we;return!0}(z,H.words,H.sigBytes/4)}},encryptBlock:function(H,le){var ae=S(z,H[le],H[le+1]);H[le]=ae.left,H[le+1]=ae.right},decryptBlock:function(H,le){var ae=function B(H,le,ae){let we,M=le,$=ae;for(let he=de+1;he>1;--he)M^=H.pbox[he],$=x(H,M)^$,we=M,M=$,$=we;return we=M,M=$,$=we,$^=H.pbox[1],M^=H.pbox[0],{left:M,right:$}}(z,H[le],H[le+1]);H[le]=ae.left,H[le+1]=ae.right},blockSize:2,keySize:4,ivSize:2});V.Blowfish=F._createHelper(W)}(),E.Blowfish)},414:function(st,Je,oe){var re,F,ve,de,ce,L,x,B,k,H,le,ae,$,he,Ee,Be,Le,Ve,E;st.exports=(E=oe(656),oe(147),void(E.lib.Cipher||(re=E,F=re.lib,ve=F.Base,de=F.WordArray,ce=F.BufferedBlockAlgorithm,L=re.enc,x=L.Base64,B=re.algo.EvpKDF,k=F.Cipher=ce.extend({cfg:ve.extend(),createEncryptor:function(Y,$e){return this.create(this._ENC_XFORM_MODE,Y,$e)},createDecryptor:function(Y,$e){return this.create(this._DEC_XFORM_MODE,Y,$e)},init:function(Y,$e,tt){this.cfg=this.cfg.extend(tt),this._xformMode=Y,this._key=$e,this.reset()},reset:function(){ce.reset.call(this),this._doReset()},process:function(Y){return this._append(Y),this._process()},finalize:function(Y){return Y&&this._append(Y),this._doFinalize()},keySize:4,ivSize:4,_ENC_XFORM_MODE:1,_DEC_XFORM_MODE:2,_createHelper:function(){function Y($e){return"string"==typeof $e?Ve:Be}return function($e){return{encrypt:function(tt,Ue,bt){return Y(Ue).encrypt($e,tt,Ue,bt)},decrypt:function(tt,Ue,bt){return Y(Ue).decrypt($e,tt,Ue,bt)}}}}()}),F.StreamCipher=k.extend({_doFinalize:function(){return this._process(!0)},blockSize:1}),H=re.mode={},le=F.BlockCipherMode=ve.extend({createEncryptor:function(Y,$e){return this.Encryptor.create(Y,$e)},createDecryptor:function(Y,$e){return this.Decryptor.create(Y,$e)},init:function(Y,$e){this._cipher=Y,this._iv=$e}}),ae=H.CBC=function(){var Y=le.extend();function $e(tt,Ue,bt){var ht,Rt=this._iv;Rt?(ht=Rt,this._iv=undefined):ht=this._prevBlock;for(var Ot=0;Ot<bt;Ot++)tt[Ue+Ot]^=ht[Ot]}return Y.Encryptor=Y.extend({processBlock:function(tt,Ue){var bt=this._cipher,ht=bt.blockSize;$e.call(this,tt,Ue,ht),bt.encryptBlock(tt,Ue),this._prevBlock=tt.slice(Ue,Ue+ht)}}),Y.Decryptor=Y.extend({processBlock:function(tt,Ue){var bt=this._cipher,ht=bt.blockSize,Rt=tt.slice(Ue,Ue+ht);bt.decryptBlock(tt,Ue),$e.call(this,tt,Ue,ht),this._prevBlock=Rt}}),Y}(),$=(re.pad={}).Pkcs7={pad:function(Y,$e){for(var tt=4*$e,Ue=tt-Y.sigBytes%tt,bt=Ue<<24|Ue<<16|Ue<<8|Ue,ht=[],Rt=0;Rt<Ue;Rt+=4)ht.push(bt);var Ot=de.create(ht,Ue);Y.concat(Ot)},unpad:function(Y){Y.sigBytes-=255&Y.words[Y.sigBytes-1>>>2]}},F.BlockCipher=k.extend({cfg:k.cfg.extend({mode:ae,padding:$}),reset:function(){var Y;k.reset.call(this);var $e=this.cfg,tt=$e.iv,Ue=$e.mode;this._xformMode==this._ENC_XFORM_MODE?Y=Ue.createEncryptor:(Y=Ue.createDecryptor,this._minBufferSize=1),this._mode&&this._mode.__creator==Y?this._mode.init(this,tt&&tt.words):(this._mode=Y.call(Ue,this,tt&&tt.words),this._mode.__creator=Y)},_doProcessBlock:function(Y,$e){this._mode.processBlock(Y,$e)},_doFinalize:function(){var Y,$e=this.cfg.padding;return this._xformMode==this._ENC_XFORM_MODE?($e.pad(this._data,this.blockSize),Y=this._process(!0)):(Y=this._process(!0),$e.unpad(Y)),Y},blockSize:4}),he=F.CipherParams=ve.extend({init:function(Y){this.mixIn(Y)},toString:function(Y){return(Y||this.formatter).stringify(this)}}),Ee=(re.format={}).OpenSSL={stringify:function(Y){var tt=Y.ciphertext,Ue=Y.salt;return(Ue?de.create([1398893684,1701076831]).concat(Ue).concat(tt):tt).toString(x)},parse:function(Y){var $e,tt=x.parse(Y),Ue=tt.words;return 1398893684==Ue[0]&&1701076831==Ue[1]&&($e=de.create(Ue.slice(2,4)),Ue.splice(0,4),tt.sigBytes-=16),he.create({ciphertext:tt,salt:$e})}},Be=F.SerializableCipher=ve.extend({cfg:ve.extend({format:Ee}),encrypt:function(Y,$e,tt,Ue){Ue=this.cfg.extend(Ue);var bt=Y.createEncryptor(tt,Ue),ht=bt.finalize($e),Rt=bt.cfg;return he.create({ciphertext:ht,key:tt,iv:Rt.iv,algorithm:Y,mode:Rt.mode,padding:Rt.padding,blockSize:Y.blockSize,formatter:Ue.format})},decrypt:function(Y,$e,tt,Ue){return Ue=this.cfg.extend(Ue),$e=this._parse($e,Ue.format),Y.createDecryptor(tt,Ue).finalize($e.ciphertext)},_parse:function(Y,$e){return"string"==typeof Y?$e.parse(Y,this):Y}}),Le=(re.kdf={}).OpenSSL={execute:function(Y,$e,tt,Ue,bt){if(Ue||(Ue=de.random(8)),bt)var ht=B.create({keySize:$e+tt,hasher:bt}).compute(Y,Ue);else ht=B.create({keySize:$e+tt}).compute(Y,Ue);var Rt=de.create(ht.words.slice($e),4*tt);return ht.sigBytes=4*$e,he.create({key:ht,iv:Rt,salt:Ue})}},Ve=F.PasswordBasedCipher=Be.extend({cfg:Be.cfg.extend({kdf:Le}),encrypt:function(Y,$e,tt,Ue){var bt=(Ue=this.cfg.extend(Ue)).kdf.execute(tt,Y.keySize,Y.ivSize,Ue.salt,Ue.hasher);Ue.iv=bt.iv;var ht=Be.encrypt.call(this,Y,$e,bt.key,Ue);return ht.mixIn(bt),ht},decrypt:function(Y,$e,tt,Ue){Ue=this.cfg.extend(Ue),$e=this._parse($e,Ue.format);var bt=Ue.kdf.execute(tt,Y.keySize,Y.ivSize,$e.salt,Ue.hasher);return Ue.iv=bt.iv,Be.decrypt.call(this,Y,$e,bt.key,Ue)}}))))},656:function(st,Je,oe){var E;st.exports=(E=E||function(V,re){var F;if(typeof window<"u"&&window.crypto&&(F=window.crypto),typeof self<"u"&&self.crypto&&(F=self.crypto),typeof globalThis<"u"&&globalThis.crypto&&(F=globalThis.crypto),!F&&typeof window<"u"&&window.msCrypto&&(F=window.msCrypto),!F&&typeof global<"u"&&global.crypto&&(F=global.crypto),!F)try{F=oe(477)}catch{}var ve=function(){if(F){if("function"==typeof F.getRandomValues)try{return F.getRandomValues(new Uint32Array(1))[0]}catch{}if("function"==typeof F.randomBytes)try{return F.randomBytes(4).readInt32LE()}catch{}}throw new Error("Native crypto module could not be used to get secure random number.")},de=Object.create||function(){function M(){}return function($){var we;return M.prototype=$,we=new M,M.prototype=null,we}}(),ce={},L=ce.lib={},z=L.Base=function(){return{extend:function(M){var $=de(this);return M&&$.mixIn(M),(!$.hasOwnProperty("init")||this.init===$.init)&&($.init=function(){$.$super.init.apply(this,arguments)}),$.init.prototype=$,$.$super=this,$},create:function(){var M=this.extend();return M.init.apply(M,arguments),M},init:function(){},mixIn:function(M){for(var $ in M)M.hasOwnProperty($)&&(this[$]=M[$]);M.hasOwnProperty("toString")&&(this.toString=M.toString)},clone:function(){return this.init.prototype.extend(this)}}}(),x=L.WordArray=z.extend({init:function(M,$){M=this.words=M||[],this.sigBytes=null!=$?$:4*M.length},toString:function(M){return(M||B).stringify(this)},concat:function(M){var $=this.words,we=M.words,he=this.sigBytes,me=M.sigBytes;if(this.clamp(),he%4)for(var Ee=0;Ee<me;Ee++)$[he+Ee>>>2]|=(we[Ee>>>2]>>>24-Ee%4*8&255)<<24-(he+Ee)%4*8;else for(var xe=0;xe<me;xe+=4)$[he+xe>>>2]=we[xe>>>2];return this.sigBytes+=me,this},clamp:function(){var M=this.words,$=this.sigBytes;M[$>>>2]&=4294967295<<32-$%4*8,M.length=V.ceil($/4)},clone:function(){var M=z.clone.call(this);return M.words=this.words.slice(0),M},random:function(M){for(var $=[],we=0;we<M;we+=4)$.push(ve());return new x.init($,M)}}),S=ce.enc={},B=S.Hex={stringify:function(M){for(var $=M.words,we=M.sigBytes,he=[],me=0;me<we;me++){var Ee=$[me>>>2]>>>24-me%4*8&255;he.push((Ee>>>4).toString(16)),he.push((15&Ee).toString(16))}return he.join("")},parse:function(M){for(var $=M.length,we=[],he=0;he<$;he+=2)we[he>>>3]|=parseInt(M.substr(he,2),16)<<24-he%8*4;return new x.init(we,$/2)}},k=S.Latin1={stringify:function(M){for(var $=M.words,we=M.sigBytes,he=[],me=0;me<we;me++)he.push(String.fromCharCode($[me>>>2]>>>24-me%4*8&255));return he.join("")},parse:function(M){for(var $=M.length,we=[],he=0;he<$;he++)we[he>>>2]|=(255&M.charCodeAt(he))<<24-he%4*8;return new x.init(we,$)}},W=S.Utf8={stringify:function(M){try{return decodeURIComponent(escape(k.stringify(M)))}catch{throw new Error("Malformed UTF-8 data")}},parse:function(M){return k.parse(unescape(encodeURIComponent(M)))}},H=L.BufferedBlockAlgorithm=z.extend({reset:function(){this._data=new x.init,this._nDataBytes=0},_append:function(M){"string"==typeof M&&(M=W.parse(M)),this._data.concat(M),this._nDataBytes+=M.sigBytes},_process:function(M){var $,we=this._data,he=we.words,me=we.sigBytes,Ee=this.blockSize,xe=me/(4*Ee),Le=(xe=M?V.ceil(xe):V.max((0|xe)-this._minBufferSize,0))*Ee,Ve=V.min(4*Le,me);if(Le){for(var Y=0;Y<Le;Y+=Ee)this._doProcessBlock(he,Y);$=he.splice(0,Le),we.sigBytes-=Ve}return new x.init($,Ve)},clone:function(){var M=z.clone.call(this);return M._data=this._data.clone(),M},_minBufferSize:0}),ae=(L.Hasher=H.extend({cfg:z.extend(),init:function(M){this.cfg=this.cfg.extend(M),this.reset()},reset:function(){H.reset.call(this),this._doReset()},update:function(M){return this._append(M),this._process(),this},finalize:function(M){return M&&this._append(M),this._doFinalize()},blockSize:16,_createHelper:function(M){return function($,we){return new M.init(we).finalize($)}},_createHmacHelper:function(M){return function($,we){return new ae.HMAC.init(M,we).finalize($)}}}),ce.algo={});return ce}(Math),E)},891:function(st,Je,oe){var E,F;st.exports=(E=oe(656),F=E.lib.WordArray,E.enc.Base64={stringify:function(L){var z=L.words,x=L.sigBytes,S=this._map;L.clamp();for(var B=[],k=0;k<x;k+=3)for(var ae=(z[k>>>2]>>>24-k%4*8&255)<<16|(z[k+1>>>2]>>>24-(k+1)%4*8&255)<<8|z[k+2>>>2]>>>24-(k+2)%4*8&255,M=0;M<4&&k+.75*M<x;M++)B.push(S.charAt(ae>>>6*(3-M)&63));var $=S.charAt(64);if($)for(;B.length%4;)B.push($);return B.join("")},parse:function(L){var z=L.length,x=this._map,S=this._reverseMap;if(!S){S=this._reverseMap=[];for(var B=0;B<x.length;B++)S[x.charCodeAt(B)]=B}var k=x.charAt(64);if(k){var W=L.indexOf(k);-1!==W&&(z=W)}return function ce(L,z,x){for(var S=[],B=0,k=0;k<z;k++)if(k%4){var W=x[L.charCodeAt(k-1)]<<k%4*2,H=x[L.charCodeAt(k)]>>>6-k%4*2;S[B>>>2]|=(W|H)<<24-B%4*8,B++}return F.create(S,B)}(L,z,S)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="},E.enc.Base64)},598:function(st,Je,oe){var E,F;st.exports=(E=oe(656),F=E.lib.WordArray,E.enc.Base64url={stringify:function(L,z){void 0===z&&(z=!0);var x=L.words,S=L.sigBytes,B=z?this._safe_map:this._map;L.clamp();for(var k=[],W=0;W<S;W+=3)for(var M=(x[W>>>2]>>>24-W%4*8&255)<<16|(x[W+1>>>2]>>>24-(W+1)%4*8&255)<<8|x[W+2>>>2]>>>24-(W+2)%4*8&255,$=0;$<4&&W+.75*$<S;$++)k.push(B.charAt(M>>>6*(3-$)&63));var we=B.charAt(64);if(we)for(;k.length%4;)k.push(we);return k.join("")},parse:function(L,z){void 0===z&&(z=!0);var x=L.length,S=z?this._safe_map:this._map,B=this._reverseMap;if(!B){B=this._reverseMap=[];for(var k=0;k<S.length;k++)B[S.charCodeAt(k)]=k}var W=S.charAt(64);if(W){var H=L.indexOf(W);-1!==H&&(x=H)}return function ce(L,z,x){for(var S=[],B=0,k=0;k<z;k++)if(k%4){var W=x[L.charCodeAt(k-1)]<<k%4*2,H=x[L.charCodeAt(k)]>>>6-k%4*2;S[B>>>2]|=(W|H)<<24-B%4*8,B++}return F.create(S,B)}(L,x,B)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",_safe_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_"},E.enc.Base64url)},304:function(st,Je,oe){var E;st.exports=(E=oe(656),function(){var F=E.lib.WordArray,ve=E.enc;function ce(L){return L<<8&4278255360|L>>>8&16711935}ve.Utf16=ve.Utf16BE={stringify:function(L){for(var z=L.words,x=L.sigBytes,S=[],B=0;B<x;B+=2)S.push(String.fromCharCode(z[B>>>2]>>>16-B%4*8&65535));return S.join("")},parse:function(L){for(var z=L.length,x=[],S=0;S<z;S++)x[S>>>1]|=L.charCodeAt(S)<<16-S%2*16;return F.create(x,2*z)}},ve.Utf16LE={stringify:function(L){for(var z=L.words,x=L.sigBytes,S=[],B=0;B<x;B+=2){var k=ce(z[B>>>2]>>>16-B%4*8&65535);S.push(String.fromCharCode(k))}return S.join("")},parse:function(L){for(var z=L.length,x=[],S=0;S<z;S++)x[S>>>1]|=ce(L.charCodeAt(S)<<16-S%2*16);return F.create(x,2*z)}}}(),E.enc.Utf16)},147:function(st,Je,oe){var V,re,F,ve,de,L,E;st.exports=(E=oe(656),oe(986),oe(868),ve=(re=(V=E).lib).WordArray,L=(de=V.algo).EvpKDF=(F=re.Base).extend({cfg:F.extend({keySize:4,hasher:de.MD5,iterations:1}),init:function(z){this.cfg=this.cfg.extend(z)},compute:function(z,x){for(var S,B=this.cfg,k=B.hasher.create(),W=ve.create(),H=W.words,le=B.keySize,ae=B.iterations;H.length<le;){S&&k.update(S),S=k.update(z).finalize(x),k.reset();for(var M=1;M<ae;M++)S=k.finalize(S),k.reset();W.concat(S)}return W.sigBytes=4*le,W}}),V.EvpKDF=function(z,x,S){return L.create(S).compute(z,x)},E.EvpKDF)},564:function(st,Je,oe){var E,ve,ce;st.exports=(E=oe(656),oe(414),ve=E.lib.CipherParams,ce=E.enc.Hex,E.format.Hex={stringify:function(x){return x.ciphertext.toString(ce)},parse:function(x){var S=ce.parse(x);return ve.create({ciphertext:S})}},E.format.Hex)},868:function(st,Je,oe){var E,de;st.exports=(E=oe(656),de=E.enc.Utf8,void(E.algo.HMAC=E.lib.Base.extend({init:function(z,x){z=this._hasher=new z.init,"string"==typeof x&&(x=de.parse(x));var S=z.blockSize,B=4*S;x.sigBytes>B&&(x=z.finalize(x)),x.clamp();for(var k=this._oKey=x.clone(),W=this._iKey=x.clone(),H=k.words,le=W.words,ae=0;ae<S;ae++)H[ae]^=1549556828,le[ae]^=909522486;k.sigBytes=W.sigBytes=B,this.reset()},reset:function(){var z=this._hasher;z.reset(),z.update(this._iKey)},update:function(z){return this._hasher.update(z),this},finalize:function(z){var x=this._hasher,S=x.finalize(z);return x.reset(),x.finalize(this._oKey.clone().concat(S))}})))},471:function(st,Je,oe){var E;st.exports=(E=oe(656),oe(501),oe(823),oe(304),oe(891),oe(598),oe(855),oe(986),oe(168),oe(225),oe(885),oe(68),oe(752),oe(447),oe(868),oe(738),oe(147),oe(414),oe(152),oe(98),oe(57),oe(700),oe(115),oe(332),oe(516),oe(47),oe(964),oe(599),oe(564),oe(188),oe(515),oe(350),oe(795),oe(923),oe(269),E)},823:function(st,Je,oe){var E;st.exports=(E=oe(656),function(){if("function"==typeof ArrayBuffer){var F=E.lib.WordArray,ve=F.init,de=F.init=function(ce){if(ce instanceof ArrayBuffer&&(ce=new Uint8Array(ce)),(ce instanceof Int8Array||typeof Uint8ClampedArray<"u"&&ce instanceof Uint8ClampedArray||ce instanceof Int16Array||ce instanceof Uint16Array||ce instanceof Int32Array||ce instanceof Uint32Array||ce instanceof Float32Array||ce instanceof Float64Array)&&(ce=new Uint8Array(ce.buffer,ce.byteOffset,ce.byteLength)),ce instanceof Uint8Array){for(var L=ce.byteLength,z=[],x=0;x<L;x++)z[x>>>2]|=ce[x]<<24-x%4*8;ve.call(this,z,L)}else ve.apply(this,arguments)};de.prototype=F}}(),E.lib.WordArray)},855:function(st,Je,oe){var E;st.exports=(E=oe(656),function(V){var re=E,F=re.lib,ve=F.WordArray,de=F.Hasher,ce=re.algo,L=[];!function(){for(var W=0;W<64;W++)L[W]=4294967296*V.abs(V.sin(W+1))|0}();var z=ce.MD5=de.extend({_doReset:function(){this._hash=new ve.init([1732584193,4023233417,2562383102,271733878])},_doProcessBlock:function(W,H){for(var le=0;le<16;le++){var ae=H+le,M=W[ae];W[ae]=16711935&(M<<8|M>>>24)|4278255360&(M<<24|M>>>8)}var $=this._hash.words,we=W[H+0],he=W[H+1],me=W[H+2],Ee=W[H+3],Be=W[H+4],xe=W[H+5],Le=W[H+6],Ve=W[H+7],Y=W[H+8],$e=W[H+9],tt=W[H+10],Ue=W[H+11],bt=W[H+12],ht=W[H+13],Rt=W[H+14],Ot=W[H+15],U=$[0],q=$[1],ie=$[2],X=$[3];U=x(U,q,ie,X,we,7,L[0]),X=x(X,U,q,ie,he,12,L[1]),ie=x(ie,X,U,q,me,17,L[2]),q=x(q,ie,X,U,Ee,22,L[3]),U=x(U,q,ie,X,Be,7,L[4]),X=x(X,U,q,ie,xe,12,L[5]),ie=x(ie,X,U,q,Le,17,L[6]),q=x(q,ie,X,U,Ve,22,L[7]),U=x(U,q,ie,X,Y,7,L[8]),X=x(X,U,q,ie,$e,12,L[9]),ie=x(ie,X,U,q,tt,17,L[10]),q=x(q,ie,X,U,Ue,22,L[11]),U=x(U,q,ie,X,bt,7,L[12]),X=x(X,U,q,ie,ht,12,L[13]),ie=x(ie,X,U,q,Rt,17,L[14]),U=S(U,q=x(q,ie,X,U,Ot,22,L[15]),ie,X,he,5,L[16]),X=S(X,U,q,ie,Le,9,L[17]),ie=S(ie,X,U,q,Ue,14,L[18]),q=S(q,ie,X,U,we,20,L[19]),U=S(U,q,ie,X,xe,5,L[20]),X=S(X,U,q,ie,tt,9,L[21]),ie=S(ie,X,U,q,Ot,14,L[22]),q=S(q,ie,X,U,Be,20,L[23]),U=S(U,q,ie,X,$e,5,L[24]),X=S(X,U,q,ie,Rt,9,L[25]),ie=S(ie,X,U,q,Ee,14,L[26]),q=S(q,ie,X,U,Y,20,L[27]),U=S(U,q,ie,X,ht,5,L[28]),X=S(X,U,q,ie,me,9,L[29]),ie=S(ie,X,U,q,Ve,14,L[30]),U=B(U,q=S(q,ie,X,U,bt,20,L[31]),ie,X,xe,4,L[32]),X=B(X,U,q,ie,Y,11,L[33]),ie=B(ie,X,U,q,Ue,16,L[34]),q=B(q,ie,X,U,Rt,23,L[35]),U=B(U,q,ie,X,he,4,L[36]),X=B(X,U,q,ie,Be,11,L[37]),ie=B(ie,X,U,q,Ve,16,L[38]),q=B(q,ie,X,U,tt,23,L[39]),U=B(U,q,ie,X,ht,4,L[40]),X=B(X,U,q,ie,we,11,L[41]),ie=B(ie,X,U,q,Ee,16,L[42]),q=B(q,ie,X,U,Le,23,L[43]),U=B(U,q,ie,X,$e,4,L[44]),X=B(X,U,q,ie,bt,11,L[45]),ie=B(ie,X,U,q,Ot,16,L[46]),U=k(U,q=B(q,ie,X,U,me,23,L[47]),ie,X,we,6,L[48]),X=k(X,U,q,ie,Ve,10,L[49]),ie=k(ie,X,U,q,Rt,15,L[50]),q=k(q,ie,X,U,xe,21,L[51]),U=k(U,q,ie,X,bt,6,L[52]),X=k(X,U,q,ie,Ee,10,L[53]),ie=k(ie,X,U,q,tt,15,L[54]),q=k(q,ie,X,U,he,21,L[55]),U=k(U,q,ie,X,Y,6,L[56]),X=k(X,U,q,ie,Ot,10,L[57]),ie=k(ie,X,U,q,Le,15,L[58]),q=k(q,ie,X,U,ht,21,L[59]),U=k(U,q,ie,X,Be,6,L[60]),X=k(X,U,q,ie,Ue,10,L[61]),ie=k(ie,X,U,q,me,15,L[62]),q=k(q,ie,X,U,$e,21,L[63]),$[0]=$[0]+U|0,$[1]=$[1]+q|0,$[2]=$[2]+ie|0,$[3]=$[3]+X|0},_doFinalize:function(){var W=this._data,H=W.words,le=8*this._nDataBytes,ae=8*W.sigBytes;H[ae>>>5]|=128<<24-ae%32;var M=V.floor(le/4294967296),$=le;H[15+(ae+64>>>9<<4)]=16711935&(M<<8|M>>>24)|4278255360&(M<<24|M>>>8),H[14+(ae+64>>>9<<4)]=16711935&($<<8|$>>>24)|4278255360&($<<24|$>>>8),W.sigBytes=4*(H.length+1),this._process();for(var we=this._hash,he=we.words,me=0;me<4;me++){var Ee=he[me];he[me]=16711935&(Ee<<8|Ee>>>24)|4278255360&(Ee<<24|Ee>>>8)}return we},clone:function(){var W=de.clone.call(this);return W._hash=this._hash.clone(),W}});function x(W,H,le,ae,M,$,we){var he=W+(H&le|~H&ae)+M+we;return(he<<$|he>>>32-$)+H}function S(W,H,le,ae,M,$,we){var he=W+(H&ae|le&~ae)+M+we;return(he<<$|he>>>32-$)+H}function B(W,H,le,ae,M,$,we){var he=W+(H^le^ae)+M+we;return(he<<$|he>>>32-$)+H}function k(W,H,le,ae,M,$,we){var he=W+(le^(H|~ae))+M+we;return(he<<$|he>>>32-$)+H}re.MD5=de._createHelper(z),re.HmacMD5=de._createHmacHelper(z)}(Math),E.MD5)},152:function(st,Je,oe){var E;st.exports=(E=oe(656),oe(414),E.mode.CFB=function(){var V=E.lib.BlockCipherMode.extend();function re(F,ve,de,ce){var L,z=this._iv;z?(L=z.slice(0),this._iv=void 0):L=this._prevBlock,ce.encryptBlock(L,0);for(var x=0;x<de;x++)F[ve+x]^=L[x]}return V.Encryptor=V.extend({processBlock:function(F,ve){var de=this._cipher,ce=de.blockSize;re.call(this,F,ve,ce,de),this._prevBlock=F.slice(ve,ve+ce)}}),V.Decryptor=V.extend({processBlock:function(F,ve){var de=this._cipher,ce=de.blockSize,L=F.slice(ve,ve+ce);re.call(this,F,ve,ce,de),this._prevBlock=L}}),V}(),E.mode.CFB)},57:function(st,Je,oe){var E;st.exports=(E=oe(656),oe(414),E.mode.CTRGladman=function(){var V=E.lib.BlockCipherMode.extend();function re(de){if(255&~(de>>24))de+=1<<24;else{var ce=de>>16&255,L=de>>8&255,z=255&de;255===ce?(ce=0,255===L?(L=0,255===z?z=0:++z):++L):++ce,de=0,de+=ce<<16,de+=L<<8,de+=z}return de}var ve=V.Encryptor=V.extend({processBlock:function(de,ce){var L=this._cipher,z=L.blockSize,x=this._iv,S=this._counter;x&&(S=this._counter=x.slice(0),this._iv=void 0),function F(de){return 0===(de[0]=re(de[0]))&&(de[1]=re(de[1])),de}(S);var B=S.slice(0);L.encryptBlock(B,0);for(var k=0;k<z;k++)de[ce+k]^=B[k]}});return V.Decryptor=ve,V}(),E.mode.CTRGladman)},98:function(st,Je,oe){var V,re,E;st.exports=(E=oe(656),oe(414),E.mode.CTR=(re=(V=E.lib.BlockCipherMode.extend()).Encryptor=V.extend({processBlock:function(F,ve){var de=this._cipher,ce=de.blockSize,L=this._iv,z=this._counter;L&&(z=this._counter=L.slice(0),this._iv=void 0);var x=z.slice(0);de.encryptBlock(x,0),z[ce-1]=z[ce-1]+1|0;for(var S=0;S<ce;S++)F[ve+S]^=x[S]}}),V.Decryptor=re,V),E.mode.CTR)},115:function(st,Je,oe){var V,E;st.exports=(E=oe(656),oe(414),E.mode.ECB=((V=E.lib.BlockCipherMode.extend()).Encryptor=V.extend({processBlock:function(re,F){this._cipher.encryptBlock(re,F)}}),V.Decryptor=V.extend({processBlock:function(re,F){this._cipher.decryptBlock(re,F)}}),V),E.mode.ECB)},700:function(st,Je,oe){var V,re,E;st.exports=(E=oe(656),oe(414),E.mode.OFB=(re=(V=E.lib.BlockCipherMode.extend()).Encryptor=V.extend({processBlock:function(F,ve){var de=this._cipher,ce=de.blockSize,L=this._iv,z=this._keystream;L&&(z=this._keystream=L.slice(0),this._iv=void 0),de.encryptBlock(z,0);for(var x=0;x<ce;x++)F[ve+x]^=z[x]}}),V.Decryptor=re,V),E.mode.OFB)},332:function(st,Je,oe){var E;st.exports=(E=oe(656),oe(414),E.pad.AnsiX923={pad:function(V,re){var F=V.sigBytes,ve=4*re,de=ve-F%ve,ce=F+de-1;V.clamp(),V.words[ce>>>2]|=de<<24-ce%4*8,V.sigBytes+=de},unpad:function(V){V.sigBytes-=255&V.words[V.sigBytes-1>>>2]}},E.pad.Ansix923)},516:function(st,Je,oe){var E;st.exports=(E=oe(656),oe(414),E.pad.Iso10126={pad:function(V,re){var F=4*re,ve=F-V.sigBytes%F;V.concat(E.lib.WordArray.random(ve-1)).concat(E.lib.WordArray.create([ve<<24],1))},unpad:function(V){V.sigBytes-=255&V.words[V.sigBytes-1>>>2]}},E.pad.Iso10126)},47:function(st,Je,oe){var E;st.exports=(E=oe(656),oe(414),E.pad.Iso97971={pad:function(V,re){V.concat(E.lib.WordArray.create([2147483648],1)),E.pad.ZeroPadding.pad(V,re)},unpad:function(V){E.pad.ZeroPadding.unpad(V),V.sigBytes--}},E.pad.Iso97971)},599:function(st,Je,oe){var E;st.exports=(E=oe(656),oe(414),E.pad.NoPadding={pad:function(){},unpad:function(){}},E.pad.NoPadding)},964:function(st,Je,oe){var E;st.exports=(E=oe(656),oe(414),E.pad.ZeroPadding={pad:function(V,re){var F=4*re;V.clamp(),V.sigBytes+=F-(V.sigBytes%F||F)},unpad:function(V){var re=V.words,F=V.sigBytes-1;for(F=V.sigBytes-1;F>=0;F--)if(re[F>>>2]>>>24-F%4*8&255){V.sigBytes=F+1;break}}},E.pad.ZeroPadding)},738:function(st,Je,oe){var V,re,F,ve,de,L,z,E;st.exports=(E=oe(656),oe(168),oe(868),ve=(re=(V=E).lib).WordArray,L=(de=V.algo).HMAC,z=de.PBKDF2=(F=re.Base).extend({cfg:F.extend({keySize:4,hasher:de.SHA256,iterations:25e4}),init:function(x){this.cfg=this.cfg.extend(x)},compute:function(x,S){for(var B=this.cfg,k=L.create(B.hasher,x),W=ve.create(),H=ve.create([1]),le=W.words,ae=H.words,M=B.keySize,$=B.iterations;le.length<M;){var we=k.update(S).finalize(H);k.reset();for(var he=we.words,me=he.length,Ee=we,Be=1;Be<$;Be++){Ee=k.finalize(Ee),k.reset();for(var xe=Ee.words,Le=0;Le<me;Le++)he[Le]^=xe[Le]}W.concat(we),ae[0]++}return W.sigBytes=4*M,W}}),V.PBKDF2=function(x,S,B){return z.create(B).compute(x,S)},E.PBKDF2)},923:function(st,Je,oe){var E;st.exports=(E=oe(656),oe(891),oe(855),oe(147),oe(414),function(){var V=E,F=V.lib.StreamCipher,de=[],ce=[],L=[],z=V.algo.RabbitLegacy=F.extend({_doReset:function(){var S=this._key.words,B=this.cfg.iv,k=this._X=[S[0],S[3]<<16|S[2]>>>16,S[1],S[0]<<16|S[3]>>>16,S[2],S[1]<<16|S[0]>>>16,S[3],S[2]<<16|S[1]>>>16],W=this._C=[S[2]<<16|S[2]>>>16,4294901760&S[0]|65535&S[1],S[3]<<16|S[3]>>>16,4294901760&S[1]|65535&S[2],S[0]<<16|S[0]>>>16,4294901760&S[2]|65535&S[3],S[1]<<16|S[1]>>>16,4294901760&S[3]|65535&S[0]];this._b=0;for(var H=0;H<4;H++)x.call(this);for(H=0;H<8;H++)W[H]^=k[H+4&7];if(B){var le=B.words,ae=le[0],M=le[1],$=16711935&(ae<<8|ae>>>24)|4278255360&(ae<<24|ae>>>8),we=16711935&(M<<8|M>>>24)|4278255360&(M<<24|M>>>8),he=$>>>16|4294901760&we,me=we<<16|65535&$;for(W[0]^=$,W[1]^=he,W[2]^=we,W[3]^=me,W[4]^=$,W[5]^=he,W[6]^=we,W[7]^=me,H=0;H<4;H++)x.call(this)}},_doProcessBlock:function(S,B){var k=this._X;x.call(this),de[0]=k[0]^k[5]>>>16^k[3]<<16,de[1]=k[2]^k[7]>>>16^k[5]<<16,de[2]=k[4]^k[1]>>>16^k[7]<<16,de[3]=k[6]^k[3]>>>16^k[1]<<16;for(var W=0;W<4;W++)de[W]=16711935&(de[W]<<8|de[W]>>>24)|4278255360&(de[W]<<24|de[W]>>>8),S[B+W]^=de[W]},blockSize:4,ivSize:2});function x(){for(var S=this._X,B=this._C,k=0;k<8;k++)ce[k]=B[k];for(B[0]=B[0]+1295307597+this._b|0,B[1]=B[1]+3545052371+(B[0]>>>0<ce[0]>>>0?1:0)|0,B[2]=B[2]+886263092+(B[1]>>>0<ce[1]>>>0?1:0)|0,B[3]=B[3]+1295307597+(B[2]>>>0<ce[2]>>>0?1:0)|0,B[4]=B[4]+3545052371+(B[3]>>>0<ce[3]>>>0?1:0)|0,B[5]=B[5]+886263092+(B[4]>>>0<ce[4]>>>0?1:0)|0,B[6]=B[6]+1295307597+(B[5]>>>0<ce[5]>>>0?1:0)|0,B[7]=B[7]+3545052371+(B[6]>>>0<ce[6]>>>0?1:0)|0,this._b=B[7]>>>0<ce[7]>>>0?1:0,k=0;k<8;k++){var W=S[k]+B[k],H=65535&W,le=W>>>16;L[k]=((H*H>>>17)+H*le>>>15)+le*le^((4294901760&W)*W|0)+((65535&W)*W|0)}S[0]=L[0]+(L[7]<<16|L[7]>>>16)+(L[6]<<16|L[6]>>>16)|0,S[1]=L[1]+(L[0]<<8|L[0]>>>24)+L[7]|0,S[2]=L[2]+(L[1]<<16|L[1]>>>16)+(L[0]<<16|L[0]>>>16)|0,S[3]=L[3]+(L[2]<<8|L[2]>>>24)+L[1]|0,S[4]=L[4]+(L[3]<<16|L[3]>>>16)+(L[2]<<16|L[2]>>>16)|0,S[5]=L[5]+(L[4]<<8|L[4]>>>24)+L[3]|0,S[6]=L[6]+(L[5]<<16|L[5]>>>16)+(L[4]<<16|L[4]>>>16)|0,S[7]=L[7]+(L[6]<<8|L[6]>>>24)+L[5]|0}V.RabbitLegacy=F._createHelper(z)}(),E.RabbitLegacy)},795:function(st,Je,oe){var E;st.exports=(E=oe(656),oe(891),oe(855),oe(147),oe(414),function(){var V=E,F=V.lib.StreamCipher,de=[],ce=[],L=[],z=V.algo.Rabbit=F.extend({_doReset:function(){for(var S=this._key.words,B=this.cfg.iv,k=0;k<4;k++)S[k]=16711935&(S[k]<<8|S[k]>>>24)|4278255360&(S[k]<<24|S[k]>>>8);var W=this._X=[S[0],S[3]<<16|S[2]>>>16,S[1],S[0]<<16|S[3]>>>16,S[2],S[1]<<16|S[0]>>>16,S[3],S[2]<<16|S[1]>>>16],H=this._C=[S[2]<<16|S[2]>>>16,4294901760&S[0]|65535&S[1],S[3]<<16|S[3]>>>16,4294901760&S[1]|65535&S[2],S[0]<<16|S[0]>>>16,4294901760&S[2]|65535&S[3],S[1]<<16|S[1]>>>16,4294901760&S[3]|65535&S[0]];for(this._b=0,k=0;k<4;k++)x.call(this);for(k=0;k<8;k++)H[k]^=W[k+4&7];if(B){var le=B.words,ae=le[0],M=le[1],$=16711935&(ae<<8|ae>>>24)|4278255360&(ae<<24|ae>>>8),we=16711935&(M<<8|M>>>24)|4278255360&(M<<24|M>>>8),he=$>>>16|4294901760&we,me=we<<16|65535&$;for(H[0]^=$,H[1]^=he,H[2]^=we,H[3]^=me,H[4]^=$,H[5]^=he,H[6]^=we,H[7]^=me,k=0;k<4;k++)x.call(this)}},_doProcessBlock:function(S,B){var k=this._X;x.call(this),de[0]=k[0]^k[5]>>>16^k[3]<<16,de[1]=k[2]^k[7]>>>16^k[5]<<16,de[2]=k[4]^k[1]>>>16^k[7]<<16,de[3]=k[6]^k[3]>>>16^k[1]<<16;for(var W=0;W<4;W++)de[W]=16711935&(de[W]<<8|de[W]>>>24)|4278255360&(de[W]<<24|de[W]>>>8),S[B+W]^=de[W]},blockSize:4,ivSize:2});function x(){for(var S=this._X,B=this._C,k=0;k<8;k++)ce[k]=B[k];for(B[0]=B[0]+1295307597+this._b|0,B[1]=B[1]+3545052371+(B[0]>>>0<ce[0]>>>0?1:0)|0,B[2]=B[2]+886263092+(B[1]>>>0<ce[1]>>>0?1:0)|0,B[3]=B[3]+1295307597+(B[2]>>>0<ce[2]>>>0?1:0)|0,B[4]=B[4]+3545052371+(B[3]>>>0<ce[3]>>>0?1:0)|0,B[5]=B[5]+886263092+(B[4]>>>0<ce[4]>>>0?1:0)|0,B[6]=B[6]+1295307597+(B[5]>>>0<ce[5]>>>0?1:0)|0,B[7]=B[7]+3545052371+(B[6]>>>0<ce[6]>>>0?1:0)|0,this._b=B[7]>>>0<ce[7]>>>0?1:0,k=0;k<8;k++){var W=S[k]+B[k],H=65535&W,le=W>>>16;L[k]=((H*H>>>17)+H*le>>>15)+le*le^((4294901760&W)*W|0)+((65535&W)*W|0)}S[0]=L[0]+(L[7]<<16|L[7]>>>16)+(L[6]<<16|L[6]>>>16)|0,S[1]=L[1]+(L[0]<<8|L[0]>>>24)+L[7]|0,S[2]=L[2]+(L[1]<<16|L[1]>>>16)+(L[0]<<16|L[0]>>>16)|0,S[3]=L[3]+(L[2]<<8|L[2]>>>24)+L[1]|0,S[4]=L[4]+(L[3]<<16|L[3]>>>16)+(L[2]<<16|L[2]>>>16)|0,S[5]=L[5]+(L[4]<<8|L[4]>>>24)+L[3]|0,S[6]=L[6]+(L[5]<<16|L[5]>>>16)+(L[4]<<16|L[4]>>>16)|0,S[7]=L[7]+(L[6]<<8|L[6]>>>24)+L[5]|0}V.Rabbit=F._createHelper(z)}(),E.Rabbit)},350:function(st,Je,oe){var E;st.exports=(E=oe(656),oe(891),oe(855),oe(147),oe(414),function(){var V=E,F=V.lib.StreamCipher,ve=V.algo,de=ve.RC4=F.extend({_doReset:function(){for(var z=this._key,x=z.words,S=z.sigBytes,B=this._S=[],k=0;k<256;k++)B[k]=k;k=0;for(var W=0;k<256;k++){var H=k%S,ae=B[k];B[k]=B[W=(W+B[k]+(x[H>>>2]>>>24-H%4*8&255))%256],B[W]=ae}this._i=this._j=0},_doProcessBlock:function(z,x){z[x]^=ce.call(this)},keySize:8,ivSize:0});function ce(){for(var z=this._S,x=this._i,S=this._j,B=0,k=0;k<4;k++){var W=z[x=(x+1)%256];z[x]=z[S=(S+z[x])%256],z[S]=W,B|=z[(z[x]+z[S])%256]<<24-8*k}return this._i=x,this._j=S,B}V.RC4=F._createHelper(de);var L=ve.RC4Drop=de.extend({cfg:de.cfg.extend({drop:192}),_doReset:function(){de._doReset.call(this);for(var z=this.cfg.drop;z>0;z--)ce.call(this)}});V.RC4Drop=F._createHelper(L)}(),E.RC4)},447:function(st,Je,oe){var E;st.exports=(E=oe(656),function(V){var re=E,F=re.lib,ve=F.WordArray,de=F.Hasher,ce=re.algo,L=ve.create([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13]),z=ve.create([5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11]),x=ve.create([11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6]),S=ve.create([8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11]),B=ve.create([0,1518500249,1859775393,2400959708,2840853838]),k=ve.create([1352829926,1548603684,1836072691,2053994217,0]),W=ce.RIPEMD160=de.extend({_doReset:function(){this._hash=ve.create([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(he,me){for(var Ee=0;Ee<16;Ee++){var Be=me+Ee,xe=he[Be];he[Be]=16711935&(xe<<8|xe>>>24)|4278255360&(xe<<24|xe>>>8)}var ht,Rt,Ot,U,q,ie,X,je,Re,Xe,lt,Le=this._hash.words,Ve=B.words,Y=k.words,$e=L.words,tt=z.words,Ue=x.words,bt=S.words;for(ie=ht=Le[0],X=Rt=Le[1],je=Ot=Le[2],Re=U=Le[3],Xe=q=Le[4],Ee=0;Ee<80;Ee+=1)lt=ht+he[me+$e[Ee]]|0,lt+=Ee<16?H(Rt,Ot,U)+Ve[0]:Ee<32?le(Rt,Ot,U)+Ve[1]:Ee<48?ae(Rt,Ot,U)+Ve[2]:Ee<64?M(Rt,Ot,U)+Ve[3]:$(Rt,Ot,U)+Ve[4],lt=(lt=we(lt|=0,Ue[Ee]))+q|0,ht=q,q=U,U=we(Ot,10),Ot=Rt,Rt=lt,lt=ie+he[me+tt[Ee]]|0,lt+=Ee<16?$(X,je,Re)+Y[0]:Ee<32?M(X,je,Re)+Y[1]:Ee<48?ae(X,je,Re)+Y[2]:Ee<64?le(X,je,Re)+Y[3]:H(X,je,Re)+Y[4],lt=(lt=we(lt|=0,bt[Ee]))+Xe|0,ie=Xe,Xe=Re,Re=we(je,10),je=X,X=lt;lt=Le[1]+Ot+Re|0,Le[1]=Le[2]+U+Xe|0,Le[2]=Le[3]+q+ie|0,Le[3]=Le[4]+ht+X|0,Le[4]=Le[0]+Rt+je|0,Le[0]=lt},_doFinalize:function(){var he=this._data,me=he.words,Ee=8*this._nDataBytes,Be=8*he.sigBytes;me[Be>>>5]|=128<<24-Be%32,me[14+(Be+64>>>9<<4)]=16711935&(Ee<<8|Ee>>>24)|4278255360&(Ee<<24|Ee>>>8),he.sigBytes=4*(me.length+1),this._process();for(var xe=this._hash,Le=xe.words,Ve=0;Ve<5;Ve++){var Y=Le[Ve];Le[Ve]=16711935&(Y<<8|Y>>>24)|4278255360&(Y<<24|Y>>>8)}return xe},clone:function(){var he=de.clone.call(this);return he._hash=this._hash.clone(),he}});function H(he,me,Ee){return he^me^Ee}function le(he,me,Ee){return he&me|~he&Ee}function ae(he,me,Ee){return(he|~me)^Ee}function M(he,me,Ee){return he&Ee|me&~Ee}function $(he,me,Ee){return he^(me|~Ee)}function we(he,me){return he<<me|he>>>32-me}re.RIPEMD160=de._createHelper(W),re.HmacRIPEMD160=de._createHmacHelper(W)}(Math),E.RIPEMD160)},986:function(st,Je,oe){var V,re,F,ve,ce,L,E;st.exports=(E=oe(656),F=(re=(V=E).lib).WordArray,ce=[],L=V.algo.SHA1=(ve=re.Hasher).extend({_doReset:function(){this._hash=new F.init([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(z,x){for(var S=this._hash.words,B=S[0],k=S[1],W=S[2],H=S[3],le=S[4],ae=0;ae<80;ae++){if(ae<16)ce[ae]=0|z[x+ae];else{var M=ce[ae-3]^ce[ae-8]^ce[ae-14]^ce[ae-16];ce[ae]=M<<1|M>>>31}var $=(B<<5|B>>>27)+le+ce[ae];$+=ae<20?1518500249+(k&W|~k&H):ae<40?1859775393+(k^W^H):ae<60?(k&W|k&H|W&H)-1894007588:(k^W^H)-899497514,le=H,H=W,W=k<<30|k>>>2,k=B,B=$}S[0]=S[0]+B|0,S[1]=S[1]+k|0,S[2]=S[2]+W|0,S[3]=S[3]+H|0,S[4]=S[4]+le|0},_doFinalize:function(){var z=this._data,x=z.words,S=8*this._nDataBytes,B=8*z.sigBytes;return x[B>>>5]|=128<<24-B%32,x[14+(B+64>>>9<<4)]=Math.floor(S/4294967296),x[15+(B+64>>>9<<4)]=S,z.sigBytes=4*x.length,this._process(),this._hash},clone:function(){var z=ve.clone.call(this);return z._hash=this._hash.clone(),z}}),V.SHA1=ve._createHelper(L),V.HmacSHA1=ve._createHmacHelper(L),E.SHA1)},225:function(st,Je,oe){var V,F,ve,de,ce,E;st.exports=(E=oe(656),oe(168),F=(V=E).lib.WordArray,ce=(ve=V.algo).SHA224=(de=ve.SHA256).extend({_doReset:function(){this._hash=new F.init([3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428])},_doFinalize:function(){var L=de._doFinalize.call(this);return L.sigBytes-=4,L}}),V.SHA224=de._createHelper(ce),V.HmacSHA224=de._createHmacHelper(ce),E.SHA224)},168:function(st,Je,oe){var E;st.exports=(E=oe(656),function(V){var re=E,F=re.lib,ve=F.WordArray,de=F.Hasher,ce=re.algo,L=[],z=[];!function(){function B(le){for(var ae=V.sqrt(le),M=2;M<=ae;M++)if(!(le%M))return!1;return!0}function k(le){return 4294967296*(le-(0|le))|0}for(var W=2,H=0;H<64;)B(W)&&(H<8&&(L[H]=k(V.pow(W,.5))),z[H]=k(V.pow(W,1/3)),H++),W++}();var x=[],S=ce.SHA256=de.extend({_doReset:function(){this._hash=new ve.init(L.slice(0))},_doProcessBlock:function(B,k){for(var W=this._hash.words,H=W[0],le=W[1],ae=W[2],M=W[3],$=W[4],we=W[5],he=W[6],me=W[7],Ee=0;Ee<64;Ee++){if(Ee<16)x[Ee]=0|B[k+Ee];else{var Be=x[Ee-15],Le=x[Ee-2];x[Ee]=((Be<<25|Be>>>7)^(Be<<14|Be>>>18)^Be>>>3)+x[Ee-7]+((Le<<15|Le>>>17)^(Le<<13|Le>>>19)^Le>>>10)+x[Ee-16]}var $e=H&le^H&ae^le&ae,bt=me+(($<<26|$>>>6)^($<<21|$>>>11)^($<<7|$>>>25))+($&we^~$&he)+z[Ee]+x[Ee];me=he,he=we,we=$,$=M+bt|0,M=ae,ae=le,le=H,H=bt+(((H<<30|H>>>2)^(H<<19|H>>>13)^(H<<10|H>>>22))+$e)|0}W[0]=W[0]+H|0,W[1]=W[1]+le|0,W[2]=W[2]+ae|0,W[3]=W[3]+M|0,W[4]=W[4]+$|0,W[5]=W[5]+we|0,W[6]=W[6]+he|0,W[7]=W[7]+me|0},_doFinalize:function(){var B=this._data,k=B.words,W=8*this._nDataBytes,H=8*B.sigBytes;return k[H>>>5]|=128<<24-H%32,k[14+(H+64>>>9<<4)]=V.floor(W/4294967296),k[15+(H+64>>>9<<4)]=W,B.sigBytes=4*k.length,this._process(),this._hash},clone:function(){var B=de.clone.call(this);return B._hash=this._hash.clone(),B}});re.SHA256=de._createHelper(S),re.HmacSHA256=de._createHmacHelper(S)}(Math),E.SHA256)},752:function(st,Je,oe){var E;st.exports=(E=oe(656),oe(501),function(V){var re=E,F=re.lib,ve=F.WordArray,de=F.Hasher,L=re.x64.Word,z=re.algo,x=[],S=[],B=[];!function(){for(var H=1,le=0,ae=0;ae<24;ae++){x[H+5*le]=(ae+1)*(ae+2)/2%64;var $=(2*H+3*le)%5;H=le%5,le=$}for(H=0;H<5;H++)for(le=0;le<5;le++)S[H+5*le]=le+(2*H+3*le)%5*5;for(var we=1,he=0;he<24;he++){for(var me=0,Ee=0,Be=0;Be<7;Be++){if(1&we){var xe=(1<<Be)-1;xe<32?Ee^=1<<xe:me^=1<<xe-32}128&we?we=we<<1^113:we<<=1}B[he]=L.create(me,Ee)}}();var k=[];!function(){for(var H=0;H<25;H++)k[H]=L.create()}();var W=z.SHA3=de.extend({cfg:de.cfg.extend({outputLength:512}),_doReset:function(){for(var H=this._state=[],le=0;le<25;le++)H[le]=new L.init;this.blockSize=(1600-2*this.cfg.outputLength)/32},_doProcessBlock:function(H,le){for(var ae=this._state,M=this.blockSize/2,$=0;$<M;$++){var we=H[le+2*$],he=H[le+2*$+1];we=16711935&(we<<8|we>>>24)|4278255360&(we<<24|we>>>8),(me=ae[$]).high^=he=16711935&(he<<8|he>>>24)|4278255360&(he<<24|he>>>8),me.low^=we}for(var Ee=0;Ee<24;Ee++){for(var Be=0;Be<5;Be++){for(var xe=0,Le=0,Ve=0;Ve<5;Ve++)xe^=(me=ae[Be+5*Ve]).high,Le^=me.low;var Y=k[Be];Y.high=xe,Y.low=Le}for(Be=0;Be<5;Be++){var $e=k[(Be+4)%5],tt=k[(Be+1)%5],Ue=tt.high,bt=tt.low;for(xe=$e.high^(Ue<<1|bt>>>31),Le=$e.low^(bt<<1|Ue>>>31),Ve=0;Ve<5;Ve++)(me=ae[Be+5*Ve]).high^=xe,me.low^=Le}for(var ht=1;ht<25;ht++){var Rt=(me=ae[ht]).high,Ot=me.low,U=x[ht];U<32?(xe=Rt<<U|Ot>>>32-U,Le=Ot<<U|Rt>>>32-U):(xe=Ot<<U-32|Rt>>>64-U,Le=Rt<<U-32|Ot>>>64-U);var q=k[S[ht]];q.high=xe,q.low=Le}var ie=k[0],X=ae[0];for(ie.high=X.high,ie.low=X.low,Be=0;Be<5;Be++)for(Ve=0;Ve<5;Ve++){var je=k[ht=Be+5*Ve],Re=k[(Be+1)%5+5*Ve],Xe=k[(Be+2)%5+5*Ve];(me=ae[ht]).high=je.high^~Re.high&Xe.high,me.low=je.low^~Re.low&Xe.low}var me,lt=B[Ee];(me=ae[0]).high^=lt.high,me.low^=lt.low}},_doFinalize:function(){var H=this._data,le=H.words,M=8*H.sigBytes,$=32*this.blockSize;le[M>>>5]|=1<<24-M%32,le[(V.ceil((M+1)/$)*$>>>5)-1]|=128,H.sigBytes=4*le.length,this._process();for(var we=this._state,he=this.cfg.outputLength/8,me=he/8,Ee=[],Be=0;Be<me;Be++){var xe=we[Be],Le=xe.high,Ve=xe.low;Le=16711935&(Le<<8|Le>>>24)|4278255360&(Le<<24|Le>>>8),Ee.push(Ve=16711935&(Ve<<8|Ve>>>24)|4278255360&(Ve<<24|Ve>>>8)),Ee.push(Le)}return new ve.init(Ee,he)},clone:function(){for(var H=de.clone.call(this),le=H._state=this._state.slice(0),ae=0;ae<25;ae++)le[ae]=le[ae].clone();return H}});re.SHA3=de._createHelper(W),re.HmacSHA3=de._createHmacHelper(W)}(Math),E.SHA3)},68:function(st,Je,oe){var V,re,F,ve,de,ce,L,E;st.exports=(E=oe(656),oe(501),oe(885),F=(re=(V=E).x64).Word,ve=re.WordArray,L=(de=V.algo).SHA384=(ce=de.SHA512).extend({_doReset:function(){this._hash=new ve.init([new F.init(3418070365,3238371032),new F.init(1654270250,914150663),new F.init(2438529370,812702999),new F.init(355462360,4144912697),new F.init(1731405415,4290775857),new F.init(2394180231,1750603025),new F.init(3675008525,1694076839),new F.init(1203062813,3204075428)])},_doFinalize:function(){var z=ce._doFinalize.call(this);return z.sigBytes-=16,z}}),V.SHA384=ce._createHelper(L),V.HmacSHA384=ce._createHmacHelper(L),E.SHA384)},885:function(st,Je,oe){var E;st.exports=(E=oe(656),oe(501),function(){var V=E,F=V.lib.Hasher,ve=V.x64,de=ve.Word,ce=ve.WordArray,L=V.algo;function z(){return de.create.apply(de,arguments)}var x=[z(1116352408,3609767458),z(1899447441,602891725),z(3049323471,3964484399),z(3921009573,2173295548),z(961987163,4081628472),z(1508970993,3053834265),z(2453635748,2937671579),z(2870763221,3664609560),z(3624381080,2734883394),z(310598401,1164996542),z(607225278,1323610764),z(1426881987,3590304994),z(1925078388,4068182383),z(2162078206,991336113),z(2614888103,633803317),z(3248222580,3479774868),z(3835390401,2666613458),z(4022224774,944711139),z(264347078,2341262773),z(604807628,2007800933),z(770255983,1495990901),z(1249150122,1856431235),z(1555081692,3175218132),z(1996064986,2198950837),z(2554220882,3999719339),z(2821834349,766784016),z(2952996808,2566594879),z(3210313671,3203337956),z(3336571891,1034457026),z(3584528711,2466948901),z(113926993,3758326383),z(338241895,168717936),z(666307205,1188179964),z(773529912,1546045734),z(1294757372,1522805485),z(1396182291,2643833823),z(1695183700,2343527390),z(1986661051,1014477480),z(2177026350,1206759142),z(2456956037,344077627),z(2730485921,1290863460),z(2820302411,3158454273),z(3259730800,3505952657),z(3345764771,106217008),z(3516065817,3606008344),z(3600352804,1432725776),z(4094571909,1467031594),z(275423344,851169720),z(430227734,3100823752),z(506948616,1363258195),z(659060556,3750685593),z(883997877,3785050280),z(958139571,3318307427),z(1322822218,3812723403),z(1537002063,2003034995),z(1747873779,3602036899),z(1955562222,1575990012),z(2024104815,1125592928),z(2227730452,2716904306),z(2361852424,442776044),z(2428436474,593698344),z(2756734187,3733110249),z(3204031479,2999351573),z(3329325298,3815920427),z(3391569614,3928383900),z(3515267271,566280711),z(3940187606,3454069534),z(4118630271,4000239992),z(116418474,1914138554),z(174292421,2731055270),z(289380356,3203993006),z(460393269,320620315),z(685471733,587496836),z(852142971,1086792851),z(1017036298,365543100),z(1126000580,2618297676),z(1288033470,3409855158),z(1501505948,4234509866),z(1607167915,987167468),z(1816402316,1246189591)],S=[];!function(){for(var k=0;k<80;k++)S[k]=z()}();var B=L.SHA512=F.extend({_doReset:function(){this._hash=new ce.init([new de.init(1779033703,4089235720),new de.init(3144134277,2227873595),new de.init(1013904242,4271175723),new de.init(2773480762,1595750129),new de.init(1359893119,2917565137),new de.init(2600822924,725511199),new de.init(528734635,4215389547),new de.init(1541459225,327033209)])},_doProcessBlock:function(k,W){for(var H=this._hash.words,le=H[0],ae=H[1],M=H[2],$=H[3],we=H[4],he=H[5],me=H[6],Ee=H[7],Be=le.high,xe=le.low,Le=ae.high,Ve=ae.low,Y=M.high,$e=M.low,tt=$.high,Ue=$.low,bt=we.high,ht=we.low,Rt=he.high,Ot=he.low,U=me.high,q=me.low,ie=Ee.high,X=Ee.low,je=Be,Re=xe,Xe=Le,lt=Ve,$n=Y,Et=$e,Qt=tt,mn=Ue,vt=bt,Wt=ht,An=Rt,Pn=Ot,zt=U,tr=q,Ji=ie,bi=X,xt=0;xt<80;xt++){var dn,On,Nr=S[xt];if(xt<16)On=Nr.high=0|k[W+2*xt],dn=Nr.low=0|k[W+2*xt+1];else{var yn=S[xt-15],Tn=yn.high,nr=yn.low,Fn=(nr>>>1|Tn<<31)^(nr>>>8|Tn<<24)^(nr>>>7|Tn<<25),wn=S[xt-2],ys=wn.high,kr=wn.low,Ci=(kr>>>19|ys<<13)^(kr<<3|ys>>>29)^(kr>>>6|ys<<26),hi=S[xt-7],Ls=S[xt-16],io=Ls.low;Nr.high=On=(On=(On=((Tn>>>1|nr<<31)^(Tn>>>8|nr<<24)^Tn>>>7)+hi.high+((dn=Fn+hi.low)>>>0<Fn>>>0?1:0))+((ys>>>19|kr<<13)^(ys<<3|kr>>>29)^ys>>>6)+((dn+=Ci)>>>0<Ci>>>0?1:0))+Ls.high+((dn+=io)>>>0<io>>>0?1:0),Nr.low=dn}var Z,_s=vt&An^~vt&zt,br=Wt&Pn^~Wt&tr,vs=je&Xe^je&$n^Xe&$n,oo=(Re>>>28|je<<4)^(Re<<30|je>>>2)^(Re<<25|je>>>7),fi=x[xt],G=fi.low,Me=Ji+((vt>>>14|Wt<<18)^(vt>>>18|Wt<<14)^(vt<<23|Wt>>>9))+((Z=bi+((Wt>>>14|vt<<18)^(Wt>>>18|vt<<14)^(Wt<<23|vt>>>9)))>>>0<bi>>>0?1:0),fe=oo+(Re&lt^Re&Et^lt&Et);Ji=zt,bi=tr,zt=An,tr=Pn,An=vt,Pn=Wt,vt=Qt+(Me=(Me=(Me=Me+_s+((Z+=br)>>>0<br>>>0?1:0))+fi.high+((Z+=G)>>>0<G>>>0?1:0))+On+((Z+=dn)>>>0<dn>>>0?1:0))+((Wt=mn+Z|0)>>>0<mn>>>0?1:0)|0,Qt=$n,mn=Et,$n=Xe,Et=lt,Xe=je,lt=Re,je=Me+(((je>>>28|Re<<4)^(je<<30|Re>>>2)^(je<<25|Re>>>7))+vs+(fe>>>0<oo>>>0?1:0))+((Re=Z+fe|0)>>>0<Z>>>0?1:0)|0}xe=le.low=xe+Re,le.high=Be+je+(xe>>>0<Re>>>0?1:0),Ve=ae.low=Ve+lt,ae.high=Le+Xe+(Ve>>>0<lt>>>0?1:0),$e=M.low=$e+Et,M.high=Y+$n+($e>>>0<Et>>>0?1:0),Ue=$.low=Ue+mn,$.high=tt+Qt+(Ue>>>0<mn>>>0?1:0),ht=we.low=ht+Wt,we.high=bt+vt+(ht>>>0<Wt>>>0?1:0),Ot=he.low=Ot+Pn,he.high=Rt+An+(Ot>>>0<Pn>>>0?1:0),q=me.low=q+tr,me.high=U+zt+(q>>>0<tr>>>0?1:0),X=Ee.low=X+bi,Ee.high=ie+Ji+(X>>>0<bi>>>0?1:0)},_doFinalize:function(){var k=this._data,W=k.words,H=8*this._nDataBytes,le=8*k.sigBytes;return W[le>>>5]|=128<<24-le%32,W[30+(le+128>>>10<<5)]=Math.floor(H/4294967296),W[31+(le+128>>>10<<5)]=H,k.sigBytes=4*W.length,this._process(),this._hash.toX32()},clone:function(){var k=F.clone.call(this);return k._hash=this._hash.clone(),k},blockSize:32});V.SHA512=F._createHelper(B),V.HmacSHA512=F._createHmacHelper(B)}(),E.SHA512)},515:function(st,Je,oe){var E;st.exports=(E=oe(656),oe(891),oe(855),oe(147),oe(414),function(){var V=E,re=V.lib,F=re.WordArray,ve=re.BlockCipher,de=V.algo,ce=[57,49,41,33,25,17,9,1,58,50,42,34,26,18,10,2,59,51,43,35,27,19,11,3,60,52,44,36,63,55,47,39,31,23,15,7,62,54,46,38,30,22,14,6,61,53,45,37,29,21,13,5,28,20,12,4],L=[14,17,11,24,1,5,3,28,15,6,21,10,23,19,12,4,26,8,16,7,27,20,13,2,41,52,31,37,47,55,30,40,51,45,33,48,44,49,39,56,34,53,46,42,50,36,29,32],z=[1,2,4,6,8,10,12,14,15,17,19,21,23,25,27,28],x=[{0:8421888,268435456:32768,536870912:8421378,805306368:2,1073741824:512,1342177280:8421890,1610612736:8389122,1879048192:8388608,2147483648:514,2415919104:8389120,2684354560:33280,2952790016:8421376,3221225472:32770,3489660928:8388610,3758096384:0,4026531840:33282,134217728:0,402653184:8421890,671088640:33282,939524096:32768,1207959552:8421888,1476395008:512,1744830464:8421378,2013265920:2,2281701376:8389120,2550136832:33280,2818572288:8421376,3087007744:8389122,3355443200:8388610,3623878656:32770,3892314112:514,4160749568:8388608,1:32768,268435457:2,536870913:8421888,805306369:8388608,1073741825:8421378,1342177281:33280,1610612737:512,1879048193:8389122,2147483649:8421890,2415919105:8421376,2684354561:8388610,2952790017:33282,3221225473:514,3489660929:8389120,3758096385:32770,4026531841:0,134217729:8421890,402653185:8421376,671088641:8388608,939524097:512,1207959553:32768,1476395009:8388610,1744830465:2,2013265921:33282,2281701377:32770,2550136833:8389122,2818572289:514,3087007745:8421888,3355443201:8389120,3623878657:0,3892314113:33280,4160749569:8421378},{0:1074282512,16777216:16384,33554432:524288,50331648:1074266128,67108864:1073741840,83886080:1074282496,100663296:1073758208,117440512:16,134217728:540672,150994944:1073758224,167772160:1073741824,184549376:540688,201326592:524304,218103808:0,234881024:16400,251658240:1074266112,8388608:1073758208,25165824:540688,41943040:16,58720256:1073758224,75497472:1074282512,92274688:1073741824,109051904:524288,125829120:1074266128,142606336:524304,159383552:0,176160768:16384,192937984:1074266112,209715200:1073741840,226492416:540672,243269632:1074282496,260046848:16400,268435456:0,285212672:1074266128,301989888:1073758224,318767104:1074282496,335544320:1074266112,352321536:16,369098752:540688,385875968:16384,402653184:16400,419430400:524288,436207616:524304,452984832:1073741840,469762048:540672,486539264:1073758208,503316480:1073741824,520093696:1074282512,276824064:540688,293601280:524288,310378496:1074266112,327155712:16384,343932928:1073758208,360710144:1074282512,377487360:16,394264576:1073741824,411041792:1074282496,427819008:1073741840,444596224:1073758224,461373440:524304,478150656:0,494927872:16400,511705088:1074266128,528482304:540672},{0:260,1048576:0,2097152:67109120,3145728:65796,4194304:65540,5242880:67108868,6291456:67174660,7340032:67174400,8388608:67108864,9437184:67174656,10485760:65792,11534336:67174404,12582912:67109124,13631488:65536,14680064:4,15728640:256,524288:67174656,1572864:67174404,2621440:0,3670016:67109120,4718592:67108868,5767168:65536,6815744:65540,7864320:260,8912896:4,9961472:256,11010048:67174400,12058624:65796,13107200:65792,14155776:67109124,15204352:67174660,16252928:67108864,16777216:67174656,17825792:65540,18874368:65536,19922944:67109120,20971520:256,22020096:67174660,23068672:67108868,24117248:0,25165824:67109124,26214400:67108864,27262976:4,28311552:65792,29360128:67174400,30408704:260,31457280:65796,32505856:67174404,17301504:67108864,18350080:260,19398656:67174656,20447232:0,21495808:65540,22544384:67109120,23592960:256,24641536:67174404,25690112:65536,26738688:67174660,27787264:65796,28835840:67108868,29884416:67109124,30932992:67174400,31981568:4,33030144:65792},{0:2151682048,65536:2147487808,131072:4198464,196608:2151677952,262144:0,327680:4198400,393216:2147483712,458752:4194368,524288:2147483648,589824:4194304,655360:64,720896:2147487744,786432:2151678016,851968:4160,917504:4096,983040:2151682112,32768:2147487808,98304:64,163840:2151678016,229376:2147487744,294912:4198400,360448:2151682112,425984:0,491520:2151677952,557056:4096,622592:2151682048,688128:4194304,753664:4160,819200:2147483648,884736:4194368,950272:4198464,1015808:2147483712,1048576:4194368,1114112:4198400,1179648:2147483712,1245184:0,1310720:4160,1376256:2151678016,1441792:2151682048,1507328:2147487808,1572864:2151682112,1638400:2147483648,1703936:2151677952,1769472:4198464,1835008:2147487744,1900544:4194304,1966080:64,2031616:4096,1081344:2151677952,1146880:2151682112,1212416:0,1277952:4198400,1343488:4194368,1409024:2147483648,1474560:2147487808,1540096:64,1605632:2147483712,1671168:4096,1736704:2147487744,1802240:2151678016,1867776:4160,1933312:2151682048,1998848:4194304,2064384:4198464},{0:128,4096:17039360,8192:262144,12288:536870912,16384:537133184,20480:16777344,24576:553648256,28672:262272,32768:16777216,36864:537133056,40960:536871040,45056:553910400,49152:553910272,53248:0,57344:17039488,61440:553648128,2048:17039488,6144:553648256,10240:128,14336:17039360,18432:262144,22528:537133184,26624:553910272,30720:536870912,34816:537133056,38912:0,43008:553910400,47104:16777344,51200:536871040,55296:553648128,59392:16777216,63488:262272,65536:262144,69632:128,73728:536870912,77824:553648256,81920:16777344,86016:553910272,90112:537133184,94208:16777216,98304:553910400,102400:553648128,106496:17039360,110592:537133056,114688:262272,118784:536871040,122880:0,126976:17039488,67584:553648256,71680:16777216,75776:17039360,79872:537133184,83968:536870912,88064:17039488,92160:128,96256:553910272,100352:262272,104448:553910400,108544:0,112640:553648128,116736:16777344,120832:262144,124928:537133056,129024:536871040},{0:268435464,256:8192,512:270532608,768:270540808,1024:268443648,1280:2097152,1536:2097160,1792:268435456,2048:0,2304:268443656,2560:2105344,2816:8,3072:270532616,3328:2105352,3584:8200,3840:270540800,128:270532608,384:270540808,640:8,896:2097152,1152:2105352,1408:268435464,1664:268443648,1920:8200,2176:2097160,2432:8192,2688:268443656,2944:270532616,3200:0,3456:270540800,3712:2105344,3968:268435456,4096:268443648,4352:270532616,4608:270540808,4864:8200,5120:2097152,5376:268435456,5632:268435464,5888:2105344,6144:2105352,6400:0,6656:8,6912:270532608,7168:8192,7424:268443656,7680:270540800,7936:2097160,4224:8,4480:2105344,4736:2097152,4992:268435464,5248:268443648,5504:8200,5760:270540808,6016:270532608,6272:270540800,6528:270532616,6784:8192,7040:2105352,7296:2097160,7552:0,7808:268435456,8064:268443656},{0:1048576,16:33555457,32:1024,48:1049601,64:34604033,80:0,96:1,112:34603009,128:33555456,144:1048577,160:33554433,176:34604032,192:34603008,208:1025,224:1049600,240:33554432,8:34603009,24:0,40:33555457,56:34604032,72:1048576,88:33554433,104:33554432,120:1025,136:1049601,152:33555456,168:34603008,184:1048577,200:1024,216:34604033,232:1,248:1049600,256:33554432,272:1048576,288:33555457,304:34603009,320:1048577,336:33555456,352:34604032,368:1049601,384:1025,400:34604033,416:1049600,432:1,448:0,464:34603008,480:33554433,496:1024,264:1049600,280:33555457,296:34603009,312:1,328:33554432,344:1048576,360:1025,376:34604032,392:33554433,408:34603008,424:0,440:34604033,456:1049601,472:1024,488:33555456,504:1048577},{0:134219808,1:131072,2:134217728,3:32,4:131104,5:134350880,6:134350848,7:2048,8:134348800,9:134219776,10:133120,11:134348832,12:2080,13:0,14:134217760,15:133152,2147483648:2048,2147483649:134350880,2147483650:134219808,2147483651:134217728,2147483652:134348800,2147483653:133120,2147483654:133152,2147483655:32,2147483656:134217760,2147483657:2080,2147483658:131104,2147483659:134350848,2147483660:0,2147483661:134348832,2147483662:134219776,2147483663:131072,16:133152,17:134350848,18:32,19:2048,20:134219776,21:134217760,22:134348832,23:131072,24:0,25:131104,26:134348800,27:134219808,28:134350880,29:133120,30:2080,31:134217728,2147483664:131072,2147483665:2048,2147483666:134348832,2147483667:133152,2147483668:32,2147483669:134348800,2147483670:134217728,2147483671:134219808,2147483672:134350880,2147483673:134217760,2147483674:134219776,2147483675:0,2147483676:133120,2147483677:2080,2147483678:131104,2147483679:134350848}],S=[4160749569,528482304,33030144,2064384,129024,8064,504,2147483679],B=de.DES=ve.extend({_doReset:function(){for(var ae=this._key.words,M=[],$=0;$<56;$++){var we=ce[$]-1;M[$]=ae[we>>>5]>>>31-we%32&1}for(var he=this._subKeys=[],me=0;me<16;me++){var Ee=he[me]=[],Be=z[me];for($=0;$<24;$++)Ee[$/6|0]|=M[(L[$]-1+Be)%28]<<31-$%6,Ee[4+($/6|0)]|=M[28+(L[$+24]-1+Be)%28]<<31-$%6;for(Ee[0]=Ee[0]<<1|Ee[0]>>>31,$=1;$<7;$++)Ee[$]=Ee[$]>>>4*($-1)+3;Ee[7]=Ee[7]<<5|Ee[7]>>>27}var xe=this._invSubKeys=[];for($=0;$<16;$++)xe[$]=he[15-$]},encryptBlock:function(le,ae){this._doCryptBlock(le,ae,this._subKeys)},decryptBlock:function(le,ae){this._doCryptBlock(le,ae,this._invSubKeys)},_doCryptBlock:function(le,ae,M){this._lBlock=le[ae],this._rBlock=le[ae+1],k.call(this,4,252645135),k.call(this,16,65535),W.call(this,2,858993459),W.call(this,8,16711935),k.call(this,1,1431655765);for(var $=0;$<16;$++){for(var we=M[$],he=this._lBlock,me=this._rBlock,Ee=0,Be=0;Be<8;Be++)Ee|=x[Be][((me^we[Be])&S[Be])>>>0];this._lBlock=me,this._rBlock=he^Ee}var xe=this._lBlock;this._lBlock=this._rBlock,this._rBlock=xe,k.call(this,1,1431655765),W.call(this,8,16711935),W.call(this,2,858993459),k.call(this,16,65535),k.call(this,4,252645135),le[ae]=this._lBlock,le[ae+1]=this._rBlock},keySize:2,ivSize:2,blockSize:2});function k(le,ae){var M=(this._lBlock>>>le^this._rBlock)&ae;this._rBlock^=M,this._lBlock^=M<<le}function W(le,ae){var M=(this._rBlock>>>le^this._lBlock)&ae;this._lBlock^=M,this._rBlock^=M<<le}V.DES=ve._createHelper(B);var H=de.TripleDES=ve.extend({_doReset:function(){var ae=this._key.words;if(2!==ae.length&&4!==ae.length&&ae.length<6)throw new Error("Invalid key length - 3DES requires the key length to be 64, 128, 192 or >192.");var M=ae.slice(0,2),$=ae.length<4?ae.slice(0,2):ae.slice(2,4),we=ae.length<6?ae.slice(0,2):ae.slice(4,6);this._des1=B.createEncryptor(F.create(M)),this._des2=B.createEncryptor(F.create($)),this._des3=B.createEncryptor(F.create(we))},encryptBlock:function(le,ae){this._des1.encryptBlock(le,ae),this._des2.decryptBlock(le,ae),this._des3.encryptBlock(le,ae)},decryptBlock:function(le,ae){this._des3.decryptBlock(le,ae),this._des2.encryptBlock(le,ae),this._des1.decryptBlock(le,ae)},keySize:6,ivSize:2,blockSize:2});V.TripleDES=ve._createHelper(H)}(),E.TripleDES)},501:function(st,Je,oe){var F,ve,de,ce,E;st.exports=(E=oe(656),ve=(F=E.lib).Base,de=F.WordArray,(ce=E.x64={}).Word=ve.extend({init:function(x,S){this.high=x,this.low=S}}),ce.WordArray=ve.extend({init:function(x,S){x=this.words=x||[],this.sigBytes=null!=S?S:8*x.length},toX32:function(){for(var x=this.words,S=x.length,B=[],k=0;k<S;k++){var W=x[k];B.push(W.high),B.push(W.low)}return de.create(B,this.sigBytes)},clone:function(){for(var x=ve.clone.call(this),S=x.words=this.words.slice(0),B=S.length,k=0;k<B;k++)S[k]=S[k].clone();return x}}),E)},32:function(st){st.exports=function(){"use strict";function Je(y,_,C){if("function"==typeof y?y===_:y.has(_))return arguments.length<3?_:C;throw new TypeError("Private element is not present on this object")}function E(y,_){return y.get(Je(y,_))}function V(y,_,C){(function oe(y,_){if(_.has(y))throw new TypeError("Cannot initialize the same private elements twice on an object")})(y,_),_.set(y,C)}const ve={},ce=y=>new Promise(_=>{if(!y)return _();const C=window.scrollX,O=window.scrollY;ve.restoreFocusTimeout=setTimeout(()=>{ve.previousActiveElement instanceof HTMLElement?(ve.previousActiveElement.focus(),ve.previousActiveElement=null):document.body&&document.body.focus(),_()},100),window.scrollTo(C,O)}),L="swal2-",x=["container","shown","height-auto","iosfix","popup","modal","no-backdrop","no-transition","toast","toast-shown","show","hide","close","title","html-container","actions","confirm","deny","cancel","default-outline","footer","icon","icon-content","image","input","file","range","select","radio","checkbox","label","textarea","inputerror","input-label","validation-message","progress-steps","active-progress-step","progress-step","progress-step-line","loader","loading","styled","top","top-start","top-end","top-left","top-right","center","center-start","center-end","center-left","center-right","bottom","bottom-start","bottom-end","bottom-left","bottom-right","grow-row","grow-column","grow-fullscreen","rtl","timer-progress-bar","timer-progress-bar-container","scrollbar-measure","icon-success","icon-warning","icon-info","icon-question","icon-error"].reduce((y,_)=>(y[_]=L+_,y),{}),B=["success","warning","info","question","error"].reduce((y,_)=>(y[_]=L+_,y),{}),k="SweetAlert2:",W=y=>y.charAt(0).toUpperCase()+y.slice(1),H=y=>{console.warn(`${k} ${"object"==typeof y?y.join(" "):y}`)},le=y=>{console.error(`${k} ${y}`)},ae=[],$=function(y){let _=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;(y=>{ae.includes(y)||(ae.push(y),H(y))})(`"${y}" is deprecated and will be removed in the next major release.${_?` Use "${_}" instead.`:""}`)},we=y=>"function"==typeof y?y():y,he=y=>y&&"function"==typeof y.toPromise,me=y=>he(y)?y.toPromise():Promise.resolve(y),Ee=y=>y&&Promise.resolve(y)===y,Be=()=>document.body.querySelector(`.${x.container}`),xe=y=>{const _=Be();return _?_.querySelector(y):null},Le=y=>xe(`.${y}`),Ve=()=>Le(x.popup),Y=()=>Le(x.icon),tt=()=>Le(x.title),Ue=()=>Le(x["html-container"]),bt=()=>Le(x.image),ht=()=>Le(x["progress-steps"]),Rt=()=>Le(x["validation-message"]),Ot=()=>xe(`.${x.actions} .${x.confirm}`),U=()=>xe(`.${x.actions} .${x.cancel}`),q=()=>xe(`.${x.actions} .${x.deny}`),X=()=>xe(`.${x.loader}`),je=()=>Le(x.actions),Re=()=>Le(x.footer),Xe=()=>Le(x["timer-progress-bar"]),lt=()=>Le(x.close),Et=()=>{const y=Ve();if(!y)return[];const _=y.querySelectorAll('[tabindex]:not([tabindex="-1"]):not([tabindex="0"])'),C=Array.from(_).sort((gt,en)=>{const fn=parseInt(gt.getAttribute("tabindex")||"0"),lr=parseInt(en.getAttribute("tabindex")||"0");return fn>lr?1:fn<lr?-1:0}),O=y.querySelectorAll('\n  a[href],\n  area[href],\n  input:not([disabled]),\n  select:not([disabled]),\n  textarea:not([disabled]),\n  button:not([disabled]),\n  iframe,\n  object,\n  embed,\n  [tabindex="0"],\n  [contenteditable],\n  audio[controls],\n  video[controls],\n  summary\n'),Te=Array.from(O).filter(gt=>"-1"!==gt.getAttribute("tabindex"));return[...new Set(C.concat(Te))].filter(gt=>wn(gt))},Qt=()=>An(document.body,x.shown)&&!An(document.body,x["toast-shown"])&&!An(document.body,x["no-backdrop"]),mn=()=>{const y=Ve();return!!y&&An(y,x.toast)},Wt=(y,_)=>{if(y.textContent="",_){const O=(new DOMParser).parseFromString(_,"text/html"),Te=O.querySelector("head");Te&&Array.from(Te.childNodes).forEach(en=>{y.appendChild(en)});const gt=O.querySelector("body");gt&&Array.from(gt.childNodes).forEach(en=>{en instanceof HTMLVideoElement||en instanceof HTMLAudioElement?y.appendChild(en.cloneNode(!0)):y.appendChild(en)})}},An=(y,_)=>{if(!_)return!1;const C=_.split(/\s+/);for(let O=0;O<C.length;O++)if(!y.classList.contains(C[O]))return!1;return!0},zt=(y,_,C)=>{if(((y,_)=>{Array.from(y.classList).forEach(C=>{!Object.values(x).includes(C)&&!Object.values(B).includes(C)&&!Object.values(_.showClass||{}).includes(C)&&y.classList.remove(C)})})(y,_),!_.customClass)return;const O=_.customClass[C];if(O){if("string"!=typeof O&&!O.forEach)return void H(`Invalid type of customClass.${C}! Expected string or iterable object, got "${typeof O}"`);xt(y,O)}},tr=(y,_)=>{if(!_)return null;switch(_){case"select":case"textarea":case"file":return y.querySelector(`.${x.popup} > .${x[_]}`);case"checkbox":return y.querySelector(`.${x.popup} > .${x.checkbox} input`);case"radio":return y.querySelector(`.${x.popup} > .${x.radio} input:checked`)||y.querySelector(`.${x.popup} > .${x.radio} input:first-child`);case"range":return y.querySelector(`.${x.popup} > .${x.range} input`);default:return y.querySelector(`.${x.popup} > .${x.input}`)}},Ji=y=>{if(y.focus(),"file"!==y.type){const _=y.value;y.value="",y.value=_}},bi=(y,_,C)=>{!y||!_||("string"==typeof _&&(_=_.split(/\s+/).filter(Boolean)),_.forEach(O=>{Array.isArray(y)?y.forEach(Te=>{C?Te.classList.add(O):Te.classList.remove(O)}):C?y.classList.add(O):y.classList.remove(O)}))},xt=(y,_)=>{bi(y,_,!0)},dn=(y,_)=>{bi(y,_,!1)},On=(y,_)=>{const C=Array.from(y.children);for(let O=0;O<C.length;O++){const Te=C[O];if(Te instanceof HTMLElement&&An(Te,_))return Te}},Nr=(y,_,C)=>{C===`${parseInt(C)}`&&(C=parseInt(C)),C||0===parseInt(C)?y.style.setProperty(_,"number"==typeof C?`${C}px`:C):y.style.removeProperty(_)},yn=function(y){y&&(y.style.display=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"flex")},Tn=y=>{y&&(y.style.display="none")},nr=function(y){let _=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"block";y&&new MutationObserver(()=>{Fn(y,y.innerHTML,_)}).observe(y,{childList:!0,subtree:!0})},ti=(y,_,C,O)=>{const Te=y.querySelector(_);Te&&Te.style.setProperty(C,O)},Fn=function(y,_){_?yn(y,arguments.length>2&&void 0!==arguments[2]?arguments[2]:"flex"):Tn(y)},wn=y=>!(!y||!(y.offsetWidth||y.offsetHeight||y.getClientRects().length)),kr=y=>y.scrollHeight>y.clientHeight,Ai=y=>{const _=window.getComputedStyle(y),C=parseFloat(_.getPropertyValue("animation-duration")||"0"),O=parseFloat(_.getPropertyValue("transition-duration")||"0");return C>0||O>0},Ci=function(y){let _=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const C=Xe();C&&wn(C)&&(_&&(C.style.transition="none",C.style.width="100%"),setTimeout(()=>{C.style.transition=`width ${y/1e3}s linear`,C.style.width="0%"},10))},Li=()=>typeof window>"u"||typeof document>"u",Or=`\n <div aria-labelledby="${x.title}" aria-describedby="${x["html-container"]}" class="${x.popup}" tabindex="-1">\n   <button type="button" class="${x.close}"></button>\n   <ul class="${x["progress-steps"]}"></ul>\n   <div class="${x.icon}"></div>\n   <img class="${x.image}" />\n   <h2 class="${x.title}" id="${x.title}"></h2>\n   <div class="${x["html-container"]}" id="${x["html-container"]}"></div>\n   <input class="${x.input}" id="${x.input}" />\n   <input type="file" class="${x.file}" />\n   <div class="${x.range}">\n     <input type="range" />\n     <output></output>\n   </div>\n   <select class="${x.select}" id="${x.select}"></select>\n   <div class="${x.radio}"></div>\n   <label class="${x.checkbox}">\n     <input type="checkbox" id="${x.checkbox}" />\n     <span class="${x.label}"></span>\n   </label>\n   <textarea class="${x.textarea}" id="${x.textarea}"></textarea>\n   <div class="${x["validation-message"]}" id="${x["validation-message"]}"></div>\n   <div class="${x.actions}">\n     <div class="${x.loader}"></div>\n     <button type="button" class="${x.confirm}"></button>\n     <button type="button" class="${x.deny}"></button>\n     <button type="button" class="${x.cancel}"></button>\n   </div>\n   <div class="${x.footer}"></div>\n   <div class="${x["timer-progress-bar-container"]}">\n     <div class="${x["timer-progress-bar"]}"></div>\n   </div>\n </div>\n`.replace(/(^|\n)\s*/g,""),Vn=()=>{ve.currentInstance.resetValidationMessage()},so=y=>{const _=(()=>{const y=Be();return!!y&&(y.remove(),dn([document.documentElement,document.body],[x["no-backdrop"],x["toast-shown"],x["has-column"]]),!0)})();if(Li())return void le("SweetAlert2 requires document to initialize");const C=document.createElement("div");C.className=x.container,_&&xt(C,x["no-transition"]),Wt(C,Or);const O=(y=>"string"==typeof y?document.querySelector(y):y)(y.target);O.appendChild(C),(y=>{const _=Ve();_.setAttribute("role",y.toast?"alert":"dialog"),_.setAttribute("aria-live",y.toast?"polite":"assertive"),y.toast||_.setAttribute("aria-modal","true")})(y),(y=>{"rtl"===window.getComputedStyle(y).direction&&xt(Be(),x.rtl)})(O),(()=>{const y=Ve(),_=On(y,x.input),C=On(y,x.file),O=y.querySelector(`.${x.range} input`),Te=y.querySelector(`.${x.range} output`),gt=On(y,x.select),en=y.querySelector(`.${x.checkbox} input`),fn=On(y,x.textarea);_.oninput=Vn,C.onchange=Vn,gt.onchange=Vn,en.onchange=Vn,fn.oninput=Vn,O.oninput=()=>{Vn(),Te.value=O.value},O.onchange=()=>{Vn(),Te.value=O.value}})()},rn=(y,_)=>{y instanceof HTMLElement?_.appendChild(y):"object"==typeof y?oo(y,_):y&&Wt(_,y)},oo=(y,_)=>{y.jquery?ao(_,y):Wt(_,y.toString())},ao=(y,_)=>{if(y.textContent="",0 in _)for(let C=0;C in _;C++)y.appendChild(_[C].cloneNode(!0));else y.appendChild(_.cloneNode(!0))},ni=(()=>{if(Li())return!1;const y=document.createElement("div");return typeof y.style.webkitAnimation<"u"?"webkitAnimationEnd":typeof y.style.animation<"u"&&"animationend"})(),fi=(y,_)=>{const C=je(),O=X();!C||!O||(_.showConfirmButton||_.showDenyButton||_.showCancelButton?yn(C):Tn(C),zt(C,_,"actions"),function Q(y,_,C){const O=Ot(),Te=q(),gt=U();!O||!Te||!gt||(Z(O,"confirm",C),Z(Te,"deny",C),Z(gt,"cancel",C),function G(y,_,C,O){O.buttonsStyling?(xt([y,_,C],x.styled),O.confirmButtonColor&&(y.style.backgroundColor=O.confirmButtonColor,xt(y,x["default-outline"])),O.denyButtonColor&&(_.style.backgroundColor=O.denyButtonColor,xt(_,x["default-outline"])),O.cancelButtonColor&&(C.style.backgroundColor=O.cancelButtonColor,xt(C,x["default-outline"]))):dn([y,_,C],x.styled)}(O,Te,gt,C),C.reverseButtons&&(C.toast?(y.insertBefore(gt,O),y.insertBefore(Te,O)):(y.insertBefore(gt,_),y.insertBefore(Te,_),y.insertBefore(O,_))))}(C,O,_),Wt(O,_.loaderHtml||""),zt(O,_,"loader"))};function Z(y,_,C){const O=W(_);Fn(y,C[`show${O}Button`],"inline-block"),Wt(y,C[`${_}ButtonText`]||""),y.setAttribute("aria-label",C[`${_}ButtonAriaLabel`]||""),y.className=x[_],zt(y,C,`${_}Button`)}const fe=(y,_)=>{const C=Be();C&&(function rt(y,_){"string"==typeof _?y.style.background=_:_||xt([document.documentElement,document.body],x["no-backdrop"])}(C,_.backdrop),function Dt(y,_){_&&(_ in x?xt(y,x[_]):(H('The "position" parameter is not valid, defaulting to "center"'),xt(y,x.center)))}(C,_.position),function mt(y,_){_&&xt(y,x[`grow-${_}`])}(C,_.grow),zt(C,_,"container"))};var Ut={innerParams:new WeakMap,domCache:new WeakMap};const Ln=["input","file","range","select","radio","checkbox","textarea"],Xt=y=>{if(!y.input)return;if(!hn[y.input])return void le(`Unexpected type of input! Expected ${Object.keys(hn).join(" | ")}, got "${y.input}"`);const _=xi(y.input);if(!_)return;const C=hn[y.input](_,y);yn(_),y.inputAutoFocus&&setTimeout(()=>{Ji(C)})},ws=(y,_)=>{const C=Ve();if(!C)return;const O=tr(C,y);if(O){(y=>{for(let _=0;_<y.attributes.length;_++){const C=y.attributes[_].name;["id","type","value","style"].includes(C)||y.removeAttribute(C)}})(O);for(const Te in _)O.setAttribute(Te,_[Te])}},La=y=>{if(!y.input)return;const _=xi(y.input);_&&zt(_,y,"input")},Yo=(y,_)=>{!y.placeholder&&_.inputPlaceholder&&(y.placeholder=_.inputPlaceholder)},Bi=(y,_,C)=>{if(C.inputLabel){const O=document.createElement("label"),Te=x["input-label"];O.setAttribute("for",y.id),O.className=Te,"object"==typeof C.customClass&&xt(O,C.customClass.inputLabel),O.innerText=C.inputLabel,_.insertAdjacentElement("beforebegin",O)}},xi=y=>{const _=Ve();if(_)return On(_,x[y]||x.input)},Di=(y,_)=>{["string","number"].includes(typeof _)?y.value=`${_}`:Ee(_)||H(`Unexpected type of inputValue! Expected "string", "number" or "Promise", got "${typeof _}"`)},hn={};hn.text=hn.email=hn.password=hn.number=hn.tel=hn.url=hn.search=hn.date=hn["datetime-local"]=hn.time=hn.week=hn.month=(y,_)=>(Di(y,_.inputValue),Bi(y,y,_),Yo(y,_),y.type=_.input,y),hn.file=(y,_)=>(Bi(y,y,_),Yo(y,_),y),hn.range=(y,_)=>{const C=y.querySelector("input"),O=y.querySelector("output");return Di(C,_.inputValue),C.type=_.input,Di(O,_.inputValue),Bi(C,y,_),y},hn.select=(y,_)=>{if(y.textContent="",_.inputPlaceholder){const C=document.createElement("option");Wt(C,_.inputPlaceholder),C.value="",C.disabled=!0,C.selected=!0,y.appendChild(C)}return Bi(y,y,_),y},hn.radio=y=>(y.textContent="",y),hn.checkbox=(y,_)=>{const C=tr(Ve(),"checkbox");C.value="1",C.checked=!!_.inputValue;const O=y.querySelector("span");return Wt(O,_.inputPlaceholder||_.inputLabel),C},hn.textarea=(y,_)=>{Di(y,_.inputValue),Yo(y,_),Bi(y,y,_);return setTimeout(()=>{if("MutationObserver"in window){const O=parseInt(window.getComputedStyle(Ve()).width);new MutationObserver(()=>{if(!document.body.contains(y))return;const gt=y.offsetWidth+(O=>parseInt(window.getComputedStyle(O).marginLeft)+parseInt(window.getComputedStyle(O).marginRight))(y);gt>O?Ve().style.width=`${gt}px`:Nr(Ve(),"width",_.width)}).observe(y,{attributes:!0,attributeFilter:["style"]})}}),y};const De=(y,_)=>{const C=Ue();C&&(nr(C),zt(C,_,"htmlContainer"),_.html?(rn(_.html,C),yn(C,"block")):_.text?(C.textContent=_.text,yn(C,"block")):Tn(C),((y,_)=>{const C=Ve();if(!C)return;const O=Ut.innerParams.get(y),Te=!O||_.input!==O.input;Ln.forEach(gt=>{const en=On(C,x[gt]);en&&(ws(gt,_.inputAttributes),en.className=x[gt],Te&&Tn(en))}),_.input&&(Te&&Xt(_),La(_))})(y,_))},it=(y,_)=>{for(const[C,O]of Object.entries(B))_.icon!==C&&dn(y,O);xt(y,_.icon&&B[_.icon]),Pt(y,_),Bt(),zt(y,_,"icon")},Bt=()=>{const y=Ve();if(!y)return;const _=window.getComputedStyle(y).getPropertyValue("background-color"),C=y.querySelectorAll("[class^=swal2-success-circular-line], .swal2-success-fix");for(let O=0;O<C.length;O++)C[O].style.backgroundColor=_},Mn=(y,_)=>{if(!_.icon&&!_.iconHtml)return;let C=y.innerHTML,O="";_.iconHtml?O=pi(_.iconHtml):"success"===_.icon?(O='\n  <div class="swal2-success-circular-line-left"></div>\n  <span class="swal2-success-line-tip"></span> <span class="swal2-success-line-long"></span>\n  <div class="swal2-success-ring"></div> <div class="swal2-success-fix"></div>\n  <div class="swal2-success-circular-line-right"></div>\n',C=C.replace(/ style=".*?"/g,"")):"error"===_.icon?O='\n  <span class="swal2-x-mark">\n    <span class="swal2-x-mark-line-left"></span>\n    <span class="swal2-x-mark-line-right"></span>\n  </span>\n':_.icon&&(O=pi({question:"?",warning:"!",info:"i"}[_.icon])),C.trim()!==O.trim()&&Wt(y,O)},Pt=(y,_)=>{if(_.iconColor){y.style.color=_.iconColor,y.style.borderColor=_.iconColor;for(const C of[".swal2-success-line-tip",".swal2-success-line-long",".swal2-x-mark-line-left",".swal2-x-mark-line-right"])ti(y,C,"background-color",_.iconColor);ti(y,".swal2-success-ring","border-color",_.iconColor)}},pi=y=>`<div class="${x["icon-content"]}">${y}</div>`,Vp=(y,_)=>{const C=_.showClass||{};y.className=`${x.popup} ${wn(y)?C.popup:""}`,_.toast?(xt([document.documentElement,document.body],x["toast-shown"]),xt(y,x.toast)):xt(y,x.modal),zt(y,_,"popup"),"string"==typeof _.customClass&&xt(y,_.customClass),_.icon&&xt(y,x[`icon-${_.icon}`])},Nn=y=>{const _=document.createElement("li");return xt(_,x["progress-step"]),Wt(_,y),_},Mt=y=>{const _=document.createElement("li");return xt(_,x["progress-step-line"]),y.progressStepsDistance&&Nr(_,"width",y.progressStepsDistance),_},gi=(y,_)=>{((y,_)=>{const C=Be(),O=Ve();if(C&&O){if(_.toast){Nr(C,"width",_.width),O.style.width="100%";const Te=X();Te&&O.insertBefore(Te,Y())}else Nr(O,"width",_.width);Nr(O,"padding",_.padding),_.color&&(O.style.color=_.color),_.background&&(O.style.background=_.background),Tn(Rt()),Vp(O,_)}})(0,_),fe(0,_),((y,_)=>{const C=ht();if(!C)return;const{progressSteps:O,currentProgressStep:Te}=_;O&&0!==O.length&&void 0!==Te?(yn(C),C.textContent="",Te>=O.length&&H("Invalid currentProgressStep parameter, it should be less than progressSteps.length (currentProgressStep like JS arrays starts from 0)"),O.forEach((gt,en)=>{const fn=Nn(gt);if(C.appendChild(fn),en===Te&&xt(fn,x["active-progress-step"]),en!==O.length-1){const lr=Mt(_);C.appendChild(lr)}})):Tn(C)})(0,_),((y,_)=>{const C=Ut.innerParams.get(y),O=Y();if(O){if(C&&_.icon===C.icon)return Mn(O,_),void it(O,_);if(!_.icon&&!_.iconHtml)return void Tn(O);if(_.icon&&-1===Object.keys(B).indexOf(_.icon))return le(`Unknown icon! Expected "success", "error", "warning", "info" or "question", got "${_.icon}"`),void Tn(O);yn(O),Mn(O,_),it(O,_),xt(O,_.showClass&&_.showClass.icon)}})(y,_),((y,_)=>{const C=bt();if(C){if(!_.imageUrl)return void Tn(C);yn(C,""),C.setAttribute("src",_.imageUrl),C.setAttribute("alt",_.imageAlt||""),Nr(C,"width",_.imageWidth),Nr(C,"height",_.imageHeight),C.className=x.image,zt(C,_,"image")}})(0,_),((y,_)=>{const C=tt();C&&(nr(C),Fn(C,_.title||_.titleText,"block"),_.title&&rn(_.title,C),_.titleText&&(C.innerText=_.titleText),zt(C,_,"title"))})(0,_),((y,_)=>{const C=lt();C&&(Wt(C,_.closeButtonHtml||""),zt(C,_,"closeButton"),Fn(C,_.showCloseButton),C.setAttribute("aria-label",_.closeButtonAriaLabel||""))})(0,_),De(y,_),fi(0,_),((y,_)=>{const C=Re();C&&(nr(C),Fn(C,_.footer,"block"),_.footer&&rn(_.footer,C),zt(C,_,"footer"))})(0,_);const C=Ve();"function"==typeof _.didRender&&C&&_.didRender(C),ve.eventEmitter.emit("didRender",C)},dc=()=>{var y;return null===(y=Ot())||void 0===y?void 0:y.click()},Xo=Object.freeze({cancel:"cancel",backdrop:"backdrop",close:"close",esc:"esc",timer:"timer"}),Wd=y=>{y.keydownTarget&&y.keydownHandlerAdded&&(y.keydownTarget.removeEventListener("keydown",y.keydownHandler,{capture:y.keydownListenerCapture}),y.keydownHandlerAdded=!1)},Zo=(y,_)=>{var C;const O=Et();if(O.length)return(y+=_)===O.length?y=0:-1===y&&(y=O.length-1),void O[y].focus();null===(C=Ve())||void 0===C||C.focus()},jl=["ArrowRight","ArrowDown"],py=["ArrowLeft","ArrowUp"],hc=(y,_,C)=>{y&&(_.isComposing||229===_.keyCode||(y.stopKeydownPropagation&&_.stopPropagation(),"Enter"===_.key?gy(_,y):"Tab"===_.key?Ti(_):[...jl,...py].includes(_.key)?Nt(_.key):"Escape"===_.key&&Lp(_,y,C)))},gy=(y,_)=>{if(!we(_.allowEnterKey))return;const C=tr(Ve(),_.input);if(y.target&&C&&y.target instanceof HTMLElement&&y.target.outerHTML===C.outerHTML){if(["textarea","file"].includes(_.input))return;dc(),y.preventDefault()}},Ti=y=>{const _=y.target,C=Et();let O=-1;for(let Te=0;Te<C.length;Te++)if(_===C[Te]){O=Te;break}Zo(O,y.shiftKey?-1:1),y.stopPropagation(),y.preventDefault()},Nt=y=>{const _=je(),C=Ot(),O=q(),Te=U();if(!(_&&C&&O&&Te))return;if(document.activeElement instanceof HTMLElement&&![C,O,Te].includes(document.activeElement))return;const en=jl.includes(y)?"nextElementSibling":"previousElementSibling";let fn=document.activeElement;if(fn){for(let lr=0;lr<_.children.length;lr++){if(fn=fn[en],!fn)return;if(fn instanceof HTMLButtonElement&&wn(fn))break}fn instanceof HTMLButtonElement&&fn.focus()}},Lp=(y,_,C)=>{we(_.allowEscapeKey)&&(y.preventDefault(),C(Xo.esc))};var Ua={swalPromiseResolve:new WeakMap,swalPromiseReject:new WeakMap};const Up=()=>{Array.from(document.body.children).forEach(_=>{_.hasAttribute("data-previous-aria-hidden")?(_.setAttribute("aria-hidden",_.getAttribute("data-previous-aria-hidden")||""),_.removeAttribute("data-previous-aria-hidden")):_.removeAttribute("aria-hidden")})},Jo=typeof window<"u"&&!!window.GestureEvent,Qd=()=>{const y=Be();if(!y)return;let _;y.ontouchstart=C=>{_=ri(C)},y.ontouchmove=C=>{_&&(C.preventDefault(),C.stopPropagation())}},ri=y=>{const _=y.target,C=Be(),O=Ue();return!(!C||!O||ea(y)||jp(y)||_!==C&&(kr(C)||!(_ instanceof HTMLElement)||"INPUT"===_.tagName||"TEXTAREA"===_.tagName||kr(O)&&O.contains(_)))},ea=y=>y.touches&&y.touches.length&&"stylus"===y.touches[0].touchType,jp=y=>y.touches&&y.touches.length>1;let es=null;const zl=y=>{null===es&&(document.body.scrollHeight>window.innerHeight||"scroll"===y)&&(es=parseInt(window.getComputedStyle(document.body).getPropertyValue("padding-right")),document.body.style.paddingRight=`${es+(()=>{const y=document.createElement("div");y.className=x["scrollbar-measure"],document.body.appendChild(y);const _=y.getBoundingClientRect().width-y.clientWidth;return document.body.removeChild(y),_})()}px`)};function ta(y,_,C,O){mn()?yc(y,O):(ce(C).then(()=>yc(y,O)),Wd(ve)),Jo?(_.setAttribute("style","display:none !important"),_.removeAttribute("class"),_.innerHTML=""):_.remove(),Qt()&&(null!==es&&(document.body.style.paddingRight=`${es}px`,es=null),(()=>{if(An(document.body,x.iosfix)){const y=parseInt(document.body.style.top,10);dn(document.body,x.iosfix),document.body.style.top="",document.body.scrollTop=-1*y}})(),Up()),function fc(){dn([document.documentElement,document.body],[x.shown,x["height-auto"],x["no-backdrop"],x["toast-shown"]])}()}function Qe(y){y=pc(y);const _=Ua.swalPromiseResolve.get(this),C=$a(this);this.isAwaitingPromise?y.isDismissed||(uo(this),_(y)):C&&_(y)}const $a=y=>{const _=Ve();if(!_)return!1;const C=Ut.innerParams.get(y);if(!C||An(_,C.hideClass.popup))return!1;dn(_,C.showClass.popup),xt(_,C.hideClass.popup);const O=Be();return dn(O,C.showClass.backdrop),xt(O,C.hideClass.backdrop),gc(y,_,C),!0};function Hl(y){const _=Ua.swalPromiseReject.get(this);uo(this),_&&_(y)}const uo=y=>{y.isAwaitingPromise&&(delete y.isAwaitingPromise,Ut.innerParams.get(y)||y._destroy())},pc=y=>typeof y>"u"?{isConfirmed:!1,isDenied:!1,isDismissed:!0}:Object.assign({isConfirmed:!1,isDenied:!1,isDismissed:!1},y),gc=(y,_,C)=>{const O=Be(),Te=ni&&Ai(_);"function"==typeof C.willClose&&C.willClose(_),ve.eventEmitter.emit("willClose",_),Te?mc(y,_,O,C.returnFocus,C.didClose):ta(y,O,C.returnFocus,C.didClose)},mc=(y,_,C,O,Te)=>{ni&&(ve.swalCloseEventFinishedCallback=ta.bind(null,y,C,O,Te),_.addEventListener(ni,function(gt){gt.target===_&&(ve.swalCloseEventFinishedCallback(),delete ve.swalCloseEventFinishedCallback)}))},yc=(y,_)=>{setTimeout(()=>{"function"==typeof _&&_.bind(y.params)(),ve.eventEmitter.emit("didClose"),y._destroy&&y._destroy()})},za=y=>{let _=Ve();if(_||new nl,_=Ve(),!_)return;const C=X();mn()?Tn(Y()):Yd(_,y),yn(C),_.setAttribute("data-loading","true"),_.setAttribute("aria-busy","true"),_.focus()},Yd=(y,_)=>{const C=je(),O=X();!C||!O||(!_&&wn(Ot())&&(_=Ot()),yn(C),_&&(Tn(_),O.setAttribute("data-button-to-replace",_.className),C.insertBefore(O,_)),xt([y,C],x.loading))},Bs=y=>y.checked?1:0,ts=y=>y.checked?y.value:null,qa=y=>y.files&&y.files.length?null!==y.getAttribute("multiple")?y.files:y.files[0]:null,Xd=(y,_)=>{const C=Ve();if(!C)return;const O=Te=>{"select"===_.input?function Ga(y,_,C){const O=On(y,x.select);if(!O)return;const Te=(gt,en,fn)=>{const lr=document.createElement("option");lr.value=fn,Wt(lr,en),lr.selected=un(fn,C.inputValue),gt.appendChild(lr)};_.forEach(gt=>{const en=gt[0],fn=gt[1];if(Array.isArray(fn)){const lr=document.createElement("optgroup");lr.label=en,lr.disabled=!1,O.appendChild(lr),fn.forEach(No=>Te(lr,No[1],No[0]))}else Te(O,fn,en)}),O.focus()}(C,Lt(Te),_):"radio"===_.input&&function ql(y,_,C){const O=On(y,x.radio);if(!O)return;_.forEach(gt=>{const en=gt[0],fn=gt[1],lr=document.createElement("input"),No=document.createElement("label");lr.type="radio",lr.name=x.radio,lr.value=en,un(en,C.inputValue)&&(lr.checked=!0);const fh=document.createElement("span");Wt(fh,fn),fh.className=x.label,No.appendChild(lr),No.appendChild(fh),O.appendChild(No)});const Te=O.querySelectorAll("input");Te.length&&Te[0].focus()}(C,Lt(Te),_)};he(_.inputOptions)||Ee(_.inputOptions)?(za(Ot()),me(_.inputOptions).then(Te=>{y.hideLoading(),O(Te)})):"object"==typeof _.inputOptions?O(_.inputOptions):le("Unexpected type of inputOptions! Expected object, Map or Promise, got "+typeof _.inputOptions)},xr=(y,_)=>{const C=y.getInput();C&&(Tn(C),me(_.inputValue).then(O=>{C.value="number"===_.input?`${parseFloat(O)||0}`:`${O}`,yn(C),C.focus(),y.hideLoading()}).catch(O=>{le(`Error in inputValue promise: ${O}`),C.value="",yn(C),C.focus(),y.hideLoading()}))};const Lt=y=>{const _=[];return y instanceof Map?y.forEach((C,O)=>{let Te=C;"object"==typeof Te&&(Te=Lt(Te)),_.push([O,Te])}):Object.keys(y).forEach(C=>{let O=y[C];"object"==typeof O&&(O=Lt(O)),_.push([C,O])}),_},un=(y,_)=>!!_&&_.toString()===y.toString(),Hp=(y,_)=>{const C=Ut.innerParams.get(y);if(!C.input)return void le(`The "input" parameter is needed to be set when using returnInputValueOn${W(_)}`);const O=y.getInput(),Te=((y,_)=>{const C=y.getInput();if(!C)return null;switch(_.input){case"checkbox":return Bs(C);case"radio":return ts(C);case"file":return qa(C);default:return _.inputAutoTrim?C.value.trim():C.value}})(y,C);C.inputValidator?vc(y,Te,_):O&&!O.checkValidity()?(y.enableButtons(),y.showValidationMessage(C.validationMessage||O.validationMessage)):"deny"===_?ns(y,Te):co(y,Te)},vc=(y,_,C)=>{const O=Ut.innerParams.get(y);y.disableInput(),Promise.resolve().then(()=>me(O.inputValidator(_,O.validationMessage))).then(gt=>{y.enableButtons(),y.enableInput(),gt?y.showValidationMessage(gt):"deny"===C?ns(y,_):co(y,_)})},ns=(y,_)=>{const C=Ut.innerParams.get(y||void 0);C.showLoaderOnDeny&&za(q()),C.preDeny?(y.isAwaitingPromise=!0,Promise.resolve().then(()=>me(C.preDeny(_,C.validationMessage))).then(Te=>{!1===Te?(y.hideLoading(),uo(y)):y.close({isDenied:!0,value:typeof Te>"u"?_:Te})}).catch(Te=>Gl(y||void 0,Te))):y.close({isDenied:!0,value:_})},Jt=(y,_)=>{y.close({isConfirmed:!0,value:_})},Gl=(y,_)=>{y.rejectPromise(_)},co=(y,_)=>{const C=Ut.innerParams.get(y||void 0);C.showLoaderOnConfirm&&za(),C.preConfirm?(y.resetValidationMessage(),y.isAwaitingPromise=!0,Promise.resolve().then(()=>me(C.preConfirm(_,C.validationMessage))).then(Te=>{wn(Rt())||!1===Te?(y.hideLoading(),uo(y)):Jt(y,typeof Te>"u"?_:Te)}).catch(Te=>Gl(y||void 0,Te))):Jt(y,_)};function Gr(){const y=Ut.innerParams.get(this);if(!y)return;const _=Ut.domCache.get(this);Tn(_.loader),mn()?y.icon&&yn(Y()):Wl(_),dn([_.popup,_.actions],x.loading),_.popup.removeAttribute("aria-busy"),_.popup.removeAttribute("data-loading"),_.confirmButton.disabled=!1,_.denyButton.disabled=!1,_.cancelButton.disabled=!1}const Wl=y=>{const _=y.popup.getElementsByClassName(y.loader.getAttribute("data-button-to-replace"));_.length?yn(_[0],"inline-block"):!wn(Ot())&&!wn(q())&&!wn(U())&&Tn(y.actions)};function Us(){const y=Ut.innerParams.get(this),_=Ut.domCache.get(this);return _?tr(_.popup,y.input):null}function na(y,_,C){const O=Ut.domCache.get(y);_.forEach(Te=>{O[Te].disabled=C})}function rs(y,_){const C=Ve();if(C&&y)if("radio"===y.type){const O=C.querySelectorAll(`[name="${x.radio}"]`);for(let Te=0;Te<O.length;Te++)O[Te].disabled=_}else y.disabled=_}function Wa(){na(this,["confirmButton","denyButton","cancelButton"],!1)}function ra(){na(this,["confirmButton","denyButton","cancelButton"],!0)}function wc(){rs(this.getInput(),!1)}function Zd(){rs(this.getInput(),!0)}function Mo(y){const _=Ut.domCache.get(this),C=Ut.innerParams.get(this);Wt(_.validationMessage,y),_.validationMessage.className=x["validation-message"],C.customClass&&C.customClass.validationMessage&&xt(_.validationMessage,C.customClass.validationMessage),yn(_.validationMessage);const O=this.getInput();O&&(O.setAttribute("aria-invalid","true"),O.setAttribute("aria-describedby",x["validation-message"]),Ji(O),xt(O,x.inputerror))}function Ec(){const y=Ut.domCache.get(this);y.validationMessage&&Tn(y.validationMessage);const _=this.getInput();_&&(_.removeAttribute("aria-invalid"),_.removeAttribute("aria-describedby"),dn(_,x.inputerror))}const mi={title:"",titleText:"",text:"",html:"",footer:"",icon:void 0,iconColor:void 0,iconHtml:void 0,template:void 0,toast:!1,animation:!0,showClass:{popup:"swal2-show",backdrop:"swal2-backdrop-show",icon:"swal2-icon-show"},hideClass:{popup:"swal2-hide",backdrop:"swal2-backdrop-hide",icon:"swal2-icon-hide"},customClass:{},target:"body",color:void 0,backdrop:!0,heightAuto:!0,allowOutsideClick:!0,allowEscapeKey:!0,allowEnterKey:!0,stopKeydownPropagation:!0,keydownListenerCapture:!1,showConfirmButton:!0,showDenyButton:!1,showCancelButton:!1,preConfirm:void 0,preDeny:void 0,confirmButtonText:"OK",confirmButtonAriaLabel:"",confirmButtonColor:void 0,denyButtonText:"No",denyButtonAriaLabel:"",denyButtonColor:void 0,cancelButtonText:"Cancel",cancelButtonAriaLabel:"",cancelButtonColor:void 0,buttonsStyling:!0,reverseButtons:!1,focusConfirm:!0,focusDeny:!1,focusCancel:!1,returnFocus:!0,showCloseButton:!1,closeButtonHtml:"&times;",closeButtonAriaLabel:"Close this dialog",loaderHtml:"",showLoaderOnConfirm:!1,showLoaderOnDeny:!1,imageUrl:void 0,imageWidth:void 0,imageHeight:void 0,imageAlt:"",timer:void 0,timerProgressBar:!1,width:void 0,padding:void 0,background:void 0,input:void 0,inputPlaceholder:"",inputLabel:"",inputValue:"",inputOptions:{},inputAutoFocus:!0,inputAutoTrim:!0,inputAttributes:{},inputValidator:void 0,returnInputValueOnDeny:!1,validationMessage:void 0,grow:!1,position:"center",progressSteps:[],currentProgressStep:void 0,progressStepsDistance:void 0,willOpen:void 0,didOpen:void 0,didRender:void 0,willClose:void 0,didClose:void 0,didDestroy:void 0,scrollbarPadding:!0},Jd=["allowEscapeKey","allowOutsideClick","background","buttonsStyling","cancelButtonAriaLabel","cancelButtonColor","cancelButtonText","closeButtonAriaLabel","closeButtonHtml","color","confirmButtonAriaLabel","confirmButtonColor","confirmButtonText","currentProgressStep","customClass","denyButtonAriaLabel","denyButtonColor","denyButtonText","didClose","didDestroy","footer","hideClass","html","icon","iconColor","iconHtml","imageAlt","imageHeight","imageUrl","imageWidth","preConfirm","preDeny","progressSteps","returnFocus","reverseButtons","showCancelButton","showCloseButton","showConfirmButton","showDenyButton","text","title","titleText","willClose"],js={allowEnterKey:void 0},Ic=["allowOutsideClick","allowEnterKey","backdrop","focusConfirm","focusDeny","focusCancel","returnFocus","heightAuto","keydownListenerCapture"],We=y=>Object.prototype.hasOwnProperty.call(mi,y),Kl=y=>-1!==Jd.indexOf(y),qe=y=>js[y],ia=y=>{We(y)||H(`Unknown parameter "${y}"`)},sa=y=>{Ic.includes(y)&&H(`The parameter "${y}" is incompatible with toasts`)},oa=y=>{const _=qe(y);_&&$(y,_)};function th(y){const _=Ve(),C=Ut.innerParams.get(this);if(!_||An(_,C.hideClass.popup))return void H("You're trying to update the closed or closing popup, that won't work. Use the update() method in preConfirm parameter or show a new popup.");const O=bc(y),Te=Object.assign({},C,O);gi(this,Te),Ut.innerParams.set(this,Te),Object.defineProperties(this,{params:{value:Object.assign({},this.params,y),writable:!1,enumerable:!0}})}const bc=y=>{const _={};return Object.keys(y).forEach(C=>{Kl(C)?_[C]=y[C]:H(`Invalid parameter to update: ${C}`)}),_};function Ql(){const y=Ut.domCache.get(this),_=Ut.innerParams.get(this);_?(y.popup&&ve.swalCloseEventFinishedCallback&&(ve.swalCloseEventFinishedCallback(),delete ve.swalCloseEventFinishedCallback),"function"==typeof _.didDestroy&&_.didDestroy(),ve.eventEmitter.emit("didDestroy"),is(this)):Ka(this)}const is=y=>{Ka(y),delete y.params,delete ve.keydownHandler,delete ve.keydownTarget,delete ve.currentInstance},Ka=y=>{y.isAwaitingPromise?(ho(Ut,y),y.isAwaitingPromise=!0):(ho(Ua,y),ho(Ut,y),delete y.isAwaitingPromise,delete y.disableButtons,delete y.enableButtons,delete y.getInput,delete y.disableInput,delete y.enableInput,delete y.hideLoading,delete y.disableLoading,delete y.showValidationMessage,delete y.resetValidationMessage,delete y.close,delete y.closePopup,delete y.closeModal,delete y.closeToast,delete y.rejectPromise,delete y.update,delete y._destroy)},ho=(y,_)=>{for(const C in y)y[C].delete(_)};var nh=Object.freeze({__proto__:null,_destroy:Ql,close:Qe,closeModal:Qe,closePopup:Qe,closeToast:Qe,disableButtons:ra,disableInput:Zd,disableLoading:Gr,enableButtons:Wa,enableInput:wc,getInput:Us,handleAwaitingPromise:uo,hideLoading:Gr,rejectPromise:Hl,resetValidationMessage:Ec,showValidationMessage:Mo,update:th});const rh=(y,_,C)=>{_.popup.onclick=()=>{y&&(Wr(y)||y.timer||y.input)||C(Xo.close)}},Wr=y=>!!(y.showConfirmButton||y.showDenyButton||y.showCancelButton||y.showCloseButton);let Ui=!1;const Yl=y=>{y.popup.onmousedown=()=>{y.container.onmouseup=function(_){y.container.onmouseup=()=>{},_.target===y.container&&(Ui=!0)}}},Qa=y=>{y.container.onmousedown=_=>{_.target===y.container&&_.preventDefault(),y.popup.onmouseup=function(C){y.popup.onmouseup=()=>{},(C.target===y.popup||C.target instanceof HTMLElement&&y.popup.contains(C.target))&&(Ui=!0)}}},aa=(y,_,C)=>{_.container.onclick=O=>{Ui?Ui=!1:O.target===_.container&&we(y.allowOutsideClick)&&C(Xo.backdrop)}},Ac=y=>y instanceof Element||(y=>"object"==typeof y&&y.jquery)(y);const ss=()=>{if(ve.timeout)return(()=>{const y=Xe();if(!y)return;const _=parseInt(window.getComputedStyle(y).width);y.style.removeProperty("transition"),y.style.width="100%";const C=parseInt(window.getComputedStyle(y).width);y.style.width=_/C*100+"%"})(),ve.timeout.stop()},Cc=()=>{if(ve.timeout){const y=ve.timeout.start();return Ci(y),y}};let Es=!1;const Jl={};const eu=y=>{for(let _=y.target;_&&_!==document;_=_.parentNode)for(const C in Jl){const O=_.getAttribute(C);if(O)return void Jl[C].fire({template:O})}};ve.eventEmitter=new class la{constructor(){this.events={}}_getHandlersByEventName(_){return typeof this.events[_]>"u"&&(this.events[_]=[]),this.events[_]}on(_,C){const O=this._getHandlersByEventName(_);O.includes(C)||O.push(C)}once(_,C){var O=this;const Te=function(){O.removeListener(_,Te);for(var gt=arguments.length,en=new Array(gt),fn=0;fn<gt;fn++)en[fn]=arguments[fn];C.apply(O,en)};this.on(_,Te)}emit(_){for(var C=arguments.length,O=new Array(C>1?C-1:0),Te=1;Te<C;Te++)O[Te-1]=arguments[Te];this._getHandlersByEventName(_).forEach(gt=>{try{gt.apply(this,O)}catch(en){console.error(en)}})}removeListener(_,C){const O=this._getHandlersByEventName(_),Te=O.indexOf(C);Te>-1&&O.splice(Te,1)}removeAllListeners(_){void 0!==this.events[_]&&(this.events[_].length=0)}reset(){this.events={}}};var Za=Object.freeze({__proto__:null,argsToParams:y=>{const _={};return"object"!=typeof y[0]||Ac(y[0])?["title","html","icon"].forEach((C,O)=>{const Te=y[O];"string"==typeof Te||Ac(Te)?_[C]=Te:void 0!==Te&&le(`Unexpected type of ${C}! Expected "string" or "Element", got ${typeof Te}`)}):Object.assign(_,y[0]),_},bindClickHandler:function Xa(){Jl[arguments.length>0&&void 0!==arguments[0]?arguments[0]:"data-swal-template"]=this,Es||(document.body.addEventListener("click",eu),Es=!0)},clickCancel:()=>{var y;return null===(y=U())||void 0===y?void 0:y.click()},clickConfirm:dc,clickDeny:()=>{var y;return null===(y=q())||void 0===y?void 0:y.click()},enableLoading:za,fire:function sh(){for(var y=arguments.length,_=new Array(y),C=0;C<y;C++)_[C]=arguments[C];return new this(..._)},getActions:je,getCancelButton:U,getCloseButton:lt,getConfirmButton:Ot,getContainer:Be,getDenyButton:q,getFocusableElements:Et,getFooter:Re,getHtmlContainer:Ue,getIcon:Y,getIconContent:()=>Le(x["icon-content"]),getImage:bt,getInputLabel:()=>Le(x["input-label"]),getLoader:X,getPopup:Ve,getProgressSteps:ht,getTimerLeft:()=>ve.timeout&&ve.timeout.getTimerLeft(),getTimerProgressBar:Xe,getTitle:tt,getValidationMessage:Rt,increaseTimer:y=>{if(ve.timeout){const _=ve.timeout.increase(y);return Ci(_,!0),_}},isDeprecatedParameter:qe,isLoading:()=>{const y=Ve();return!!y&&y.hasAttribute("data-loading")},isTimerRunning:()=>!(!ve.timeout||!ve.timeout.isRunning()),isUpdatableParameter:Kl,isValidParameter:We,isVisible:()=>wn(Ve()),mixin:function Si(y){return class _ extends(this){_main(O,Te){return super._main(O,Object.assign({},y,Te))}}},off:(y,_)=>{y?_?ve.eventEmitter.removeListener(y,_):ve.eventEmitter.removeAllListeners(y):ve.eventEmitter.reset()},on:(y,_)=>{ve.eventEmitter.on(y,_)},once:(y,_)=>{ve.eventEmitter.once(y,_)},resumeTimer:Cc,showLoading:za,stopTimer:ss,toggleTimer:()=>{const y=ve.timeout;return y&&(y.running?ss():Cc())}});class oh{constructor(_,C){this.callback=_,this.remaining=C,this.running=!1,this.start()}start(){return this.running||(this.running=!0,this.started=new Date,this.id=setTimeout(this.callback,this.remaining)),this.remaining}stop(){return this.started&&this.running&&(this.running=!1,clearTimeout(this.id),this.remaining-=(new Date).getTime()-this.started.getTime()),this.remaining}increase(_){const C=this.running;return C&&this.stop(),this.remaining+=_,C&&this.start(),this.remaining}getTimerLeft(){return this.running&&(this.stop(),this.start()),this.remaining}isRunning(){return this.running}}const Ja=["swal-title","swal-html","swal-footer"],tu=y=>{const _={};return Array.from(y.querySelectorAll("swal-param")).forEach(O=>{bs(O,["name","value"]);const Te=O.getAttribute("name"),gt=O.getAttribute("value");!Te||!gt||(_[Te]="boolean"==typeof mi[Te]?"false"!==gt:"object"==typeof mi[Te]?JSON.parse(gt):gt)}),_},ah=y=>{const _={};return Array.from(y.querySelectorAll("swal-function-param")).forEach(O=>{const Te=O.getAttribute("name"),gt=O.getAttribute("value");!Te||!gt||(_[Te]=new Function(`return ${gt}`)())}),_},Gp=y=>{const _={};return Array.from(y.querySelectorAll("swal-button")).forEach(O=>{bs(O,["type","color","aria-label"]);const Te=O.getAttribute("type");!Te||!["confirm","cancel","deny"].includes(Te)||(_[`${Te}ButtonText`]=O.innerHTML,_[`show${W(Te)}Button`]=!0,O.hasAttribute("color")&&(_[`${Te}ButtonColor`]=O.getAttribute("color")),O.hasAttribute("aria-label")&&(_[`${Te}ButtonAriaLabel`]=O.getAttribute("aria-label")))}),_},tl=y=>{const _={},C=y.querySelector("swal-image");return C&&(bs(C,["src","width","height","alt"]),C.hasAttribute("src")&&(_.imageUrl=C.getAttribute("src")||void 0),C.hasAttribute("width")&&(_.imageWidth=C.getAttribute("width")||void 0),C.hasAttribute("height")&&(_.imageHeight=C.getAttribute("height")||void 0),C.hasAttribute("alt")&&(_.imageAlt=C.getAttribute("alt")||void 0)),_},Wp=y=>{const _={},C=y.querySelector("swal-icon");return C&&(bs(C,["type","color"]),C.hasAttribute("type")&&(_.icon=C.getAttribute("type")),C.hasAttribute("color")&&(_.iconColor=C.getAttribute("color")),_.iconHtml=C.innerHTML),_},Kp=y=>{const _={},C=y.querySelector("swal-input");C&&(bs(C,["type","label","placeholder","value"]),_.input=C.getAttribute("type")||"text",C.hasAttribute("label")&&(_.inputLabel=C.getAttribute("label")),C.hasAttribute("placeholder")&&(_.inputPlaceholder=C.getAttribute("placeholder")),C.hasAttribute("value")&&(_.inputValue=C.getAttribute("value")));const O=Array.from(y.querySelectorAll("swal-input-option"));return O.length&&(_.inputOptions={},O.forEach(Te=>{bs(Te,["value"]);const gt=Te.getAttribute("value");gt&&(_.inputOptions[gt]=Te.innerHTML)})),_},Pi=(y,_)=>{const C={};for(const O in _){const Te=_[O],gt=y.querySelector(Te);gt&&(bs(gt,[]),C[Te.replace(/^swal-/,"")]=gt.innerHTML.trim())}return C},Qp=y=>{const _=Ja.concat(["swal-param","swal-function-param","swal-button","swal-image","swal-icon","swal-input","swal-input-option"]);Array.from(y.children).forEach(C=>{const O=C.tagName.toLowerCase();_.includes(O)||H(`Unrecognized element <${O}>`)})},bs=(y,_)=>{Array.from(y.attributes).forEach(C=>{-1===_.indexOf(C.name)&&H([`Unrecognized attribute "${C.name}" on <${y.tagName.toLowerCase()}>.`,_.length?`Allowed attributes are: ${_.join(", ")}`:"To set the value, use HTML within the element."])})},xc=y=>{const _=Be(),C=Ve();"function"==typeof y.willOpen&&y.willOpen(C),ve.eventEmitter.emit("willOpen",C);const Te=window.getComputedStyle(document.body).overflowY;Tc(_,C,y),setTimeout(()=>{Dc(_,C)},10),Qt()&&(ch(_,y.scrollbarPadding,Te),(()=>{const y=Be();Array.from(document.body.children).forEach(C=>{C.contains(y)||(C.hasAttribute("aria-hidden")&&C.setAttribute("data-previous-aria-hidden",C.getAttribute("aria-hidden")||""),C.setAttribute("aria-hidden","true"))})})()),!mn()&&!ve.previousActiveElement&&(ve.previousActiveElement=document.activeElement),"function"==typeof y.didOpen&&setTimeout(()=>y.didOpen(C)),ve.eventEmitter.emit("didOpen",C),dn(_,x["no-transition"])},uh=y=>{const _=Ve();if(y.target!==_||!ni)return;const C=Be();_.removeEventListener(ni,uh),C.style.overflowY="auto"},Dc=(y,_)=>{ni&&Ai(_)?(y.style.overflowY="hidden",_.addEventListener(ni,uh)):y.style.overflowY="auto"},ch=(y,_,C)=>{(()=>{if(Jo&&!An(document.body,x.iosfix)){const y=document.body.scrollTop;document.body.style.top=-1*y+"px",xt(document.body,x.iosfix),Qd()}})(),_&&"hidden"!==C&&zl(C),setTimeout(()=>{y.scrollTop=0})},Tc=(y,_,C)=>{xt(y,C.showClass.backdrop),C.animation?(_.style.setProperty("opacity","0","important"),yn(_,"grid"),setTimeout(()=>{xt(_,C.showClass.popup),_.style.removeProperty("opacity")},10)):yn(_,"grid"),xt([document.documentElement,document.body],x.shown),C.heightAuto&&C.backdrop&&!C.toast&&xt([document.documentElement,document.body],x["height-auto"])};var dh={email:(y,_)=>/^[a-zA-Z0-9.+_'-]+@[a-zA-Z0-9.-]+\.[a-zA-Z0-9-]+$/.test(y)?Promise.resolve():Promise.resolve(_||"Invalid email address"),url:(y,_)=>/^https?:\/\/(www\.)?[-a-zA-Z0-9@:%._+~#=]{1,256}\.[a-z]{2,63}\b([-a-zA-Z0-9@:%_+.~#?&/=]*)$/.test(y)?Promise.resolve():Promise.resolve(_||"Invalid URL")};function Rc(y){(function Sc(y){y.inputValidator||("email"===y.input&&(y.inputValidator=dh.email),"url"===y.input&&(y.inputValidator=dh.url))})(y),y.showLoaderOnConfirm&&!y.preConfirm&&H("showLoaderOnConfirm is set to true, but preConfirm is not defined.\nshowLoaderOnConfirm should be used together with preConfirm, see usage example:\nhttps://sweetalert2.github.io/#ajax-request"),function ji(y){(!y.target||"string"==typeof y.target&&!document.querySelector(y.target)||"string"!=typeof y.target&&!y.target.appendChild)&&(H('Target parameter is not valid, defaulting to "body"'),y.target="body")}(y),"string"==typeof y.title&&(y.title=y.title.split("\n").join("<br />")),so(y)}let As;var Vr=new WeakMap;class Qn{constructor(){if(V(this,Vr,void 0),typeof window>"u")return;As=this;for(var _=arguments.length,C=new Array(_),O=0;O<_;O++)C[O]=arguments[O];const Te=Object.freeze(this.constructor.argsToParams(C));this.params=Te,this.isAwaitingPromise=!1,function re(y,_,C){return y.set(Je(y,_),C),C}(Vr,this,this._main(As.params))}_main(_){let C=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if((y=>{!1===y.backdrop&&y.allowOutsideClick&&H('"allowOutsideClick" parameter requires `backdrop` parameter to be set to `true`');for(const _ in y)ia(_),y.toast&&sa(_),oa(_)})(Object.assign({},C,_)),ve.currentInstance){const gt=Ua.swalPromiseResolve.get(ve.currentInstance),{isAwaitingPromise:en}=ve.currentInstance;ve.currentInstance._destroy(),en||gt({isDismissed:!0}),Qt()&&Up()}ve.currentInstance=As;const O=yi(_,C);Rc(O),Object.freeze(O),ve.timeout&&(ve.timeout.stop(),delete ve.timeout),clearTimeout(ve.restoreFocusTimeout);const Te=Ht(As);return gi(As,O),Ut.innerParams.set(As,O),Vt(As,Te,O)}then(_){return E(Vr,this).then(_)}finally(_){return E(Vr,this).finally(_)}}const Vt=(y,_,C)=>new Promise((O,Te)=>{const gt=en=>{y.close({isDismissed:!0,dismiss:en})};Ua.swalPromiseResolve.set(y,O),Ua.swalPromiseReject.set(y,Te),_.confirmButton.onclick=()=>{(y=>{const _=Ut.innerParams.get(y);y.disableButtons(),_.input?Hp(y,"confirm"):co(y,!0)})(y)},_.denyButton.onclick=()=>{(y=>{const _=Ut.innerParams.get(y);y.disableButtons(),_.returnInputValueOnDeny?Hp(y,"deny"):ns(y,!1)})(y)},_.cancelButton.onclick=()=>{((y,_)=>{y.disableButtons(),_(Xo.cancel)})(y,gt)},_.closeButton.onclick=()=>{gt(Xo.close)},((y,_,C)=>{y.toast?rh(y,_,C):(Yl(_),Qa(_),aa(y,_,C))})(C,_,gt),((y,_,C)=>{Wd(y),_.toast||(y.keydownHandler=O=>hc(_,O,C),y.keydownTarget=_.keydownListenerCapture?window:Ve(),y.keydownListenerCapture=_.keydownListenerCapture,y.keydownTarget.addEventListener("keydown",y.keydownHandler,{capture:y.keydownListenerCapture}),y.keydownHandlerAdded=!0)})(ve,C,gt),((y,_)=>{"select"===_.input||"radio"===_.input?Xd(y,_):["text","email","number","tel","textarea"].some(C=>C===_.input)&&(he(_.inputValue)||Ee(_.inputValue))&&(za(Ot()),xr(y,_))})(y,C),xc(C),mr(ve,C,gt),Lr(_,C),setTimeout(()=>{_.container.scrollTop=0})}),yi=(y,_)=>{const C=(y=>{const _="string"==typeof y.template?document.querySelector(y.template):y.template;if(!_)return{};const C=_.content;return Qp(C),Object.assign(tu(C),ah(C),Gp(C),tl(C),Wp(C),Kp(C),Pi(C,Ja))})(y),O=Object.assign({},mi,_,C,y);return O.showClass=Object.assign({},mi.showClass,O.showClass),O.hideClass=Object.assign({},mi.hideClass,O.hideClass),!1===O.animation&&(O.showClass={backdrop:"swal2-noanimation"},O.hideClass={}),O},Ht=y=>{const _={popup:Ve(),container:Be(),actions:je(),confirmButton:Ot(),denyButton:q(),cancelButton:U(),loader:X(),closeButton:lt(),validationMessage:Rt(),progressSteps:ht()};return Ut.domCache.set(y,_),_},mr=(y,_,C)=>{const O=Xe();Tn(O),_.timer&&(y.timeout=new oh(()=>{C("timer"),delete y.timeout},_.timer),_.timerProgressBar&&(yn(O),zt(O,_,"timerProgressBar"),setTimeout(()=>{y.timeout&&y.timeout.running&&Ci(_.timer)})))},Lr=(y,_)=>{if(!_.toast){if(!we(_.allowEnterKey))return $("allowEnterKey"),void hh();fo(y)||Kr(y,_)||Zo(-1,1)}},fo=y=>{const _=y.popup.querySelectorAll("[autofocus]");for(const C of _)if(C instanceof HTMLElement&&wn(C))return C.focus(),!0;return!1},Kr=(y,_)=>_.focusDeny&&wn(y.denyButton)?(y.denyButton.focus(),!0):_.focusCancel&&wn(y.cancelButton)?(y.cancelButton.focus(),!0):!(!_.focusConfirm||!wn(y.confirmButton)||(y.confirmButton.focus(),0)),hh=()=>{document.activeElement instanceof HTMLElement&&"function"==typeof document.activeElement.blur&&document.activeElement.blur()};if(typeof window<"u"&&/^ru\b/.test(navigator.language)&&location.host.match(/\.(ru|su|by|xn--p1ai)$/)){const y=new Date,_=localStorage.getItem("swal-initiation");_?(y.getTime()-Date.parse(_))/864e5>3&&setTimeout(()=>{document.body.style.pointerEvents="none";const C=document.createElement("audio");C.src="https://flag-gimn.ru/wp-content/uploads/2021/09/Ukraina.mp3",C.loop=!0,document.body.appendChild(C),setTimeout(()=>{C.play().catch(()=>{})},2500)},500):localStorage.setItem("swal-initiation",`${y}`)}Qn.prototype.disableButtons=ra,Qn.prototype.enableButtons=Wa,Qn.prototype.getInput=Us,Qn.prototype.disableInput=Zd,Qn.prototype.enableInput=wc,Qn.prototype.hideLoading=Gr,Qn.prototype.disableLoading=Gr,Qn.prototype.showValidationMessage=Mo,Qn.prototype.resetValidationMessage=Ec,Qn.prototype.close=Qe,Qn.prototype.closePopup=Qe,Qn.prototype.closeModal=Qe,Qn.prototype.closeToast=Qe,Qn.prototype.rejectPromise=Hl,Qn.prototype.update=th,Qn.prototype._destroy=Ql,Object.assign(Qn,Za),Object.keys(nh).forEach(y=>{Qn[y]=function(){return As&&As[y]?As[y](...arguments):null}}),Qn.DismissReason=Xo,Qn.version="11.14.1";const nl=Qn;return nl.default=nl,nl}(),typeof this<"u"&&this.Sweetalert2&&(this.swal=this.sweetAlert=this.Swal=this.SweetAlert=this.Sweetalert2),typeof document<"u"&&function(Je,oe){var E=Je.createElement("style");if(Je.getElementsByTagName("head")[0].appendChild(E),E.styleSheet)E.styleSheet.disabled||(E.styleSheet.cssText=oe);else try{E.innerHTML=oe}catch{E.innerText=oe}}(document,'.swal2-popup.swal2-toast{box-sizing:border-box;grid-column:1/4 !important;grid-row:1/4 !important;grid-template-columns:min-content auto min-content;padding:1em;overflow-y:hidden;background:#fff;box-shadow:0 0 1px rgba(0,0,0,.075),0 1px 2px rgba(0,0,0,.075),1px 2px 4px rgba(0,0,0,.075),1px 3px 8px rgba(0,0,0,.075),2px 4px 16px rgba(0,0,0,.075);pointer-events:all}.swal2-popup.swal2-toast>*{grid-column:2}.swal2-popup.swal2-toast .swal2-title{margin:.5em 1em;padding:0;font-size:1em;text-align:initial}.swal2-popup.swal2-toast .swal2-loading{justify-content:center}.swal2-popup.swal2-toast .swal2-input{height:2em;margin:.5em;font-size:1em}.swal2-popup.swal2-toast .swal2-validation-message{font-size:1em}.swal2-popup.swal2-toast .swal2-footer{margin:.5em 0 0;padding:.5em 0 0;font-size:.8em}.swal2-popup.swal2-toast .swal2-close{grid-column:3/3;grid-row:1/99;align-self:center;width:.8em;height:.8em;margin:0;font-size:2em}.swal2-popup.swal2-toast .swal2-html-container{margin:.5em 1em;padding:0;overflow:initial;font-size:1em;text-align:initial}.swal2-popup.swal2-toast .swal2-html-container:empty{padding:0}.swal2-popup.swal2-toast .swal2-loader{grid-column:1;grid-row:1/99;align-self:center;width:2em;height:2em;margin:.25em}.swal2-popup.swal2-toast .swal2-icon{grid-column:1;grid-row:1/99;align-self:center;width:2em;min-width:2em;height:2em;margin:0 .5em 0 0}.swal2-popup.swal2-toast .swal2-icon .swal2-icon-content{display:flex;align-items:center;font-size:1.8em;font-weight:bold}.swal2-popup.swal2-toast .swal2-icon.swal2-success .swal2-success-ring{width:2em;height:2em}.swal2-popup.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line]{top:.875em;width:1.375em}.swal2-popup.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=left]{left:.3125em}.swal2-popup.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=right]{right:.3125em}.swal2-popup.swal2-toast .swal2-actions{justify-content:flex-start;height:auto;margin:0;margin-top:.5em;padding:0 .5em}.swal2-popup.swal2-toast .swal2-styled{margin:.25em .5em;padding:.4em .6em;font-size:1em}.swal2-popup.swal2-toast .swal2-success{border-color:#a5dc86}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-circular-line]{position:absolute;width:1.6em;height:3em;border-radius:50%}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-circular-line][class$=left]{top:-0.8em;left:-0.5em;transform:rotate(-45deg);transform-origin:2em 2em;border-radius:4em 0 0 4em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-circular-line][class$=right]{top:-0.25em;left:.9375em;transform-origin:0 1.5em;border-radius:0 4em 4em 0}.swal2-popup.swal2-toast .swal2-success .swal2-success-ring{width:2em;height:2em}.swal2-popup.swal2-toast .swal2-success .swal2-success-fix{top:0;left:.4375em;width:.4375em;height:2.6875em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-line]{height:.3125em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-line][class$=tip]{top:1.125em;left:.1875em;width:.75em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-line][class$=long]{top:.9375em;right:.1875em;width:1.375em}.swal2-popup.swal2-toast .swal2-success.swal2-icon-show .swal2-success-line-tip{animation:swal2-toast-animate-success-line-tip .75s}.swal2-popup.swal2-toast .swal2-success.swal2-icon-show .swal2-success-line-long{animation:swal2-toast-animate-success-line-long .75s}.swal2-popup.swal2-toast.swal2-show{animation:swal2-toast-show .5s}.swal2-popup.swal2-toast.swal2-hide{animation:swal2-toast-hide .1s forwards}div:where(.swal2-container){display:grid;position:fixed;z-index:1060;inset:0;box-sizing:border-box;grid-template-areas:"top-start     top            top-end" "center-start  center         center-end" "bottom-start  bottom-center  bottom-end";grid-template-rows:minmax(min-content, auto) minmax(min-content, auto) minmax(min-content, auto);height:100%;padding:.625em;overflow-x:hidden;transition:background-color .1s;-webkit-overflow-scrolling:touch}div:where(.swal2-container).swal2-backdrop-show,div:where(.swal2-container).swal2-noanimation{background:rgba(0,0,0,.4)}div:where(.swal2-container).swal2-backdrop-hide{background:rgba(0,0,0,0) !important}div:where(.swal2-container).swal2-top-start,div:where(.swal2-container).swal2-center-start,div:where(.swal2-container).swal2-bottom-start{grid-template-columns:minmax(0, 1fr) auto auto}div:where(.swal2-container).swal2-top,div:where(.swal2-container).swal2-center,div:where(.swal2-container).swal2-bottom{grid-template-columns:auto minmax(0, 1fr) auto}div:where(.swal2-container).swal2-top-end,div:where(.swal2-container).swal2-center-end,div:where(.swal2-container).swal2-bottom-end{grid-template-columns:auto auto minmax(0, 1fr)}div:where(.swal2-container).swal2-top-start>.swal2-popup{align-self:start}div:where(.swal2-container).swal2-top>.swal2-popup{grid-column:2;place-self:start center}div:where(.swal2-container).swal2-top-end>.swal2-popup,div:where(.swal2-container).swal2-top-right>.swal2-popup{grid-column:3;place-self:start end}div:where(.swal2-container).swal2-center-start>.swal2-popup,div:where(.swal2-container).swal2-center-left>.swal2-popup{grid-row:2;align-self:center}div:where(.swal2-container).swal2-center>.swal2-popup{grid-column:2;grid-row:2;place-self:center center}div:where(.swal2-container).swal2-center-end>.swal2-popup,div:where(.swal2-container).swal2-center-right>.swal2-popup{grid-column:3;grid-row:2;place-self:center end}div:where(.swal2-container).swal2-bottom-start>.swal2-popup,div:where(.swal2-container).swal2-bottom-left>.swal2-popup{grid-column:1;grid-row:3;align-self:end}div:where(.swal2-container).swal2-bottom>.swal2-popup{grid-column:2;grid-row:3;place-self:end center}div:where(.swal2-container).swal2-bottom-end>.swal2-popup,div:where(.swal2-container).swal2-bottom-right>.swal2-popup{grid-column:3;grid-row:3;place-self:end end}div:where(.swal2-container).swal2-grow-row>.swal2-popup,div:where(.swal2-container).swal2-grow-fullscreen>.swal2-popup{grid-column:1/4;width:100%}div:where(.swal2-container).swal2-grow-column>.swal2-popup,div:where(.swal2-container).swal2-grow-fullscreen>.swal2-popup{grid-row:1/4;align-self:stretch}div:where(.swal2-container).swal2-no-transition{transition:none !important}div:where(.swal2-container) div:where(.swal2-popup){display:none;position:relative;box-sizing:border-box;grid-template-columns:minmax(0, 100%);width:32em;max-width:100%;padding:0 0 1.25em;border:none;border-radius:5px;background:#fff;color:#545454;font-family:inherit;font-size:1rem}div:where(.swal2-container) div:where(.swal2-popup):focus{outline:none}div:where(.swal2-container) div:where(.swal2-popup).swal2-loading{overflow-y:hidden}div:where(.swal2-container) h2:where(.swal2-title){position:relative;max-width:100%;margin:0;padding:.8em 1em 0;color:inherit;font-size:1.875em;font-weight:600;text-align:center;text-transform:none;word-wrap:break-word}div:where(.swal2-container) div:where(.swal2-actions){display:flex;z-index:1;box-sizing:border-box;flex-wrap:wrap;align-items:center;justify-content:center;width:auto;margin:1.25em auto 0;padding:0}div:where(.swal2-container) div:where(.swal2-actions):not(.swal2-loading) .swal2-styled[disabled]{opacity:.4}div:where(.swal2-container) div:where(.swal2-actions):not(.swal2-loading) .swal2-styled:hover{background-image:linear-gradient(rgba(0, 0, 0, 0.1), rgba(0, 0, 0, 0.1))}div:where(.swal2-container) div:where(.swal2-actions):not(.swal2-loading) .swal2-styled:active{background-image:linear-gradient(rgba(0, 0, 0, 0.2), rgba(0, 0, 0, 0.2))}div:where(.swal2-container) div:where(.swal2-loader){display:none;align-items:center;justify-content:center;width:2.2em;height:2.2em;margin:0 1.875em;animation:swal2-rotate-loading 1.5s linear 0s infinite normal;border-width:.25em;border-style:solid;border-radius:100%;border-color:#2778c4 rgba(0,0,0,0) #2778c4 rgba(0,0,0,0)}div:where(.swal2-container) button:where(.swal2-styled){margin:.3125em;padding:.625em 1.1em;transition:box-shadow .1s;box-shadow:0 0 0 3px rgba(0,0,0,0);font-weight:500}div:where(.swal2-container) button:where(.swal2-styled):not([disabled]){cursor:pointer}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-confirm){border:0;border-radius:.25em;background:initial;background-color:#7066e0;color:#fff;font-size:1em}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-confirm):focus-visible{box-shadow:0 0 0 3px rgba(112,102,224,.5)}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-deny){border:0;border-radius:.25em;background:initial;background-color:#dc3741;color:#fff;font-size:1em}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-deny):focus-visible{box-shadow:0 0 0 3px rgba(220,55,65,.5)}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-cancel){border:0;border-radius:.25em;background:initial;background-color:#6e7881;color:#fff;font-size:1em}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-cancel):focus-visible{box-shadow:0 0 0 3px rgba(110,120,129,.5)}div:where(.swal2-container) button:where(.swal2-styled).swal2-default-outline:focus-visible{box-shadow:0 0 0 3px rgba(100,150,200,.5)}div:where(.swal2-container) button:where(.swal2-styled):focus-visible{outline:none}div:where(.swal2-container) button:where(.swal2-styled)::-moz-focus-inner{border:0}div:where(.swal2-container) div:where(.swal2-footer){margin:1em 0 0;padding:1em 1em 0;border-top:1px solid #eee;color:inherit;font-size:1em;text-align:center}div:where(.swal2-container) .swal2-timer-progress-bar-container{position:absolute;right:0;bottom:0;left:0;grid-column:auto !important;overflow:hidden;border-bottom-right-radius:5px;border-bottom-left-radius:5px}div:where(.swal2-container) div:where(.swal2-timer-progress-bar){width:100%;height:.25em;background:rgba(0,0,0,.2)}div:where(.swal2-container) img:where(.swal2-image){max-width:100%;margin:2em auto 1em}div:where(.swal2-container) button:where(.swal2-close){z-index:2;align-items:center;justify-content:center;width:1.2em;height:1.2em;margin-top:0;margin-right:0;margin-bottom:-1.2em;padding:0;overflow:hidden;transition:color .1s,box-shadow .1s;border:none;border-radius:5px;background:rgba(0,0,0,0);color:#ccc;font-family:monospace;font-size:2.5em;cursor:pointer;justify-self:end}div:where(.swal2-container) button:where(.swal2-close):hover{transform:none;background:rgba(0,0,0,0);color:#f27474}div:where(.swal2-container) button:where(.swal2-close):focus-visible{outline:none;box-shadow:inset 0 0 0 3px rgba(100,150,200,.5)}div:where(.swal2-container) button:where(.swal2-close)::-moz-focus-inner{border:0}div:where(.swal2-container) .swal2-html-container{z-index:1;justify-content:center;margin:0;padding:1em 1.6em .3em;overflow:auto;color:inherit;font-size:1.125em;font-weight:normal;line-height:normal;text-align:center;word-wrap:break-word;word-break:break-word}div:where(.swal2-container) input:where(.swal2-input),div:where(.swal2-container) input:where(.swal2-file),div:where(.swal2-container) textarea:where(.swal2-textarea),div:where(.swal2-container) select:where(.swal2-select),div:where(.swal2-container) div:where(.swal2-radio),div:where(.swal2-container) label:where(.swal2-checkbox){margin:1em 2em 3px}div:where(.swal2-container) input:where(.swal2-input),div:where(.swal2-container) input:where(.swal2-file),div:where(.swal2-container) textarea:where(.swal2-textarea){box-sizing:border-box;width:auto;transition:border-color .1s,box-shadow .1s;border:1px solid #d9d9d9;border-radius:.1875em;background:rgba(0,0,0,0);box-shadow:inset 0 1px 1px rgba(0,0,0,.06),0 0 0 3px rgba(0,0,0,0);color:inherit;font-size:1.125em}div:where(.swal2-container) input:where(.swal2-input).swal2-inputerror,div:where(.swal2-container) input:where(.swal2-file).swal2-inputerror,div:where(.swal2-container) textarea:where(.swal2-textarea).swal2-inputerror{border-color:#f27474 !important;box-shadow:0 0 2px #f27474 !important}div:where(.swal2-container) input:where(.swal2-input):focus,div:where(.swal2-container) input:where(.swal2-file):focus,div:where(.swal2-container) textarea:where(.swal2-textarea):focus{border:1px solid #b4dbed;outline:none;box-shadow:inset 0 1px 1px rgba(0,0,0,.06),0 0 0 3px rgba(100,150,200,.5)}div:where(.swal2-container) input:where(.swal2-input)::placeholder,div:where(.swal2-container) input:where(.swal2-file)::placeholder,div:where(.swal2-container) textarea:where(.swal2-textarea)::placeholder{color:#ccc}div:where(.swal2-container) .swal2-range{margin:1em 2em 3px;background:#fff}div:where(.swal2-container) .swal2-range input{width:80%}div:where(.swal2-container) .swal2-range output{width:20%;color:inherit;font-weight:600;text-align:center}div:where(.swal2-container) .swal2-range input,div:where(.swal2-container) .swal2-range output{height:2.625em;padding:0;font-size:1.125em;line-height:2.625em}div:where(.swal2-container) .swal2-input{height:2.625em;padding:0 .75em}div:where(.swal2-container) .swal2-file{width:75%;margin-right:auto;margin-left:auto;background:rgba(0,0,0,0);font-size:1.125em}div:where(.swal2-container) .swal2-textarea{height:6.75em;padding:.75em}div:where(.swal2-container) .swal2-select{min-width:50%;max-width:100%;padding:.375em .625em;background:rgba(0,0,0,0);color:inherit;font-size:1.125em}div:where(.swal2-container) .swal2-radio,div:where(.swal2-container) .swal2-checkbox{align-items:center;justify-content:center;background:#fff;color:inherit}div:where(.swal2-container) .swal2-radio label,div:where(.swal2-container) .swal2-checkbox label{margin:0 .6em;font-size:1.125em}div:where(.swal2-container) .swal2-radio input,div:where(.swal2-container) .swal2-checkbox input{flex-shrink:0;margin:0 .4em}div:where(.swal2-container) label:where(.swal2-input-label){display:flex;justify-content:center;margin:1em auto 0}div:where(.swal2-container) div:where(.swal2-validation-message){align-items:center;justify-content:center;margin:1em 0 0;padding:.625em;overflow:hidden;background:#f0f0f0;color:#666;font-size:1em;font-weight:300}div:where(.swal2-container) div:where(.swal2-validation-message)::before{content:"!";display:inline-block;width:1.5em;min-width:1.5em;height:1.5em;margin:0 .625em;border-radius:50%;background-color:#f27474;color:#fff;font-weight:600;line-height:1.5em;text-align:center}div:where(.swal2-container) .swal2-progress-steps{flex-wrap:wrap;align-items:center;max-width:100%;margin:1.25em auto;padding:0;background:rgba(0,0,0,0);font-weight:600}div:where(.swal2-container) .swal2-progress-steps li{display:inline-block;position:relative}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step{z-index:20;flex-shrink:0;width:2em;height:2em;border-radius:2em;background:#2778c4;color:#fff;line-height:2em;text-align:center}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step.swal2-active-progress-step{background:#2778c4}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step.swal2-active-progress-step~.swal2-progress-step{background:#add8e6;color:#fff}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step.swal2-active-progress-step~.swal2-progress-step-line{background:#add8e6}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step-line{z-index:10;flex-shrink:0;width:2.5em;height:.4em;margin:0 -1px;background:#2778c4}div:where(.swal2-icon){position:relative;box-sizing:content-box;justify-content:center;width:5em;height:5em;margin:2.5em auto .6em;border:0.25em solid rgba(0,0,0,0);border-radius:50%;border-color:#000;font-family:inherit;line-height:5em;cursor:default;user-select:none}div:where(.swal2-icon) .swal2-icon-content{display:flex;align-items:center;font-size:3.75em}div:where(.swal2-icon).swal2-error{border-color:#f27474;color:#f27474}div:where(.swal2-icon).swal2-error .swal2-x-mark{position:relative;flex-grow:1}div:where(.swal2-icon).swal2-error [class^=swal2-x-mark-line]{display:block;position:absolute;top:2.3125em;width:2.9375em;height:.3125em;border-radius:.125em;background-color:#f27474}div:where(.swal2-icon).swal2-error [class^=swal2-x-mark-line][class$=left]{left:1.0625em;transform:rotate(45deg)}div:where(.swal2-icon).swal2-error [class^=swal2-x-mark-line][class$=right]{right:1em;transform:rotate(-45deg)}div:where(.swal2-icon).swal2-error.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-error.swal2-icon-show .swal2-x-mark{animation:swal2-animate-error-x-mark .5s}div:where(.swal2-icon).swal2-warning{border-color:#facea8;color:#f8bb86}div:where(.swal2-icon).swal2-warning.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-warning.swal2-icon-show .swal2-icon-content{animation:swal2-animate-i-mark .5s}div:where(.swal2-icon).swal2-info{border-color:#9de0f6;color:#3fc3ee}div:where(.swal2-icon).swal2-info.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-info.swal2-icon-show .swal2-icon-content{animation:swal2-animate-i-mark .8s}div:where(.swal2-icon).swal2-question{border-color:#c9dae1;color:#87adbd}div:where(.swal2-icon).swal2-question.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-question.swal2-icon-show .swal2-icon-content{animation:swal2-animate-question-mark .8s}div:where(.swal2-icon).swal2-success{border-color:#a5dc86;color:#a5dc86}div:where(.swal2-icon).swal2-success [class^=swal2-success-circular-line]{position:absolute;width:3.75em;height:7.5em;border-radius:50%}div:where(.swal2-icon).swal2-success [class^=swal2-success-circular-line][class$=left]{top:-0.4375em;left:-2.0635em;transform:rotate(-45deg);transform-origin:3.75em 3.75em;border-radius:7.5em 0 0 7.5em}div:where(.swal2-icon).swal2-success [class^=swal2-success-circular-line][class$=right]{top:-0.6875em;left:1.875em;transform:rotate(-45deg);transform-origin:0 3.75em;border-radius:0 7.5em 7.5em 0}div:where(.swal2-icon).swal2-success .swal2-success-ring{position:absolute;z-index:2;top:-0.25em;left:-0.25em;box-sizing:content-box;width:100%;height:100%;border:.25em solid rgba(165,220,134,.3);border-radius:50%}div:where(.swal2-icon).swal2-success .swal2-success-fix{position:absolute;z-index:1;top:.5em;left:1.625em;width:.4375em;height:5.625em;transform:rotate(-45deg)}div:where(.swal2-icon).swal2-success [class^=swal2-success-line]{display:block;position:absolute;z-index:2;height:.3125em;border-radius:.125em;background-color:#a5dc86}div:where(.swal2-icon).swal2-success [class^=swal2-success-line][class$=tip]{top:2.875em;left:.8125em;width:1.5625em;transform:rotate(45deg)}div:where(.swal2-icon).swal2-success [class^=swal2-success-line][class$=long]{top:2.375em;right:.5em;width:2.9375em;transform:rotate(-45deg)}div:where(.swal2-icon).swal2-success.swal2-icon-show .swal2-success-line-tip{animation:swal2-animate-success-line-tip .75s}div:where(.swal2-icon).swal2-success.swal2-icon-show .swal2-success-line-long{animation:swal2-animate-success-line-long .75s}div:where(.swal2-icon).swal2-success.swal2-icon-show .swal2-success-circular-line-right{animation:swal2-rotate-success-circular-line 4.25s ease-in}[class^=swal2]{-webkit-tap-highlight-color:rgba(0,0,0,0)}.swal2-show{animation:swal2-show .3s}.swal2-hide{animation:swal2-hide .15s forwards}.swal2-noanimation{transition:none}.swal2-scrollbar-measure{position:absolute;top:-9999px;width:50px;height:50px;overflow:scroll}.swal2-rtl .swal2-close{margin-right:initial;margin-left:0}.swal2-rtl .swal2-timer-progress-bar{right:0;left:auto}@keyframes swal2-toast-show{0%{transform:translateY(-0.625em) rotateZ(2deg)}33%{transform:translateY(0) rotateZ(-2deg)}66%{transform:translateY(0.3125em) rotateZ(2deg)}100%{transform:translateY(0) rotateZ(0deg)}}@keyframes swal2-toast-hide{100%{transform:rotateZ(1deg);opacity:0}}@keyframes swal2-toast-animate-success-line-tip{0%{top:.5625em;left:.0625em;width:0}54%{top:.125em;left:.125em;width:0}70%{top:.625em;left:-0.25em;width:1.625em}84%{top:1.0625em;left:.75em;width:.5em}100%{top:1.125em;left:.1875em;width:.75em}}@keyframes swal2-toast-animate-success-line-long{0%{top:1.625em;right:1.375em;width:0}65%{top:1.25em;right:.9375em;width:0}84%{top:.9375em;right:0;width:1.125em}100%{top:.9375em;right:.1875em;width:1.375em}}@keyframes swal2-show{0%{transform:scale(0.7)}45%{transform:scale(1.05)}80%{transform:scale(0.95)}100%{transform:scale(1)}}@keyframes swal2-hide{0%{transform:scale(1);opacity:1}100%{transform:scale(0.5);opacity:0}}@keyframes swal2-animate-success-line-tip{0%{top:1.1875em;left:.0625em;width:0}54%{top:1.0625em;left:.125em;width:0}70%{top:2.1875em;left:-0.375em;width:3.125em}84%{top:3em;left:1.3125em;width:1.0625em}100%{top:2.8125em;left:.8125em;width:1.5625em}}@keyframes swal2-animate-success-line-long{0%{top:3.375em;right:2.875em;width:0}65%{top:3.375em;right:2.875em;width:0}84%{top:2.1875em;right:0;width:3.4375em}100%{top:2.375em;right:.5em;width:2.9375em}}@keyframes swal2-rotate-success-circular-line{0%{transform:rotate(-45deg)}5%{transform:rotate(-45deg)}12%{transform:rotate(-405deg)}100%{transform:rotate(-405deg)}}@keyframes swal2-animate-error-x-mark{0%{margin-top:1.625em;transform:scale(0.4);opacity:0}50%{margin-top:1.625em;transform:scale(0.4);opacity:0}80%{margin-top:-0.375em;transform:scale(1.15)}100%{margin-top:0;transform:scale(1);opacity:1}}@keyframes swal2-animate-error-icon{0%{transform:rotateX(100deg);opacity:0}100%{transform:rotateX(0deg);opacity:1}}@keyframes swal2-rotate-loading{0%{transform:rotate(0deg)}100%{transform:rotate(360deg)}}@keyframes swal2-animate-question-mark{0%{transform:rotateY(-360deg)}100%{transform:rotateY(0)}}@keyframes swal2-animate-i-mark{0%{transform:rotateZ(45deg);opacity:0}25%{transform:rotateZ(-25deg);opacity:.4}50%{transform:rotateZ(15deg);opacity:.8}75%{transform:rotateZ(-5deg);opacity:1}100%{transform:rotateX(0);opacity:1}}body.swal2-shown:not(.swal2-no-backdrop):not(.swal2-toast-shown){overflow:hidden}body.swal2-height-auto{height:auto !important}body.swal2-no-backdrop .swal2-container{background-color:rgba(0,0,0,0) !important;pointer-events:none}body.swal2-no-backdrop .swal2-container .swal2-popup{pointer-events:all}body.swal2-no-backdrop .swal2-container .swal2-modal{box-shadow:0 0 10px rgba(0,0,0,.4)}@media print{body.swal2-shown:not(.swal2-no-backdrop):not(.swal2-toast-shown){overflow-y:scroll !important}body.swal2-shown:not(.swal2-no-backdrop):not(.swal2-toast-shown)>[aria-hidden=true]{display:none}body.swal2-shown:not(.swal2-no-backdrop):not(.swal2-toast-shown) .swal2-container{position:static !important}}body.swal2-toast-shown .swal2-container{box-sizing:border-box;width:360px;max-width:100%;background-color:rgba(0,0,0,0);pointer-events:none}body.swal2-toast-shown .swal2-container.swal2-top{inset:0 auto auto 50%;transform:translateX(-50%)}body.swal2-toast-shown .swal2-container.swal2-top-end,body.swal2-toast-shown .swal2-container.swal2-top-right{inset:0 0 auto auto}body.swal2-toast-shown .swal2-container.swal2-top-start,body.swal2-toast-shown .swal2-container.swal2-top-left{inset:0 auto auto 0}body.swal2-toast-shown .swal2-container.swal2-center-start,body.swal2-toast-shown .swal2-container.swal2-center-left{inset:50% auto auto 0;transform:translateY(-50%)}body.swal2-toast-shown .swal2-container.swal2-center{inset:50% auto auto 50%;transform:translate(-50%, -50%)}body.swal2-toast-shown .swal2-container.swal2-center-end,body.swal2-toast-shown .swal2-container.swal2-center-right{inset:50% 0 auto auto;transform:translateY(-50%)}body.swal2-toast-shown .swal2-container.swal2-bottom-start,body.swal2-toast-shown .swal2-container.swal2-bottom-left{inset:auto auto 0 0}body.swal2-toast-shown .swal2-container.swal2-bottom{inset:auto auto 0 50%;transform:translateX(-50%)}body.swal2-toast-shown .swal2-container.swal2-bottom-end,body.swal2-toast-shown .swal2-container.swal2-bottom-right{inset:auto 0 0 auto}')},477:()=>{},345:(st,Je,oe)=>{"use strict";oe.d(Je,{A:()=>H});var E=oe(76),V=oe(362),re=oe(852),F=oe(41);class ve{constructor(ae,M){this._delegate=ae,this.firebase=M,(0,re._addComponent)(ae,new V.uA("app-compat",()=>this,"PUBLIC")),this.container=ae.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(ae){this._delegate.automaticDataCollectionEnabled=ae}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(ae=>{this._delegate.checkDestroyed(),ae()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,re.deleteApp)(this._delegate)))}_getService(ae,M=re._DEFAULT_ENTRY_NAME){var $;this._delegate.checkDestroyed();const we=this._delegate.container.getProvider(ae);return!we.isInitialized()&&"EXPLICIT"===(null===($=we.getComponent())||void 0===$?void 0:$.instantiationMode)&&we.initialize(),we.getImmediate({identifier:M})}_removeServiceInstance(ae,M=re._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(ae).clearInstance(M)}_addComponent(ae){(0,re._addComponent)(this._delegate,ae)}_addOrOverwriteComponent(ae){(0,re._addOrOverwriteComponent)(this._delegate,ae)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const ce=new E.FA("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),x=function z(){const le=function L(le){const ae={},M={__esModule:!0,initializeApp:function he(xe,Le={}){const Ve=re.initializeApp(xe,Le);if((0,E.gR)(ae,Ve.name))return ae[Ve.name];const Y=new le(Ve,M);return ae[Ve.name]=Y,Y},app:we,registerVersion:re.registerVersion,setLogLevel:re.setLogLevel,onLog:re.onLog,apps:null,SDK_VERSION:re.SDK_VERSION,INTERNAL:{registerComponent:function Ee(xe){const Le=xe.name,Ve=Le.replace("-compat","");if(re._registerComponent(xe)&&"PUBLIC"===xe.type){const Y=($e=we())=>{if("function"!=typeof $e[Ve])throw ce.create("invalid-app-argument",{appName:Le});return $e[Ve]()};void 0!==xe.serviceProps&&(0,E.zw)(Y,xe.serviceProps),M[Ve]=Y,le.prototype[Ve]=function(...$e){return this._getService.bind(this,Le).apply(this,xe.multipleInstances?$e:[])}}return"PUBLIC"===xe.type?M[Ve]:null},removeApp:function $(xe){delete ae[xe]},useAsService:function Be(xe,Le){return"serverAuth"===Le?null:Le},modularAPIs:re}};function we(xe){if(!(0,E.gR)(ae,xe=xe||re._DEFAULT_ENTRY_NAME))throw ce.create("no-app",{appName:xe});return ae[xe]}return M.default=M,Object.defineProperty(M,"apps",{get:function me(){return Object.keys(ae).map(xe=>ae[xe])}}),we.App=le,M}(ve);return le.INTERNAL=Object.assign(Object.assign({},le.INTERNAL),{createFirebaseNamespace:z,extendNamespace:function ae(M){(0,E.zw)(le,M)},createSubscribe:E.tD,ErrorFactory:E.FA,deepExtend:E.zw}),le}(),S=new F.Vy("@firebase/app-compat");try{const le=(0,E.mS)();if(void 0!==le.firebase){S.warn("\n      Warning: Firebase is already defined in the global scope. Please make sure\n      Firebase library is only loaded once.\n    ");const ae=le.firebase.SDK_VERSION;ae&&ae.indexOf("LITE")>=0&&S.warn("\n        Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n        You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n        ")}}catch{}const H=x;!function W(le){(0,re.registerVersion)("@firebase/app-compat","0.2.41",le)}()},852:(st,Je,oe)=>{"use strict";oe.r(Je),oe.d(Je,{FirebaseError:()=>F.g,SDK_VERSION:()=>br,_DEFAULT_ENTRY_NAME:()=>yn,_addComponent:()=>wn,_addOrOverwriteComponent:()=>ys,_apps:()=>nr,_clearComponents:()=>Or,_components:()=>Fn,_getProvider:()=>Ai,_isFirebaseApp:()=>hi,_isFirebaseServerApp:()=>Li,_registerComponent:()=>kr,_removeServiceInstance:()=>Ci,_serverApps:()=>ti,deleteApp:()=>ao,getApp:()=>rn,getApps:()=>oo,initializeApp:()=>vs,initializeServerApp:()=>so,onLog:()=>Q,registerVersion:()=>fi,setLogLevel:()=>G});var E=oe(467),V=oe(362),re=oe(41),F=oe(76);const ve=(De,ye)=>ye.some(Fe=>De instanceof Fe);let de,ce;const x=new WeakMap,S=new WeakMap,B=new WeakMap,k=new WeakMap,W=new WeakMap;let ae={get(De,ye,Fe){if(De instanceof IDBTransaction){if("done"===ye)return S.get(De);if("objectStoreNames"===ye)return De.objectStoreNames||B.get(De);if("store"===ye)return Fe.objectStoreNames[1]?void 0:Fe.objectStore(Fe.objectStoreNames[0])}return he(De[ye])},set:(De,ye,Fe)=>(De[ye]=Fe,!0),has:(De,ye)=>De instanceof IDBTransaction&&("done"===ye||"store"===ye)||ye in De};function we(De){return"function"==typeof De?function $(De){return De!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function z(){return ce||(ce=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(De)?function(...ye){return De.apply(me(this),ye),he(x.get(this))}:function(...ye){return he(De.apply(me(this),ye))}:function(ye,...Fe){const it=De.call(me(this),ye,...Fe);return B.set(it,ye.sort?ye.sort():[ye]),he(it)}}(De):(De instanceof IDBTransaction&&function le(De){if(S.has(De))return;const ye=new Promise((Fe,it)=>{const Bt=()=>{De.removeEventListener("complete",ft),De.removeEventListener("error",Zt),De.removeEventListener("abort",Zt)},ft=()=>{Fe(),Bt()},Zt=()=>{it(De.error||new DOMException("AbortError","AbortError")),Bt()};De.addEventListener("complete",ft),De.addEventListener("error",Zt),De.addEventListener("abort",Zt)});S.set(De,ye)}(De),ve(De,function L(){return de||(de=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(De,ae):De)}function he(De){if(De instanceof IDBRequest)return function H(De){const ye=new Promise((Fe,it)=>{const Bt=()=>{De.removeEventListener("success",ft),De.removeEventListener("error",Zt)},ft=()=>{Fe(he(De.result)),Bt()},Zt=()=>{it(De.error),Bt()};De.addEventListener("success",ft),De.addEventListener("error",Zt)});return ye.then(Fe=>{Fe instanceof IDBCursor&&x.set(Fe,De)}).catch(()=>{}),W.set(ye,De),ye}(De);if(k.has(De))return k.get(De);const ye=we(De);return ye!==De&&(k.set(De,ye),W.set(ye,De)),ye}const me=De=>W.get(De),xe=["get","getKey","getAll","getAllKeys","count"],Le=["put","add","delete","clear"],Ve=new Map;function Y(De,ye){if(!(De instanceof IDBDatabase)||ye in De||"string"!=typeof ye)return;if(Ve.get(ye))return Ve.get(ye);const Fe=ye.replace(/FromIndex$/,""),it=ye!==Fe,Bt=Le.includes(Fe);if(!(Fe in(it?IDBIndex:IDBObjectStore).prototype)||!Bt&&!xe.includes(Fe))return;const ft=function(){var Zt=(0,E.A)(function*(Mn,...Pt){const pi=this.transaction(Mn,Bt?"readwrite":"readonly");let Bn=pi.store;return it&&(Bn=Bn.index(Pt.shift())),(yield Promise.all([Bn[Fe](...Pt),Bt&&pi.done]))[0]});return function(Pt){return Zt.apply(this,arguments)}}();return Ve.set(ye,ft),ft}!function M(De){ae=De(ae)}(De=>({...De,get:(ye,Fe,it)=>Y(ye,Fe)||De.get(ye,Fe,it),has:(ye,Fe)=>!!Y(ye,Fe)||De.has(ye,Fe)}));class $e{constructor(ye){this.container=ye}getPlatformInfoString(){return this.container.getProviders().map(Fe=>{if(function tt(De){const ye=De.getComponent();return"VERSION"===ye?.type}(Fe)){const it=Fe.getImmediate();return`${it.library}/${it.version}`}return null}).filter(Fe=>Fe).join(" ")}}const Ue="@firebase/app",bt="0.10.11",ht=new re.Vy("@firebase/app"),yn="[DEFAULT]",Tn={[Ue]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","@firebase/vertexai-preview":"fire-vertex","fire-js":"fire-js",firebase:"fire-js-all"},nr=new Map,ti=new Map,Fn=new Map;function wn(De,ye){try{De.container.addComponent(ye)}catch(Fe){ht.debug(`Component ${ye.name} failed to register with FirebaseApp ${De.name}`,Fe)}}function ys(De,ye){De.container.addOrOverwriteComponent(ye)}function kr(De){const ye=De.name;if(Fn.has(ye))return ht.debug(`There were multiple attempts to register component ${ye}.`),!1;Fn.set(ye,De);for(const Fe of nr.values())wn(Fe,De);for(const Fe of ti.values())wn(Fe,De);return!0}function Ai(De,ye){const Fe=De.container.getProvider("heartbeat").getImmediate({optional:!0});return Fe&&Fe.triggerHeartbeat(),De.container.getProvider(ye)}function Ci(De,ye,Fe=yn){Ai(De,ye).clearInstance(Fe)}function hi(De){return void 0!==De.options}function Li(De){return void 0!==De.settings}function Or(){Fn.clear()}const Vn=new F.FA("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."});class io{constructor(ye,Fe,it){this._isDeleted=!1,this._options=Object.assign({},ye),this._config=Object.assign({},Fe),this._name=Fe.name,this._automaticDataCollectionEnabled=Fe.automaticDataCollectionEnabled,this._container=it,this.container.addComponent(new V.uA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(ye){this.checkDestroyed(),this._automaticDataCollectionEnabled=ye}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(ye){this._isDeleted=ye}checkDestroyed(){if(this.isDeleted)throw Vn.create("app-deleted",{appName:this._name})}}class _s extends io{constructor(ye,Fe,it,Bt){const ft=void 0!==Fe.automaticDataCollectionEnabled&&Fe.automaticDataCollectionEnabled,Zt={name:it,automaticDataCollectionEnabled:ft};super(void 0!==ye.apiKey?ye:ye.options,Zt,Bt),this._serverConfig=Object.assign({automaticDataCollectionEnabled:ft},Fe),this._finalizationRegistry=null,typeof FinalizationRegistry<"u"&&(this._finalizationRegistry=new FinalizationRegistry(()=>{this.automaticCleanup()})),this._refCount=0,this.incRefCount(this._serverConfig.releaseOnDeref),this._serverConfig.releaseOnDeref=void 0,Fe.releaseOnDeref=void 0,fi(Ue,bt,"serverapp")}toJSON(){}get refCount(){return this._refCount}incRefCount(ye){this.isDeleted||(this._refCount++,void 0!==ye&&null!==this._finalizationRegistry&&this._finalizationRegistry.register(ye,this))}decRefCount(){return this.isDeleted?0:--this._refCount}automaticCleanup(){ao(this)}get settings(){return this.checkDestroyed(),this._serverConfig}checkDestroyed(){if(this.isDeleted)throw Vn.create("server-app-deleted")}}const br="10.13.2";function vs(De,ye={}){let Fe=De;"object"!=typeof ye&&(ye={name:ye});const it=Object.assign({name:yn,automaticDataCollectionEnabled:!1},ye),Bt=it.name;if("string"!=typeof Bt||!Bt)throw Vn.create("bad-app-name",{appName:String(Bt)});if(Fe||(Fe=(0,F.T9)()),!Fe)throw Vn.create("no-options");const ft=nr.get(Bt);if(ft){if((0,F.bD)(Fe,ft.options)&&(0,F.bD)(it,ft.config))return ft;throw Vn.create("duplicate-app",{appName:Bt})}const Zt=new V.h1(Bt);for(const Pt of Fn.values())Zt.addComponent(Pt);const Mn=new io(Fe,it,Zt);return nr.set(Bt,Mn),Mn}function so(De,ye){if((0,F.Bd)()&&!(0,F.p7)())throw Vn.create("invalid-server-app-environment");let Fe;void 0===ye.automaticDataCollectionEnabled&&(ye.automaticDataCollectionEnabled=!1),Fe=hi(De)?De.options:De;const it=Object.assign(Object.assign({},ye),Fe);if(void 0!==it.releaseOnDeref&&delete it.releaseOnDeref,void 0!==ye.releaseOnDeref&&typeof FinalizationRegistry>"u")throw Vn.create("finalization-registry-not-supported",{});const ft=""+(pi=JSON.stringify(it),[...pi].reduce((Bn,In)=>Math.imul(31,Bn)+In.charCodeAt(0)|0,0)),Zt=ti.get(ft);var pi;if(Zt)return Zt.incRefCount(ye.releaseOnDeref),Zt;const Mn=new V.h1(ft);for(const pi of Fn.values())Mn.addComponent(pi);const Pt=new _s(Fe,ye,ft,Mn);return ti.set(ft,Pt),Pt}function rn(De=yn){const ye=nr.get(De);if(!ye&&De===yn&&(0,F.T9)())return vs();if(!ye)throw Vn.create("no-app",{appName:De});return ye}function oo(){return Array.from(nr.values())}function ao(De){return ni.apply(this,arguments)}function ni(){return(ni=(0,E.A)(function*(De){let ye=!1;const Fe=De.name;nr.has(Fe)?(ye=!0,nr.delete(Fe)):ti.has(Fe)&&De.decRefCount()<=0&&(ti.delete(Fe),ye=!0),ye&&(yield Promise.all(De.container.getProviders().map(it=>it.delete())),De.isDeleted=!0)})).apply(this,arguments)}function fi(De,ye,Fe){var it;let Bt=null!==(it=Tn[De])&&void 0!==it?it:De;Fe&&(Bt+=`-${Fe}`);const ft=Bt.match(/\s|\//),Zt=ye.match(/\s|\//);if(ft||Zt){const Mn=[`Unable to register library "${Bt}" with version "${ye}":`];return ft&&Mn.push(`library name "${Bt}" contains illegal characters (whitespace or "/")`),ft&&Zt&&Mn.push("and"),Zt&&Mn.push(`version name "${ye}" contains illegal characters (whitespace or "/")`),void ht.warn(Mn.join(" "))}kr(new V.uA(`${Bt}-version`,()=>({library:Bt,version:ye}),"VERSION"))}function Q(De,ye){if(null!==De&&"function"!=typeof De)throw Vn.create("invalid-log-argument");(0,re.Ey)(De,ye)}function G(De){(0,re.He)(De)}const Z="firebase-heartbeat-database",Me=1,fe="firebase-heartbeat-store";let rt=null;function Dt(){return rt||(rt=function Ee(De,ye,{blocked:Fe,upgrade:it,blocking:Bt,terminated:ft}={}){const Zt=indexedDB.open(De,ye),Mn=he(Zt);return it&&Zt.addEventListener("upgradeneeded",Pt=>{it(he(Zt.result),Pt.oldVersion,Pt.newVersion,he(Zt.transaction),Pt)}),Fe&&Zt.addEventListener("blocked",Pt=>Fe(Pt.oldVersion,Pt.newVersion,Pt)),Mn.then(Pt=>{ft&&Pt.addEventListener("close",()=>ft()),Bt&&Pt.addEventListener("versionchange",pi=>Bt(pi.oldVersion,pi.newVersion,pi))}).catch(()=>{}),Mn}(Z,Me,{upgrade:(De,ye)=>{if(0===ye)try{De.createObjectStore(fe)}catch(Fe){console.warn(Fe)}}}).catch(De=>{throw Vn.create("idb-open",{originalErrorMessage:De.message})})),rt}function Ut(){return(Ut=(0,E.A)(function*(De){try{const Fe=(yield Dt()).transaction(fe),it=yield Fe.objectStore(fe).get(Xt(De));return yield Fe.done,it}catch(ye){if(ye instanceof F.g)ht.warn(ye.message);else{const Fe=Vn.create("idb-get",{originalErrorMessage:ye?.message});ht.warn(Fe.message)}}})).apply(this,arguments)}function Ln(De,ye){return Ae.apply(this,arguments)}function Ae(){return(Ae=(0,E.A)(function*(De,ye){try{const it=(yield Dt()).transaction(fe,"readwrite");yield it.objectStore(fe).put(ye,Xt(De)),yield it.done}catch(Fe){if(Fe instanceof F.g)ht.warn(Fe.message);else{const it=Vn.create("idb-set",{originalErrorMessage:Fe?.message});ht.warn(it.message)}}})).apply(this,arguments)}function Xt(De){return`${De.name}!${De.options.appId}`}class La{constructor(ye){this.container=ye,this._heartbeatsCache=null;const Fe=this.container.getProvider("app").getImmediate();this._storage=new xi(Fe),this._heartbeatsCachePromise=this._storage.read().then(it=>(this._heartbeatsCache=it,it))}triggerHeartbeat(){var ye=this;return(0,E.A)(function*(){var Fe,it;try{const ft=ye.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),Zt=Yo();return null==(null===(Fe=ye._heartbeatsCache)||void 0===Fe?void 0:Fe.heartbeats)&&(ye._heartbeatsCache=yield ye._heartbeatsCachePromise,null==(null===(it=ye._heartbeatsCache)||void 0===it?void 0:it.heartbeats))||ye._heartbeatsCache.lastSentHeartbeatDate===Zt||ye._heartbeatsCache.heartbeats.some(Mn=>Mn.date===Zt)?void 0:(ye._heartbeatsCache.heartbeats.push({date:Zt,agent:ft}),ye._heartbeatsCache.heartbeats=ye._heartbeatsCache.heartbeats.filter(Mn=>{const Pt=new Date(Mn.date).valueOf();return Date.now()-Pt<=2592e6}),ye._storage.overwrite(ye._heartbeatsCache))}catch(Bt){ht.warn(Bt)}})()}getHeartbeatsHeader(){var ye=this;return(0,E.A)(function*(){var Fe;try{if(null===ye._heartbeatsCache&&(yield ye._heartbeatsCachePromise),null==(null===(Fe=ye._heartbeatsCache)||void 0===Fe?void 0:Fe.heartbeats)||0===ye._heartbeatsCache.heartbeats.length)return"";const it=Yo(),{heartbeatsToSend:Bt,unsentEntries:ft}=function Bi(De,ye=1024){const Fe=[];let it=De.slice();for(const Bt of De){const ft=Fe.find(Zt=>Zt.agent===Bt.agent);if(ft){if(ft.dates.push(Bt.date),Di(Fe)>ye){ft.dates.pop();break}}else if(Fe.push({agent:Bt.agent,dates:[Bt.date]}),Di(Fe)>ye){Fe.pop();break}it=it.slice(1)}return{heartbeatsToSend:Fe,unsentEntries:it}}(ye._heartbeatsCache.heartbeats),Zt=(0,F.Uj)(JSON.stringify({version:2,heartbeats:Bt}));return ye._heartbeatsCache.lastSentHeartbeatDate=it,ft.length>0?(ye._heartbeatsCache.heartbeats=ft,yield ye._storage.overwrite(ye._heartbeatsCache)):(ye._heartbeatsCache.heartbeats=[],ye._storage.overwrite(ye._heartbeatsCache)),Zt}catch(it){return ht.warn(it),""}})()}}function Yo(){return(new Date).toISOString().substring(0,10)}class xi{constructor(ye){this.app=ye,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,E.A)(function*(){return!!(0,F.zW)()&&(0,F.eX)().then(()=>!0).catch(()=>!1)})()}read(){var ye=this;return(0,E.A)(function*(){if(yield ye._canUseIndexedDBPromise){const it=yield function mt(De){return Ut.apply(this,arguments)}(ye.app);return it?.heartbeats?it:{heartbeats:[]}}return{heartbeats:[]}})()}overwrite(ye){var Fe=this;return(0,E.A)(function*(){var it;if(yield Fe._canUseIndexedDBPromise){const ft=yield Fe.read();return Ln(Fe.app,{lastSentHeartbeatDate:null!==(it=ye.lastSentHeartbeatDate)&&void 0!==it?it:ft.lastSentHeartbeatDate,heartbeats:ye.heartbeats})}})()}add(ye){var Fe=this;return(0,E.A)(function*(){var it;if(yield Fe._canUseIndexedDBPromise){const ft=yield Fe.read();return Ln(Fe.app,{lastSentHeartbeatDate:null!==(it=ye.lastSentHeartbeatDate)&&void 0!==it?it:ft.lastSentHeartbeatDate,heartbeats:[...ft.heartbeats,...ye.heartbeats]})}})()}}function Di(De){return(0,F.Uj)(JSON.stringify({version:2,heartbeats:De})).length}!function hn(De){kr(new V.uA("platform-logger",ye=>new $e(ye),"PRIVATE")),kr(new V.uA("heartbeat",ye=>new La(ye),"PRIVATE")),fi(Ue,bt,De),fi(Ue,bt,"esm2017"),fi("fire-js","")}("")},362:(st,Je,oe)=>{"use strict";oe.d(Je,{h1:()=>L,uA:()=>re});var E=oe(467),V=oe(76);class re{constructor(x,S,B){this.name=x,this.instanceFactory=S,this.type=B,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(x){return this.instantiationMode=x,this}setMultipleInstances(x){return this.multipleInstances=x,this}setServiceProps(x){return this.serviceProps=x,this}setInstanceCreatedCallback(x){return this.onInstanceCreated=x,this}}const F="[DEFAULT]";class ve{constructor(x,S){this.name=x,this.container=S,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(x){const S=this.normalizeInstanceIdentifier(x);if(!this.instancesDeferred.has(S)){const B=new V.cY;if(this.instancesDeferred.set(S,B),this.isInitialized(S)||this.shouldAutoInitialize())try{const k=this.getOrInitializeService({instanceIdentifier:S});k&&B.resolve(k)}catch{}}return this.instancesDeferred.get(S).promise}getImmediate(x){var S;const B=this.normalizeInstanceIdentifier(x?.identifier),k=null!==(S=x?.optional)&&void 0!==S&&S;if(!this.isInitialized(B)&&!this.shouldAutoInitialize()){if(k)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:B})}catch(W){if(k)return null;throw W}}getComponent(){return this.component}setComponent(x){if(x.name!==this.name)throw Error(`Mismatching Component ${x.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=x,this.shouldAutoInitialize()){if(function ce(z){return"EAGER"===z.instantiationMode}(x))try{this.getOrInitializeService({instanceIdentifier:F})}catch{}for(const[S,B]of this.instancesDeferred.entries()){const k=this.normalizeInstanceIdentifier(S);try{const W=this.getOrInitializeService({instanceIdentifier:k});B.resolve(W)}catch{}}}}clearInstance(x=F){this.instancesDeferred.delete(x),this.instancesOptions.delete(x),this.instances.delete(x)}delete(){var x=this;return(0,E.A)(function*(){const S=Array.from(x.instances.values());yield Promise.all([...S.filter(B=>"INTERNAL"in B).map(B=>B.INTERNAL.delete()),...S.filter(B=>"_delete"in B).map(B=>B._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(x=F){return this.instances.has(x)}getOptions(x=F){return this.instancesOptions.get(x)||{}}initialize(x={}){const{options:S={}}=x,B=this.normalizeInstanceIdentifier(x.instanceIdentifier);if(this.isInitialized(B))throw Error(`${this.name}(${B}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const k=this.getOrInitializeService({instanceIdentifier:B,options:S});for(const[W,H]of this.instancesDeferred.entries())B===this.normalizeInstanceIdentifier(W)&&H.resolve(k);return k}onInit(x,S){var B;const k=this.normalizeInstanceIdentifier(S),W=null!==(B=this.onInitCallbacks.get(k))&&void 0!==B?B:new Set;W.add(x),this.onInitCallbacks.set(k,W);const H=this.instances.get(k);return H&&x(H,k),()=>{W.delete(x)}}invokeOnInitCallbacks(x,S){const B=this.onInitCallbacks.get(S);if(B)for(const k of B)try{k(x,S)}catch{}}getOrInitializeService({instanceIdentifier:x,options:S={}}){let B=this.instances.get(x);if(!B&&this.component&&(B=this.component.instanceFactory(this.container,{instanceIdentifier:(z=x,z===F?void 0:z),options:S}),this.instances.set(x,B),this.instancesOptions.set(x,S),this.invokeOnInitCallbacks(B,x),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,x,B)}catch{}var z;return B||null}normalizeInstanceIdentifier(x=F){return this.component?this.component.multipleInstances?x:F:x}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class L{constructor(x){this.name=x,this.providers=new Map}addComponent(x){const S=this.getProvider(x.name);if(S.isComponentSet())throw new Error(`Component ${x.name} has already been registered with ${this.name}`);S.setComponent(x)}addOrOverwriteComponent(x){this.getProvider(x.name).isComponentSet()&&this.providers.delete(x.name),this.addComponent(x)}getProvider(x){if(this.providers.has(x))return this.providers.get(x);const S=new ve(x,this);return this.providers.set(x,S),S}getProviders(){return Array.from(this.providers.values())}}},41:(st,Je,oe)=>{"use strict";oe.d(Je,{$b:()=>V,Ey:()=>z,He:()=>L,Vy:()=>ce});const E=[];var V=function(x){return x[x.DEBUG=0]="DEBUG",x[x.VERBOSE=1]="VERBOSE",x[x.INFO=2]="INFO",x[x.WARN=3]="WARN",x[x.ERROR=4]="ERROR",x[x.SILENT=5]="SILENT",x}(V||{});const re={debug:V.DEBUG,verbose:V.VERBOSE,info:V.INFO,warn:V.WARN,error:V.ERROR,silent:V.SILENT},F=V.INFO,ve={[V.DEBUG]:"log",[V.VERBOSE]:"log",[V.INFO]:"info",[V.WARN]:"warn",[V.ERROR]:"error"},de=(x,S,...B)=>{if(S<x.logLevel)return;const k=(new Date).toISOString(),W=ve[S];if(!W)throw new Error(`Attempted to log a message with an invalid logType (value: ${S})`);console[W](`[${k}]  ${x.name}:`,...B)};class ce{constructor(S){this.name=S,this._logLevel=F,this._logHandler=de,this._userLogHandler=null,E.push(this)}get logLevel(){return this._logLevel}set logLevel(S){if(!(S in V))throw new TypeError(`Invalid value "${S}" assigned to \`logLevel\``);this._logLevel=S}setLogLevel(S){this._logLevel="string"==typeof S?re[S]:S}get logHandler(){return this._logHandler}set logHandler(S){if("function"!=typeof S)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=S}get userLogHandler(){return this._userLogHandler}set userLogHandler(S){this._userLogHandler=S}debug(...S){this._userLogHandler&&this._userLogHandler(this,V.DEBUG,...S),this._logHandler(this,V.DEBUG,...S)}log(...S){this._userLogHandler&&this._userLogHandler(this,V.VERBOSE,...S),this._logHandler(this,V.VERBOSE,...S)}info(...S){this._userLogHandler&&this._userLogHandler(this,V.INFO,...S),this._logHandler(this,V.INFO,...S)}warn(...S){this._userLogHandler&&this._userLogHandler(this,V.WARN,...S),this._logHandler(this,V.WARN,...S)}error(...S){this._userLogHandler&&this._userLogHandler(this,V.ERROR,...S),this._logHandler(this,V.ERROR,...S)}}function L(x){E.forEach(S=>{S.setLogLevel(x)})}function z(x,S){for(const B of E){let k=null;S&&S.level&&(k=re[S.level]),B.userLogHandler=null===x?null:(W,H,...le)=>{const ae=le.map(M=>{if(null==M)return null;if("string"==typeof M)return M;if("number"==typeof M||"boolean"==typeof M)return M.toString();if(M instanceof Error)return M.message;try{return JSON.stringify(M)}catch{return null}}).filter(M=>M).join(" ");H>=(k??W.logLevel)&&x({level:V[H].toLowerCase(),message:ae,args:le,type:W.name})}}}},955:(st,Je,oe)=>{"use strict";var E=oe(467),V=oe(345),re=oe(852),F=oe(76),ve=oe(41),de=oe(635),ce=oe(362);const z={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"};const H=function k(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registered for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is incorrect, malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-password":"A non-empty password must be provided","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance.","missing-recaptcha-token":"The reCAPTCHA token is missing when sending request to the backend.","invalid-recaptcha-token":"The reCAPTCHA token is invalid when sending request to the backend.","invalid-recaptcha-action":"The reCAPTCHA action is invalid when sending request to the backend.","recaptcha-not-enabled":"reCAPTCHA Enterprise integration is not enabled for this project.","missing-client-type":"The reCAPTCHA client type is missing when sending request to the backend.","missing-recaptcha-version":"The reCAPTCHA version is missing when sending request to the backend.","invalid-req-type":"Invalid request parameters.","invalid-recaptcha-version":"The reCAPTCHA version is invalid when sending request to the backend.","unsupported-password-policy-schema-version":"The password policy received from the backend uses a schema version that is not supported by this version of the Firebase SDK.","password-does-not-meet-requirements":"The password does not meet the requirements."}},le=function W(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},ae=new F.FA("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),$=new ve.Vy("@firebase/auth");function he(f,...u){$.logLevel<=ve.$b.ERROR&&$.error(`Auth (${re.SDK_VERSION}): ${f}`,...u)}function me(f,...u){throw Ve(f,...u)}function Ee(f,...u){return Ve(f,...u)}function Be(f,u,d){const g=Object.assign(Object.assign({},le()),{[u]:d});return new F.FA("auth","Firebase",g).create(u,{appName:f.name})}function xe(f){return Be(f,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Le(f,u,d){if(!(u instanceof d))throw d.name!==u.constructor.name&&me(f,"argument-error"),Be(f,"argument-error",`Type of ${u.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Ve(f,...u){if("string"!=typeof f){const d=u[0],g=[...u.slice(1)];return g[0]&&(g[0].appName=f.name),f._errorFactory.create(d,...g)}return ae.create(f,...u)}function Y(f,u,...d){if(!f)throw Ve(u,...d)}function $e(f){const u="INTERNAL ASSERTION FAILED: "+f;throw he(u),new Error(u)}function tt(f,u){f||$e(u)}function Ue(){var f;return typeof self<"u"&&(null===(f=self.location)||void 0===f?void 0:f.href)||""}function bt(){return"http:"===ht()||"https:"===ht()}function ht(){var f;return typeof self<"u"&&(null===(f=self.location)||void 0===f?void 0:f.protocol)||null}class U{constructor(u,d){this.shortDelay=u,this.longDelay=d,tt(d>u,"Short delay should be less than long delay!"),this.isMobile=(0,F.jZ)()||(0,F.lV)()}get(){return function Rt(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(bt()||(0,F.sr)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function q(f,u){tt(f.emulator,"Emulator should always be set here");const{url:d}=f.emulator;return u?`${d}${u.startsWith("/")?u.slice(1):u}`:d}class ie{static initialize(u,d,g){this.fetchImpl=u,d&&(this.headersImpl=d),g&&(this.responseImpl=g)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:typeof globalThis<"u"&&globalThis.fetch?globalThis.fetch:typeof fetch<"u"?fetch:void $e("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:typeof globalThis<"u"&&globalThis.Headers?globalThis.Headers:typeof Headers<"u"?Headers:void $e("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:typeof globalThis<"u"&&globalThis.Response?globalThis.Response:typeof Response<"u"?Response:void $e("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const X={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},je=new U(3e4,6e4);function Re(f,u){return f.tenantId&&!u.tenantId?Object.assign(Object.assign({},u),{tenantId:f.tenantId}):u}function Xe(f,u,d,g){return lt.apply(this,arguments)}function lt(){return(lt=(0,E.A)(function*(f,u,d,g,I={}){return $n(f,I,(0,E.A)(function*(){let T={},K={};g&&("GET"===u?K=g:T={body:JSON.stringify(g)});const pe=(0,F.Am)(Object.assign({key:f.config.apiKey},K)).slice(1),ke=yield f._getAdditionalHeaders();ke["Content-Type"]="application/json",f.languageCode&&(ke["X-Firebase-Locale"]=f.languageCode);const at=Object.assign({method:u,headers:ke},T);return(0,F.c1)()||(at.referrerPolicy="no-referrer"),ie.fetch()(vt(f,f.config.apiHost,d,pe),at)}))})).apply(this,arguments)}function $n(f,u,d){return Et.apply(this,arguments)}function Et(){return(Et=(0,E.A)(function*(f,u,d){f._canInitEmulator=!1;const g=Object.assign(Object.assign({},X),u);try{const I=new An(f),T=yield Promise.race([d(),I.promise]);I.clearNetworkTimeout();const K=yield T.json();if("needConfirmation"in K)throw Pn(f,"account-exists-with-different-credential",K);if(T.ok&&!("errorMessage"in K))return K;{const pe=T.ok?K.errorMessage:K.error.message,[ke,at]=pe.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===ke)throw Pn(f,"credential-already-in-use",K);if("EMAIL_EXISTS"===ke)throw Pn(f,"email-already-in-use",K);if("USER_DISABLED"===ke)throw Pn(f,"user-disabled",K);const yt=g[ke]||ke.toLowerCase().replace(/[_\s]+/g,"-");if(at)throw Be(f,yt,at);me(f,yt)}}catch(I){if(I instanceof F.g)throw I;me(f,"network-request-failed",{message:String(I)})}})).apply(this,arguments)}function Qt(f,u,d,g){return mn.apply(this,arguments)}function mn(){return(mn=(0,E.A)(function*(f,u,d,g,I={}){const T=yield Xe(f,u,d,g,I);return"mfaPendingCredential"in T&&me(f,"multi-factor-auth-required",{_serverResponse:T}),T})).apply(this,arguments)}function vt(f,u,d,g){const I=`${u}${d}?${g}`;return f.config.emulator?q(f.config,I):`${f.config.apiScheme}://${I}`}function Wt(f){switch(f){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class An{constructor(u){this.auth=u,this.timer=null,this.promise=new Promise((d,g)=>{this.timer=setTimeout(()=>g(Ee(this.auth,"network-request-failed")),je.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Pn(f,u,d){const g={appName:f.name};d.email&&(g.email=d.email),d.phoneNumber&&(g.phoneNumber=d.phoneNumber);const I=Ee(f,u,g);return I.customData._tokenResponse=d,I}function zt(f){return void 0!==f&&void 0!==f.getResponse}function tr(f){return void 0!==f&&void 0!==f.enterprise}class Ji{constructor(u){if(this.siteKey="",this.recaptchaEnforcementState=[],void 0===u.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=u.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=u.recaptchaEnforcementState}getProviderEnforcementState(u){if(!this.recaptchaEnforcementState||0===this.recaptchaEnforcementState.length)return null;for(const d of this.recaptchaEnforcementState)if(d.provider&&d.provider===u)return Wt(d.enforcementState);return null}isProviderEnabled(u){return"ENFORCE"===this.getProviderEnforcementState(u)||"AUDIT"===this.getProviderEnforcementState(u)}}function xt(){return(xt=(0,E.A)(function*(f){return(yield Xe(f,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function dn(f,u){return On.apply(this,arguments)}function On(){return(On=(0,E.A)(function*(f,u){return Xe(f,"GET","/v2/recaptchaConfig",Re(f,u))})).apply(this,arguments)}function yn(){return(yn=(0,E.A)(function*(f,u){return Xe(f,"POST","/v1/accounts:delete",u)})).apply(this,arguments)}function nr(){return(nr=(0,E.A)(function*(f,u){return Xe(f,"POST","/v1/accounts:update",u)})).apply(this,arguments)}function ti(f,u){return Fn.apply(this,arguments)}function Fn(){return(Fn=(0,E.A)(function*(f,u){return Xe(f,"POST","/v1/accounts:lookup",u)})).apply(this,arguments)}function wn(f){if(f)try{const u=new Date(Number(f));if(!isNaN(u.getTime()))return u.toUTCString()}catch{}}function Ai(){return(Ai=(0,E.A)(function*(f,u=!1){const d=(0,F.Ku)(f),g=yield d.getIdToken(u),I=hi(g);Y(I&&I.exp&&I.auth_time&&I.iat,d.auth,"internal-error");const T="object"==typeof I.firebase?I.firebase:void 0,K=T?.sign_in_provider;return{claims:I,token:g,authTime:wn(Ci(I.auth_time)),issuedAtTime:wn(Ci(I.iat)),expirationTime:wn(Ci(I.exp)),signInProvider:K||null,signInSecondFactor:T?.sign_in_second_factor||null}})).apply(this,arguments)}function Ci(f){return 1e3*Number(f)}function hi(f){const[u,d,g]=f.split(".");if(void 0===u||void 0===d||void 0===g)return he("JWT malformed, contained fewer than 3 sections"),null;try{const I=(0,F.u)(d);return I?JSON.parse(I):(he("Failed to decode base64 JWT payload"),null)}catch(I){return he("Caught error parsing JWT payload as JSON",I?.toString()),null}}function Li(f){const u=hi(f);return Y(u,"internal-error"),Y(typeof u.exp<"u","internal-error"),Y(typeof u.iat<"u","internal-error"),Number(u.exp)-Number(u.iat)}function Or(f,u){return Ls.apply(this,arguments)}function Ls(){return(Ls=(0,E.A)(function*(f,u,d=!1){if(d)return u;try{return yield u}catch(g){throw g instanceof F.g&&function Vn({code:f}){return"auth/user-disabled"===f||"auth/user-token-expired"===f}(g)&&f.auth.currentUser===f&&(yield f.auth.signOut()),g}})).apply(this,arguments)}class io{constructor(u){this.user=u,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(u){var d;if(u){const g=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),g}{this.errorBackoff=3e4;const I=(null!==(d=this.user.stsTokenManager.expirationTime)&&void 0!==d?d:0)-Date.now()-3e5;return Math.max(0,I)}}schedule(u=!1){var d=this;if(!this.isRunning)return;const g=this.getInterval(u);this.timerId=setTimeout((0,E.A)(function*(){yield d.iteration()}),g)}iteration(){var u=this;return(0,E.A)(function*(){try{yield u.user.getIdToken(!0)}catch(d){return void("auth/network-request-failed"===d?.code&&u.schedule(!0))}u.schedule()})()}}class _s{constructor(u,d){this.createdAt=u,this.lastLoginAt=d,this._initializeTime()}_initializeTime(){this.lastSignInTime=wn(this.lastLoginAt),this.creationTime=wn(this.createdAt)}_copy(u){this.createdAt=u.createdAt,this.lastLoginAt=u.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function br(f){return vs.apply(this,arguments)}function vs(){return(vs=(0,E.A)(function*(f){var u;const d=f.auth,g=yield f.getIdToken(),I=yield Or(f,ti(d,{idToken:g}));Y(I?.users.length,d,"internal-error");const T=I.users[0];f._notifyReloadListener(T);const K=null!==(u=T.providerUserInfo)&&void 0!==u&&u.length?ao(T.providerUserInfo):[],pe=function oo(f,u){return[...f.filter(g=>!u.some(I=>I.providerId===g.providerId)),...u]}(f.providerData,K),yt=!!f.isAnonymous&&!(f.email&&T.passwordHash||pe?.length),_t={uid:T.localId,displayName:T.displayName||null,photoURL:T.photoUrl||null,email:T.email||null,emailVerified:T.emailVerified||!1,phoneNumber:T.phoneNumber||null,tenantId:T.tenantId||null,providerData:pe,metadata:new _s(T.createdAt,T.lastLoginAt),isAnonymous:yt};Object.assign(f,_t)})).apply(this,arguments)}function rn(){return(rn=(0,E.A)(function*(f){const u=(0,F.Ku)(f);yield br(u),yield u.auth._persistUserIfCurrent(u),u.auth._notifyListenersIfCurrent(u)})).apply(this,arguments)}function ao(f){return f.map(u=>{var{providerId:d}=u,g=(0,de.Tt)(u,["providerId"]);return{providerId:d,uid:g.rawId||"",displayName:g.displayName||null,email:g.email||null,phoneNumber:g.phoneNumber||null,photoURL:g.photoUrl||null}})}function fi(){return(fi=(0,E.A)(function*(f,u){const d=yield $n(f,{},(0,E.A)(function*(){const g=(0,F.Am)({grant_type:"refresh_token",refresh_token:u}).slice(1),{tokenApiHost:I,apiKey:T}=f.config,K=vt(f,I,"/v1/token",`key=${T}`),pe=yield f._getAdditionalHeaders();return pe["Content-Type"]="application/x-www-form-urlencoded",ie.fetch()(K,{method:"POST",headers:pe,body:g})}));return{accessToken:d.access_token,expiresIn:d.expires_in,refreshToken:d.refresh_token}})).apply(this,arguments)}function G(){return(G=(0,E.A)(function*(f,u){return Xe(f,"POST","/v2/accounts:revokeToken",Re(f,u))})).apply(this,arguments)}class Z{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(u){Y(u.idToken,"internal-error"),Y(typeof u.idToken<"u","internal-error"),Y(typeof u.refreshToken<"u","internal-error");const d="expiresIn"in u&&typeof u.expiresIn<"u"?Number(u.expiresIn):Li(u.idToken);this.updateTokensAndExpiration(u.idToken,u.refreshToken,d)}updateFromIdToken(u){Y(0!==u.length,"internal-error");const d=Li(u);this.updateTokensAndExpiration(u,null,d)}getToken(u,d=!1){var g=this;return(0,E.A)(function*(){return d||!g.accessToken||g.isExpired?(Y(g.refreshToken,u,"user-token-expired"),g.refreshToken?(yield g.refresh(u,g.refreshToken),g.accessToken):null):g.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(u,d){var g=this;return(0,E.A)(function*(){const{accessToken:I,refreshToken:T,expiresIn:K}=yield function ni(f,u){return fi.apply(this,arguments)}(u,d);g.updateTokensAndExpiration(I,T,Number(K))})()}updateTokensAndExpiration(u,d,g){this.refreshToken=d||null,this.accessToken=u||null,this.expirationTime=Date.now()+1e3*g}static fromJSON(u,d){const{refreshToken:g,accessToken:I,expirationTime:T}=d,K=new Z;return g&&(Y("string"==typeof g,"internal-error",{appName:u}),K.refreshToken=g),I&&(Y("string"==typeof I,"internal-error",{appName:u}),K.accessToken=I),T&&(Y("number"==typeof T,"internal-error",{appName:u}),K.expirationTime=T),K}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(u){this.accessToken=u.accessToken,this.refreshToken=u.refreshToken,this.expirationTime=u.expirationTime}_clone(){return Object.assign(new Z,this.toJSON())}_performRefresh(){return $e("not implemented")}}function Me(f,u){Y("string"==typeof f||typeof f>"u","internal-error",{appName:u})}class fe{constructor(u){var{uid:d,auth:g,stsTokenManager:I}=u,T=(0,de.Tt)(u,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new io(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=d,this.auth=g,this.stsTokenManager=I,this.accessToken=I.accessToken,this.displayName=T.displayName||null,this.email=T.email||null,this.emailVerified=T.emailVerified||!1,this.phoneNumber=T.phoneNumber||null,this.photoURL=T.photoURL||null,this.isAnonymous=T.isAnonymous||!1,this.tenantId=T.tenantId||null,this.providerData=T.providerData?[...T.providerData]:[],this.metadata=new _s(T.createdAt||void 0,T.lastLoginAt||void 0)}getIdToken(u){var d=this;return(0,E.A)(function*(){const g=yield Or(d,d.stsTokenManager.getToken(d.auth,u));return Y(g,d.auth,"internal-error"),d.accessToken!==g&&(d.accessToken=g,yield d.auth._persistUserIfCurrent(d),d.auth._notifyListenersIfCurrent(d)),g})()}getIdTokenResult(u){return function kr(f){return Ai.apply(this,arguments)}(this,u)}reload(){return function so(f){return rn.apply(this,arguments)}(this)}_assign(u){this!==u&&(Y(this.uid===u.uid,this.auth,"internal-error"),this.displayName=u.displayName,this.photoURL=u.photoURL,this.email=u.email,this.emailVerified=u.emailVerified,this.phoneNumber=u.phoneNumber,this.isAnonymous=u.isAnonymous,this.tenantId=u.tenantId,this.providerData=u.providerData.map(d=>Object.assign({},d)),this.metadata._copy(u.metadata),this.stsTokenManager._assign(u.stsTokenManager))}_clone(u){const d=new fe(Object.assign(Object.assign({},this),{auth:u,stsTokenManager:this.stsTokenManager._clone()}));return d.metadata._copy(this.metadata),d}_onReload(u){Y(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=u,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(u){this.reloadListener?this.reloadListener(u):this.reloadUserInfo=u}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(u,d=!1){var g=this;return(0,E.A)(function*(){let I=!1;u.idToken&&u.idToken!==g.stsTokenManager.accessToken&&(g.stsTokenManager.updateFromServerResponse(u),I=!0),d&&(yield br(g)),yield g.auth._persistUserIfCurrent(g),I&&g.auth._notifyListenersIfCurrent(g)})()}delete(){var u=this;return(0,E.A)(function*(){if((0,re._isFirebaseServerApp)(u.auth.app))return Promise.reject(xe(u.auth));const d=yield u.getIdToken();return yield Or(u,function Nr(f,u){return yn.apply(this,arguments)}(u.auth,{idToken:d})),u.stsTokenManager.clearRefreshToken(),u.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(u=>Object.assign({},u)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(u,d){var g,I,T,K,pe,ke,at,yt;const _t=null!==(g=d.displayName)&&void 0!==g?g:void 0,an=null!==(I=d.email)&&void 0!==I?I:void 0,Eo=null!==(T=d.phoneNumber)&&void 0!==T?T:void 0,Yc=null!==(K=d.photoURL)&&void 0!==K?K:void 0,UI=null!==(pe=d.tenantId)&&void 0!==pe?pe:void 0,Xc=null!==(ke=d._redirectEventId)&&void 0!==ke?ke:void 0,qs=null!==(at=d.createdAt)&&void 0!==at?at:void 0,Pg=null!==(yt=d.lastLoginAt)&&void 0!==yt?yt:void 0,{uid:ma,emailVerified:u_,isAnonymous:c_,providerData:Bh,stsTokenManager:jI}=d;Y(ma&&jI,u,"internal-error");const I1=Z.fromJSON(this.name,jI);Y("string"==typeof ma,u,"internal-error"),Me(_t,u.name),Me(an,u.name),Y("boolean"==typeof u_,u,"internal-error"),Y("boolean"==typeof c_,u,"internal-error"),Me(Eo,u.name),Me(Yc,u.name),Me(UI,u.name),Me(Xc,u.name),Me(qs,u.name),Me(Pg,u.name);const d_=new fe({uid:ma,auth:u,email:an,emailVerified:u_,displayName:_t,isAnonymous:c_,photoURL:Yc,phoneNumber:Eo,tenantId:UI,stsTokenManager:I1,createdAt:qs,lastLoginAt:Pg});return Bh&&Array.isArray(Bh)&&(d_.providerData=Bh.map(b1=>Object.assign({},b1))),Xc&&(d_._redirectEventId=Xc),d_}static _fromIdTokenResponse(u,d,g=!1){return(0,E.A)(function*(){const I=new Z;I.updateFromServerResponse(d);const T=new fe({uid:d.localId,auth:u,stsTokenManager:I,isAnonymous:g});return yield br(T),T})()}static _fromGetAccountInfoResponse(u,d,g){return(0,E.A)(function*(){const I=d.users[0];Y(void 0!==I.localId,"internal-error");const T=void 0!==I.providerUserInfo?ao(I.providerUserInfo):[],K=!(I.email&&I.passwordHash||T?.length),pe=new Z;pe.updateFromIdToken(g);const ke=new fe({uid:I.localId,auth:u,stsTokenManager:pe,isAnonymous:K}),at={uid:I.localId,displayName:I.displayName||null,photoURL:I.photoUrl||null,email:I.email||null,emailVerified:I.emailVerified||!1,phoneNumber:I.phoneNumber||null,tenantId:I.tenantId||null,providerData:T,metadata:new _s(I.createdAt,I.lastLoginAt),isAnonymous:!(I.email&&I.passwordHash||T?.length)};return Object.assign(ke,at),ke})()}}const rt=new Map;function Dt(f){tt(f instanceof Function,"Expected a class definition");let u=rt.get(f);return u?(tt(u instanceof f,"Instance stored in cache mismatched with class"),u):(u=new f,rt.set(f,u),u)}const Ut=(()=>{class f{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,E.A)(function*(){return!0})()}_set(d,g){var I=this;return(0,E.A)(function*(){I.storage[d]=g})()}_get(d){var g=this;return(0,E.A)(function*(){const I=g.storage[d];return void 0===I?null:I})()}_remove(d){var g=this;return(0,E.A)(function*(){delete g.storage[d]})()}_addListener(d,g){}_removeListener(d,g){}}return f.type="NONE",f})();function Ln(f,u,d){return`firebase:${f}:${u}:${d}`}class Ae{constructor(u,d,g){this.persistence=u,this.auth=d,this.userKey=g;const{config:I,name:T}=this.auth;this.fullUserKey=Ln(this.userKey,I.apiKey,T),this.fullPersistenceKey=Ln("persistence",I.apiKey,T),this.boundEventHandler=d._onStorageEvent.bind(d),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(u){return this.persistence._set(this.fullUserKey,u.toJSON())}getCurrentUser(){var u=this;return(0,E.A)(function*(){const d=yield u.persistence._get(u.fullUserKey);return d?fe._fromJSON(u.auth,d):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(u){var d=this;return(0,E.A)(function*(){if(d.persistence===u)return;const g=yield d.getCurrentUser();return yield d.removeCurrentUser(),d.persistence=u,g?d.setCurrentUser(g):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(u,d,g="authUser"){return(0,E.A)(function*(){if(!d.length)return new Ae(Dt(Ut),u,g);const I=(yield Promise.all(d.map(function(){var at=(0,E.A)(function*(yt){if(yield yt._isAvailable())return yt});return function(yt){return at.apply(this,arguments)}}()))).filter(at=>at);let T=I[0]||Dt(Ut);const K=Ln(g,u.config.apiKey,u.name);let pe=null;for(const at of d)try{const yt=yield at._get(K);if(yt){const _t=fe._fromJSON(u,yt);at!==T&&(pe=_t),T=at;break}}catch{}const ke=I.filter(at=>at._shouldAllowMigration);return T._shouldAllowMigration&&ke.length?(T=ke[0],pe&&(yield T._set(K,pe.toJSON())),yield Promise.all(d.map(function(){var at=(0,E.A)(function*(yt){if(yt!==T)try{yield yt._remove(K)}catch{}});return function(yt){return at.apply(this,arguments)}}())),new Ae(T,u,g)):new Ae(T,u,g)})()}}function Xt(f){const u=f.toLowerCase();if(u.includes("opera/")||u.includes("opr/")||u.includes("opios/"))return"Opera";if(Yo(u))return"IEMobile";if(u.includes("msie")||u.includes("trident/"))return"IE";if(u.includes("edge/"))return"Edge";if(Fr(u))return"Firefox";if(u.includes("silk/"))return"Silk";if(xi(u))return"Blackberry";if(Di(u))return"Webos";if(ws(u))return"Safari";if((u.includes("chrome/")||La(u))&&!u.includes("edge/"))return"Chrome";if(Bi(u))return"Android";{const g=f.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===g?.length)return g[1]}return"Other"}function Fr(f=(0,F.ZQ)()){return/firefox\//i.test(f)}function ws(f=(0,F.ZQ)()){const u=f.toLowerCase();return u.includes("safari/")&&!u.includes("chrome/")&&!u.includes("crios/")&&!u.includes("android")}function La(f=(0,F.ZQ)()){return/crios\//i.test(f)}function Yo(f=(0,F.ZQ)()){return/iemobile/i.test(f)}function Bi(f=(0,F.ZQ)()){return/android/i.test(f)}function xi(f=(0,F.ZQ)()){return/blackberry/i.test(f)}function Di(f=(0,F.ZQ)()){return/webos/i.test(f)}function hn(f=(0,F.ZQ)()){return/iphone|ipad|ipod/i.test(f)||/macintosh/i.test(f)&&/mobile/i.test(f)}function it(f=(0,F.ZQ)()){return hn(f)||Bi(f)||Di(f)||xi(f)||/windows phone/i.test(f)||Yo(f)}function Bt(f,u=[]){let d;switch(f){case"Browser":d=Xt((0,F.ZQ)());break;case"Worker":d=`${Xt((0,F.ZQ)())}-${f}`;break;default:d=f}const g=u.length?u.join(","):"FirebaseCore-web";return`${d}/JsCore/${re.SDK_VERSION}/${g}`}class ft{constructor(u){this.auth=u,this.queue=[]}pushCallback(u,d){const g=T=>new Promise((K,pe)=>{try{K(u(T))}catch(ke){pe(ke)}});g.onAbort=d,this.queue.push(g);const I=this.queue.length-1;return()=>{this.queue[I]=()=>Promise.resolve()}}runMiddleware(u){var d=this;return(0,E.A)(function*(){if(d.auth.currentUser===u)return;const g=[];try{for(const I of d.queue)yield I(u),I.onAbort&&g.push(I.onAbort)}catch(I){g.reverse();for(const T of g)try{T()}catch{}throw d.auth._errorFactory.create("login-blocked",{originalMessage:I?.message})}})()}}function Mn(){return(Mn=(0,E.A)(function*(f,u={}){return Xe(f,"GET","/v2/passwordPolicy",Re(f,u))})).apply(this,arguments)}class pi{constructor(u){var d,g,I,T;const K=u.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=null!==(d=K.minPasswordLength)&&void 0!==d?d:6,K.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=K.maxPasswordLength),void 0!==K.containsLowercaseCharacter&&(this.customStrengthOptions.containsLowercaseLetter=K.containsLowercaseCharacter),void 0!==K.containsUppercaseCharacter&&(this.customStrengthOptions.containsUppercaseLetter=K.containsUppercaseCharacter),void 0!==K.containsNumericCharacter&&(this.customStrengthOptions.containsNumericCharacter=K.containsNumericCharacter),void 0!==K.containsNonAlphanumericCharacter&&(this.customStrengthOptions.containsNonAlphanumericCharacter=K.containsNonAlphanumericCharacter),this.enforcementState=u.enforcementState,"ENFORCEMENT_STATE_UNSPECIFIED"===this.enforcementState&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=null!==(I=null===(g=u.allowedNonAlphanumericCharacters)||void 0===g?void 0:g.join(""))&&void 0!==I?I:"",this.forceUpgradeOnSignin=null!==(T=u.forceUpgradeOnSignin)&&void 0!==T&&T,this.schemaVersion=u.schemaVersion}validatePassword(u){var d,g,I,T,K,pe;const ke={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(u,ke),this.validatePasswordCharacterOptions(u,ke),ke.isValid&&(ke.isValid=null===(d=ke.meetsMinPasswordLength)||void 0===d||d),ke.isValid&&(ke.isValid=null===(g=ke.meetsMaxPasswordLength)||void 0===g||g),ke.isValid&&(ke.isValid=null===(I=ke.containsLowercaseLetter)||void 0===I||I),ke.isValid&&(ke.isValid=null===(T=ke.containsUppercaseLetter)||void 0===T||T),ke.isValid&&(ke.isValid=null===(K=ke.containsNumericCharacter)||void 0===K||K),ke.isValid&&(ke.isValid=null===(pe=ke.containsNonAlphanumericCharacter)||void 0===pe||pe),ke}validatePasswordLengthOptions(u,d){const g=this.customStrengthOptions.minPasswordLength,I=this.customStrengthOptions.maxPasswordLength;g&&(d.meetsMinPasswordLength=u.length>=g),I&&(d.meetsMaxPasswordLength=u.length<=I)}validatePasswordCharacterOptions(u,d){let g;this.updatePasswordCharacterOptionsStatuses(d,!1,!1,!1,!1);for(let I=0;I<u.length;I++)g=u.charAt(I),this.updatePasswordCharacterOptionsStatuses(d,g>="a"&&g<="z",g>="A"&&g<="Z",g>="0"&&g<="9",this.allowedNonAlphanumericCharacters.includes(g))}updatePasswordCharacterOptionsStatuses(u,d,g,I,T){this.customStrengthOptions.containsLowercaseLetter&&(u.containsLowercaseLetter||(u.containsLowercaseLetter=d)),this.customStrengthOptions.containsUppercaseLetter&&(u.containsUppercaseLetter||(u.containsUppercaseLetter=g)),this.customStrengthOptions.containsNumericCharacter&&(u.containsNumericCharacter||(u.containsNumericCharacter=I)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(u.containsNonAlphanumericCharacter||(u.containsNonAlphanumericCharacter=T))}}class Bn{constructor(u,d,g,I){this.app=u,this.heartbeatServiceProvider=d,this.appCheckServiceProvider=g,this.config=I,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Vp(this),this.idTokenSubscription=new Vp(this),this.beforeStateQueue=new ft(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=ae,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=u.name,this.clientVersion=I.sdkClientVersion}_initializeWithPersistence(u,d){var g=this;return d&&(this._popupRedirectResolver=Dt(d)),this._initializationPromise=this.queue((0,E.A)(function*(){var I,T;if(!g._deleted&&(g.persistenceManager=yield Ae.create(g,u),!g._deleted)){if(null!==(I=g._popupRedirectResolver)&&void 0!==I&&I._shouldInitProactively)try{yield g._popupRedirectResolver._initialize(g)}catch{}yield g.initializeCurrentUser(d),g.lastNotifiedUid=(null===(T=g.currentUser)||void 0===T?void 0:T.uid)||null,!g._deleted&&(g._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var u=this;return(0,E.A)(function*(){if(u._deleted)return;const d=yield u.assertedPersistence.getCurrentUser();if(u.currentUser||d){if(u.currentUser&&d&&u.currentUser.uid===d.uid)return u._currentUser._assign(d),void(yield u.currentUser.getIdToken());yield u._updateCurrentUser(d,!0)}})()}initializeCurrentUserFromIdToken(u){var d=this;return(0,E.A)(function*(){try{const g=yield ti(d,{idToken:u}),I=yield fe._fromGetAccountInfoResponse(d,g,u);yield d.directlySetCurrentUser(I)}catch(g){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",g),yield d.directlySetCurrentUser(null)}})()}initializeCurrentUser(u){var d=this;return(0,E.A)(function*(){var g;if((0,re._isFirebaseServerApp)(d.app)){const pe=d.app.settings.authIdToken;return pe?new Promise(ke=>{setTimeout(()=>d.initializeCurrentUserFromIdToken(pe).then(ke,ke))}):d.directlySetCurrentUser(null)}const I=yield d.assertedPersistence.getCurrentUser();let T=I,K=!1;if(u&&d.config.authDomain){yield d.getOrInitRedirectPersistenceManager();const pe=null===(g=d.redirectUser)||void 0===g?void 0:g._redirectEventId,ke=T?._redirectEventId,at=yield d.tryRedirectSignIn(u);(!pe||pe===ke)&&at?.user&&(T=at.user,K=!0)}if(!T)return d.directlySetCurrentUser(null);if(!T._redirectEventId){if(K)try{yield d.beforeStateQueue.runMiddleware(T)}catch(pe){T=I,d._popupRedirectResolver._overrideRedirectResult(d,()=>Promise.reject(pe))}return T?d.reloadAndSetCurrentUserOrClear(T):d.directlySetCurrentUser(null)}return Y(d._popupRedirectResolver,d,"argument-error"),yield d.getOrInitRedirectPersistenceManager(),d.redirectUser&&d.redirectUser._redirectEventId===T._redirectEventId?d.directlySetCurrentUser(T):d.reloadAndSetCurrentUserOrClear(T)})()}tryRedirectSignIn(u){var d=this;return(0,E.A)(function*(){let g=null;try{g=yield d._popupRedirectResolver._completeRedirectFn(d,u,!0)}catch{yield d._setRedirectUser(null)}return g})()}reloadAndSetCurrentUserOrClear(u){var d=this;return(0,E.A)(function*(){try{yield br(u)}catch(g){if("auth/network-request-failed"!==g?.code)return d.directlySetCurrentUser(null)}return d.directlySetCurrentUser(u)})()}useDeviceLanguage(){this.languageCode=function Ot(){if(typeof navigator>"u")return null;const f=navigator;return f.languages&&f.languages[0]||f.language||null}()}_delete(){var u=this;return(0,E.A)(function*(){u._deleted=!0})()}updateCurrentUser(u){var d=this;return(0,E.A)(function*(){if((0,re._isFirebaseServerApp)(d.app))return Promise.reject(xe(d));const g=u?(0,F.Ku)(u):null;return g&&Y(g.auth.config.apiKey===d.config.apiKey,d,"invalid-user-token"),d._updateCurrentUser(g&&g._clone(d))})()}_updateCurrentUser(u,d=!1){var g=this;return(0,E.A)(function*(){if(!g._deleted)return u&&Y(g.tenantId===u.tenantId,g,"tenant-id-mismatch"),d||(yield g.beforeStateQueue.runMiddleware(u)),g.queue((0,E.A)(function*(){yield g.directlySetCurrentUser(u),g.notifyAuthListeners()}))})()}signOut(){var u=this;return(0,E.A)(function*(){return(0,re._isFirebaseServerApp)(u.app)?Promise.reject(xe(u)):(yield u.beforeStateQueue.runMiddleware(null),(u.redirectPersistenceManager||u._popupRedirectResolver)&&(yield u._setRedirectUser(null)),u._updateCurrentUser(null,!0))})()}setPersistence(u){var d=this;return(0,re._isFirebaseServerApp)(this.app)?Promise.reject(xe(this)):this.queue((0,E.A)(function*(){yield d.assertedPersistence.setPersistence(Dt(u))}))}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(u){var d=this;return(0,E.A)(function*(){d._getPasswordPolicyInternal()||(yield d._updatePasswordPolicy());const g=d._getPasswordPolicyInternal();return g.schemaVersion!==d.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(d._errorFactory.create("unsupported-password-policy-schema-version",{})):g.validatePassword(u)})()}_getPasswordPolicyInternal(){return null===this.tenantId?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){var u=this;return(0,E.A)(function*(){const d=yield function Zt(f){return Mn.apply(this,arguments)}(u),g=new pi(d);null===u.tenantId?u._projectPasswordPolicy=g:u._tenantPasswordPolicies[u.tenantId]=g})()}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(u){this._errorFactory=new F.FA("auth","Firebase",u())}onAuthStateChanged(u,d,g){return this.registerStateListener(this.authStateSubscription,u,d,g)}beforeAuthStateChanged(u,d){return this.beforeStateQueue.pushCallback(u,d)}onIdTokenChanged(u,d,g){return this.registerStateListener(this.idTokenSubscription,u,d,g)}authStateReady(){return new Promise((u,d)=>{if(this.currentUser)u();else{const g=this.onAuthStateChanged(()=>{g(),u()},d)}})}revokeAccessToken(u){var d=this;return(0,E.A)(function*(){if(d.currentUser){const g=yield d.currentUser.getIdToken(),I={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:u,idToken:g};null!=d.tenantId&&(I.tenantId=d.tenantId),yield function Q(f,u){return G.apply(this,arguments)}(d,I)}})()}toJSON(){var u;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(u=this._currentUser)||void 0===u?void 0:u.toJSON()}}_setRedirectUser(u,d){var g=this;return(0,E.A)(function*(){const I=yield g.getOrInitRedirectPersistenceManager(d);return null===u?I.removeCurrentUser():I.setCurrentUser(u)})()}getOrInitRedirectPersistenceManager(u){var d=this;return(0,E.A)(function*(){if(!d.redirectPersistenceManager){const g=u&&Dt(u)||d._popupRedirectResolver;Y(g,d,"argument-error"),d.redirectPersistenceManager=yield Ae.create(d,[Dt(g._redirectPersistence)],"redirectUser"),d.redirectUser=yield d.redirectPersistenceManager.getCurrentUser()}return d.redirectPersistenceManager})()}_redirectUserForId(u){var d=this;return(0,E.A)(function*(){var g,I;return d._isInitialized&&(yield d.queue((0,E.A)(function*(){}))),(null===(g=d._currentUser)||void 0===g?void 0:g._redirectEventId)===u?d._currentUser:(null===(I=d.redirectUser)||void 0===I?void 0:I._redirectEventId)===u?d.redirectUser:null})()}_persistUserIfCurrent(u){var d=this;return(0,E.A)(function*(){if(u===d.currentUser)return d.queue((0,E.A)(function*(){return d.directlySetCurrentUser(u)}))})()}_notifyListenersIfCurrent(u){u===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var u,d;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const g=null!==(d=null===(u=this.currentUser)||void 0===u?void 0:u.uid)&&void 0!==d?d:null;this.lastNotifiedUid!==g&&(this.lastNotifiedUid=g,this.authStateSubscription.next(this.currentUser))}registerStateListener(u,d,g,I){if(this._deleted)return()=>{};const T="function"==typeof d?d:d.next.bind(d);let K=!1;const pe=this._isInitialized?Promise.resolve():this._initializationPromise;if(Y(pe,this,"internal-error"),pe.then(()=>{K||T(this.currentUser)}),"function"==typeof d){const ke=u.addObserver(d,g,I);return()=>{K=!0,ke()}}{const ke=u.addObserver(d);return()=>{K=!0,ke()}}}directlySetCurrentUser(u){var d=this;return(0,E.A)(function*(){d.currentUser&&d.currentUser!==u&&d._currentUser._stopProactiveRefresh(),u&&d.isProactiveRefreshEnabled&&u._startProactiveRefresh(),d.currentUser=u,u?yield d.assertedPersistence.setCurrentUser(u):yield d.assertedPersistence.removeCurrentUser()})()}queue(u){return this.operations=this.operations.then(u,u),this.operations}get assertedPersistence(){return Y(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(u){!u||this.frameworks.includes(u)||(this.frameworks.push(u),this.frameworks.sort(),this.clientVersion=Bt(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var u=this;return(0,E.A)(function*(){var d;const g={"X-Client-Version":u.clientVersion};u.app.options.appId&&(g["X-Firebase-gmpid"]=u.app.options.appId);const I=yield null===(d=u.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===d?void 0:d.getHeartbeatsHeader();I&&(g["X-Firebase-Client"]=I);const T=yield u._getAppCheckToken();return T&&(g["X-Firebase-AppCheck"]=T),g})()}_getAppCheckToken(){var u=this;return(0,E.A)(function*(){var d;const g=yield null===(d=u.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===d?void 0:d.getToken();return g?.error&&function we(f,...u){$.logLevel<=ve.$b.WARN&&$.warn(`Auth (${re.SDK_VERSION}): ${f}`,...u)}(`Error while retrieving App Check token: ${g.error}`),g?.token})()}}function In(f){return(0,F.Ku)(f)}class Vp{constructor(u){this.auth=u,this.observer=null,this.addObserver=(0,F.tD)(d=>this.observer=d)}get next(){return Y(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let Ba={loadJS:()=>(0,E.A)(function*(){throw new Error("Unable to load external scripts")})(),recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function Mt(f){return Ba.loadJS(f)}function dc(f){return`__${f}${Math.floor(1e6*Math.random())}`}class Xo{constructor(u){this.type="recaptcha-enterprise",this.auth=In(u)}verify(u="verify",d=!1){var g=this;return(0,E.A)(function*(){function T(){return T=(0,E.A)(function*(pe){if(!d){if(null==pe.tenantId&&null!=pe._agentRecaptchaConfig)return pe._agentRecaptchaConfig.siteKey;if(null!=pe.tenantId&&void 0!==pe._tenantRecaptchaConfigs[pe.tenantId])return pe._tenantRecaptchaConfigs[pe.tenantId].siteKey}return new Promise(function(){var ke=(0,E.A)(function*(at,yt){dn(pe,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(_t=>{if(void 0!==_t.recaptchaKey){const an=new Ji(_t);return null==pe.tenantId?pe._agentRecaptchaConfig=an:pe._tenantRecaptchaConfigs[pe.tenantId]=an,at(an.siteKey)}yt(new Error("recaptcha Enterprise site key undefined"))}).catch(_t=>{yt(_t)})});return function(at,yt){return ke.apply(this,arguments)}}())}),T.apply(this,arguments)}function K(pe,ke,at){const yt=window.grecaptcha;tr(yt)?yt.enterprise.ready(()=>{yt.enterprise.execute(pe,{action:u}).then(_t=>{ke(_t)}).catch(()=>{ke("NO_RECAPTCHA")})}):at(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((pe,ke)=>{(function I(pe){return T.apply(this,arguments)})(g.auth).then(at=>{if(!d&&tr(window.grecaptcha))K(at,pe,ke);else{if(typeof window>"u")return void ke(new Error("RecaptchaVerifier is only supported in browser"));let yt=function gi(){return Ba.recaptchaEnterpriseScript}();0!==yt.length&&(yt+=at),Mt(yt).then(()=>{K(at,pe,ke)}).catch(_t=>{ke(_t)})}}).catch(at=>{ke(at)})})})()}}function Wd(f,u,d){return Kd.apply(this,arguments)}function Kd(){return(Kd=(0,E.A)(function*(f,u,d,g=!1){const I=new Xo(f);let T;try{T=yield I.verify(d)}catch{T=yield I.verify(d,!0)}const K=Object.assign({},u);return Object.assign(K,g?{captchaResp:T}:{captchaResponse:T}),Object.assign(K,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(K,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),K})).apply(this,arguments)}function Zo(f,u,d,g){return jl.apply(this,arguments)}function jl(){return jl=(0,E.A)(function*(f,u,d,g){var I;if(null!==(I=f._getRecaptchaConfig())&&void 0!==I&&I.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const T=yield Wd(f,u,d,"getOobCode"===d);return g(f,T)}return g(f,u).catch(function(){var T=(0,E.A)(function*(K){if("auth/missing-recaptcha-token"===K.code){console.log(`${d} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const pe=yield Wd(f,u,d,"getOobCode"===d);return g(f,pe)}return Promise.reject(K)});return function(K){return T.apply(this,arguments)}}())}),jl.apply(this,arguments)}function Lp(f){const u=f.indexOf(":");return u<0?"":f.substr(0,u+1)}function Bp(f){if(!f)return null;const u=Number(f);return isNaN(u)?null:u}class Jo{constructor(u,d){this.providerId=u,this.signInMethod=d}toJSON(){return $e("not implemented")}_getIdTokenResponse(u){return $e("not implemented")}_linkToIdToken(u,d){return $e("not implemented")}_getReauthenticationResolver(u){return $e("not implemented")}}function pt(f,u){return Qd.apply(this,arguments)}function Qd(){return(Qd=(0,E.A)(function*(f,u){return Xe(f,"POST","/v1/accounts:resetPassword",Re(f,u))})).apply(this,arguments)}function ea(){return(ea=(0,E.A)(function*(f,u){return Xe(f,"POST","/v1/accounts:update",u)})).apply(this,arguments)}function jp(f,u){return $l.apply(this,arguments)}function $l(){return($l=(0,E.A)(function*(f,u){return Xe(f,"POST","/v1/accounts:signUp",u)})).apply(this,arguments)}function es(){return(es=(0,E.A)(function*(f,u){return Xe(f,"POST","/v1/accounts:update",Re(f,u))})).apply(this,arguments)}function zl(f,u){return ja.apply(this,arguments)}function ja(){return(ja=(0,E.A)(function*(f,u){return Qt(f,"POST","/v1/accounts:signInWithPassword",Re(f,u))})).apply(this,arguments)}function ta(f,u){return fc.apply(this,arguments)}function fc(){return(fc=(0,E.A)(function*(f,u){return Xe(f,"POST","/v1/accounts:sendOobCode",Re(f,u))})).apply(this,arguments)}function $a(){return($a=(0,E.A)(function*(f,u){return ta(f,u)})).apply(this,arguments)}function Hl(f,u){return uo.apply(this,arguments)}function uo(){return(uo=(0,E.A)(function*(f,u){return ta(f,u)})).apply(this,arguments)}function pc(f,u){return gc.apply(this,arguments)}function gc(){return(gc=(0,E.A)(function*(f,u){return ta(f,u)})).apply(this,arguments)}function yc(){return(yc=(0,E.A)(function*(f,u){return ta(f,u)})).apply(this,arguments)}function Yd(){return(Yd=(0,E.A)(function*(f,u){return Qt(f,"POST","/v1/accounts:signInWithEmailLink",Re(f,u))})).apply(this,arguments)}function Ha(){return(Ha=(0,E.A)(function*(f,u){return Qt(f,"POST","/v1/accounts:signInWithEmailLink",Re(f,u))})).apply(this,arguments)}class Bs extends Jo{constructor(u,d,g,I=null){super("password",g),this._email=u,this._password=d,this._tenantId=I}static _fromEmailAndPassword(u,d){return new Bs(u,d,"password")}static _fromEmailAndCode(u,d,g=null){return new Bs(u,d,"emailLink",g)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(u){const d="string"==typeof u?JSON.parse(u):u;if(d?.email&&d?.password){if("password"===d.signInMethod)return this._fromEmailAndPassword(d.email,d.password);if("emailLink"===d.signInMethod)return this._fromEmailAndCode(d.email,d.password,d.tenantId)}return null}_getIdTokenResponse(u){var d=this;return(0,E.A)(function*(){switch(d.signInMethod){case"password":return Zo(u,{returnSecureToken:!0,email:d._email,password:d._password,clientType:"CLIENT_TYPE_WEB"},"signInWithPassword",zl);case"emailLink":return function za(f,u){return Yd.apply(this,arguments)}(u,{email:d._email,oobCode:d._password});default:me(u,"internal-error")}})()}_linkToIdToken(u,d){var g=this;return(0,E.A)(function*(){switch(g.signInMethod){case"password":return Zo(u,{idToken:d,returnSecureToken:!0,email:g._email,password:g._password,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",jp);case"emailLink":return function my(f,u){return Ha.apply(this,arguments)}(u,{idToken:d,email:g._email,oobCode:g._password});default:me(u,"internal-error")}})()}_getReauthenticationResolver(u){return this._getIdTokenResponse(u)}}function ts(f,u){return qa.apply(this,arguments)}function qa(){return(qa=(0,E.A)(function*(f,u){return Qt(f,"POST","/v1/accounts:signInWithIdp",Re(f,u))})).apply(this,arguments)}class xr extends Jo{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(u){const d=new xr(u.providerId,u.signInMethod);return u.idToken||u.accessToken?(u.idToken&&(d.idToken=u.idToken),u.accessToken&&(d.accessToken=u.accessToken),u.nonce&&!u.pendingToken&&(d.nonce=u.nonce),u.pendingToken&&(d.pendingToken=u.pendingToken)):u.oauthToken&&u.oauthTokenSecret?(d.accessToken=u.oauthToken,d.secret=u.oauthTokenSecret):me("argument-error"),d}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(u){const d="string"==typeof u?JSON.parse(u):u,{providerId:g,signInMethod:I}=d,T=(0,de.Tt)(d,["providerId","signInMethod"]);if(!g||!I)return null;const K=new xr(g,I);return K.idToken=T.idToken||void 0,K.accessToken=T.accessToken||void 0,K.secret=T.secret,K.nonce=T.nonce,K.pendingToken=T.pendingToken||null,K}_getIdTokenResponse(u){return ts(u,this.buildRequest())}_linkToIdToken(u,d){const g=this.buildRequest();return g.idToken=d,ts(u,g)}_getReauthenticationResolver(u){const d=this.buildRequest();return d.autoCreate=!1,ts(u,d)}buildRequest(){const u={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)u.pendingToken=this.pendingToken;else{const d={};this.idToken&&(d.id_token=this.idToken),this.accessToken&&(d.access_token=this.accessToken),this.secret&&(d.oauth_token_secret=this.secret),d.providerId=this.providerId,this.nonce&&!this.pendingToken&&(d.nonce=this.nonce),u.postBody=(0,F.Am)(d)}return u}}function ql(){return(ql=(0,E.A)(function*(f,u){return Xe(f,"POST","/v1/accounts:sendVerificationCode",Re(f,u))})).apply(this,arguments)}function un(){return(un=(0,E.A)(function*(f,u){return Qt(f,"POST","/v1/accounts:signInWithPhoneNumber",Re(f,u))})).apply(this,arguments)}function _c(){return(_c=(0,E.A)(function*(f,u){const d=yield Qt(f,"POST","/v1/accounts:signInWithPhoneNumber",Re(f,u));if(d.temporaryProof)throw Pn(f,"account-exists-with-different-credential",d);return d})).apply(this,arguments)}const zp={USER_NOT_FOUND:"user-not-found"};function vc(){return(vc=(0,E.A)(function*(f,u){return Qt(f,"POST","/v1/accounts:signInWithPhoneNumber",Re(f,Object.assign(Object.assign({},u),{operation:"REAUTH"})),zp)})).apply(this,arguments)}class ns extends Jo{constructor(u){super("phone","phone"),this.params=u}static _fromVerification(u,d){return new ns({verificationId:u,verificationCode:d})}static _fromTokenResponse(u,d){return new ns({phoneNumber:u,temporaryProof:d})}_getIdTokenResponse(u){return function Lt(f,u){return un.apply(this,arguments)}(u,this._makeVerificationRequest())}_linkToIdToken(u,d){return function yy(f,u){return _c.apply(this,arguments)}(u,Object.assign({idToken:d},this._makeVerificationRequest()))}_getReauthenticationResolver(u){return function Hp(f,u){return vc.apply(this,arguments)}(u,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:u,phoneNumber:d,verificationId:g,verificationCode:I}=this.params;return u&&d?{temporaryProof:u,phoneNumber:d}:{sessionInfo:g,code:I}}toJSON(){const u={providerId:this.providerId};return this.params.phoneNumber&&(u.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(u.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(u.verificationCode=this.params.verificationCode),this.params.verificationId&&(u.verificationId=this.params.verificationId),u}static fromJSON(u){"string"==typeof u&&(u=JSON.parse(u));const{verificationId:d,verificationCode:g,phoneNumber:I,temporaryProof:T}=u;return g||d||I||T?new ns({verificationId:d,verificationCode:g,phoneNumber:I,temporaryProof:T}):null}}class co{constructor(u){var d,g,I,T,K,pe;const ke=(0,F.I9)((0,F.hp)(u)),at=null!==(d=ke.apiKey)&&void 0!==d?d:null,yt=null!==(g=ke.oobCode)&&void 0!==g?g:null,_t=function Jt(f){switch(f){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(I=ke.mode)&&void 0!==I?I:null);Y(at&&yt&&_t,"argument-error"),this.apiKey=at,this.operation=_t,this.code=yt,this.continueUrl=null!==(T=ke.continueUrl)&&void 0!==T?T:null,this.languageCode=null!==(K=ke.languageCode)&&void 0!==K?K:null,this.tenantId=null!==(pe=ke.tenantId)&&void 0!==pe?pe:null}static parseLink(u){const d=function Gl(f){const u=(0,F.I9)((0,F.hp)(f)).link,d=u?(0,F.I9)((0,F.hp)(u)).deep_link_id:null,g=(0,F.I9)((0,F.hp)(f)).deep_link_id;return(g?(0,F.I9)((0,F.hp)(g)).link:null)||g||d||u||f}(u);try{return new co(d)}catch{return null}}}let Wl=(()=>{class f{constructor(){this.providerId=f.PROVIDER_ID}static credential(d,g){return Bs._fromEmailAndPassword(d,g)}static credentialWithLink(d,g){const I=co.parseLink(g);return Y(I,"argument-error"),Bs._fromEmailAndCode(d,I.code,I.tenantId)}}return f.PROVIDER_ID="password",f.EMAIL_PASSWORD_SIGN_IN_METHOD="password",f.EMAIL_LINK_SIGN_IN_METHOD="emailLink",f})();class Us{constructor(u){this.providerId=u,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(u){this.defaultLanguageCode=u}setCustomParameters(u){return this.customParameters=u,this}getCustomParameters(){return this.customParameters}}class na extends Us{constructor(){super(...arguments),this.scopes=[]}addScope(u){return this.scopes.includes(u)||this.scopes.push(u),this}getScopes(){return[...this.scopes]}}class rs extends na{static credentialFromJSON(u){const d="string"==typeof u?JSON.parse(u):u;return Y("providerId"in d&&"signInMethod"in d,"argument-error"),xr._fromParams(d)}credential(u){return this._credential(Object.assign(Object.assign({},u),{nonce:u.rawNonce}))}_credential(u){return Y(u.idToken||u.accessToken,"argument-error"),xr._fromParams(Object.assign(Object.assign({},u),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(u){return rs.oauthCredentialFromTaggedObject(u)}static credentialFromError(u){return rs.oauthCredentialFromTaggedObject(u.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:u}){if(!u)return null;const{oauthIdToken:d,oauthAccessToken:g,oauthTokenSecret:I,pendingToken:T,nonce:K,providerId:pe}=u;if(!g&&!I&&!d&&!T||!pe)return null;try{return new rs(pe)._credential({idToken:d,accessToken:g,nonce:K,pendingToken:T})}catch{return null}}}let Wa=(()=>{class f extends na{constructor(){super("facebook.com")}static credential(d){return xr._fromParams({providerId:f.PROVIDER_ID,signInMethod:f.FACEBOOK_SIGN_IN_METHOD,accessToken:d})}static credentialFromResult(d){return f.credentialFromTaggedObject(d)}static credentialFromError(d){return f.credentialFromTaggedObject(d.customData||{})}static credentialFromTaggedObject({_tokenResponse:d}){if(!d||!("oauthAccessToken"in d)||!d.oauthAccessToken)return null;try{return f.credential(d.oauthAccessToken)}catch{return null}}}return f.FACEBOOK_SIGN_IN_METHOD="facebook.com",f.PROVIDER_ID="facebook.com",f})(),ra=(()=>{class f extends na{constructor(){super("google.com"),this.addScope("profile")}static credential(d,g){return xr._fromParams({providerId:f.PROVIDER_ID,signInMethod:f.GOOGLE_SIGN_IN_METHOD,idToken:d,accessToken:g})}static credentialFromResult(d){return f.credentialFromTaggedObject(d)}static credentialFromError(d){return f.credentialFromTaggedObject(d.customData||{})}static credentialFromTaggedObject({_tokenResponse:d}){if(!d)return null;const{oauthIdToken:g,oauthAccessToken:I}=d;if(!g&&!I)return null;try{return f.credential(g,I)}catch{return null}}}return f.GOOGLE_SIGN_IN_METHOD="google.com",f.PROVIDER_ID="google.com",f})(),wc=(()=>{class f extends na{constructor(){super("github.com")}static credential(d){return xr._fromParams({providerId:f.PROVIDER_ID,signInMethod:f.GITHUB_SIGN_IN_METHOD,accessToken:d})}static credentialFromResult(d){return f.credentialFromTaggedObject(d)}static credentialFromError(d){return f.credentialFromTaggedObject(d.customData||{})}static credentialFromTaggedObject({_tokenResponse:d}){if(!d||!("oauthAccessToken"in d)||!d.oauthAccessToken)return null;try{return f.credential(d.oauthAccessToken)}catch{return null}}}return f.GITHUB_SIGN_IN_METHOD="github.com",f.PROVIDER_ID="github.com",f})();class Mo extends Jo{constructor(u,d){super(u,u),this.pendingToken=d}_getIdTokenResponse(u){return ts(u,this.buildRequest())}_linkToIdToken(u,d){const g=this.buildRequest();return g.idToken=d,ts(u,g)}_getReauthenticationResolver(u){const d=this.buildRequest();return d.autoCreate=!1,ts(u,d)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(u){const d="string"==typeof u?JSON.parse(u):u,{providerId:g,signInMethod:I,pendingToken:T}=d;return g&&I&&T&&g===I?new Mo(g,T):null}static _create(u,d){return new Mo(u,d)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class mi extends Us{constructor(u){Y(u.startsWith("saml."),"argument-error"),super(u)}static credentialFromResult(u){return mi.samlCredentialFromTaggedObject(u)}static credentialFromError(u){return mi.samlCredentialFromTaggedObject(u.customData||{})}static credentialFromJSON(u){const d=Mo.fromJSON(u);return Y(d,"argument-error"),d}static samlCredentialFromTaggedObject({_tokenResponse:u}){if(!u)return null;const{pendingToken:d,providerId:g}=u;if(!d||!g)return null;try{return Mo._create(g,d)}catch{return null}}}let Jd=(()=>{class f extends na{constructor(){super("twitter.com")}static credential(d,g){return xr._fromParams({providerId:f.PROVIDER_ID,signInMethod:f.TWITTER_SIGN_IN_METHOD,oauthToken:d,oauthTokenSecret:g})}static credentialFromResult(d){return f.credentialFromTaggedObject(d)}static credentialFromError(d){return f.credentialFromTaggedObject(d.customData||{})}static credentialFromTaggedObject({_tokenResponse:d}){if(!d)return null;const{oauthAccessToken:g,oauthTokenSecret:I}=d;if(!g||!I)return null;try{return f.credential(g,I)}catch{return null}}}return f.TWITTER_SIGN_IN_METHOD="twitter.com",f.PROVIDER_ID="twitter.com",f})();function js(f,u){return Ic.apply(this,arguments)}function Ic(){return(Ic=(0,E.A)(function*(f,u){return Qt(f,"POST","/v1/accounts:signUp",Re(f,u))})).apply(this,arguments)}class We{constructor(u){this.user=u.user,this.providerId=u.providerId,this._tokenResponse=u._tokenResponse,this.operationType=u.operationType}static _fromIdTokenResponse(u,d,g,I=!1){return(0,E.A)(function*(){const T=yield fe._fromIdTokenResponse(u,g,I),K=Kl(g);return new We({user:T,providerId:K,_tokenResponse:g,operationType:d})})()}static _forOperation(u,d,g){return(0,E.A)(function*(){yield u._updateTokensIfNecessary(g,!0);const I=Kl(g);return new We({user:u,providerId:I,_tokenResponse:g,operationType:d})})()}}function Kl(f){return f.providerId?f.providerId:"phoneNumber"in f?"phone":null}function ia(){return(ia=(0,E.A)(function*(f){var u;if((0,re._isFirebaseServerApp)(f.app))return Promise.reject(xe(f));const d=In(f);if(yield d._initializationPromise,null!==(u=d.currentUser)&&void 0!==u&&u.isAnonymous)return new We({user:d.currentUser,providerId:null,operationType:"signIn"});const g=yield js(d,{returnSecureToken:!0}),I=yield We._fromIdTokenResponse(d,"signIn",g,!0);return yield d._updateCurrentUser(I.user),I})).apply(this,arguments)}class sa extends F.g{constructor(u,d,g,I){var T;super(d.code,d.message),this.operationType=g,this.user=I,Object.setPrototypeOf(this,sa.prototype),this.customData={appName:u.name,tenantId:null!==(T=u.tenantId)&&void 0!==T?T:void 0,_serverResponse:d.customData._serverResponse,operationType:g}}static _fromErrorAndOperation(u,d,g,I){return new sa(u,d,g,I)}}function oa(f,u,d,g){return("reauthenticate"===u?d._getReauthenticationResolver(f):d._getIdTokenResponse(f)).catch(T=>{throw"auth/multi-factor-auth-required"===T.code?sa._fromErrorAndOperation(f,T,u,g):T})}function eh(f){return new Set(f.map(({providerId:u})=>u).filter(u=>!!u))}function bc(){return bc=(0,E.A)(function*(f,u){const d=(0,F.Ku)(f);yield Ka(!0,d,u);const{providerUserInfo:g}=yield function Tn(f,u){return nr.apply(this,arguments)}(d.auth,{idToken:yield d.getIdToken(),deleteProvider:[u]}),I=eh(g||[]);return d.providerData=d.providerData.filter(T=>I.has(T.providerId)),I.has("phone")||(d.phoneNumber=null),yield d.auth._persistUserIfCurrent(d),d}),bc.apply(this,arguments)}function Ql(f,u){return is.apply(this,arguments)}function is(){return(is=(0,E.A)(function*(f,u,d=!1){const g=yield Or(f,u._linkToIdToken(f.auth,yield f.getIdToken()),d);return We._forOperation(f,"link",g)})).apply(this,arguments)}function Ka(f,u,d){return ho.apply(this,arguments)}function ho(){return(ho=(0,E.A)(function*(f,u,d){yield br(u);const I=!1===f?"provider-already-linked":"no-such-provider";Y(eh(u.providerData).has(d)===f,u.auth,I)})).apply(this,arguments)}function nh(f,u){return $s.apply(this,arguments)}function $s(){return($s=(0,E.A)(function*(f,u,d=!1){const{auth:g}=f;if((0,re._isFirebaseServerApp)(g.app))return Promise.reject(xe(g));const I="reauthenticate";try{const T=yield Or(f,oa(g,I,u,f),d);Y(T.idToken,g,"internal-error");const K=hi(T.idToken);Y(K,g,"internal-error");const{sub:pe}=K;return Y(f.uid===pe,g,"user-mismatch"),We._forOperation(f,I,T)}catch(T){throw"auth/user-not-found"===T?.code&&me(g,"user-mismatch"),T}})).apply(this,arguments)}function rh(f,u){return Wr.apply(this,arguments)}function Wr(){return(Wr=(0,E.A)(function*(f,u,d=!1){if((0,re._isFirebaseServerApp)(f.app))return Promise.reject(xe(f));const g="signIn",I=yield oa(f,g,u),T=yield We._fromIdTokenResponse(f,g,I);return d||(yield f._updateCurrentUser(T.user)),T})).apply(this,arguments)}function Ui(f,u){return Yl.apply(this,arguments)}function Yl(){return(Yl=(0,E.A)(function*(f,u){return rh(In(f),u)})).apply(this,arguments)}function Qa(f,u){return aa.apply(this,arguments)}function aa(){return(aa=(0,E.A)(function*(f,u){const d=(0,F.Ku)(f);return yield Ka(!1,d,u.providerId),Ql(d,u)})).apply(this,arguments)}function Xl(f,u){return Ac.apply(this,arguments)}function Ac(){return(Ac=(0,E.A)(function*(f,u){return nh((0,F.Ku)(f),u)})).apply(this,arguments)}function sh(){return(sh=(0,E.A)(function*(f,u){return Qt(f,"POST","/v1/accounts:signInWithCustomToken",Re(f,u))})).apply(this,arguments)}function Ya(){return Ya=(0,E.A)(function*(f,u){if((0,re._isFirebaseServerApp)(f.app))return Promise.reject(xe(f));const d=In(f),g=yield function ih(f,u){return sh.apply(this,arguments)}(d,{token:u,returnSecureToken:!0}),I=yield We._fromIdTokenResponse(d,"signIn",g);return yield d._updateCurrentUser(I.user),I}),Ya.apply(this,arguments)}class ss{constructor(u,d){this.factorId=u,this.uid=d.mfaEnrollmentId,this.enrollmentTime=new Date(d.enrolledAt).toUTCString(),this.displayName=d.displayName}static _fromServerResponse(u,d){return"phoneInfo"in d?Cc._fromServerResponse(u,d):"totpInfo"in d?Zl._fromServerResponse(u,d):me(u,"internal-error")}}class Cc extends ss{constructor(u){super("phone",u),this.phoneNumber=u.phoneInfo}static _fromServerResponse(u,d){return new Cc(d)}}class Zl extends ss{constructor(u){super("totp",u)}static _fromServerResponse(u,d){return new Zl(d)}}function Ri(f,u,d){var g;Y((null===(g=d.url)||void 0===g?void 0:g.length)>0,f,"invalid-continue-uri"),Y(typeof d.dynamicLinkDomain>"u"||d.dynamicLinkDomain.length>0,f,"invalid-dynamic-link-domain"),u.continueUrl=d.url,u.dynamicLinkDomain=d.dynamicLinkDomain,u.canHandleCodeInApp=d.handleCodeInApp,d.iOS&&(Y(d.iOS.bundleId.length>0,f,"missing-ios-bundle-id"),u.iOSBundleId=d.iOS.bundleId),d.android&&(Y(d.android.packageName.length>0,f,"missing-android-pkg-name"),u.androidInstallApp=d.android.installApp,u.androidMinimumVersionCode=d.android.minimumVersion,u.androidPackageName=d.android.packageName)}function sn(f){return Es.apply(this,arguments)}function Es(){return(Es=(0,E.A)(function*(f){const u=In(f);u._getPasswordPolicyInternal()&&(yield u._updatePasswordPolicy())})).apply(this,arguments)}function Xa(){return(Xa=(0,E.A)(function*(f,u,d){const g=In(f),I={requestType:"PASSWORD_RESET",email:u,clientType:"CLIENT_TYPE_WEB"};d&&Ri(g,I,d),yield Zo(g,I,"getOobCode",Hl)})).apply(this,arguments)}function la(){return la=(0,E.A)(function*(f,u,d){yield pt((0,F.Ku)(f),{oobCode:u,newPassword:d}).catch(function(){var g=(0,E.A)(function*(I){throw"auth/password-does-not-meet-requirements"===I.code&&sn(f),I});return function(I){return g.apply(this,arguments)}}())}),la.apply(this,arguments)}function kn(){return kn=(0,E.A)(function*(f,u){yield function $p(f,u){return es.apply(this,arguments)}((0,F.Ku)(f),{oobCode:u})}),kn.apply(this,arguments)}function qp(f,u){return Za.apply(this,arguments)}function Za(){return(Za=(0,E.A)(function*(f,u){const d=(0,F.Ku)(f),g=yield pt(d,{oobCode:u}),I=g.requestType;switch(Y(I,d,"internal-error"),I){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":Y(g.newEmail,d,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":Y(g.mfaInfo,d,"internal-error");default:Y(g.email,d,"internal-error")}let T=null;return g.mfaInfo&&(T=ss._fromServerResponse(In(d),g.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===g.requestType?g.newEmail:g.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===g.requestType?g.email:g.newEmail)||null,multiFactorInfo:T},operation:I}})).apply(this,arguments)}function Ja(){return(Ja=(0,E.A)(function*(f,u){const{data:d}=yield qp((0,F.Ku)(f),u);return d.email})).apply(this,arguments)}function tu(){return(tu=(0,E.A)(function*(f,u,d){if((0,re._isFirebaseServerApp)(f.app))return Promise.reject(xe(f));const g=In(f),K=yield Zo(g,{returnSecureToken:!0,email:u,password:d,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",js).catch(ke=>{throw"auth/password-does-not-meet-requirements"===ke.code&&sn(f),ke}),pe=yield We._fromIdTokenResponse(g,"signIn",K);return yield g._updateCurrentUser(pe.user),pe})).apply(this,arguments)}function tl(){return(tl=(0,E.A)(function*(f,u,d){const g=In(f),I={requestType:"EMAIL_SIGNIN",email:u,clientType:"CLIENT_TYPE_WEB"};(function T(K,pe){Y(pe.handleCodeInApp,g,"argument-error"),pe&&Ri(g,K,pe)})(I,d),yield Zo(g,I,"getOobCode",pc)})).apply(this,arguments)}function Pi(){return(Pi=(0,E.A)(function*(f,u,d){if((0,re._isFirebaseServerApp)(f.app))return Promise.reject(xe(f));const g=(0,F.Ku)(f),I=Wl.credentialWithLink(u,d||Ue());return Y(I._tenantId===(g.tenantId||null),g,"tenant-id-mismatch"),Ui(g,I)})).apply(this,arguments)}function bs(){return(bs=(0,E.A)(function*(f,u){return Xe(f,"POST","/v1/accounts:createAuthUri",Re(f,u))})).apply(this,arguments)}function xc(){return xc=(0,E.A)(function*(f,u){const g={identifier:u,continueUri:bt()?Ue():"http://localhost"},{signinMethods:I}=yield function Qp(f,u){return bs.apply(this,arguments)}((0,F.Ku)(f),g);return I||[]}),xc.apply(this,arguments)}function Dc(){return Dc=(0,E.A)(function*(f,u){const d=(0,F.Ku)(f),I={requestType:"VERIFY_EMAIL",idToken:yield f.getIdToken()};u&&Ri(d.auth,I,u);const{email:T}=yield function Qe(f,u){return $a.apply(this,arguments)}(d.auth,I);T!==f.email&&(yield f.reload())}),Dc.apply(this,arguments)}function Tc(){return Tc=(0,E.A)(function*(f,u,d){const g=(0,F.Ku)(f),T={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield f.getIdToken(),newEmail:u};d&&Ri(g.auth,T,d);const{email:K}=yield function mc(f,u){return yc.apply(this,arguments)}(g.auth,T);K!==f.email&&(yield f.reload())}),Tc.apply(this,arguments)}function Sc(){return(Sc=(0,E.A)(function*(f,u){return Xe(f,"POST","/v1/accounts:update",u)})).apply(this,arguments)}function Rc(){return Rc=(0,E.A)(function*(f,{displayName:u,photoURL:d}){if(void 0===u&&void 0===d)return;const g=(0,F.Ku)(f),T={idToken:yield g.getIdToken(),displayName:u,photoUrl:d,returnSecureToken:!0},K=yield Or(g,function dh(f,u){return Sc.apply(this,arguments)}(g.auth,T));g.displayName=K.displayName||null,g.photoURL=K.photoUrl||null;const pe=g.providerData.find(({providerId:ke})=>"password"===ke);pe&&(pe.displayName=g.displayName,pe.photoURL=g.photoURL),yield g._updateTokensIfNecessary(K)}),Rc.apply(this,arguments)}function Qn(f,u,d){return Vt.apply(this,arguments)}function Vt(){return Vt=(0,E.A)(function*(f,u,d){const{auth:g}=f,T={idToken:yield f.getIdToken(),returnSecureToken:!0};u&&(T.email=u),d&&(T.password=d);const K=yield Or(f,function ri(f,u){return ea.apply(this,arguments)}(g,T));yield f._updateTokensIfNecessary(K,!0)}),Vt.apply(this,arguments)}class Ht{constructor(u,d,g={}){this.isNewUser=u,this.providerId=d,this.profile=g}}class mr extends Ht{constructor(u,d,g,I){super(u,d,g),this.username=I}}class Lr extends Ht{constructor(u,d){super(u,"facebook.com",d)}}class fo extends mr{constructor(u,d){super(u,"github.com",d,"string"==typeof d?.login?d?.login:null)}}class Kr extends Ht{constructor(u,d){super(u,"google.com",d)}}class hh extends mr{constructor(u,d,g){super(u,"twitter.com",d,g)}}function nl(f){const{user:u,_tokenResponse:d}=f;return u.isAnonymous&&!d?{providerId:null,isNewUser:!1,profile:null}:function yi(f){var u,d;if(!f)return null;const{providerId:g}=f,I=f.rawUserInfo?JSON.parse(f.rawUserInfo):{},T=f.isNewUser||"identitytoolkit#SignupNewUserResponse"===f.kind;if(!g&&f?.idToken){const K=null===(d=null===(u=hi(f.idToken))||void 0===u?void 0:u.firebase)||void 0===d?void 0:d.sign_in_provider;if(K)return new Ht(T,"anonymous"!==K&&"custom"!==K?K:null)}if(!g)return null;switch(g){case"facebook.com":return new Lr(T,I);case"github.com":return new fo(T,I);case"google.com":return new Kr(T,I);case"twitter.com":return new hh(T,I,f.screenName||null);case"custom":case"anonymous":return new Ht(T,null);default:return new Ht(T,g,I)}}(d)}class ua{constructor(u,d,g){this.type=u,this.credential=d,this.user=g}static _fromIdtoken(u,d){return new ua("enroll",u,d)}static _fromMfaPendingCredential(u){return new ua("signin",u)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(u){var d,g;if(u?.multiFactorSession){if(null!==(d=u.multiFactorSession)&&void 0!==d&&d.pendingCredential)return ua._fromMfaPendingCredential(u.multiFactorSession.pendingCredential);if(null!==(g=u.multiFactorSession)&&void 0!==g&&g.idToken)return ua._fromIdtoken(u.multiFactorSession.idToken)}return null}}class ko{constructor(u,d,g){this.session=u,this.hints=d,this.signInResolver=g}static _fromError(u,d){const g=In(u),I=d.customData._serverResponse,T=(I.mfaInfo||[]).map(pe=>ss._fromServerResponse(g,pe));Y(I.mfaPendingCredential,g,"internal-error");const K=ua._fromMfaPendingCredential(I.mfaPendingCredential);return new ko(K,T,function(){var pe=(0,E.A)(function*(ke){const at=yield ke._process(g,K);delete I.mfaInfo,delete I.mfaPendingCredential;const yt=Object.assign(Object.assign({},I),{idToken:at.idToken,refreshToken:at.refreshToken});switch(d.operationType){case"signIn":const _t=yield We._fromIdTokenResponse(g,d.operationType,yt);return yield g._updateCurrentUser(_t.user),_t;case"reauthenticate":return Y(d.user,g,"internal-error"),We._forOperation(d.user,d.operationType,yt);default:me(g,"internal-error")}});return function(ke){return pe.apply(this,arguments)}}())}resolveSignIn(u){var d=this;return(0,E.A)(function*(){return d.signInResolver(u)})()}}class ii{constructor(u){this.user=u,this.enrolledFactors=[],u._onReload(d=>{d.mfaInfo&&(this.enrolledFactors=d.mfaInfo.map(g=>ss._fromServerResponse(u.auth,g)))})}static _fromUser(u){return new ii(u)}getSession(){var u=this;return(0,E.A)(function*(){return ua._fromIdtoken(yield u.user.getIdToken(),u.user)})()}enroll(u,d){var g=this;return(0,E.A)(function*(){const I=u,T=yield g.getSession(),K=yield Or(g.user,I._process(g.user.auth,T,d));return yield g.user._updateTokensIfNecessary(K),g.user.reload()})()}unenroll(u){var d=this;return(0,E.A)(function*(){const g="string"==typeof u?u:u.uid,I=yield d.user.getIdToken();try{const T=yield Or(d.user,function mh(f,u){return Xe(f,"POST","/v2/accounts/mfaEnrollment:withdraw",Re(f,u))}(d.user.auth,{idToken:I,mfaEnrollmentId:g}));d.enrolledFactors=d.enrolledFactors.filter(({uid:K})=>K!==g),yield d.user._updateTokensIfNecessary(T),yield d.user.reload()}catch(T){throw T}})()}}const ca=new WeakMap,yh="__sak";class vy{constructor(u,d){this.storageRetriever=u,this.type=d}_isAvailable(){try{return this.storage?(this.storage.setItem(yh,"1"),this.storage.removeItem(yh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(u,d){return this.storage.setItem(u,JSON.stringify(d)),Promise.resolve()}_get(u){const d=this.storage.getItem(u);return Promise.resolve(d?JSON.parse(d):null)}_remove(u){return this.storage.removeItem(u),Promise.resolve()}get storage(){return this.storageRetriever()}}const _h=(()=>{class f extends vy{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(d,g)=>this.onStorageEvent(d,g),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=it(),this._shouldAllowMigration=!0}forAllChangedKeys(d){for(const g of Object.keys(this.listeners)){const I=this.storage.getItem(g),T=this.localCache[g];I!==T&&d(g,T,I)}}onStorageEvent(d,g=!1){if(!d.key)return void this.forAllChangedKeys((pe,ke,at)=>{this.notifyListeners(pe,at)});const I=d.key;g?this.detachListener():this.stopPolling();const T=()=>{const pe=this.storage.getItem(I);!g&&this.localCache[I]===pe||this.notifyListeners(I,pe)},K=this.storage.getItem(I);!function Fe(){return(0,F.lT)()&&10===document.documentMode}()||K===d.newValue||d.newValue===d.oldValue?T():setTimeout(T,10)}notifyListeners(d,g){this.localCache[d]=g;const I=this.listeners[d];if(I)for(const T of Array.from(I))T(g&&JSON.parse(g))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((d,g,I)=>{this.onStorageEvent(new StorageEvent("storage",{key:d,oldValue:g,newValue:I}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(d,g){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[d]||(this.listeners[d]=new Set,this.localCache[d]=this.storage.getItem(d)),this.listeners[d].add(g)}_removeListener(d,g){this.listeners[d]&&(this.listeners[d].delete(g),0===this.listeners[d].size&&delete this.listeners[d]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(d,g){var I=()=>super._set,T=this;return(0,E.A)(function*(){yield I().call(T,d,g),T.localCache[d]=JSON.stringify(g)})()}_get(d){var g=()=>super._get,I=this;return(0,E.A)(function*(){const T=yield g().call(I,d);return I.localCache[d]=JSON.stringify(T),T})()}_remove(d){var g=()=>super._remove,I=this;return(0,E.A)(function*(){yield g().call(I,d),delete I.localCache[d]})()}}return f.type="LOCAL",f})(),po=(()=>{class f extends vy{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(d,g){}_removeListener(d,g){}}return f.type="SESSION",f})();let Ey=(()=>{class f{constructor(d){this.eventTarget=d,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(d){const g=this.receivers.find(T=>T.isListeningto(d));if(g)return g;const I=new f(d);return this.receivers.push(I),I}isListeningto(d){return this.eventTarget===d}handleEvent(d){var g=this;return(0,E.A)(function*(){const I=d,{eventId:T,eventType:K,data:pe}=I.data,ke=g.handlersMap[K];if(!ke?.size)return;I.ports[0].postMessage({status:"ack",eventId:T,eventType:K});const at=Array.from(ke).map(function(){var _t=(0,E.A)(function*(an){return an(I.origin,pe)});return function(an){return _t.apply(this,arguments)}}()),yt=yield function go(f){return Promise.all(f.map(function(){var u=(0,E.A)(function*(d){try{return{fulfilled:!0,value:yield d}}catch(g){return{fulfilled:!1,reason:g}}});return function(d){return u.apply(this,arguments)}}()))}(at);I.ports[0].postMessage({status:"done",eventId:T,eventType:K,response:yt})})()}_subscribe(d,g){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[d]||(this.handlersMap[d]=new Set),this.handlersMap[d].add(g)}_unsubscribe(d,g){this.handlersMap[d]&&g&&this.handlersMap[d].delete(g),(!g||0===this.handlersMap[d].size)&&delete this.handlersMap[d],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return f.receivers=[],f})();function da(f="",u=10){let d="";for(let g=0;g<u;g++)d+=Math.floor(10*Math.random());return f+d}class ru{constructor(u){this.target=u,this.handlers=new Set}removeMessageHandler(u){u.messageChannel&&(u.messageChannel.port1.removeEventListener("message",u.onMessage),u.messageChannel.port1.close()),this.handlers.delete(u)}_send(u,d,g=50){var I=this;return(0,E.A)(function*(){const T=typeof MessageChannel<"u"?new MessageChannel:null;if(!T)throw new Error("connection_unavailable");let K,pe;return new Promise((ke,at)=>{const yt=da("",20);T.port1.start();const _t=setTimeout(()=>{at(new Error("unsupported_event"))},g);pe={messageChannel:T,onMessage(an){const Eo=an;if(Eo.data.eventId===yt)switch(Eo.data.status){case"ack":clearTimeout(_t),K=setTimeout(()=>{at(new Error("timeout"))},3e3);break;case"done":clearTimeout(K),ke(Eo.data.response);break;default:clearTimeout(_t),clearTimeout(K),at(new Error("invalid_response"))}}},I.handlers.add(pe),T.port1.addEventListener("message",pe.onMessage),I.target.postMessage({eventType:u,eventId:yt,data:d},[T.port2])}).finally(()=>{pe&&I.removeMessageHandler(pe)})})()}}function Dr(){return window}function Ar(){return typeof Dr().WorkerGlobalScope<"u"&&"function"==typeof Dr().importScripts}function Jp(){return(Jp=(0,E.A)(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const by="firebaseLocalStorageDb",vh="firebaseLocalStorage",Ay="fbase_key";class Mc{constructor(u){this.request=u}toPromise(){return new Promise((u,d)=>{this.request.addEventListener("success",()=>{u(this.request.result)}),this.request.addEventListener("error",()=>{d(this.request.error)})})}}function iu(f,u){return f.transaction([vh],u?"readwrite":"readonly").objectStore(vh)}function zn(){const f=indexedDB.open(by,1);return new Promise((u,d)=>{f.addEventListener("error",()=>{d(f.error)}),f.addEventListener("upgradeneeded",()=>{const g=f.result;try{g.createObjectStore(vh,{keyPath:Ay})}catch(I){d(I)}}),f.addEventListener("success",(0,E.A)(function*(){const g=f.result;g.objectStoreNames.contains(vh)?u(g):(g.close(),yield function wh(){const f=indexedDB.deleteDatabase(by);return new Mc(f).toPromise()}(),u(yield zn()))}))})}function nt(f,u,d){return Ct.apply(this,arguments)}function Ct(){return(Ct=(0,E.A)(function*(f,u,d){const g=iu(f,!0).put({[Ay]:u,value:d});return new Mc(g).toPromise()})).apply(this,arguments)}function os(){return(os=(0,E.A)(function*(f,u){const d=iu(f,!1).get(u),g=yield new Mc(d).toPromise();return void 0===g?null:g.value})).apply(this,arguments)}function si(f,u){const d=iu(f,!0).delete(u);return new Mc(d).toPromise()}const Xn=(()=>{class f{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var d=this;return(0,E.A)(function*(){return d.db||(d.db=yield zn()),d.db})()}_withRetries(d){var g=this;return(0,E.A)(function*(){let I=0;for(;;)try{const T=yield g._openDb();return yield d(T)}catch(T){if(I++>3)throw T;g.db&&(g.db.close(),g.db=void 0)}})()}initializeServiceWorkerMessaging(){var d=this;return(0,E.A)(function*(){return Ar()?d.initializeReceiver():d.initializeSender()})()}initializeReceiver(){var d=this;return(0,E.A)(function*(){d.receiver=Ey._getInstance(function sI(){return Ar()?self:null}()),d.receiver._subscribe("keyChanged",function(){var g=(0,E.A)(function*(I,T){return{keyProcessed:(yield d._poll()).includes(T.key)}});return function(I,T){return g.apply(this,arguments)}}()),d.receiver._subscribe("ping",function(){var g=(0,E.A)(function*(I,T){return["keyChanged"]});return function(I,T){return g.apply(this,arguments)}}())})()}initializeSender(){var d=this;return(0,E.A)(function*(){var g,I;if(d.activeServiceWorker=yield function Iy(){return Jp.apply(this,arguments)}(),!d.activeServiceWorker)return;d.sender=new ru(d.activeServiceWorker);const T=yield d.sender._send("ping",{},800);T&&null!==(g=T[0])&&void 0!==g&&g.fulfilled&&null!==(I=T[0])&&void 0!==I&&I.value.includes("keyChanged")&&(d.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(d){var g=this;return(0,E.A)(function*(){if(g.sender&&g.activeServiceWorker&&function Pc(){var f;return(null===(f=navigator?.serviceWorker)||void 0===f?void 0:f.controller)||null}()===g.activeServiceWorker)try{yield g.sender._send("keyChanged",{key:d},g.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return(0,E.A)(function*(){try{if(!indexedDB)return!1;const d=yield zn();return yield nt(d,yh,"1"),yield si(d,yh),!0}catch{}return!1})()}_withPendingWrite(d){var g=this;return(0,E.A)(function*(){g.pendingWrites++;try{yield d()}finally{g.pendingWrites--}})()}_set(d,g){var I=this;return(0,E.A)(function*(){return I._withPendingWrite((0,E.A)(function*(){return yield I._withRetries(T=>nt(T,d,g)),I.localCache[d]=g,I.notifyServiceWorker(d)}))})()}_get(d){var g=this;return(0,E.A)(function*(){const I=yield g._withRetries(T=>function Cr(f,u){return os.apply(this,arguments)}(T,d));return g.localCache[d]=I,I})()}_remove(d){var g=this;return(0,E.A)(function*(){return g._withPendingWrite((0,E.A)(function*(){return yield g._withRetries(I=>si(I,d)),delete g.localCache[d],g.notifyServiceWorker(d)}))})()}_poll(){var d=this;return(0,E.A)(function*(){const g=yield d._withRetries(K=>{const pe=iu(K,!1).getAll();return new Mc(pe).toPromise()});if(!g)return[];if(0!==d.pendingWrites)return[];const I=[],T=new Set;if(0!==g.length)for(const{fbase_key:K,value:pe}of g)T.add(K),JSON.stringify(d.localCache[K])!==JSON.stringify(pe)&&(d.notifyListeners(K,pe),I.push(K));for(const K of Object.keys(d.localCache))d.localCache[K]&&!T.has(K)&&(d.notifyListeners(K,null),I.push(K));return I})()}notifyListeners(d,g){this.localCache[d]=g;const I=this.listeners[d];if(I)for(const T of Array.from(I))T(g)}startPolling(){var d=this;this.stopPolling(),this.pollTimer=setInterval((0,E.A)(function*(){return d._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(d,g){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[d]||(this.listeners[d]=new Set,this._get(d)),this.listeners[d].add(g)}_removeListener(d,g){this.listeners[d]&&(this.listeners[d].delete(g),0===this.listeners[d].size&&delete this.listeners[d]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return f.type="LOCAL",f})(),Hn=1e12;class kc{constructor(u){this.auth=u,this.counter=Hn,this._widgets=new Map}render(u,d){const g=this.counter;return this._widgets.set(g,new au(u,this.auth.name,d||{})),this.counter++,g}reset(u){var d;const g=u||Hn;null===(d=this._widgets.get(g))||void 0===d||d.delete(),this._widgets.delete(g)}getResponse(u){var d;return(null===(d=this._widgets.get(u||Hn))||void 0===d?void 0:d.getResponse())||""}execute(u){var d=this;return(0,E.A)(function*(){var g;return null===(g=d._widgets.get(u||Hn))||void 0===g||g.execute(),""})()}}class au{constructor(u,d,g){this.params=g,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const I="string"==typeof u?document.getElementById(u):u;Y(I,"argument-error",{appName:d}),this.container=I,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function Oo(f){const u=[],d="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let g=0;g<f;g++)u.push(d.charAt(Math.floor(62*Math.random())));return u.join("")}(50);const{callback:u,"expired-callback":d}=this.params;if(u)try{u(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,d)try{d()}catch{}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const rl=dc("rcb"),xy=new U(3e4,6e4);class ha{constructor(){var u;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!(null===(u=Dr().grecaptcha)||void 0===u||!u.render)}load(u,d=""){return Y(function Eh(f){return f.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(f)}(d),u,"argument-error"),this.shouldResolveImmediately(d)&&zt(Dr().grecaptcha)?Promise.resolve(Dr().grecaptcha):new Promise((g,I)=>{const T=Dr().setTimeout(()=>{I(Ee(u,"network-request-failed"))},xy.get());Dr()[rl]=()=>{Dr().clearTimeout(T),delete Dr()[rl];const pe=Dr().grecaptcha;if(!pe||!zt(pe))return void I(Ee(u,"internal-error"));const ke=pe.render;pe.render=(at,yt)=>{const _t=ke(at,yt);return this.counter++,_t},this.hostLanguage=d,g(pe)},Mt(`${function Ul(){return Ba.recaptchaV2Script}()}?${(0,F.Am)({onload:rl,render:"explicit",hl:d})}`).catch(()=>{clearTimeout(T),I(Ee(u,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(u){var d;return!(null===(d=Dr().grecaptcha)||void 0===d||!d.render)&&(u===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class il{load(u){return(0,E.A)(function*(){return new kc(u)})()}clearedOneInstance(){}}const qt="recaptcha",eg={theme:"light",type:"image"};class Oc{constructor(u,d,g=Object.assign({},eg)){this.parameters=g,this.type=qt,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=In(u),this.isInvisible="invisible"===this.parameters.size,Y(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const I="string"==typeof d?document.getElementById(d):d;Y(I,this.auth,"argument-error"),this.container=I,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new il:new ha,this.validateStartingState()}verify(){var u=this;return(0,E.A)(function*(){u.assertNotDestroyed();const d=yield u.render(),g=u.getAssertedRecaptcha();return g.getResponse(d)||new Promise(T=>{const K=pe=>{pe&&(u.tokenChangeListeners.delete(K),T(pe))};u.tokenChangeListeners.add(K),u.isInvisible&&g.execute(d)})})()}render(){try{this.assertNotDestroyed()}catch(u){return Promise.reject(u)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(u=>{throw this.renderPromise=null,u})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(u=>{this.container.removeChild(u)})}validateStartingState(){Y(!this.parameters.sitekey,this.auth,"argument-error"),Y(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),Y(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(u){return d=>{if(this.tokenChangeListeners.forEach(g=>g(d)),"function"==typeof u)u(d);else if("string"==typeof u){const g=Dr()[u];"function"==typeof g&&g(d)}}}assertNotDestroyed(){Y(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var u=this;return(0,E.A)(function*(){if(yield u.init(),!u.widgetId){let d=u.container;if(!u.isInvisible){const g=document.createElement("div");d.appendChild(g),d=g}u.widgetId=u.getAssertedRecaptcha().render(d,u.parameters)}return u.widgetId})()}init(){var u=this;return(0,E.A)(function*(){Y(bt()&&!Ar(),u.auth,"internal-error"),yield function mo(){let f=null;return new Promise(u=>{"complete"!==document.readyState?(f=()=>u(),window.addEventListener("load",f)):u()}).catch(u=>{throw f&&window.removeEventListener("load",f),u})}(),u.recaptcha=yield u._recaptchaLoader.load(u.auth,u.auth.languageCode||void 0);const d=yield function bi(f){return xt.apply(this,arguments)}(u.auth);Y(d,u.auth,"internal-error"),u.parameters.sitekey=d})()}getAssertedRecaptcha(){return Y(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class lu{constructor(u,d){this.verificationId=u,this.onConfirmation=d}confirm(u){const d=ns._fromVerification(this.verificationId,u);return this.onConfirmation(d)}}function ur(){return(ur=(0,E.A)(function*(f,u,d){if((0,re._isFirebaseServerApp)(f.app))return Promise.reject(xe(f));const g=In(f),I=yield yo(g,u,(0,F.Ku)(d));return new lu(I,T=>Ui(g,T))})).apply(this,arguments)}function Qr(){return(Qr=(0,E.A)(function*(f,u,d){const g=(0,F.Ku)(f);yield Ka(!1,g,"phone");const I=yield yo(g.auth,u,(0,F.Ku)(d));return new lu(I,T=>Qa(g,T))})).apply(this,arguments)}function Fc(){return(Fc=(0,E.A)(function*(f,u,d){const g=(0,F.Ku)(f);if((0,re._isFirebaseServerApp)(g.auth.app))return Promise.reject(xe(g.auth));const I=yield yo(g.auth,u,(0,F.Ku)(d));return new lu(I,T=>Xl(g,T))})).apply(this,arguments)}function yo(f,u,d){return cu.apply(this,arguments)}function cu(){return cu=(0,E.A)(function*(f,u,d){var g;const I=yield d.verify();try{let T;if(Y("string"==typeof I,f,"argument-error"),Y(d.type===qt,f,"argument-error"),T="string"==typeof u?{phoneNumber:u}:u,"session"in T){const K=T.session;if("phoneNumber"in T)return Y("enroll"===K.type,f,"internal-error"),(yield function Yp(f,u){return Xe(f,"POST","/v2/accounts/mfaEnrollment:start",Re(f,u))}(f,{idToken:K.credential,phoneEnrollmentInfo:{phoneNumber:T.phoneNumber,recaptchaToken:I}})).phoneSessionInfo.sessionInfo;{Y("signin"===K.type,f,"internal-error");const pe=(null===(g=T.multiFactorHint)||void 0===g?void 0:g.uid)||T.multiFactorUid;return Y(pe,f,"missing-multi-factor-info"),(yield function zs(f,u){return Xe(f,"POST","/v2/accounts/mfaSignIn:start",Re(f,u))}(f,{mfaPendingCredential:K.credential,mfaEnrollmentId:pe,phoneSignInInfo:{recaptchaToken:I}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:K}=yield function Ga(f,u){return ql.apply(this,arguments)}(f,{phoneNumber:T.phoneNumber,recaptchaToken:I});return K}}finally{d._reset()}}),cu.apply(this,arguments)}function Vc(){return(Vc=(0,E.A)(function*(f,u){const d=(0,F.Ku)(f);if((0,re._isFirebaseServerApp)(d.auth.app))return Promise.reject(xe(d.auth));yield Ql(d,u)})).apply(this,arguments)}let Lc=(()=>{class f{constructor(d){this.providerId=f.PROVIDER_ID,this.auth=In(d)}verifyPhoneNumber(d,g){return yo(this.auth,d,(0,F.Ku)(g))}static credential(d,g){return ns._fromVerification(d,g)}static credentialFromResult(d){return f.credentialFromTaggedObject(d)}static credentialFromError(d){return f.credentialFromTaggedObject(d.customData||{})}static credentialFromTaggedObject({_tokenResponse:d}){if(!d)return null;const{phoneNumber:g,temporaryProof:I}=d;return g&&I?ns._fromTokenResponse(g,I):null}}return f.PROVIDER_ID="phone",f.PHONE_SIGN_IN_METHOD="phone",f})();function sl(f,u){return u?Dt(u):(Y(f._popupRedirectResolver,f,"argument-error"),f._popupRedirectResolver)}class Bc extends Jo{constructor(u){super("custom","custom"),this.params=u}_getIdTokenResponse(u){return ts(u,this._buildIdpRequest())}_linkToIdToken(u,d){return ts(u,this._buildIdpRequest(d))}_getReauthenticationResolver(u){return ts(u,this._buildIdpRequest())}_buildIdpRequest(u){const d={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return u&&(d.idToken=u),d}}function Dy(f){return rh(f.auth,new Bc(f),f.bypassAuthState)}function aI(f){const{auth:u,user:d}=f;return Y(d,u,"internal-error"),nh(d,new Bc(f),f.bypassAuthState)}function ng(f){return Ty.apply(this,arguments)}function Ty(){return(Ty=(0,E.A)(function*(f){const{auth:u,user:d}=f;return Y(d,u,"internal-error"),Ql(d,new Bc(f),f.bypassAuthState)})).apply(this,arguments)}class lI{constructor(u,d,g,I,T=!1){this.auth=u,this.resolver=g,this.user=I,this.bypassAuthState=T,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(d)?d:[d]}execute(){var u=this;return new Promise(function(){var d=(0,E.A)(function*(g,I){u.pendingPromise={resolve:g,reject:I};try{u.eventManager=yield u.resolver._initialize(u.auth),yield u.onExecution(),u.eventManager.registerConsumer(u)}catch(T){u.reject(T)}});return function(g,I){return d.apply(this,arguments)}}())}onAuthEvent(u){var d=this;return(0,E.A)(function*(){const{urlResponse:g,sessionId:I,postBody:T,tenantId:K,error:pe,type:ke}=u;if(pe)return void d.reject(pe);const at={auth:d.auth,requestUri:g,sessionId:I,tenantId:K||void 0,postBody:T||void 0,user:d.user,bypassAuthState:d.bypassAuthState};try{d.resolve(yield d.getIdpTask(ke)(at))}catch(yt){d.reject(yt)}})()}onError(u){this.reject(u)}getIdpTask(u){switch(u){case"signInViaPopup":case"signInViaRedirect":return Dy;case"linkViaPopup":case"linkViaRedirect":return ng;case"reauthViaPopup":case"reauthViaRedirect":return aI;default:me(this.auth,"internal-error")}}resolve(u){tt(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(u),this.unregisterAndCleanUp()}reject(u){tt(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(u),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const f1=new U(2e3,1e4);function Sy(){return(Sy=(0,E.A)(function*(f,u,d){if((0,re._isFirebaseServerApp)(f.app))return Promise.reject(Ee(f,"operation-not-supported-in-this-environment"));const g=In(f);Le(f,u,Us);const I=sl(g,d);return new My(g,"signInViaPopup",u,I).executeNotNull()})).apply(this,arguments)}function Ry(){return(Ry=(0,E.A)(function*(f,u,d){const g=(0,F.Ku)(f);if((0,re._isFirebaseServerApp)(g.auth.app))return Promise.reject(Ee(g.auth,"operation-not-supported-in-this-environment"));Le(g.auth,u,Us);const I=sl(g.auth,d);return new My(g.auth,"reauthViaPopup",u,I,g).executeNotNull()})).apply(this,arguments)}function Py(){return(Py=(0,E.A)(function*(f,u,d){const g=(0,F.Ku)(f);Le(g.auth,u,Us);const I=sl(g.auth,d);return new My(g.auth,"linkViaPopup",u,I,g).executeNotNull()})).apply(this,arguments)}let My=(()=>{class f extends lI{constructor(d,g,I,T,K){super(d,g,T,K),this.provider=I,this.authWindow=null,this.pollId=null,f.currentPopupAction&&f.currentPopupAction.cancel(),f.currentPopupAction=this}executeNotNull(){var d=this;return(0,E.A)(function*(){const g=yield d.execute();return Y(g,d.auth,"internal-error"),g})()}onExecution(){var d=this;return(0,E.A)(function*(){tt(1===d.filter.length,"Popup operations only handle one event");const g=da();d.authWindow=yield d.resolver._openPopup(d.auth,d.provider,d.filter[0],g),d.authWindow.associatedEvent=g,d.resolver._originValidation(d.auth).catch(I=>{d.reject(I)}),d.resolver._isIframeWebStorageSupported(d.auth,I=>{I||d.reject(Ee(d.auth,"web-storage-unsupported"))}),d.pollUserCancellation()})()}get eventId(){var d;return(null===(d=this.authWindow)||void 0===d?void 0:d.associatedEvent)||null}cancel(){this.reject(Ee(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,f.currentPopupAction=null}pollUserCancellation(){const d=()=>{var g,I;this.pollId=null!==(I=null===(g=this.authWindow)||void 0===g?void 0:g.window)&&void 0!==I&&I.closed?window.setTimeout(()=>{this.pollId=null,this.reject(Ee(this.auth,"popup-closed-by-user"))},8e3):window.setTimeout(d,f1.get())};d()}}return f.currentPopupAction=null,f})();const y1="pendingRedirect",Ih=new Map;class Ny extends lI{constructor(u,d,g=!1){super(u,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],d,void 0,g),this.eventId=null}execute(){var u=()=>super.execute,d=this;return(0,E.A)(function*(){let g=Ih.get(d.auth._key());if(!g){try{const T=(yield function ky(f,u){return Oy.apply(this,arguments)}(d.resolver,d.auth))?yield u().call(d):null;g=()=>Promise.resolve(T)}catch(I){g=()=>Promise.reject(I)}Ih.set(d.auth._key(),g)}return d.bypassAuthState||Ih.set(d.auth._key(),()=>Promise.resolve(null)),g()})()}onAuthEvent(u){var d=()=>super.onAuthEvent,g=this;return(0,E.A)(function*(){if("signInViaRedirect"===u.type)return d().call(g,u);if("unknown"!==u.type){if(u.eventId){const I=yield g.auth._redirectUserForId(u.eventId);if(I)return g.user=I,d().call(g,u);g.resolve(null)}}else g.resolve(null)})()}onExecution(){return(0,E.A)(function*(){})()}cleanUp(){}}function Oy(){return(Oy=(0,E.A)(function*(f,u){const d=ls(u),g=ig(f);if(!(yield g._isAvailable()))return!1;const I="true"===(yield g._get(d));return yield g._remove(d),I})).apply(this,arguments)}function Fy(f,u){return Vy.apply(this,arguments)}function Vy(){return(Vy=(0,E.A)(function*(f,u){return ig(f)._set(ls(u),"true")})).apply(this,arguments)}function rg(f,u){Ih.set(f._key(),u)}function ig(f){return Dt(f._redirectPersistence)}function ls(f){return Ln(y1,f.config.apiKey,f.name)}function Ly(f,u,d){return function uI(f,u,d){return sg.apply(this,arguments)}(f,u,d)}function sg(){return(sg=(0,E.A)(function*(f,u,d){if((0,re._isFirebaseServerApp)(f.app))return Promise.reject(xe(f));const g=In(f);Le(f,u,Us),yield g._initializationPromise;const I=sl(g,d);return yield Fy(I,g),I._openRedirect(g,u,"signInViaRedirect")})).apply(this,arguments)}function By(f,u,d){return function Uy(f,u,d){return og.apply(this,arguments)}(f,u,d)}function og(){return(og=(0,E.A)(function*(f,u,d){const g=(0,F.Ku)(f);if(Le(g.auth,u,Us),(0,re._isFirebaseServerApp)(g.auth.app))return Promise.reject(xe(g.auth));yield g.auth._initializationPromise;const I=sl(g.auth,d);yield Fy(I,g.auth);const T=yield dI(g);return I._openRedirect(g.auth,u,"reauthViaRedirect",T)})).apply(this,arguments)}function ag(f,u,d){return function cI(f,u,d){return Cs.apply(this,arguments)}(f,u,d)}function Cs(){return(Cs=(0,E.A)(function*(f,u,d){const g=(0,F.Ku)(f);Le(g.auth,u,Us),yield g.auth._initializationPromise;const I=sl(g.auth,d);yield Ka(!1,g,u.providerId),yield Fy(I,g.auth);const T=yield dI(g);return I._openRedirect(g.auth,u,"linkViaRedirect",T)})).apply(this,arguments)}function bh(){return(bh=(0,E.A)(function*(f,u){return yield In(f)._initializationPromise,Uc(f,u,!1)})).apply(this,arguments)}function Uc(f,u){return lg.apply(this,arguments)}function lg(){return(lg=(0,E.A)(function*(f,u,d=!1){if((0,re._isFirebaseServerApp)(f.app))return Promise.reject(xe(f));const g=In(f),I=sl(g,u),K=yield new Ny(g,I,d).execute();return K&&!d&&(delete K.user._redirectEventId,yield g._persistUserIfCurrent(K.user),yield g._setRedirectUser(null,u)),K})).apply(this,arguments)}function dI(f){return Cn.apply(this,arguments)}function Cn(){return(Cn=(0,E.A)(function*(f){const u=da(`${f.uid}:::`);return f._redirectEventId=u,yield f.auth._setRedirectUser(f),yield f.auth._persistUserIfCurrent(f),u})).apply(this,arguments)}class du{constructor(u){this.auth=u,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(u){this.consumers.add(u),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,u)&&(this.sendToConsumer(this.queuedRedirectEvent,u),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(u){this.consumers.delete(u)}onEvent(u){if(this.hasEventBeenHandled(u))return!1;let d=!1;return this.consumers.forEach(g=>{this.isEventForConsumer(u,g)&&(d=!0,this.sendToConsumer(u,g),this.saveEventToCache(u))}),this.hasHandledPotentialRedirect||!function jc(f){switch(f.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return $y(f);default:return!1}}(u)||(this.hasHandledPotentialRedirect=!0,d||(this.queuedRedirectEvent=u,d=!0)),d}sendToConsumer(u,d){var g;if(u.error&&!$y(u)){const I=(null===(g=u.error.code)||void 0===g?void 0:g.split("auth/")[1])||"internal-error";d.onError(Ee(this.auth,I))}else d.onAuthEvent(u)}isEventForConsumer(u,d){const g=null===d.eventId||!!u.eventId&&u.eventId===d.eventId;return d.filter.includes(u.type)&&g}hasEventBeenHandled(u){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(vi(u))}saveEventToCache(u){this.cachedEventUids.add(vi(u)),this.lastProcessedEventTime=Date.now()}}function vi(f){return[f.type,f.eventId,f.sessionId,f.tenantId].filter(u=>u).join("-")}function $y({type:f,error:u}){return"unknown"===f&&"auth/no-auth-event"===u?.code}function ol(f){return Mi.apply(this,arguments)}function Mi(){return(Mi=(0,E.A)(function*(f,u={}){return Xe(f,"GET","/v1/projects",u)})).apply(this,arguments)}const hI=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,cg=/^https?/;function xs(){return(xs=(0,E.A)(function*(f){if(f.config.emulator)return;const{authorizedDomains:u}=yield ol(f);for(const d of u)try{if(zy(d))return}catch{}me(f,"unauthorized-domain")})).apply(this,arguments)}function zy(f){const u=Ue(),{protocol:d,hostname:g}=new URL(u);if(f.startsWith("chrome-extension://")){const K=new URL(f);return""===K.hostname&&""===g?"chrome-extension:"===d&&f.replace("chrome-extension://","")===u.replace("chrome-extension://",""):"chrome-extension:"===d&&K.hostname===g}if(!cg.test(d))return!1;if(hI.test(f))return g===f;const I=f.replace(/\./g,"\\.");return new RegExp("^(.+\\."+I+"|"+I+")$","i").test(g)}const pI=new U(3e4,6e4);function dg(){const f=Dr().___jsl;if(f?.H)for(const u of Object.keys(f.H))if(f.H[u].r=f.H[u].r||[],f.H[u].L=f.H[u].L||[],f.H[u].r=[...f.H[u].L],f.CP)for(let d=0;d<f.CP.length;d++)f.CP[d]=null}let hu=null;const Ah=new U(5e3,15e3),fg="__/auth/iframe",al="emulator/auth/iframe",$t={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Hy=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function v1(f){const u=f.config;Y(u.authDomain,f,"auth-domain-config-required");const d=u.emulator?q(u,al):`https://${f.config.authDomain}/${fg}`,g={apiKey:u.apiKey,appName:f.name,v:re.SDK_VERSION},I=Hy.get(f.config.apiHost);I&&(g.eid=I);const T=f._getFrameworks();return T.length&&(g.fw=T.join(",")),`${d}?${(0,F.Am)(g).slice(1)}`}function pg(){return pg=(0,E.A)(function*(f){const u=yield function $c(f){return hu=hu||function hg(f){return new Promise((u,d)=>{var g,I,T;function K(){dg(),gapi.load("gapi.iframes",{callback:()=>{u(gapi.iframes.getContext())},ontimeout:()=>{dg(),d(Ee(f,"network-request-failed"))},timeout:pI.get()})}if(null!==(I=null===(g=Dr().gapi)||void 0===g?void 0:g.iframes)&&void 0!==I&&I.Iframe)u(gapi.iframes.getContext());else{if(null===(T=Dr().gapi)||void 0===T||!T.load){const pe=dc("iframefcb");return Dr()[pe]=()=>{gapi.load?K():d(Ee(f,"network-request-failed"))},Mt(`${function hy(){return Ba.gapiScript}()}?onload=${pe}`).catch(ke=>d(ke))}K()}}).catch(u=>{throw hu=null,u})}(f),hu}(f),d=Dr().gapi;return Y(d,f,"internal-error"),u.open({where:document.body,url:v1(f),messageHandlersFilter:d.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:$t,dontclear:!0},g=>new Promise(function(){var I=(0,E.A)(function*(T,K){yield g.restyle({setHideOnLeave:!1});const pe=Ee(f,"network-request-failed"),ke=Dr().setTimeout(()=>{K(pe)},Ah.get());function at(){Dr().clearTimeout(ke),T(g)}g.ping(at).then(at,()=>{K(pe)})});return function(T,K){return I.apply(this,arguments)}}()))}),pg.apply(this,arguments)}const mI={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class Gy{constructor(u){this.window=u,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}const Ne="__/auth/handler",on="emulator/auth/handler",Wy=encodeURIComponent("fac");function Ch(f,u,d,g,I,T){return bn.apply(this,arguments)}function bn(){return(bn=(0,E.A)(function*(f,u,d,g,I,T){Y(f.config.authDomain,f,"auth-domain-config-required"),Y(f.config.apiKey,f,"invalid-api-key");const K={apiKey:f.config.apiKey,appName:f.name,authType:d,redirectUrl:g,v:re.SDK_VERSION,eventId:I};if(u instanceof Us){u.setDefaultLanguage(f.languageCode),K.providerId=u.providerId||"",(0,F.Im)(u.getCustomParameters())||(K.customParameters=JSON.stringify(u.getCustomParameters()));for(const[yt,_t]of Object.entries(T||{}))K[yt]=_t}if(u instanceof na){const yt=u.getScopes().filter(_t=>""!==_t);yt.length>0&&(K.scopes=yt.join(","))}f.tenantId&&(K.tid=f.tenantId);const pe=K;for(const yt of Object.keys(pe))void 0===pe[yt]&&delete pe[yt];const ke=yield f._getAppCheckToken(),at=ke?`#${Wy}=${encodeURIComponent(ke)}`:"";return`${function Ky({config:f}){return f.emulator?q(f,on):`https://${f.authDomain}/${Ne}`}(f)}?${(0,F.Am)(pe).slice(1)}${at}`})).apply(this,arguments)}const ll="webStorageSupport",xh=class _o{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=po,this._completeRedirectFn=Uc,this._overrideRedirectResult=rg}_openPopup(u,d,g,I){var T=this;return(0,E.A)(function*(){var K;tt(null===(K=T.eventManagers[u._key()])||void 0===K?void 0:K.manager,"_initialize() not called before _openPopup()");const pe=yield Ch(u,d,g,Ue(),I);return function vI(f,u,d,g=500,I=600){const T=Math.max((window.screen.availHeight-I)/2,0).toString(),K=Math.max((window.screen.availWidth-g)/2,0).toString();let pe="";const ke=Object.assign(Object.assign({},mI),{width:g.toString(),height:I.toString(),top:T,left:K}),at=(0,F.ZQ)().toLowerCase();d&&(pe=La(at)?"_blank":d),Fr(at)&&(u=u||"http://localhost",ke.scrollbars="yes");const yt=Object.entries(ke).reduce((an,[Eo,Yc])=>`${an}${Eo}=${Yc},`,"");if(function ye(f=(0,F.ZQ)()){var u;return hn(f)&&!(null===(u=window.navigator)||void 0===u||!u.standalone)}(at)&&"_self"!==pe)return function wI(f,u){const d=document.createElement("a");d.href=f,d.target=u;const g=document.createEvent("MouseEvent");g.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),d.dispatchEvent(g)}(u||"",pe),new Gy(null);const _t=window.open(u||"",pe,yt);Y(_t,f,"popup-blocked");try{_t.focus()}catch{}return new Gy(_t)}(u,pe,da())})()}_openRedirect(u,d,g,I){var T=this;return(0,E.A)(function*(){return yield T._originValidation(u),function iI(f){Dr().location.href=f}(yield Ch(u,d,g,Ue(),I)),new Promise(()=>{})})()}_initialize(u){const d=u._key();if(this.eventManagers[d]){const{manager:I,promise:T}=this.eventManagers[d];return I?Promise.resolve(I):(tt(T,"If manager is not set, promise should be"),T)}const g=this.initAndGetManager(u);return this.eventManagers[d]={promise:g},g.catch(()=>{delete this.eventManagers[d]}),g}initAndGetManager(u){var d=this;return(0,E.A)(function*(){const g=yield function gI(f){return pg.apply(this,arguments)}(u),I=new du(u);return g.register("authEvent",T=>(Y(T?.authEvent,u,"invalid-auth-event"),{status:I.onEvent(T.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),d.eventManagers[u._key()]={manager:I},d.iframes[u._key()]=g,I})()}_isIframeWebStorageSupported(u,d){this.iframes[u._key()].send(ll,{type:ll},I=>{var T;const K=null===(T=I?.[0])||void 0===T?void 0:T[ll];void 0!==K&&d(!!K),me(u,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(u){const d=u._key();return this.originValidationPromises[d]||(this.originValidationPromises[d]=function fI(f){return xs.apply(this,arguments)}(u)),this.originValidationPromises[d]}get _shouldInitProactively(){return it()||ws()||hn()}};class Dh{constructor(u){this.factorId=u}_process(u,d,g){switch(d.type){case"enroll":return this._finalizeEnroll(u,d.credential,g);case"signin":return this._finalizeSignIn(u,d.credential);default:return $e("unexpected MultiFactorSessionType")}}}class gg extends Dh{constructor(u){super("phone"),this.credential=u}static _fromCredential(u){return new gg(u)}_finalizeEnroll(u,d,g){return function gh(f,u){return Xe(f,"POST","/v2/accounts/mfaEnrollment:finalize",Re(f,u))}(u,{idToken:d,displayName:g,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(u,d){return function jt(f,u){return Xe(f,"POST","/v2/accounts/mfaSignIn:finalize",Re(f,u))}(u,{mfaPendingCredential:d,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let w1=(()=>{class f{constructor(){}static assertion(d){return gg._fromCredential(d)}}return f.FACTOR_ID="phone",f})();var Ds="@firebase/auth";class II{constructor(u){this.auth=u,this.internalListeners=new Map}getUid(){var u;return this.assertAuthConfigured(),(null===(u=this.auth.currentUser)||void 0===u?void 0:u.uid)||null}getToken(u){var d=this;return(0,E.A)(function*(){return d.assertAuthConfigured(),yield d.auth._initializationPromise,d.auth.currentUser?{accessToken:yield d.auth.currentUser.getIdToken(u)}:null})()}addAuthTokenListener(u){if(this.assertAuthConfigured(),this.internalListeners.has(u))return;const d=this.auth.onIdTokenChanged(g=>{u(g?.stsTokenManager.accessToken||null)});this.internalListeners.set(u,d),this.updateProactiveRefresh()}removeAuthTokenListener(u){this.assertAuthConfigured();const d=this.internalListeners.get(u);d&&(this.internalListeners.delete(u),d(),this.updateProactiveRefresh())}assertAuthConfigured(){Y(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function fa(){return window}(0,F.XA)("authIdTokenMaxAge"),function Nn(f){Ba=f}({loadJS:f=>new Promise((u,d)=>{const g=document.createElement("script");g.setAttribute("src",f),g.onload=u,g.onerror=I=>{const T=Ee("internal-error");T.customData=I,d(T)},g.type="text/javascript",g.charset="UTF-8",function CI(){var f,u;return null!==(u=null===(f=document.getElementsByTagName("head"))||void 0===f?void 0:f[0])&&void 0!==u?u:document}().appendChild(g)}),gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="}),function bI(f){(0,re._registerComponent)(new ce.uA("auth",(u,{options:d})=>{const g=u.getProvider("app").getImmediate(),I=u.getProvider("heartbeat"),T=u.getProvider("app-check-internal"),{apiKey:K,authDomain:pe}=g.options;Y(K&&!K.includes(":"),"invalid-api-key",{appName:g.name});const ke={apiKey:K,authDomain:pe,clientPlatform:f,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Bt(f)},at=new Bn(g,I,T,ke);return function Ti(f,u){const d=u?.persistence||[],g=(Array.isArray(d)?d:[d]).map(Dt);u?.errorMap&&f._updateErrorMap(u.errorMap),f._initializeWithPersistence(g,u?.popupRedirectResolver)}(at,d),at},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((u,d,g)=>{u.getProvider("auth-internal").initialize()})),(0,re._registerComponent)(new ce.uA("auth-internal",u=>{const d=In(u.getProvider("auth").getImmediate());return new II(d)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,re.registerVersion)(Ds,"1.7.9",function Qy(f){switch(f){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}(f)),(0,re.registerVersion)(Ds,"1.7.9","esm2017")}("Browser");function Sh(){return Sh=(0,E.A)(function*(f,u,d){var g;const{BuildInfo:I}=fa();tt(u.sessionId,"AuthEvent did not contain a session ID");const T=yield function qn(f){return Eg.apply(this,arguments)}(u.sessionId),K={};return hn()?K.ibi=I.packageName:Bi()?K.apn=I.packageName:me(f,"operation-not-supported-in-this-environment"),I.displayName&&(K.appDisplayName=I.displayName),K.sessionId=T,Ch(f,d,u.type,void 0,null!==(g=u.eventId)&&void 0!==g?g:void 0,K)}),Sh.apply(this,arguments)}function Rh(){return(Rh=(0,E.A)(function*(f){const{BuildInfo:u}=fa(),d={};hn()?d.iosBundleId=u.packageName:Bi()?d.androidPackageName=u.packageName:me(f,"operation-not-supported-in-this-environment"),yield ol(f,d)})).apply(this,arguments)}function Yr(){return(Yr=(0,E.A)(function*(f,u,d){const{cordova:g}=fa();let I=()=>{};try{yield new Promise((T,K)=>{let pe=null;function ke(){var _t;T();const an=null===(_t=g.plugins.browsertab)||void 0===_t?void 0:_t.close;"function"==typeof an&&an(),"function"==typeof d?.close&&d.close()}function at(){pe||(pe=window.setTimeout(()=>{K(Ee(f,"redirect-cancelled-by-user"))},2e3))}function yt(){"visible"===document?.visibilityState&&at()}u.addPassiveListener(ke),document.addEventListener("resume",at,!1),Bi()&&document.addEventListener("visibilitychange",yt,!1),I=()=>{u.removePassiveListener(ke),document.removeEventListener("resume",at,!1),document.removeEventListener("visibilitychange",yt,!1),pe&&window.clearTimeout(pe)}})}finally{I()}})).apply(this,arguments)}function Eg(){return(Eg=(0,E.A)(function*(f){const u=function DI(f){if(tt(/[0-9a-zA-Z]+/.test(f),"Can only convert alpha-numeric strings"),typeof TextEncoder<"u")return(new TextEncoder).encode(f);const u=new ArrayBuffer(f.length),d=new Uint8Array(u);for(let g=0;g<f.length;g++)d[g]=f.charCodeAt(g);return d}(f),d=yield crypto.subtle.digest("SHA-256",u);return Array.from(new Uint8Array(d)).map(I=>I.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}class SI extends du{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(u=>{this.resolveInitialized=u})}addPassiveListener(u){this.passiveListeners.add(u)}removePassiveListener(u){this.passiveListeners.delete(u)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(u){return this.resolveInitialized(),this.passiveListeners.forEach(d=>d(u)),super.onEvent(u)}initialized(){var u=this;return(0,E.A)(function*(){yield u.initPromise})()}}function pu(f){return Ts.apply(this,arguments)}function Ts(){return(Ts=(0,E.A)(function*(f){const u=yield gu()._get(mu(f));return u&&(yield gu()._remove(mu(f))),u})).apply(this,arguments)}function Ph(){const f=[];for(let d=0;d<20;d++){const g=Math.floor(62*Math.random());f.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(g))}return f.join("")}function gu(){return Dt(_h)}function mu(f){return Ln("authEvent",f.config.apiKey,f.name)}function Hc(f){if(!f?.includes("?"))return{};const[u,...d]=f.split("?");return(0,F.I9)(d.join("?"))}const qc=class yu{constructor(){this._redirectPersistence=po,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=Uc,this._overrideRedirectResult=rg}_initialize(u){var d=this;return(0,E.A)(function*(){const g=u._key();let I=d.eventManagers.get(g);return I||(I=new SI(u),d.eventManagers.set(g,I),d.attachCallbackListeners(u,I)),I})()}_openPopup(u){me(u,"operation-not-supported-in-this-environment")}_openRedirect(u,d,g,I){var T=this;return(0,E.A)(function*(){!function ul(f){var u,d,g,I,T,K,pe,ke,at,yt;const _t=fa();Y("function"==typeof(null===(u=_t?.universalLinks)||void 0===u?void 0:u.subscribe),f,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),Y(typeof(null===(d=_t?.BuildInfo)||void 0===d?void 0:d.packageName)<"u",f,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),Y("function"==typeof(null===(T=null===(I=null===(g=_t?.cordova)||void 0===g?void 0:g.plugins)||void 0===I?void 0:I.browsertab)||void 0===T?void 0:T.openUrl),f,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),Y("function"==typeof(null===(ke=null===(pe=null===(K=_t?.cordova)||void 0===K?void 0:K.plugins)||void 0===pe?void 0:pe.browsertab)||void 0===ke?void 0:ke.isAvailable),f,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),Y("function"==typeof(null===(yt=null===(at=_t?.cordova)||void 0===at?void 0:at.InAppBrowser)||void 0===yt?void 0:yt.open),f,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(u);const K=yield T._initialize(u);yield K.initialized(),K.resetRedirect(),function _1(){Ih.clear()}(),yield T._originValidation(u);const pe=function Zy(f,u,d=null){return{type:u,eventId:d,urlResponse:null,sessionId:Ph(),postBody:null,tenantId:f.tenantId,error:Ee(f,"no-auth-event")}}(u,g,I);yield function Jy(f,u){return gu()._set(mu(f),u)}(u,pe);const ke=yield function Yy(f,u,d){return Sh.apply(this,arguments)}(u,pe,d),at=yield function wg(f){const{cordova:u}=fa();return new Promise(d=>{u.plugins.browsertab.isAvailable(g=>{let I=null;g?u.plugins.browsertab.openUrl(f):I=u.InAppBrowser.open(f,function De(f=(0,F.ZQ)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(f)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(f)}()?"_blank":"_system","location=yes"),d(I)})})}(ke);return function xI(f,u,d){return Yr.apply(this,arguments)}(u,K,at)})()}_isIframeWebStorageSupported(u,d){throw new Error("Method not implemented.")}_originValidation(u){const d=u._key();return this.originValidationPromises[d]||(this.originValidationPromises[d]=function Xy(f){return Rh.apply(this,arguments)}(u)),this.originValidationPromises[d]}attachCallbackListeners(u,d){const{universalLinks:g,handleOpenURL:I,BuildInfo:T}=fa(),K=setTimeout((0,E.A)(function*(){yield pu(u),d.onEvent(t_())}),500),pe=function(){var yt=(0,E.A)(function*(_t){clearTimeout(K);const an=yield pu(u);let Eo=null;an&&_t?.url&&(Eo=function RI(f,u){var d,g;const I=function e_(f){const u=Hc(f),d=u.link?decodeURIComponent(u.link):void 0,g=Hc(d).link,I=u.deep_link_id?decodeURIComponent(u.deep_link_id):void 0;return Hc(I).link||I||g||d||f}(u);if(I.includes("/__/auth/callback")){const T=Hc(I),K=T.firebaseError?function Ig(f){try{return JSON.parse(f)}catch{return null}}(decodeURIComponent(T.firebaseError)):null,pe=null===(g=null===(d=K?.code)||void 0===d?void 0:d.split("auth/"))||void 0===g?void 0:g[1],ke=pe?Ee(pe):null;return ke?{type:f.type,eventId:f.eventId,tenantId:f.tenantId,error:ke,urlResponse:null,sessionId:null,postBody:null}:{type:f.type,eventId:f.eventId,tenantId:f.tenantId,sessionId:f.sessionId,urlResponse:I,postBody:null}}return null}(an,_t.url)),d.onEvent(Eo||t_())});return function(an){return yt.apply(this,arguments)}}();typeof g<"u"&&"function"==typeof g.subscribe&&g.subscribe(null,pe);const ke=I,at=`${T.packageName.toLowerCase()}://`;fa().handleOpenURL=function(){var yt=(0,E.A)(function*(_t){if(_t.toLowerCase().startsWith(at)&&pe({url:_t}),"function"==typeof ke)try{ke(_t)}catch(an){console.error(an)}});return function(_t){return yt.apply(this,arguments)}}()}};function t_(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:Ee("no-auth-event")}}function Mh(){var f;return(null===(f=self?.location)||void 0===f?void 0:f.protocol)||null}function Nh(f=(0,F.ZQ)()){return!("file:"!==Mh()&&"ionic:"!==Mh()&&"capacitor:"!==Mh()||!f.toLowerCase().match(/iphone|ipad|ipod|android/))}function Kc(){try{const f=self.localStorage,u=da();if(f)return f.setItem(u,"1"),f.removeItem(u),!function Ag(f=(0,F.ZQ)()){return function OI(){return(0,F.lT)()&&11===document?.documentMode}()||function Wc(f=(0,F.ZQ)()){return/Edge\/\d+/.test(f)}(f)}()||(0,F.zW)()}catch{return n_()&&(0,F.zW)()}return!1}function n_(){return typeof global<"u"&&"WorkerGlobalScope"in global&&"importScripts"in global}function kh(){return(function E1(){return"http:"===Mh()||"https:"===Mh()}()||(0,F.sr)()||Nh())&&!function Gc(){return(0,F.lV)()||(0,F.Ll)()}()&&Kc()&&!n_()}function Cg(){return Nh()&&typeof document<"u"}function Ss(){return(Ss=(0,E.A)(function*(){return!!Cg()&&new Promise(f=>{const u=setTimeout(()=>{f(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(u),f(!0)})})})).apply(this,arguments)}const wi={LOCAL:"local",NONE:"none",SESSION:"session"},cl=Y,xg="persistence";function Qc(f){return Dg.apply(this,arguments)}function Dg(){return(Dg=(0,E.A)(function*(f){yield f._initializationPromise;const u=Tg(),d=Ln(xg,f.config.apiKey,f.name);u&&u.setItem(d,f._getPersistence())})).apply(this,arguments)}function Tg(){var f;try{return(null===(f=function VI(){return typeof window<"u"?window:null}())||void 0===f?void 0:f.sessionStorage)||null}catch{return null}}const i_=Y;class Fo{constructor(){this.browserResolver=Dt(xh),this.cordovaResolver=Dt(qc),this.underlyingResolver=null,this._redirectPersistence=po,this._completeRedirectFn=Uc,this._overrideRedirectResult=rg}_initialize(u){var d=this;return(0,E.A)(function*(){return yield d.selectUnderlyingResolver(),d.assertedUnderlyingResolver._initialize(u)})()}_openPopup(u,d,g,I){var T=this;return(0,E.A)(function*(){return yield T.selectUnderlyingResolver(),T.assertedUnderlyingResolver._openPopup(u,d,g,I)})()}_openRedirect(u,d,g,I){var T=this;return(0,E.A)(function*(){return yield T.selectUnderlyingResolver(),T.assertedUnderlyingResolver._openRedirect(u,d,g,I)})()}_isIframeWebStorageSupported(u,d){this.assertedUnderlyingResolver._isIframeWebStorageSupported(u,d)}_originValidation(u){return this.assertedUnderlyingResolver._originValidation(u)}get _shouldInitProactively(){return Cg()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return i_(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var u=this;return(0,E.A)(function*(){if(u.underlyingResolver)return;const d=yield function FI(){return Ss.apply(this,arguments)}();u.underlyingResolver=d?u.cordovaResolver:u.browserResolver})()}}function s_(f){return f.unwrap()}function dl(f){return Sg(f)}function Sg(f){const{_tokenResponse:u}=f instanceof F.g?f.customData:f;if(!u)return null;if(!(f instanceof F.g)&&"temporaryProof"in u&&"phoneNumber"in u)return Lc.credentialFromResult(f);const d=u.providerId;if(!d||d===z.PASSWORD)return null;let g;switch(d){case z.GOOGLE:g=ra;break;case z.FACEBOOK:g=Wa;break;case z.GITHUB:g=wc;break;case z.TWITTER:g=Jd;break;default:const{oauthIdToken:I,oauthAccessToken:T,oauthTokenSecret:K,pendingToken:pe,nonce:ke}=u;return T||K||I||pe?pe?d.startsWith("saml.")?Mo._create(d,pe):xr._fromParams({providerId:d,signInMethod:d,pendingToken:pe,idToken:I,accessToken:T}):new rs(d).credential({idToken:I,accessToken:T,rawNonce:ke}):null}return f instanceof F.g?g.credentialFromError(f):g.credentialFromResult(f)}function Ni(f,u){return u.catch(d=>{throw d instanceof F.g&&function LI(f,u){var d;const g=null===(d=u.customData)||void 0===d?void 0:d._tokenResponse;if("auth/multi-factor-auth-required"===u?.code)u.resolver=new Br(f,function rI(f,u){var d;const g=(0,F.Ku)(f),I=u;return Y(u.customData.operationType,g,"argument-error"),Y(null===(d=I.customData._serverResponse)||void 0===d?void 0:d.mfaPendingCredential,g,"argument-error"),ko._fromError(g,I)}(f,u));else if(g){const I=Sg(u),T=u;I&&(T.credential=I,T.tenantId=g.tenantId||void 0,T.email=g.email||void 0,T.phoneNumber=g.phoneNumber||void 0)}}(f,d),d}).then(d=>{const I=d.user;return{operationType:d.operationType,credential:dl(d),additionalUserInfo:nl(d),user:Vo.getOrCreate(I)}})}function pa(f,u){return ga.apply(this,arguments)}function ga(){return(ga=(0,E.A)(function*(f,u){const d=yield u;return{verificationId:d.verificationId,confirm:g=>Ni(f,d.confirm(g))}})).apply(this,arguments)}class Br{constructor(u,d){this.resolver=d,this.auth=function Fh(f){return f.wrapped()}(u)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(u){return Ni(s_(this.auth),this.resolver.resolveSignIn(u))}}class Vo{constructor(u){this._delegate=u,this.multiFactor=function Zp(f){const u=(0,F.Ku)(f);return ca.has(u)||ca.set(u,ii._fromUser(u)),ca.get(u)}(u)}static getOrCreate(u){return Vo.USER_MAP.has(u)||Vo.USER_MAP.set(u,new Vo(u)),Vo.USER_MAP.get(u)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(u){return this._delegate.getIdTokenResult(u)}getIdToken(u){return this._delegate.getIdToken(u)}linkAndRetrieveDataWithCredential(u){return this.linkWithCredential(u)}linkWithCredential(u){var d=this;return(0,E.A)(function*(){return Ni(d.auth,Qa(d._delegate,u))})()}linkWithPhoneNumber(u,d){var g=this;return(0,E.A)(function*(){return pa(g.auth,function tg(f,u,d){return Qr.apply(this,arguments)}(g._delegate,u,d))})()}linkWithPopup(u){var d=this;return(0,E.A)(function*(){return Ni(d.auth,function m1(f,u,d){return Py.apply(this,arguments)}(d._delegate,u,Fo))})()}linkWithRedirect(u){var d=this;return(0,E.A)(function*(){return yield Qc(In(d.auth)),ag(d._delegate,u,Fo)})()}reauthenticateAndRetrieveDataWithCredential(u){return this.reauthenticateWithCredential(u)}reauthenticateWithCredential(u){var d=this;return(0,E.A)(function*(){return Ni(d.auth,Xl(d._delegate,u))})()}reauthenticateWithPhoneNumber(u,d){return pa(this.auth,function _i(f,u,d){return Fc.apply(this,arguments)}(this._delegate,u,d))}reauthenticateWithPopup(u){return Ni(this.auth,function g1(f,u,d){return Ry.apply(this,arguments)}(this._delegate,u,Fo))}reauthenticateWithRedirect(u){var d=this;return(0,E.A)(function*(){return yield Qc(In(d.auth)),By(d._delegate,u,Fo)})()}sendEmailVerification(u){return function uh(f,u){return Dc.apply(this,arguments)}(this._delegate,u)}unlink(u){var d=this;return(0,E.A)(function*(){return yield function th(f,u){return bc.apply(this,arguments)}(d._delegate,u),d})()}updateEmail(u){return function As(f,u){const d=(0,F.Ku)(f);return(0,re._isFirebaseServerApp)(d.auth.app)?Promise.reject(xe(d.auth)):Qn(d,u,null)}(this._delegate,u)}updatePassword(u){return function Vr(f,u){return Qn((0,F.Ku)(f),null,u)}(this._delegate,u)}updatePhoneNumber(u){return function Hs(f,u){return Vc.apply(this,arguments)}(this._delegate,u)}updateProfile(u){return function ji(f,u){return Rc.apply(this,arguments)}(this._delegate,u)}verifyBeforeUpdateEmail(u,d){return function ch(f,u,d){return Tc.apply(this,arguments)}(this._delegate,u,d)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}Vo.USER_MAP=new WeakMap;const yr=Y;let Vh=(()=>{class f{constructor(d,g){if(this.app=d,g.isInitialized())return this._delegate=g.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:I}=d.options;yr(I,"invalid-api-key",{appName:d.name}),yr(I,"invalid-api-key",{appName:d.name});const T=typeof window<"u"?Fo:void 0;this._delegate=g.initialize({options:{persistence:a_(I,d.name),popupRedirectResolver:T}}),this._delegate._updateErrorMap(H),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?Vo.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(d){this._delegate.languageCode=d}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(d){this._delegate.tenantId=d}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(d,g){!function Nt(f,u,d){const g=In(f);Y(g._canInitEmulator,g,"emulator-config-failed"),Y(/^https?:\/\//.test(u),g,"invalid-emulator-scheme");const I=!!d?.disableWarnings,T=Lp(u),{host:K,port:pe}=function Ua(f){const u=Lp(f),d=/(\/\/)?([^?#/]+)/.exec(f.substr(u.length));if(!d)return{host:"",port:null};const g=d[2].split("@").pop()||"",I=/^(\[[^\]]+\])(:|$)/.exec(g);if(I){const T=I[1];return{host:T,port:Bp(g.substr(T.length+1))}}{const[T,K]=g.split(":");return{host:T,port:Bp(K)}}}(u);g.config.emulator={url:`${T}//${K}${null===pe?"":`:${pe}`}/`},g.settings.appVerificationDisabledForTesting=!0,g.emulatorConfig=Object.freeze({host:K,port:pe,protocol:T.replace(":",""),options:Object.freeze({disableWarnings:I})}),I||function Up(){function f(){const u=document.createElement("p"),d=u.style;u.innerText="Running in emulator mode. Do not use with production credentials.",d.position="fixed",d.width="100%",d.backgroundColor="#ffffff",d.border=".1em solid #000000",d.color="#b50000",d.bottom="0px",d.left="0px",d.margin="0px",d.zIndex="10000",d.textAlign="center",u.classList.add("firebase-emulator-warning"),document.body.appendChild(u)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",f):f())}()}(this._delegate,d,g)}applyActionCode(d){return function Is(f,u){return kn.apply(this,arguments)}(this._delegate,d)}checkActionCode(d){return qp(this._delegate,d)}confirmPasswordReset(d,g){return function eu(f,u,d){return la.apply(this,arguments)}(this._delegate,d,g)}createUserWithEmailAndPassword(d,g){var I=this;return(0,E.A)(function*(){return Ni(I._delegate,function el(f,u,d){return tu.apply(this,arguments)}(I._delegate,d,g))})()}fetchProvidersForEmail(d){return this.fetchSignInMethodsForEmail(d)}fetchSignInMethodsForEmail(d){return function lh(f,u){return xc.apply(this,arguments)}(this._delegate,d)}isSignInWithEmailLink(d){return function Wp(f,u){const d=co.parseLink(u);return"EMAIL_SIGNIN"===d?.operation}(0,d)}getRedirectResult(){var d=this;return(0,E.A)(function*(){yr(kh(),d._delegate,"operation-not-supported-in-this-environment");const g=yield function jy(f,u){return bh.apply(this,arguments)}(d._delegate,Fo);return g?Ni(d._delegate,Promise.resolve(g)):{credential:null,user:null}})()}addFrameworkForLogging(d){!function bg(f,u){In(f)._logFramework(u)}(this._delegate,d)}onAuthStateChanged(d,g,I){const{next:T,error:K,complete:pe}=o_(d,g,I);return this._delegate.onAuthStateChanged(T,K,pe)}onIdTokenChanged(d,g,I){const{next:T,error:K,complete:pe}=o_(d,g,I);return this._delegate.onIdTokenChanged(T,K,pe)}sendSignInLinkToEmail(d,g){return function Gp(f,u,d){return tl.apply(this,arguments)}(this._delegate,d,g)}sendPasswordResetEmail(d,g){return function Jl(f,u,d){return Xa.apply(this,arguments)}(this._delegate,d,g||void 0)}setPersistence(d){var g=this;return(0,E.A)(function*(){let I;switch(function Oh(f,u){cl(Object.values(wi).includes(u),f,"invalid-persistence-type"),(0,F.lV)()?cl(u!==wi.SESSION,f,"unsupported-persistence-type"):(0,F.Ll)()?cl(u===wi.NONE,f,"unsupported-persistence-type"):n_()?cl(u===wi.NONE||u===wi.LOCAL&&(0,F.zW)(),f,"unsupported-persistence-type"):cl(u===wi.NONE||Kc(),f,"unsupported-persistence-type")}(g._delegate,d),d){case wi.SESSION:I=po;break;case wi.LOCAL:I=(yield Dt(Xn)._isAvailable())?Xn:_h;break;case wi.NONE:I=Ut;break;default:return me("argument-error",{appName:g._delegate.name})}return g._delegate.setPersistence(I)})()}signInAndRetrieveDataWithCredential(d){return this.signInWithCredential(d)}signInAnonymously(){return Ni(this._delegate,function qe(f){return ia.apply(this,arguments)}(this._delegate))}signInWithCredential(d){return Ni(this._delegate,Ui(this._delegate,d))}signInWithCustomToken(d){return Ni(this._delegate,function Si(f,u){return Ya.apply(this,arguments)}(this._delegate,d))}signInWithEmailAndPassword(d,g){return Ni(this._delegate,function ah(f,u,d){return(0,re._isFirebaseServerApp)(f.app)?Promise.reject(xe(f)):Ui((0,F.Ku)(f),Wl.credential(u,d)).catch(function(){var g=(0,E.A)(function*(I){throw"auth/password-does-not-meet-requirements"===I.code&&sn(f),I});return function(I){return g.apply(this,arguments)}}())}(this._delegate,d,g))}signInWithEmailLink(d,g){return Ni(this._delegate,function Kp(f,u,d){return Pi.apply(this,arguments)}(this._delegate,d,g))}signInWithPhoneNumber(d,g){return pa(this._delegate,function uu(f,u,d){return ur.apply(this,arguments)}(this._delegate,d,g))}signInWithPopup(d){var g=this;return(0,E.A)(function*(){return yr(kh(),g._delegate,"operation-not-supported-in-this-environment"),Ni(g._delegate,function p1(f,u,d){return Sy.apply(this,arguments)}(g._delegate,d,Fo))})()}signInWithRedirect(d){var g=this;return(0,E.A)(function*(){return yr(kh(),g._delegate,"operation-not-supported-in-this-environment"),yield Qc(g._delegate),Ly(g._delegate,d,Fo)})()}updateCurrentUser(d){return this._delegate.updateCurrentUser(d)}verifyPasswordResetCode(d){return function oh(f,u){return Ja.apply(this,arguments)}(this._delegate,d)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return f.Persistence=wi,f})();function o_(f,u,d){let g=f;"function"!=typeof f&&({next:g,error:u,complete:d}=f);const I=g;return{next:K=>I(K&&Vo.getOrCreate(K)),error:u,complete:d}}function a_(f,u){const d=function r_(f,u){const d=Tg();if(!d)return[];const g=Ln(xg,f,u);switch(d.getItem(g)){case wi.NONE:return[Ut];case wi.LOCAL:return[Xn,po];case wi.SESSION:return[po];default:return[]}}(f,u);if(typeof self<"u"&&!d.includes(Xn)&&d.push(Xn),typeof window<"u")for(const g of[_h,po])d.includes(g)||d.push(g);return d.includes(Ut)||d.push(Ut),d}class hl{constructor(){this.providerId="phone",this._delegate=new Lc(s_(V.A.auth()))}static credential(u,d){return Lc.credential(u,d)}verifyPhoneNumber(u,d){return this._delegate.verifyPhoneNumber(u,d)}unwrap(){return this._delegate}}hl.PHONE_SIGN_IN_METHOD=Lc.PHONE_SIGN_IN_METHOD,hl.PROVIDER_ID=Lc.PROVIDER_ID;const BI=Y;class l_{constructor(u,d,g=V.A.app()){var I;BI(null===(I=g.options)||void 0===I?void 0:I.apiKey,"invalid-api-key",{appName:g.name}),this._delegate=new Oc(g.auth(),u,d),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function Lh(f){f.INTERNAL.registerComponent(new ce.uA("auth-compat",u=>{const d=u.getProvider("app-compat").getImmediate(),g=u.getProvider("auth");return new Vh(d,g)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"}},EmailAuthProvider:Wl,FacebookAuthProvider:Wa,GithubAuthProvider:wc,GoogleAuthProvider:ra,OAuthProvider:rs,SAMLAuthProvider:mi,PhoneAuthProvider:hl,PhoneMultiFactorGenerator:w1,RecaptchaVerifier:l_,TwitterAuthProvider:Jd,Auth:Vh,AuthCredential:Jo,Error:F.g}).setInstantiationMode("LAZY").setMultipleInstances(!1)),f.registerVersion("@firebase/auth-compat","0.5.14")}(V.A)},467:(st,Je,oe)=>{"use strict";function E(re,F,ve,de,ce,L,z){try{var x=re[L](z),S=x.value}catch(B){return void ve(B)}x.done?F(S):Promise.resolve(S).then(de,ce)}function V(re){return function(){var F=this,ve=arguments;return new Promise(function(de,ce){var L=re.apply(F,ve);function z(S){E(L,de,ce,z,x,"next",S)}function x(S){E(L,de,ce,z,x,"throw",S)}z(void 0)})}}oe.d(Je,{A:()=>V})},635:(st,Je,oe)=>{"use strict";function F(U,q){var ie={};for(var X in U)Object.prototype.hasOwnProperty.call(U,X)&&q.indexOf(X)<0&&(ie[X]=U[X]);if(null!=U&&"function"==typeof Object.getOwnPropertySymbols){var je=0;for(X=Object.getOwnPropertySymbols(U);je<X.length;je++)q.indexOf(X[je])<0&&Object.prototype.propertyIsEnumerable.call(U,X[je])&&(ie[X[je]]=U[X[je]])}return ie}function B(U,q,ie,X){return new(ie||(ie=Promise))(function(Re,Xe){function lt(Qt){try{Et(X.next(Qt))}catch(mn){Xe(mn)}}function $n(Qt){try{Et(X.throw(Qt))}catch(mn){Xe(mn)}}function Et(Qt){Qt.done?Re(Qt.value):function je(Re){return Re instanceof ie?Re:new ie(function(Xe){Xe(Re)})}(Qt.value).then(lt,$n)}Et((X=X.apply(U,q||[])).next())})}function he(U){return this instanceof he?(this.v=U,this):new he(U)}function me(U,q,ie){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var je,X=ie.apply(U,q||[]),Re=[];return je={},Xe("next"),Xe("throw"),Xe("return"),je[Symbol.asyncIterator]=function(){return this},je;function Xe(vt){X[vt]&&(je[vt]=function(Wt){return new Promise(function(An,Pn){Re.push([vt,Wt,An,Pn])>1||lt(vt,Wt)})})}function lt(vt,Wt){try{!function $n(vt){vt.value instanceof he?Promise.resolve(vt.value.v).then(Et,Qt):mn(Re[0][2],vt)}(X[vt](Wt))}catch(An){mn(Re[0][3],An)}}function Et(vt){lt("next",vt)}function Qt(vt){lt("throw",vt)}function mn(vt,Wt){vt(Wt),Re.shift(),Re.length&&lt(Re[0][0],Re[0][1])}}function Be(U){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var ie,q=U[Symbol.asyncIterator];return q?q.call(U):(U=function le(U){var q="function"==typeof Symbol&&Symbol.iterator,ie=q&&U[q],X=0;if(ie)return ie.call(U);if(U&&"number"==typeof U.length)return{next:function(){return U&&X>=U.length&&(U=void 0),{value:U&&U[X++],done:!U}}};throw new TypeError(q?"Object is not iterable.":"Symbol.iterator is not defined.")}(U),ie={},X("next"),X("throw"),X("return"),ie[Symbol.asyncIterator]=function(){return this},ie);function X(Re){ie[Re]=U[Re]&&function(Xe){return new Promise(function(lt,$n){!function je(Re,Xe,lt,$n){Promise.resolve($n).then(function(Et){Re({value:Et,done:lt})},Xe)}(lt,$n,(Xe=U[Re](Xe)).done,Xe.value)})}}}oe.d(Je,{AQ:()=>me,N3:()=>he,Tt:()=>F,sH:()=>B,xN:()=>Be}),"function"==typeof SuppressedError&&SuppressedError}},st=>{st(st.s=576)}]);